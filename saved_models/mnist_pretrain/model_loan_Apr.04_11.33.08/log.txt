current path: saved_models/mnist_pretrain/model_loan_Apr.04_11.33.08
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
load data done
create model done
Poisoned following participants: ['CA', 'MA', 'ME']
We use following environment for graphs:  loan_DBA
Server Epoch:1 choose agents : ['SC', 'NC', 'CA', 'OR', 'NH', 'NM', 'AL', 'SD', 'TN', 'IN'].
___Train Local_Simple,  epoch   1, local model SC, internal_epoch   1,  Average loss: 0.0135, Accuracy: 12327/22070 (55.8541%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.6600, Accuracy: 355952/444748 (80.0345%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model NC, internal_epoch   1,  Average loss: 0.0116, Accuracy: 32450/49376 (65.7202%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.4892, Accuracy: 372965/444748 (83.8598%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.2065, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   1, local model CA, internal_epoch   1,  Average loss: 0.0069, Accuracy: 192956/247628 (77.9217%), train_poison_data_count247628
Global model norm: 4.932287821085101.
Norm before scaling: 5.476321314399823. Distance: 2.4814112036776694
Total norm for 3 adversaries is: 5.476321314399823. distance: 2.4814112036776694
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 3.5224, Accuracy: 354094/444748 (79.6168%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.4190, Accuracy: 196079/444748 (44.0877%)
___Train Local_Simple,  epoch   1, local model OR, internal_epoch   1,  Average loss: 0.0137, Accuracy: 11763/21174 (55.5540%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.6752, Accuracy: 357269/444748 (80.3307%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model NH, internal_epoch   1,  Average loss: 0.0150, Accuracy: 4305/8777 (49.0486%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.8011, Accuracy: 330542/444748 (74.3212%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model NM, internal_epoch   1,  Average loss: 0.0153, Accuracy: 4547/9436 (48.1878%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.7825, Accuracy: 245186/444748 (55.1292%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model AL, internal_epoch   1,  Average loss: 0.0137, Accuracy: 11796/21424 (55.0597%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.6564, Accuracy: 363863/444748 (81.8133%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model SD, internal_epoch   1,  Average loss: 0.0162, Accuracy: 1578/3593 (43.9187%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.8595, Accuracy: 236478/444748 (53.1712%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model TN, internal_epoch   1,  Average loss: 0.0135, Accuracy: 16328/27944 (58.4311%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.5877, Accuracy: 359866/444748 (80.9146%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model IN, internal_epoch   1,  Average loss: 0.0129, Accuracy: 17956/29580 (60.7032%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.5719, Accuracy: 363286/444748 (81.6836%), Attack Success Rate:0/444748(0.000)
time spent on training: 378.3952763080597
[foolsgold agg] training data poison_ratio: 0.5615121926884685  data num: [22070, 49376, 247628, 21174, 8777, 9436, 21424, 3593, 27944, 29580]
[foolsgold agg] considering poison per batch poison_fraction: 0.5615121926884685
[foolsgold agg] wv: [0.         0.11728055 1.         0.21853204 1.         0.69205367
 0.         0.69205367 0.85519105 1.        ]
___Test Target_Simple poisoned: False, epoch: 1: Average loss: 1.1051, Accuracy: 186617/444748 (41.9602%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 1: Average loss: 1.1950, Accuracy: 0/444748 (0.0000%)
Done in 603.7555458545685 sec.
Server Epoch:2 choose agents : ['MA', 'OK', 'NM', 'AL', 'WV', 'IN', 'AR', 'MO', 'AK', 'SD'].
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.1950, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   2, local model MA, internal_epoch   1,  Average loss: 0.0111, Accuracy: 24095/40748 (59.1317%), train_poison_data_count40748
Global model norm: 4.932231748298218.
Norm before scaling: 5.015615302816268. Distance: 0.938985569447955
Total norm for 3 adversaries is: 5.015615302816268. distance: 0.938985569447955
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.6119, Accuracy: 228248/444748 (51.3207%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 0.1440, Accuracy: 444530/444748 (99.9510%)
___Train Local_Simple,  epoch   2, local model OK, internal_epoch   1,  Average loss: 0.0142, Accuracy: 8651/16276 (53.1519%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.7161, Accuracy: 351258/444748 (78.9791%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model NM, internal_epoch   1,  Average loss: 0.0150, Accuracy: 4647/9436 (49.2476%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.7757, Accuracy: 242985/444748 (54.6343%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model AL, internal_epoch   1,  Average loss: 0.0137, Accuracy: 11961/21424 (55.8299%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.6363, Accuracy: 365091/444748 (82.0894%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model WV, internal_epoch   1,  Average loss: 0.0155, Accuracy: 3078/6619 (46.5025%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.8460, Accuracy: 235452/444748 (52.9405%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model IN, internal_epoch   1,  Average loss: 0.0129, Accuracy: 17932/29580 (60.6220%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.5621, Accuracy: 359377/444748 (80.8046%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model AR, internal_epoch   1,  Average loss: 0.0146, Accuracy: 6961/13420 (51.8703%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.7320, Accuracy: 345807/444748 (77.7535%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model MO, internal_epoch   1,  Average loss: 0.0134, Accuracy: 16568/28352 (58.4368%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.5807, Accuracy: 360510/444748 (81.0594%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model AK, internal_epoch   1,  Average loss: 0.0158, Accuracy: 1891/4112 (45.9874%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.8509, Accuracy: 239147/444748 (53.7713%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model SD, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1546/3593 (43.0281%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.8569, Accuracy: 238134/444748 (53.5436%), Attack Success Rate:0/444748(0.000)
time spent on training: 353.8125991821289
[foolsgold agg] training data poison_ratio: 0.23477759852500577  data num: [40748, 16276, 9436, 21424, 6619, 29580, 13420, 28352, 4112, 3593]
[foolsgold agg] considering poison per batch poison_fraction: 0.23477759852500577
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.434558   0.16713297 1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 2: Average loss: 1.1043, Accuracy: 186774/444748 (41.9955%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 2: Average loss: 1.1936, Accuracy: 0/444748 (0.0000%)
Done in 579.9343214035034 sec.
Server Epoch:3 choose agents : ['NH', 'RI', 'UT', 'NC', 'NM', 'ND', 'WV', 'TN', 'MO', 'DC'].
___Train Local_Simple,  epoch   3, local model NH, internal_epoch   1,  Average loss: 0.0153, Accuracy: 4225/8777 (48.1372%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.8165, Accuracy: 257787/444748 (57.9625%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model RI, internal_epoch   1,  Average loss: 0.0151, Accuracy: 3775/7885 (47.8757%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.7965, Accuracy: 246786/444748 (55.4890%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model UT, internal_epoch   1,  Average loss: 0.0141, Accuracy: 6501/11827 (54.9674%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.7692, Accuracy: 241835/444748 (54.3757%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model NC, internal_epoch   1,  Average loss: 0.0116, Accuracy: 32657/49376 (66.1394%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.4676, Accuracy: 374738/444748 (84.2585%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model NM, internal_epoch   1,  Average loss: 0.0153, Accuracy: 4621/9436 (48.9720%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.7740, Accuracy: 246444/444748 (55.4121%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model ND, internal_epoch   1,  Average loss: 0.0159, Accuracy: 1437/2822 (50.9213%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.9279, Accuracy: 192171/444748 (43.2090%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model WV, internal_epoch   1,  Average loss: 0.0155, Accuracy: 3055/6619 (46.1550%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.8487, Accuracy: 232124/444748 (52.1923%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model TN, internal_epoch   1,  Average loss: 0.0150, Accuracy: 16431/27944 (58.7997%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.6151, Accuracy: 366578/444748 (82.4238%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model MO, internal_epoch   1,  Average loss: 0.0132, Accuracy: 16784/28352 (59.1986%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.5940, Accuracy: 362356/444748 (81.4745%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model DC, internal_epoch   1,  Average loss: 0.0153, Accuracy: 2000/4220 (47.3934%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.8542, Accuracy: 233024/444748 (52.3946%), Attack Success Rate:0/444748(0.000)
time spent on training: 141.47768878936768
[foolsgold agg] training data poison_ratio: 0.0  data num: [8777, 7885, 11827, 49376, 9436, 2822, 6619, 27944, 28352, 4220]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.00186803 0.         0.         0.         0.         0.2408933
 0.         1.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 3: Average loss: 1.1037, Accuracy: 186935/444748 (42.0317%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 3: Average loss: 1.1945, Accuracy: 0/444748 (0.0000%)
Done in 367.8195753097534 sec.
Server Epoch:4 choose agents : ['WV', 'IN', 'CO', 'OK', 'AR', 'ME', 'GA', 'UT', 'SD', 'AL'].
___Train Local_Simple,  epoch   4, local model WV, internal_epoch   1,  Average loss: 0.0156, Accuracy: 3049/6619 (46.0644%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.8581, Accuracy: 327259/444748 (73.5830%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model IN, internal_epoch   1,  Average loss: 0.0129, Accuracy: 17883/29580 (60.4564%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.5792, Accuracy: 359011/444748 (80.7223%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model CO, internal_epoch   1,  Average loss: 0.0120, Accuracy: 24101/38041 (63.3553%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.5122, Accuracy: 370535/444748 (83.3135%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model OK, internal_epoch   1,  Average loss: 0.0141, Accuracy: 8724/16276 (53.6004%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.7102, Accuracy: 351044/444748 (78.9310%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model AR, internal_epoch   1,  Average loss: 0.0146, Accuracy: 6938/13420 (51.6990%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.7263, Accuracy: 352866/444748 (79.3407%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.1945, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   4, local model ME, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1988/3927 (50.6239%), train_poison_data_count3927
Global model norm: 4.9320764813584095.
Norm before scaling: 4.943754652867497. Distance: 0.28558530274953153
Total norm for 3 adversaries is: 4.943754652867497. distance: 0.28558530274953153
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.0652, Accuracy: 175587/444748 (39.4801%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.3193, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch   4, local model GA, internal_epoch   1,  Average loss: 0.0118, Accuracy: 38970/58387 (66.7443%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.4534, Accuracy: 377361/444748 (84.8483%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model UT, internal_epoch   1,  Average loss: 0.0141, Accuracy: 6471/11827 (54.7138%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.7648, Accuracy: 241296/444748 (54.2545%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model SD, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1557/3593 (43.3343%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.8640, Accuracy: 238423/444748 (53.6086%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model AL, internal_epoch   1,  Average loss: 0.0138, Accuracy: 11849/21424 (55.3071%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.6420, Accuracy: 362842/444748 (81.5837%), Attack Success Rate:0/444748(0.000)
time spent on training: 352.63046050071716
[foolsgold agg] training data poison_ratio: 0.019335874028774853  data num: [6619, 29580, 38041, 16276, 13420, 3927, 58387, 11827, 3593, 21424]
[foolsgold agg] considering poison per batch poison_fraction: 0.019335874028774853
[foolsgold agg] wv: [0.6822968  0.         0.         0.         0.10300936 1.
 1.         0.65324833 0.6822968  0.        ]
___Test Target_Simple poisoned: False, epoch: 4: Average loss: 1.1011, Accuracy: 187296/444748 (42.1128%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 4: Average loss: 1.1889, Accuracy: 0/444748 (0.0000%)
Done in 578.096118927002 sec.
Server Epoch:5 choose agents : ['DC', 'UT', 'MS', 'MA', 'CO', 'RI', 'SD', 'FL', 'WV', 'AR'].
___Train Local_Simple,  epoch   5, local model DC, internal_epoch   1,  Average loss: 0.0154, Accuracy: 1943/4220 (46.0427%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.8564, Accuracy: 233432/444748 (52.4864%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model UT, internal_epoch   1,  Average loss: 0.0141, Accuracy: 6433/11827 (54.3925%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.7786, Accuracy: 241424/444748 (54.2833%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model MS, internal_epoch   1,  Average loss: 0.0150, Accuracy: 5123/9869 (51.9100%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.7950, Accuracy: 296949/444748 (66.7679%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.1889, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   5, local model MA, internal_epoch   1,  Average loss: 0.0110, Accuracy: 24168/40748 (59.3109%), train_poison_data_count40748
Global model norm: 4.932028914169612.
Norm before scaling: 5.026764190867802. Distance: 0.9896891219496498
Total norm for 3 adversaries is: 5.026764190867802. distance: 0.9896891219496498
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.5886, Accuracy: 229206/444748 (51.5362%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 0.2704, Accuracy: 444439/444748 (99.9305%)
___Train Local_Simple,  epoch   5, local model CO, internal_epoch   1,  Average loss: 0.0120, Accuracy: 24117/38041 (63.3974%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.5454, Accuracy: 370268/444748 (83.2534%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model RI, internal_epoch   1,  Average loss: 0.0149, Accuracy: 3841/7885 (48.7127%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.8046, Accuracy: 347822/444748 (78.2065%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model SD, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1621/3593 (45.1155%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.8538, Accuracy: 237873/444748 (53.4849%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model FL, internal_epoch   1,  Average loss: 0.0106, Accuracy: 95520/127170 (75.1121%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.2477, Accuracy: 407318/444748 (91.5840%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model WV, internal_epoch   1,  Average loss: 0.0155, Accuracy: 3082/6619 (46.5629%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.8559, Accuracy: 229280/444748 (51.5528%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model AR, internal_epoch   1,  Average loss: 0.0146, Accuracy: 6831/13420 (50.9016%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.7410, Accuracy: 355606/444748 (79.9567%), Attack Success Rate:0/444748(0.000)
time spent on training: 357.2289125919342
[foolsgold agg] training data poison_ratio: 0.15470477463248694  data num: [4220, 11827, 9869, 40748, 38041, 7885, 3593, 127170, 6619, 13420]
[foolsgold agg] considering poison per batch poison_fraction: 0.15470477463248694
[foolsgold agg] wv: [0. 0. 0. 0. 0. 0. 0. 1. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 5: Average loss: 1.1000, Accuracy: 187637/444748 (42.1895%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 5: Average loss: 1.1837, Accuracy: 0/444748 (0.0000%)
Done in 581.7495188713074 sec.
Server Epoch:6 choose agents : ['ME', 'DC', 'TN', 'NM', 'TX', 'CA', 'FL', 'RI', 'ND', 'GA'].
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.1837, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   6, local model ME, internal_epoch   1,  Average loss: 0.0148, Accuracy: 2019/3927 (51.4133%), train_poison_data_count3927
Global model norm: 4.931828198784323.
Norm before scaling: 4.942886118878737. Distance: 0.2792634076961175
Total norm for 3 adversaries is: 4.942886118878737. distance: 0.2792634076961175
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.0472, Accuracy: 175584/444748 (39.4794%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.3385, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch   6, local model DC, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2005/4220 (47.5118%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.8515, Accuracy: 232633/444748 (52.3067%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model TN, internal_epoch   1,  Average loss: 0.0132, Accuracy: 16529/27944 (59.1504%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.5972, Accuracy: 364867/444748 (82.0390%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model NM, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4652/9436 (49.3006%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.7812, Accuracy: 283554/444748 (63.7561%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model TX, internal_epoch   1,  Average loss: 0.0084, Accuracy: 114647/146613 (78.1970%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.2349, Accuracy: 406605/444748 (91.4237%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.1837, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   6, local model CA, internal_epoch   1,  Average loss: 0.0069, Accuracy: 192651/247628 (77.7986%), train_poison_data_count247628
Global model norm: 4.931828198784323.
Norm before scaling: 5.47015362846366. Distance: 2.4510074879513635
Total norm for 3 adversaries is: 5.47015362846366. distance: 2.4510074879513635
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 3.3289, Accuracy: 353699/444748 (79.5280%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 0.4085, Accuracy: 345167/444748 (77.6096%)
___Train Local_Simple,  epoch   6, local model FL, internal_epoch   1,  Average loss: 0.0090, Accuracy: 97529/127170 (76.6918%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.2462, Accuracy: 403563/444748 (90.7397%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model RI, internal_epoch   1,  Average loss: 0.0150, Accuracy: 3823/7885 (48.4845%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.8070, Accuracy: 332229/444748 (74.7005%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model ND, internal_epoch   1,  Average loss: 0.0159, Accuracy: 1405/2822 (49.7874%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.9194, Accuracy: 189956/444748 (42.7109%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model GA, internal_epoch   1,  Average loss: 0.0116, Accuracy: 39024/58387 (66.8368%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.5830, Accuracy: 373857/444748 (84.0604%), Attack Success Rate:0/444748(0.000)
time spent on training: 593.6897673606873
[foolsgold agg] training data poison_ratio: 0.39550682984503926  data num: [3927, 4220, 27944, 9436, 146613, 247628, 127170, 7885, 2822, 58387]
[foolsgold agg] considering poison per batch poison_fraction: 0.39550682984503926
[foolsgold agg] wv: [0.         0.50838285 1.         0.26294336 0.         1.
 0.         0.26294336 0.         0.29544989]
___Test Target_Simple poisoned: False, epoch: 6: Average loss: 1.0966, Accuracy: 188353/444748 (42.3505%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 6: Average loss: 1.1760, Accuracy: 0/444748 (0.0000%)
Done in 817.8880245685577 sec.
Server Epoch:7 choose agents : ['AR', 'GA', 'CO', 'OK', 'FL', 'AK', 'NC', 'AL', 'MA', 'IN'].
___Train Local_Simple,  epoch   7, local model AR, internal_epoch   1,  Average loss: 0.0148, Accuracy: 6916/13420 (51.5350%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.7357, Accuracy: 355290/444748 (79.8857%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   7, local model GA, internal_epoch   1,  Average loss: 0.0116, Accuracy: 39001/58387 (66.7974%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.4499, Accuracy: 377674/444748 (84.9187%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   7, local model CO, internal_epoch   1,  Average loss: 0.0120, Accuracy: 24221/38041 (63.6708%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.5882, Accuracy: 371116/444748 (83.4441%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   7, local model OK, internal_epoch   1,  Average loss: 0.0141, Accuracy: 8756/16276 (53.7970%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.6992, Accuracy: 353938/444748 (79.5817%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   7, local model FL, internal_epoch   1,  Average loss: 0.0091, Accuracy: 96865/127170 (76.1697%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.2605, Accuracy: 405071/444748 (91.0788%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   7, local model AK, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1860/4112 (45.2335%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.8418, Accuracy: 237898/444748 (53.4905%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   7, local model NC, internal_epoch   1,  Average loss: 0.0115, Accuracy: 32706/49376 (66.2387%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.4474, Accuracy: 375102/444748 (84.3403%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   7, local model AL, internal_epoch   1,  Average loss: 0.0136, Accuracy: 12078/21424 (56.3760%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.6304, Accuracy: 359333/444748 (80.7947%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.1760, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   7, local model MA, internal_epoch   1,  Average loss: 0.0109, Accuracy: 24540/40748 (60.2238%), train_poison_data_count40748
Global model norm: 4.93185353036717.
Norm before scaling: 5.02768329697852. Distance: 0.9781963870777148
Total norm for 3 adversaries is: 5.02768329697852. distance: 0.9781963870777148
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.6010, Accuracy: 320117/444748 (71.9772%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 0.2093, Accuracy: 444599/444748 (99.9665%)
___Train Local_Simple,  epoch   7, local model IN, internal_epoch   1,  Average loss: 0.0130, Accuracy: 18022/29580 (60.9263%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.5559, Accuracy: 361954/444748 (81.3841%), Attack Success Rate:0/444748(0.000)
time spent on training: 362.36000776290894
[foolsgold agg] training data poison_ratio: 0.1022447269241771  data num: [13420, 58387, 38041, 16276, 127170, 4112, 49376, 21424, 40748, 29580]
[foolsgold agg] considering poison per batch poison_fraction: 0.1022447269241771
[foolsgold agg] wv: [1.         1.         0.73360522 0.         1.         1.
 0.1290609  0.         1.         0.05559668]
___Test Target_Simple poisoned: False, epoch: 7: Average loss: 1.0914, Accuracy: 189685/444748 (42.6500%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 7: Average loss: 1.1642, Accuracy: 0/444748 (0.0000%)
Done in 586.5046331882477 sec.
Server Epoch:8 choose agents : ['NC', 'HI', 'AL', 'UT', 'IN', 'AR', 'TX', 'MS', 'DC', 'MO'].
___Train Local_Simple,  epoch   8, local model NC, internal_epoch   1,  Average loss: 0.0114, Accuracy: 32856/49376 (66.5424%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.4640, Accuracy: 374088/444748 (84.1124%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model HI, internal_epoch   1,  Average loss: 0.0147, Accuracy: 4312/8393 (51.3761%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.7861, Accuracy: 242845/444748 (54.6028%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model AL, internal_epoch   1,  Average loss: 0.0136, Accuracy: 12188/21424 (56.8895%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.6191, Accuracy: 361023/444748 (81.1747%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model UT, internal_epoch   1,  Average loss: 0.0140, Accuracy: 6459/11827 (54.6123%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.7578, Accuracy: 242245/444748 (54.4679%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model IN, internal_epoch   1,  Average loss: 0.0129, Accuracy: 18126/29580 (61.2779%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.6241, Accuracy: 364406/444748 (81.9354%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model AR, internal_epoch   1,  Average loss: 0.0146, Accuracy: 7016/13420 (52.2802%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.7406, Accuracy: 355753/444748 (79.9898%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model TX, internal_epoch   1,  Average loss: 0.0083, Accuracy: 114900/146613 (78.3696%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.2402, Accuracy: 409768/444748 (92.1349%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model MS, internal_epoch   1,  Average loss: 0.0149, Accuracy: 5172/9869 (52.4065%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.7894, Accuracy: 292796/444748 (65.8341%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model DC, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2008/4220 (47.5829%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.8461, Accuracy: 236195/444748 (53.1076%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model MO, internal_epoch   1,  Average loss: 0.0130, Accuracy: 16897/28352 (59.5972%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.5619, Accuracy: 366549/444748 (82.4172%), Attack Success Rate:0/444748(0.000)
time spent on training: 149.0103530883789
[foolsgold agg] training data poison_ratio: 0.0  data num: [49376, 8393, 21424, 11827, 29580, 13420, 146613, 9869, 4220, 28352]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.29365613 1.         0.         0.57266861 0.         1.
 1.         1.         0.57266861 0.        ]
___Test Target_Simple poisoned: False, epoch: 8: Average loss: 1.0878, Accuracy: 190888/444748 (42.9205%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 8: Average loss: 1.1579, Accuracy: 0/444748 (0.0000%)
Done in 373.21597123146057 sec.
Server Epoch:9 choose agents : ['OR', 'SD', 'CO', 'GA', 'NM', 'TX', 'RI', 'IN', 'MS', 'AL'].
___Train Local_Simple,  epoch   9, local model OR, internal_epoch   1,  Average loss: 0.0140, Accuracy: 11988/21174 (56.6166%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.6402, Accuracy: 357905/444748 (80.4737%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model SD, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1563/3593 (43.5013%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.8453, Accuracy: 239641/444748 (53.8824%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model CO, internal_epoch   1,  Average loss: 0.0118, Accuracy: 24607/38041 (64.6855%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.5414, Accuracy: 371324/444748 (83.4909%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model GA, internal_epoch   1,  Average loss: 0.0113, Accuracy: 39988/58387 (68.4878%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.4410, Accuracy: 376470/444748 (84.6479%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model NM, internal_epoch   1,  Average loss: 0.0149, Accuracy: 4610/9436 (48.8554%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.7866, Accuracy: 244233/444748 (54.9149%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model TX, internal_epoch   1,  Average loss: 0.0087, Accuracy: 114730/146613 (78.2536%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.2329, Accuracy: 409600/444748 (92.0971%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model RI, internal_epoch   1,  Average loss: 0.0148, Accuracy: 3885/7885 (49.2708%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.7951, Accuracy: 349232/444748 (78.5236%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model IN, internal_epoch   1,  Average loss: 0.0126, Accuracy: 18256/29580 (61.7174%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.5529, Accuracy: 361161/444748 (81.2058%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model MS, internal_epoch   1,  Average loss: 0.0149, Accuracy: 5156/9869 (52.2444%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.7799, Accuracy: 306175/444748 (68.8424%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model AL, internal_epoch   1,  Average loss: 0.0135, Accuracy: 12225/21424 (57.0622%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.6268, Accuracy: 363025/444748 (81.6249%), Attack Success Rate:0/444748(0.000)
time spent on training: 150.22074270248413
[foolsgold agg] training data poison_ratio: 0.0  data num: [21174, 3593, 38041, 58387, 9436, 146613, 7885, 29580, 9869, 21424]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.70392411 0.         0.         0.         0.         1.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 9: Average loss: 1.0863, Accuracy: 191537/444748 (43.0664%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 9: Average loss: 1.1546, Accuracy: 0/444748 (0.0000%)
Done in 374.5127646923065 sec.
Server Epoch:10 choose agents : ['RI', 'WV', 'AL', 'HI', 'FL', 'MO', 'NC', 'TN', 'IN', 'TX'].
___Train Local_Simple,  epoch  10, local model RI, internal_epoch   1,  Average loss: 0.0148, Accuracy: 3901/7885 (49.4737%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.7928, Accuracy: 258899/444748 (58.2125%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model WV, internal_epoch   1,  Average loss: 0.0154, Accuracy: 3115/6619 (47.0615%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.8430, Accuracy: 233625/444748 (52.5297%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model AL, internal_epoch   1,  Average loss: 0.0135, Accuracy: 12209/21424 (56.9875%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.6278, Accuracy: 363970/444748 (81.8374%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model HI, internal_epoch   1,  Average loss: 0.0147, Accuracy: 4249/8393 (50.6255%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.7836, Accuracy: 241494/444748 (54.2991%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model FL, internal_epoch   1,  Average loss: 0.0091, Accuracy: 97409/127170 (76.5975%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.2608, Accuracy: 401879/444748 (90.3611%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model MO, internal_epoch   1,  Average loss: 0.0129, Accuracy: 16951/28352 (59.7877%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.5650, Accuracy: 358316/444748 (80.5661%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model NC, internal_epoch   1,  Average loss: 0.0117, Accuracy: 32593/49376 (66.0098%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.4636, Accuracy: 372035/444748 (83.6507%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model TN, internal_epoch   1,  Average loss: 0.0131, Accuracy: 16664/27944 (59.6336%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.5616, Accuracy: 364234/444748 (81.8967%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model IN, internal_epoch   1,  Average loss: 0.0128, Accuracy: 18047/29580 (61.0108%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.5490, Accuracy: 363909/444748 (81.8236%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model TX, internal_epoch   1,  Average loss: 0.0082, Accuracy: 114800/146613 (78.3014%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.2210, Accuracy: 409992/444748 (92.1852%), Attack Success Rate:0/444748(0.000)
time spent on training: 155.57981848716736
[foolsgold agg] training data poison_ratio: 0.0  data num: [7885, 6619, 21424, 8393, 127170, 28352, 49376, 27944, 29580, 146613]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.24284378 1.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 10: Average loss: 1.0854, Accuracy: 191941/444748 (43.1572%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 10: Average loss: 1.1536, Accuracy: 0/444748 (0.0000%)
Done in 379.8309876918793 sec.
Server Epoch:11 choose agents : ['TX', 'GA', 'UT', 'WV', 'OK', 'DC', 'CO', 'CA', 'IN', 'MA'].
___Train Local_Simple,  epoch  11, local model TX, internal_epoch   1,  Average loss: 0.0083, Accuracy: 114893/146613 (78.3648%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.2251, Accuracy: 409365/444748 (92.0443%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model GA, internal_epoch   1,  Average loss: 0.0115, Accuracy: 39482/58387 (67.6212%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.4053, Accuracy: 382571/444748 (86.0197%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model UT, internal_epoch   1,  Average loss: 0.0141, Accuracy: 6489/11827 (54.8660%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.7630, Accuracy: 242069/444748 (54.4284%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model WV, internal_epoch   1,  Average loss: 0.0155, Accuracy: 3119/6619 (47.1219%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.8541, Accuracy: 316390/444748 (71.1392%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model OK, internal_epoch   1,  Average loss: 0.0141, Accuracy: 8830/16276 (54.2517%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.6945, Accuracy: 358954/444748 (80.7095%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model DC, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1973/4220 (46.7536%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.8502, Accuracy: 234344/444748 (52.6914%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model CO, internal_epoch   1,  Average loss: 0.0118, Accuracy: 24296/38041 (63.8679%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.4973, Accuracy: 370367/444748 (83.2757%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.1536, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  11, local model CA, internal_epoch   1,  Average loss: 0.0068, Accuracy: 195933/247628 (79.1239%), train_poison_data_count247628
Global model norm: 4.931748529141313.
Norm before scaling: 5.525110317872232. Distance: 2.6201297448334007
Total norm for 3 adversaries is: 5.525110317872232. distance: 2.6201297448334007
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 3.2351, Accuracy: 355693/444748 (79.9763%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.4678, Accuracy: 325597/444748 (73.2093%)
___Train Local_Simple,  epoch  11, local model IN, internal_epoch   1,  Average loss: 0.0128, Accuracy: 18246/29580 (61.6836%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.5683, Accuracy: 359865/444748 (80.9144%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.1536, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  11, local model MA, internal_epoch   1,  Average loss: 0.0107, Accuracy: 24722/40748 (60.6705%), train_poison_data_count40748
Global model norm: 4.931748529141313.
Norm before scaling: 5.033478048067358. Distance: 0.9597548052962356
Total norm for 3 adversaries is: 5.033478048067358. distance: 0.9597548052962356
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.5776, Accuracy: 285688/444748 (64.2359%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.1762, Accuracy: 444324/444748 (99.9047%)
time spent on training: 593.7673301696777
[foolsgold agg] training data poison_ratio: 0.48067553534609353  data num: [146613, 58387, 11827, 6619, 16276, 4220, 38041, 247628, 29580, 40748]
[foolsgold agg] considering poison per batch poison_fraction: 0.48067553534609353
[foolsgold agg] wv: [0.28395057 1.         1.         0.         0.         0.16224925
 0.         0.79129744 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 11: Average loss: 1.0822, Accuracy: 193457/444748 (43.4981%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 11: Average loss: 1.1436, Accuracy: 0/444748 (0.0000%)
Done in 818.0908143520355 sec.
Server Epoch:12 choose agents : ['MS', 'NC', 'ME', 'SD', 'NH', 'CO', 'DC', 'MO', 'WV', 'IN'].
___Train Local_Simple,  epoch  12, local model MS, internal_epoch   1,  Average loss: 0.0148, Accuracy: 5232/9869 (53.0145%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.7726, Accuracy: 317545/444748 (71.3989%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  12, local model NC, internal_epoch   1,  Average loss: 0.0114, Accuracy: 33183/49376 (67.2047%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.4373, Accuracy: 373248/444748 (83.9235%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.1436, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  12, local model ME, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2047/3927 (52.1263%), train_poison_data_count3927
Global model norm: 4.93169496411895.
Norm before scaling: 4.94294091318274. Distance: 0.2745189398457351
Total norm for 3 adversaries is: 4.94294091318274. distance: 0.2745189398457351
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.0450, Accuracy: 175585/444748 (39.4797%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.3384, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  12, local model SD, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1618/3593 (45.0320%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.8473, Accuracy: 244560/444748 (54.9884%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  12, local model NH, internal_epoch   1,  Average loss: 0.0160, Accuracy: 4328/8777 (49.3107%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.8101, Accuracy: 311505/444748 (70.0408%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  12, local model CO, internal_epoch   1,  Average loss: 0.0118, Accuracy: 24447/38041 (64.2649%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.4962, Accuracy: 370783/444748 (83.3692%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  12, local model DC, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2059/4220 (48.7915%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.8354, Accuracy: 235049/444748 (52.8499%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  12, local model MO, internal_epoch   1,  Average loss: 0.0130, Accuracy: 17137/28352 (60.4437%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.5766, Accuracy: 364014/444748 (81.8472%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  12, local model WV, internal_epoch   1,  Average loss: 0.0155, Accuracy: 3112/6619 (47.0162%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.8380, Accuracy: 257726/444748 (57.9488%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  12, local model IN, internal_epoch   1,  Average loss: 0.0128, Accuracy: 18040/29580 (60.9872%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.5422, Accuracy: 362603/444748 (81.5300%), Attack Success Rate:0/444748(0.000)
time spent on training: 348.88771390914917
[foolsgold agg] training data poison_ratio: 0.021535036248176622  data num: [9869, 49376, 3927, 3593, 8777, 38041, 4220, 28352, 6619, 29580]
[foolsgold agg] considering poison per batch poison_fraction: 0.021535036248176622
[foolsgold agg] wv: [0. 0. 1. 0. 1. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 12: Average loss: 1.0811, Accuracy: 193614/444748 (43.5334%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 12: Average loss: 1.1422, Accuracy: 0/444748 (0.0000%)
Done in 573.0941526889801 sec.
Server Epoch:13 choose agents : ['MA', 'RI', 'GA', 'SC', 'CA', 'DC', 'OK', 'AR', 'HI', 'AL'].
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.1422, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  13, local model MA, internal_epoch   1,  Average loss: 0.0107, Accuracy: 25065/40748 (61.5122%), train_poison_data_count40748
Global model norm: 4.931662089990415.
Norm before scaling: 5.0363902495344295. Distance: 0.9709198554344637
Total norm for 3 adversaries is: 5.0363902495344295. distance: 0.9709198554344637
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.5694, Accuracy: 325396/444748 (73.1641%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 0.1373, Accuracy: 444677/444748 (99.9840%)
___Train Local_Simple,  epoch  13, local model RI, internal_epoch   1,  Average loss: 0.0149, Accuracy: 3897/7885 (49.4230%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.7884, Accuracy: 272271/444748 (61.2192%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model GA, internal_epoch   1,  Average loss: 0.0113, Accuracy: 39970/58387 (68.4570%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.4634, Accuracy: 373074/444748 (83.8844%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model SC, internal_epoch   1,  Average loss: 0.0133, Accuracy: 12761/22070 (57.8206%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.6441, Accuracy: 353179/444748 (79.4110%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.1422, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  13, local model CA, internal_epoch   1,  Average loss: 0.0068, Accuracy: 194054/247628 (78.3651%), train_poison_data_count247628
Global model norm: 4.931662089990415.
Norm before scaling: 5.488533030534708. Distance: 2.4571225584497065
Total norm for 3 adversaries is: 5.488533030534708. distance: 2.4571225584497065
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 3.2648, Accuracy: 354295/444748 (79.6620%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.0402, Accuracy: 211429/444748 (47.5391%)
___Train Local_Simple,  epoch  13, local model DC, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2035/4220 (48.2227%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.8400, Accuracy: 233600/444748 (52.5241%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model OK, internal_epoch   1,  Average loss: 0.0141, Accuracy: 8764/16276 (53.8462%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.6990, Accuracy: 363901/444748 (81.8218%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model AR, internal_epoch   1,  Average loss: 0.0145, Accuracy: 7054/13420 (52.5633%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.7316, Accuracy: 355415/444748 (79.9138%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model HI, internal_epoch   1,  Average loss: 0.0146, Accuracy: 4298/8393 (51.2093%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.7709, Accuracy: 243117/444748 (54.6640%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model AL, internal_epoch   1,  Average loss: 0.0135, Accuracy: 12273/21424 (57.2862%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.6157, Accuracy: 365840/444748 (82.2578%), Attack Success Rate:0/444748(0.000)
time spent on training: 585.0127785205841
[foolsgold agg] training data poison_ratio: 0.6547289028745535  data num: [40748, 7885, 58387, 22070, 247628, 4220, 16276, 13420, 8393, 21424]
[foolsgold agg] considering poison per batch poison_fraction: 0.6547289028745535
[foolsgold agg] wv: [0.41560315 0.         1.         1.         0.41560315 0.55895275
 0.         0.46016351 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 13: Average loss: 1.0778, Accuracy: 195346/444748 (43.9229%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 13: Average loss: 1.1359, Accuracy: 0/444748 (0.0000%)
Done in 809.0211637020111 sec.
Server Epoch:14 choose agents : ['MS', 'NC', 'DC', 'OK', 'GA', 'AR', 'AL', 'ME', 'CO', 'MO'].
___Train Local_Simple,  epoch  14, local model MS, internal_epoch   1,  Average loss: 0.0148, Accuracy: 5204/9869 (52.7308%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.7898, Accuracy: 306005/444748 (68.8041%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model NC, internal_epoch   1,  Average loss: 0.0117, Accuracy: 32659/49376 (66.1435%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.4570, Accuracy: 375530/444748 (84.4366%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model DC, internal_epoch   1,  Average loss: 0.0151, Accuracy: 1983/4220 (46.9905%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.8373, Accuracy: 234855/444748 (52.8063%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model OK, internal_epoch   1,  Average loss: 0.0139, Accuracy: 8778/16276 (53.9322%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.6853, Accuracy: 357674/444748 (80.4217%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model GA, internal_epoch   1,  Average loss: 0.0111, Accuracy: 39701/58387 (67.9963%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.4100, Accuracy: 377430/444748 (84.8638%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model AR, internal_epoch   1,  Average loss: 0.0146, Accuracy: 6969/13420 (51.9300%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.7243, Accuracy: 357029/444748 (80.2767%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model AL, internal_epoch   1,  Average loss: 0.0136, Accuracy: 12114/21424 (56.5441%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.6216, Accuracy: 365674/444748 (82.2205%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.1359, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  14, local model ME, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2050/3927 (52.2027%), train_poison_data_count3927
Global model norm: 4.9317193295081125.
Norm before scaling: 4.944265824328823. Distance: 0.2746741396201236
Total norm for 3 adversaries is: 4.944265824328823. distance: 0.2746741396201236
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.0361, Accuracy: 175698/444748 (39.5051%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.2322, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  14, local model CO, internal_epoch   1,  Average loss: 0.0117, Accuracy: 24640/38041 (64.7722%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.5114, Accuracy: 371957/444748 (83.6332%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model MO, internal_epoch   1,  Average loss: 0.0129, Accuracy: 17174/28352 (60.5742%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.5583, Accuracy: 362672/444748 (81.5455%), Attack Success Rate:0/444748(0.000)
time spent on training: 352.0592486858368
[foolsgold agg] training data poison_ratio: 0.01614109793992404  data num: [9869, 49376, 4220, 16276, 58387, 13420, 21424, 3927, 38041, 28352]
[foolsgold agg] considering poison per batch poison_fraction: 0.01614109793992404
[foolsgold agg] wv: [0. 0. 1. 0. 0. 0. 0. 1. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 14: Average loss: 1.0766, Accuracy: 195657/444748 (43.9928%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 14: Average loss: 1.1346, Accuracy: 0/444748 (0.0000%)
Done in 575.9607417583466 sec.
Server Epoch:15 choose agents : ['WV', 'DC', 'MA', 'MO', 'RI', 'ND', 'SD', 'AK', 'ME', 'UT'].
___Train Local_Simple,  epoch  15, local model WV, internal_epoch   1,  Average loss: 0.0153, Accuracy: 3198/6619 (48.3155%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.8299, Accuracy: 296234/444748 (66.6072%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  15, local model DC, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2045/4220 (48.4597%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.8335, Accuracy: 234533/444748 (52.7339%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.1346, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model MA, internal_epoch   1,  Average loss: 0.0107, Accuracy: 24975/40748 (61.2914%), train_poison_data_count40748
Global model norm: 4.931721456639548.
Norm before scaling: 5.0335598968310045. Distance: 0.9724451165292364
Total norm for 3 adversaries is: 5.0335598968310045. distance: 0.9724451165292364
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.5396, Accuracy: 311722/444748 (70.0896%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.1603, Accuracy: 444455/444748 (99.9341%)
___Train Local_Simple,  epoch  15, local model MO, internal_epoch   1,  Average loss: 0.0130, Accuracy: 17033/28352 (60.0769%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.5621, Accuracy: 362925/444748 (81.6024%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  15, local model RI, internal_epoch   1,  Average loss: 0.0146, Accuracy: 4003/7885 (50.7673%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.7837, Accuracy: 354982/444748 (79.8164%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  15, local model ND, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1416/2822 (50.1772%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.9134, Accuracy: 190416/444748 (42.8144%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  15, local model SD, internal_epoch   1,  Average loss: 0.0159, Accuracy: 1598/3593 (44.4754%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.8447, Accuracy: 240084/444748 (53.9820%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  15, local model AK, internal_epoch   1,  Average loss: 0.0154, Accuracy: 1862/4112 (45.2821%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.8258, Accuracy: 238830/444748 (53.7001%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.1346, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model ME, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2040/3927 (51.9481%), train_poison_data_count3927
Global model norm: 4.931721456639548.
Norm before scaling: 4.943376737795466. Distance: 0.2719563422797669
Total norm for 3 adversaries is: 4.943376737795466. distance: 0.2719563422797669
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.0345, Accuracy: 175649/444748 (39.4941%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.2461, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  15, local model UT, internal_epoch   1,  Average loss: 0.0139, Accuracy: 6600/11827 (55.8045%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.7505, Accuracy: 252382/444748 (56.7472%), Attack Success Rate:0/444748(0.000)
time spent on training: 554.9683618545532
[foolsgold agg] training data poison_ratio: 0.3915253494588318  data num: [6619, 4220, 40748, 28352, 7885, 2822, 3593, 4112, 3927, 11827]
[foolsgold agg] considering poison per batch poison_fraction: 0.3915253494588318
[foolsgold agg] wv: [0.         0.         0.42750727 1.         0.         1.
 0.         0.         0.56858564 1.        ]
___Test Target_Simple poisoned: False, epoch: 15: Average loss: 1.0741, Accuracy: 196847/444748 (44.2603%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 15: Average loss: 1.1312, Accuracy: 0/444748 (0.0000%)
Done in 779.0112936496735 sec.
Server Epoch:16 choose agents : ['TN', 'TX', 'DC', 'NC', 'MA', 'OR', 'CA', 'NH', 'HI', 'CO'].
___Train Local_Simple,  epoch  16, local model TN, internal_epoch   1,  Average loss: 0.0130, Accuracy: 16986/27944 (60.7859%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.6055, Accuracy: 367754/444748 (82.6882%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  16, local model TX, internal_epoch   1,  Average loss: 0.0083, Accuracy: 115458/146613 (78.7502%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.2475, Accuracy: 407308/444748 (91.5817%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  16, local model DC, internal_epoch   1,  Average loss: 0.0151, Accuracy: 2052/4220 (48.6256%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.8342, Accuracy: 236693/444748 (53.2196%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  16, local model NC, internal_epoch   1,  Average loss: 0.0116, Accuracy: 32869/49376 (66.5688%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.4913, Accuracy: 376621/444748 (84.6819%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.1312, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  16, local model MA, internal_epoch   1,  Average loss: 0.0107, Accuracy: 24852/40748 (60.9895%), train_poison_data_count40748
Global model norm: 4.9317529767523896.
Norm before scaling: 5.030752595754188. Distance: 0.958526844030824
Total norm for 3 adversaries is: 5.030752595754188. distance: 0.958526844030824
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.5763, Accuracy: 319866/444748 (71.9207%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.2038, Accuracy: 444353/444748 (99.9112%)
___Train Local_Simple,  epoch  16, local model OR, internal_epoch   1,  Average loss: 0.0140, Accuracy: 11999/21174 (56.6686%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.6706, Accuracy: 359691/444748 (80.8752%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.1312, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  16, local model CA, internal_epoch   1,  Average loss: 0.0069, Accuracy: 195909/247628 (79.1142%), train_poison_data_count247628
Global model norm: 4.9317529767523896.
Norm before scaling: 5.614775966342886. Distance: 2.782881269081812
Total norm for 3 adversaries is: 5.614775966342886. distance: 2.782881269081812
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 3.2228, Accuracy: 352372/444748 (79.2296%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.5056, Accuracy: 131443/444748 (29.5545%)
___Train Local_Simple,  epoch  16, local model NH, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4396/8777 (50.0855%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.7879, Accuracy: 341516/444748 (76.7887%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  16, local model HI, internal_epoch   1,  Average loss: 0.0146, Accuracy: 4363/8393 (51.9838%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.7808, Accuracy: 246918/444748 (55.5186%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  16, local model CO, internal_epoch   1,  Average loss: 0.0118, Accuracy: 24625/38041 (64.7328%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.4987, Accuracy: 371612/444748 (83.5556%), Attack Success Rate:0/444748(0.000)
time spent on training: 593.6022484302521
[foolsgold agg] training data poison_ratio: 0.48637070468904425  data num: [27944, 146613, 4220, 49376, 40748, 21174, 247628, 8777, 8393, 38041]
[foolsgold agg] considering poison per batch poison_fraction: 0.48637070468904425
[foolsgold agg] wv: [0.         0.38971199 0.71988036 0.32236363 0.7680696  1.
 0.7680696  0.71988036 1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 16: Average loss: 1.0691, Accuracy: 200492/444748 (45.0799%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 16: Average loss: 1.1213, Accuracy: 0/444748 (0.0000%)
Done in 817.6456136703491 sec.
Server Epoch:17 choose agents : ['OR', 'WV', 'SD', 'MA', 'NH', 'UT', 'AK', 'NM', 'TX', 'MS'].
___Train Local_Simple,  epoch  17, local model OR, internal_epoch   1,  Average loss: 0.0132, Accuracy: 12307/21174 (58.1232%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.6607, Accuracy: 361832/444748 (81.3566%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model WV, internal_epoch   1,  Average loss: 0.0152, Accuracy: 3273/6619 (49.4486%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.8300, Accuracy: 237000/444748 (53.2886%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model SD, internal_epoch   1,  Average loss: 0.0162, Accuracy: 1602/3593 (44.5867%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.8399, Accuracy: 242010/444748 (54.4151%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.1213, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  17, local model MA, internal_epoch   1,  Average loss: 0.0107, Accuracy: 25033/40748 (61.4337%), train_poison_data_count40748
Global model norm: 4.931716622248595.
Norm before scaling: 5.048761824093201. Distance: 1.0460989053839895
Total norm for 3 adversaries is: 5.048761824093201. distance: 1.0460989053839895
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.5578, Accuracy: 325686/444748 (73.2293%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 0.2861, Accuracy: 444124/444748 (99.8597%)
___Train Local_Simple,  epoch  17, local model NH, internal_epoch   1,  Average loss: 0.0151, Accuracy: 4394/8777 (50.0627%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.7851, Accuracy: 338217/444748 (76.0469%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model UT, internal_epoch   1,  Average loss: 0.0140, Accuracy: 6617/11827 (55.9483%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.7544, Accuracy: 243162/444748 (54.6741%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model AK, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1939/4112 (47.1547%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.8295, Accuracy: 239147/444748 (53.7713%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model NM, internal_epoch   1,  Average loss: 0.0147, Accuracy: 4797/9436 (50.8372%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.7539, Accuracy: 262719/444748 (59.0714%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model TX, internal_epoch   1,  Average loss: 0.0083, Accuracy: 115642/146613 (78.8757%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.2307, Accuracy: 406810/444748 (91.4698%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model MS, internal_epoch   1,  Average loss: 0.0147, Accuracy: 5307/9869 (53.7744%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.7797, Accuracy: 313591/444748 (70.5098%), Attack Success Rate:0/444748(0.000)
time spent on training: 355.67231822013855
[foolsgold agg] training data poison_ratio: 0.15507215490470683  data num: [21174, 6619, 3593, 40748, 8777, 11827, 4112, 9436, 146613, 9869]
[foolsgold agg] considering poison per batch poison_fraction: 0.15507215490470683
[foolsgold agg] wv: [0. 0. 0. 0. 1. 0. 0. 0. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 17: Average loss: 1.0675, Accuracy: 201731/444748 (45.3585%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 17: Average loss: 1.1191, Accuracy: 0/444748 (0.0000%)
Done in 579.9211218357086 sec.
Server Epoch:18 choose agents : ['FL', 'OR', 'TX', 'CA', 'NH', 'GA', 'RI', 'AK', 'ME', 'SD'].
___Train Local_Simple,  epoch  18, local model FL, internal_epoch   1,  Average loss: 0.0097, Accuracy: 96656/127170 (76.0053%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.2582, Accuracy: 402985/444748 (90.6097%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  18, local model OR, internal_epoch   1,  Average loss: 0.0133, Accuracy: 12321/21174 (58.1893%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.6332, Accuracy: 358561/444748 (80.6212%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  18, local model TX, internal_epoch   1,  Average loss: 0.0081, Accuracy: 115710/146613 (78.9221%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.2314, Accuracy: 410833/444748 (92.3743%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.1191, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  18, local model CA, internal_epoch   1,  Average loss: 0.0067, Accuracy: 196334/247628 (79.2859%), train_poison_data_count247628
Global model norm: 4.93170463293858.
Norm before scaling: 5.534791319237769. Distance: 2.5494353174030655
Total norm for 3 adversaries is: 5.534791319237769. distance: 2.5494353174030655
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 3.5087, Accuracy: 352415/444748 (79.2393%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.2392, Accuracy: 405872/444748 (91.2589%)
___Train Local_Simple,  epoch  18, local model NH, internal_epoch   1,  Average loss: 0.0156, Accuracy: 4343/8777 (49.4816%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.8095, Accuracy: 350248/444748 (78.7520%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  18, local model GA, internal_epoch   1,  Average loss: 0.0111, Accuracy: 40411/58387 (69.2123%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.4320, Accuracy: 379400/444748 (85.3067%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  18, local model RI, internal_epoch   1,  Average loss: 0.0147, Accuracy: 3839/7885 (48.6874%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.7806, Accuracy: 342164/444748 (76.9344%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  18, local model AK, internal_epoch   1,  Average loss: 0.0154, Accuracy: 1939/4112 (47.1547%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.8316, Accuracy: 238142/444748 (53.5454%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.1191, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  18, local model ME, internal_epoch   1,  Average loss: 0.0144, Accuracy: 2066/3927 (52.6101%), train_poison_data_count3927
Global model norm: 4.93170463293858.
Norm before scaling: 4.944581566860626. Distance: 0.27419834550112143
Total norm for 3 adversaries is: 4.944581566860626. distance: 0.27419834550112143
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.0267, Accuracy: 175945/444748 (39.5606%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.1964, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  18, local model SD, internal_epoch   1,  Average loss: 0.0160, Accuracy: 1619/3593 (45.0598%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.8451, Accuracy: 239004/444748 (53.7392%), Attack Success Rate:0/444748(0.000)
time spent on training: 593.8834478855133
[foolsgold agg] training data poison_ratio: 0.39975940222417866  data num: [127170, 21174, 146613, 247628, 8777, 58387, 7885, 4112, 3927, 3593]
[foolsgold agg] considering poison per batch poison_fraction: 0.39975940222417866
[foolsgold agg] wv: [1. 0. 0. 0. 1. 0. 0. 1. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 18: Average loss: 1.0647, Accuracy: 203422/444748 (45.7387%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 18: Average loss: 1.1111, Accuracy: 0/444748 (0.0000%)
Done in 818.6143991947174 sec.
Server Epoch:19 choose agents : ['AK', 'ND', 'AL', 'CA', 'NM', 'WV', 'FL', 'IN', 'MA', 'AR'].
___Train Local_Simple,  epoch  19, local model AK, internal_epoch   1,  Average loss: 0.0154, Accuracy: 1904/4112 (46.3035%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.8326, Accuracy: 238228/444748 (53.5647%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  19, local model ND, internal_epoch   1,  Average loss: 0.0154, Accuracy: 1506/2822 (53.3664%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.9072, Accuracy: 192040/444748 (43.1795%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  19, local model AL, internal_epoch   1,  Average loss: 0.0134, Accuracy: 12289/21424 (57.3609%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.6128, Accuracy: 364884/444748 (82.0429%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.1111, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  19, local model CA, internal_epoch   1,  Average loss: 0.0066, Accuracy: 197395/247628 (79.7143%), train_poison_data_count247628
Global model norm: 4.931542194252858.
Norm before scaling: 5.506383139551861. Distance: 2.492032706975227
Total norm for 3 adversaries is: 5.506383139551861. distance: 2.492032706975227
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 3.2946, Accuracy: 355984/444748 (80.0417%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 2.4137, Accuracy: 127628/444748 (28.6967%)
___Train Local_Simple,  epoch  19, local model NM, internal_epoch   1,  Average loss: 0.0147, Accuracy: 4808/9436 (50.9538%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.7537, Accuracy: 318849/444748 (71.6921%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  19, local model WV, internal_epoch   1,  Average loss: 0.0152, Accuracy: 3196/6619 (48.2852%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.8270, Accuracy: 267184/444748 (60.0754%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  19, local model FL, internal_epoch   1,  Average loss: 0.0091, Accuracy: 97427/127170 (76.6116%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.2531, Accuracy: 402421/444748 (90.4829%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  19, local model IN, internal_epoch   1,  Average loss: 0.0126, Accuracy: 18327/29580 (61.9574%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.5817, Accuracy: 368099/444748 (82.7657%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.1111, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  19, local model MA, internal_epoch   1,  Average loss: 0.0107, Accuracy: 25031/40748 (61.4288%), train_poison_data_count40748
Global model norm: 4.931542194252858.
Norm before scaling: 5.045182738609851. Distance: 1.0222793315803798
Total norm for 3 adversaries is: 5.045182738609851. distance: 1.0222793315803798
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.5214, Accuracy: 316208/444748 (71.0982%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 0.3237, Accuracy: 444046/444748 (99.8422%)
___Train Local_Simple,  epoch  19, local model AR, internal_epoch   1,  Average loss: 0.0145, Accuracy: 7140/13420 (53.2042%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.7149, Accuracy: 349510/444748 (78.5861%), Attack Success Rate:0/444748(0.000)
time spent on training: 589.0861971378326
[foolsgold agg] training data poison_ratio: 0.5733588622531857  data num: [4112, 2822, 21424, 247628, 9436, 6619, 127170, 29580, 40748, 13420]
[foolsgold agg] considering poison per batch poison_fraction: 0.5733588622531857
[foolsgold agg] wv: [1.         1.         0.         0.20381543 0.         0.
 0.18727755 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 19: Average loss: 1.0634, Accuracy: 204369/444748 (45.9516%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 19: Average loss: 1.1090, Accuracy: 0/444748 (0.0000%)
Done in 813.1581795215607 sec.
Server Epoch:20 choose agents : ['MA', 'OK', 'NH', 'NM', 'CA', 'GA', 'ME', 'MO', 'AR', 'WV'].
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.1090, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  20, local model MA, internal_epoch   1,  Average loss: 0.0106, Accuracy: 25045/40748 (61.4631%), train_poison_data_count40748
Global model norm: 4.9315476089619175.
Norm before scaling: 5.035040712769664. Distance: 0.952494365745561
Total norm for 3 adversaries is: 5.035040712769664. distance: 0.952494365745561
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.5589, Accuracy: 319708/444748 (71.8852%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 0.1497, Accuracy: 444546/444748 (99.9546%)
___Train Local_Simple,  epoch  20, local model OK, internal_epoch   1,  Average loss: 0.0139, Accuracy: 9003/16276 (55.3146%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.6725, Accuracy: 362703/444748 (81.5525%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  20, local model NH, internal_epoch   1,  Average loss: 0.0150, Accuracy: 4447/8777 (50.6665%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.7908, Accuracy: 280613/444748 (63.0948%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  20, local model NM, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4729/9436 (50.1166%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.7640, Accuracy: 262049/444748 (58.9208%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.1090, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  20, local model CA, internal_epoch   1,  Average loss: 0.0066, Accuracy: 196516/247628 (79.3594%), train_poison_data_count247628
Global model norm: 4.9315476089619175.
Norm before scaling: 5.529664065485717. Distance: 2.53344951246121
Total norm for 3 adversaries is: 5.529664065485717. distance: 2.53344951246121
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 3.2751, Accuracy: 356634/444748 (80.1879%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.5438, Accuracy: 180951/444748 (40.6862%)
___Train Local_Simple,  epoch  20, local model GA, internal_epoch   1,  Average loss: 0.0118, Accuracy: 39115/58387 (66.9927%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.4233, Accuracy: 377676/444748 (84.9191%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.1090, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  20, local model ME, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2100/3927 (53.4759%), train_poison_data_count3927
Global model norm: 4.9315476089619175.
Norm before scaling: 4.944589474631017. Distance: 0.27015102006340863
Total norm for 3 adversaries is: 4.944589474631017. distance: 0.27015102006340863
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.0285, Accuracy: 176239/444748 (39.6267%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2036, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  20, local model MO, internal_epoch   1,  Average loss: 0.0127, Accuracy: 17465/28352 (61.6006%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.5368, Accuracy: 363514/444748 (81.7348%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  20, local model AR, internal_epoch   1,  Average loss: 0.0145, Accuracy: 7221/13420 (53.8077%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.7080, Accuracy: 343427/444748 (77.2183%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  20, local model WV, internal_epoch   1,  Average loss: 0.0153, Accuracy: 3158/6619 (47.7111%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.8265, Accuracy: 244461/444748 (54.9662%), Attack Success Rate:0/444748(0.000)
time spent on training: 792.2385423183441
[foolsgold agg] training data poison_ratio: 0.6741771801554536  data num: [40748, 16276, 8777, 9436, 247628, 58387, 3927, 28352, 13420, 6619]
[foolsgold agg] considering poison per batch poison_fraction: 0.6741771801554536
[foolsgold agg] wv: [0.         0.         0.         0.         0.35389576 1.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 20: Average loss: 1.0619, Accuracy: 205797/444748 (46.2727%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 20: Average loss: 1.1062, Accuracy: 0/444748 (0.0000%)
Done in 1016.4295065402985 sec.
Server Epoch:21 choose agents : ['UT', 'WV', 'IN', 'SC', 'HI', 'TX', 'SD', 'GA', 'AR', 'DC'].
___Train Local_Simple,  epoch  21, local model UT, internal_epoch   1,  Average loss: 0.0138, Accuracy: 6595/11827 (55.7622%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.7731, Accuracy: 241659/444748 (54.3362%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model WV, internal_epoch   1,  Average loss: 0.0152, Accuracy: 3187/6619 (48.1493%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.8314, Accuracy: 255777/444748 (57.5105%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model IN, internal_epoch   1,  Average loss: 0.0126, Accuracy: 18412/29580 (62.2448%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.5637, Accuracy: 359157/444748 (80.7552%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model SC, internal_epoch   1,  Average loss: 0.0132, Accuracy: 12994/22070 (58.8763%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.6016, Accuracy: 355371/444748 (79.9039%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model HI, internal_epoch   1,  Average loss: 0.0144, Accuracy: 4283/8393 (51.0306%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.7660, Accuracy: 242585/444748 (54.5444%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model TX, internal_epoch   1,  Average loss: 0.0083, Accuracy: 115748/146613 (78.9480%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.2395, Accuracy: 403670/444748 (90.7638%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model SD, internal_epoch   1,  Average loss: 0.0160, Accuracy: 1607/3593 (44.7259%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.8407, Accuracy: 238906/444748 (53.7172%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model GA, internal_epoch   1,  Average loss: 0.0110, Accuracy: 40506/58387 (69.3750%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.4915, Accuracy: 377432/444748 (84.8642%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model AR, internal_epoch   1,  Average loss: 0.0145, Accuracy: 7091/13420 (52.8390%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.7069, Accuracy: 361843/444748 (81.3591%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model DC, internal_epoch   1,  Average loss: 0.0151, Accuracy: 2040/4220 (48.3412%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.8358, Accuracy: 235584/444748 (52.9702%), Attack Success Rate:0/444748(0.000)
time spent on training: 148.185307264328
[foolsgold agg] training data poison_ratio: 0.0  data num: [11827, 6619, 29580, 22070, 8393, 146613, 3593, 58387, 13420, 4220]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 21: Average loss: 1.0614, Accuracy: 206287/444748 (46.3829%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 21: Average loss: 1.1052, Accuracy: 0/444748 (0.0000%)
Done in 372.68576836586 sec.
Server Epoch:22 choose agents : ['ME', 'UT', 'TN', 'AK', 'GA', 'SD', 'MA', 'RI', 'WV', 'IN'].
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.1052, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  22, local model ME, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2074/3927 (52.8139%), train_poison_data_count3927
Global model norm: 4.931550703078711.
Norm before scaling: 4.944039372247257. Distance: 0.2685778937283583
Total norm for 3 adversaries is: 4.944039372247257. distance: 0.2685778937283583
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.0293, Accuracy: 175678/444748 (39.5006%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2522, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  22, local model UT, internal_epoch   1,  Average loss: 0.0139, Accuracy: 6665/11827 (56.3541%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.7560, Accuracy: 252930/444748 (56.8704%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  22, local model TN, internal_epoch   1,  Average loss: 0.0131, Accuracy: 17417/27944 (62.3282%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.5385, Accuracy: 364906/444748 (82.0478%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  22, local model AK, internal_epoch   1,  Average loss: 0.0155, Accuracy: 1896/4112 (46.1089%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.8299, Accuracy: 299903/444748 (67.4321%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  22, local model GA, internal_epoch   1,  Average loss: 0.0111, Accuracy: 40420/58387 (69.2277%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.4249, Accuracy: 375000/444748 (84.3174%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  22, local model SD, internal_epoch   1,  Average loss: 0.0159, Accuracy: 1603/3593 (44.6145%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.8331, Accuracy: 241534/444748 (54.3081%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.1052, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  22, local model MA, internal_epoch   1,  Average loss: 0.0107, Accuracy: 25029/40748 (61.4239%), train_poison_data_count40748
Global model norm: 4.931550703078711.
Norm before scaling: 5.050189462261423. Distance: 1.0518194692350091
Total norm for 3 adversaries is: 5.050189462261423. distance: 1.0518194692350091
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.5341, Accuracy: 313211/444748 (70.4244%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 0.3318, Accuracy: 443218/444748 (99.6560%)
___Train Local_Simple,  epoch  22, local model RI, internal_epoch   1,  Average loss: 0.0149, Accuracy: 3922/7885 (49.7400%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.7819, Accuracy: 316498/444748 (71.1634%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  22, local model WV, internal_epoch   1,  Average loss: 0.0152, Accuracy: 3270/6619 (49.4032%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.8279, Accuracy: 340185/444748 (76.4894%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  22, local model IN, internal_epoch   1,  Average loss: 0.0128, Accuracy: 18114/29580 (61.2373%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.6445, Accuracy: 357938/444748 (80.4811%), Attack Success Rate:0/444748(0.000)
time spent on training: 559.6526033878326
[foolsgold agg] training data poison_ratio: 0.22954753316685678  data num: [3927, 11827, 27944, 4112, 58387, 3593, 40748, 7885, 6619, 29580]
[foolsgold agg] considering poison per batch poison_fraction: 0.22954753316685678
[foolsgold agg] wv: [0.         1.         0.08023211 0.         0.         0.27315221
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 22: Average loss: 1.0609, Accuracy: 206899/444748 (46.5205%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 22: Average loss: 1.1044, Accuracy: 0/444748 (0.0000%)
Done in 783.8425304889679 sec.
Server Epoch:23 choose agents : ['CO', 'NC', 'ND', 'ME', 'TN', 'AR', 'HI', 'FL', 'SC', 'OK'].
___Train Local_Simple,  epoch  23, local model CO, internal_epoch   1,  Average loss: 0.0117, Accuracy: 24858/38041 (65.3453%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.5066, Accuracy: 373265/444748 (83.9273%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  23, local model NC, internal_epoch   1,  Average loss: 0.0114, Accuracy: 33384/49376 (67.6118%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.4813, Accuracy: 374186/444748 (84.1344%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  23, local model ND, internal_epoch   1,  Average loss: 0.0158, Accuracy: 1458/2822 (51.6655%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.9180, Accuracy: 189817/444748 (42.6797%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.1044, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  23, local model ME, internal_epoch   1,  Average loss: 0.0144, Accuracy: 2090/3927 (53.2213%), train_poison_data_count3927
Global model norm: 4.931532525114749.
Norm before scaling: 4.944728340732933. Distance: 0.2687705819432565
Total norm for 3 adversaries is: 4.944728340732933. distance: 0.2687705819432565
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.0320, Accuracy: 175864/444748 (39.5424%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.2392, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  23, local model TN, internal_epoch   1,  Average loss: 0.0130, Accuracy: 17060/27944 (61.0507%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.5609, Accuracy: 367486/444748 (82.6279%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  23, local model AR, internal_epoch   1,  Average loss: 0.0145, Accuracy: 7199/13420 (53.6438%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.7181, Accuracy: 352542/444748 (79.2678%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  23, local model HI, internal_epoch   1,  Average loss: 0.0146, Accuracy: 4349/8393 (51.8170%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.7600, Accuracy: 260297/444748 (58.5269%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  23, local model FL, internal_epoch   1,  Average loss: 0.0095, Accuracy: 96382/127170 (75.7899%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.2656, Accuracy: 403604/444748 (90.7489%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  23, local model SC, internal_epoch   1,  Average loss: 0.0131, Accuracy: 13010/22070 (58.9488%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.6184, Accuracy: 349065/444748 (78.4860%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  23, local model OK, internal_epoch   1,  Average loss: 0.0139, Accuracy: 8919/16276 (54.7985%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.6808, Accuracy: 361890/444748 (81.3697%), Attack Success Rate:0/444748(0.000)
time spent on training: 355.88693380355835
[foolsgold agg] training data poison_ratio: 0.012690708023229134  data num: [38041, 49376, 2822, 3927, 27944, 13420, 8393, 127170, 22070, 16276]
[foolsgold agg] considering poison per batch poison_fraction: 0.012690708023229134
[foolsgold agg] wv: [0. 0. 1. 1. 1. 1. 1. 1. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 23: Average loss: 1.0564, Accuracy: 210446/444748 (47.3180%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 23: Average loss: 1.0986, Accuracy: 0/444748 (0.0000%)
Done in 580.2531332969666 sec.
Server Epoch:24 choose agents : ['HI', 'FL', 'OR', 'CA', 'MA', 'AK', 'TX', 'AR', 'NC', 'NH'].
___Train Local_Simple,  epoch  24, local model HI, internal_epoch   1,  Average loss: 0.0145, Accuracy: 4392/8393 (52.3293%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.7613, Accuracy: 243461/444748 (54.7413%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  24, local model FL, internal_epoch   1,  Average loss: 0.0093, Accuracy: 97268/127170 (76.4866%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.2434, Accuracy: 406322/444748 (91.3601%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  24, local model OR, internal_epoch   1,  Average loss: 0.0133, Accuracy: 12394/21174 (58.5341%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.6633, Accuracy: 357251/444748 (80.3266%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.0986, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  24, local model CA, internal_epoch   1,  Average loss: 0.0066, Accuracy: 196438/247628 (79.3279%), train_poison_data_count247628
Global model norm: 4.931556311160452.
Norm before scaling: 5.5104369924515355. Distance: 2.4985386391996194
Total norm for 3 adversaries is: 5.5104369924515355. distance: 2.4985386391996194
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 3.2757, Accuracy: 354973/444748 (79.8144%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 2.5119, Accuracy: 127076/444748 (28.5726%)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.0986, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  24, local model MA, internal_epoch   1,  Average loss: 0.0106, Accuracy: 25104/40748 (61.6079%), train_poison_data_count40748
Global model norm: 4.931556311160452.
Norm before scaling: 5.0404626128402565. Distance: 0.9551969114984489
Total norm for 3 adversaries is: 5.0404626128402565. distance: 0.9551969114984489
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.5446, Accuracy: 324124/444748 (72.8781%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 0.1319, Accuracy: 444693/444748 (99.9876%)
___Train Local_Simple,  epoch  24, local model AK, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1972/4112 (47.9572%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.8218, Accuracy: 250124/444748 (56.2395%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  24, local model TX, internal_epoch   1,  Average loss: 0.0084, Accuracy: 115243/146613 (78.6035%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.2425, Accuracy: 405606/444748 (91.1991%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  24, local model AR, internal_epoch   1,  Average loss: 0.0144, Accuracy: 7167/13420 (53.4054%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.7126, Accuracy: 352216/444748 (79.1945%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  24, local model NC, internal_epoch   1,  Average loss: 0.0113, Accuracy: 33328/49376 (67.4984%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.4400, Accuracy: 372139/444748 (83.6741%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  24, local model NH, internal_epoch   1,  Average loss: 0.0147, Accuracy: 4436/8777 (50.5412%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.7767, Accuracy: 240934/444748 (54.1731%), Attack Success Rate:0/444748(0.000)
time spent on training: 597.9007706642151
[foolsgold agg] training data poison_ratio: 0.4320815809149085  data num: [8393, 127170, 21174, 247628, 40748, 4112, 146613, 13420, 49376, 8777]
[foolsgold agg] considering poison per batch poison_fraction: 0.4320815809149085
[foolsgold agg] wv: [1.         1.         0.55667876 0.55823283 0.55667876 1.
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 24: Average loss: 1.0496, Accuracy: 217647/444748 (48.9372%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 24: Average loss: 1.0863, Accuracy: 0/444748 (0.0000%)
Done in 821.9175136089325 sec.
Server Epoch:25 choose agents : ['SC', 'WV', 'DC', 'HI', 'NC', 'OK', 'AK', 'SD', 'TX', 'GA'].
___Train Local_Simple,  epoch  25, local model SC, internal_epoch   1,  Average loss: 0.0130, Accuracy: 13108/22070 (59.3928%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.5951, Accuracy: 364740/444748 (82.0105%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  25, local model WV, internal_epoch   1,  Average loss: 0.0151, Accuracy: 3197/6619 (48.3003%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.8224, Accuracy: 329601/444748 (74.1096%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  25, local model DC, internal_epoch   1,  Average loss: 0.0148, Accuracy: 2094/4220 (49.6209%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.8298, Accuracy: 234940/444748 (52.8254%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  25, local model HI, internal_epoch   1,  Average loss: 0.0145, Accuracy: 4351/8393 (51.8408%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.7645, Accuracy: 243803/444748 (54.8182%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  25, local model NC, internal_epoch   1,  Average loss: 0.0114, Accuracy: 33443/49376 (67.7313%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.4605, Accuracy: 375485/444748 (84.4265%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  25, local model OK, internal_epoch   1,  Average loss: 0.0138, Accuracy: 9105/16276 (55.9413%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.6634, Accuracy: 353607/444748 (79.5073%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  25, local model AK, internal_epoch   1,  Average loss: 0.0152, Accuracy: 1914/4112 (46.5467%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.8198, Accuracy: 240009/444748 (53.9652%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  25, local model SD, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1689/3593 (47.0081%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.8286, Accuracy: 240280/444748 (54.0261%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  25, local model TX, internal_epoch   1,  Average loss: 0.0087, Accuracy: 115446/146613 (78.7420%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.2624, Accuracy: 405208/444748 (91.1096%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  25, local model GA, internal_epoch   1,  Average loss: 0.0109, Accuracy: 40540/58387 (69.4333%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.4049, Accuracy: 379118/444748 (85.2433%), Attack Success Rate:0/444748(0.000)
time spent on training: 148.80002546310425
[foolsgold agg] training data poison_ratio: 0.0  data num: [22070, 6619, 4220, 8393, 49376, 16276, 4112, 3593, 146613, 58387]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.08826984 0.         0.09871264 0.         0.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 25: Average loss: 1.0484, Accuracy: 218976/444748 (49.2360%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 25: Average loss: 1.0852, Accuracy: 0/444748 (0.0000%)
Done in 373.4691352844238 sec.
Server Epoch:26 choose agents : ['HI', 'IN', 'OK', 'MS', 'NM', 'CA', 'NC', 'AR', 'TN', 'CO'].
___Train Local_Simple,  epoch  26, local model HI, internal_epoch   1,  Average loss: 0.0144, Accuracy: 4375/8393 (52.1268%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.7590, Accuracy: 314551/444748 (70.7257%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model IN, internal_epoch   1,  Average loss: 0.0125, Accuracy: 18543/29580 (62.6876%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.5366, Accuracy: 366126/444748 (82.3221%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model OK, internal_epoch   1,  Average loss: 0.0137, Accuracy: 9155/16276 (56.2485%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.6580, Accuracy: 360545/444748 (81.0673%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model MS, internal_epoch   1,  Average loss: 0.0146, Accuracy: 5336/9869 (54.0683%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.7765, Accuracy: 295829/444748 (66.5161%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model NM, internal_epoch   1,  Average loss: 0.0147, Accuracy: 4855/9436 (51.4519%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.7502, Accuracy: 340352/444748 (76.5269%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.0852, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  26, local model CA, internal_epoch   1,  Average loss: 0.0066, Accuracy: 198123/247628 (80.0083%), train_poison_data_count247628
Global model norm: 4.931656288650868.
Norm before scaling: 5.5977433085409904. Distance: 2.714759616783133
Total norm for 3 adversaries is: 5.5977433085409904. distance: 2.714759616783133
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 3.1149, Accuracy: 354297/444748 (79.6624%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 2.8216, Accuracy: 80491/444748 (18.0981%)
___Train Local_Simple,  epoch  26, local model NC, internal_epoch   1,  Average loss: 0.0115, Accuracy: 33286/49376 (67.4133%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.4389, Accuracy: 375351/444748 (84.3963%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model AR, internal_epoch   1,  Average loss: 0.0142, Accuracy: 7338/13420 (54.6796%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.7028, Accuracy: 356625/444748 (80.1859%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model TN, internal_epoch   1,  Average loss: 0.0129, Accuracy: 17296/27944 (61.8952%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.5432, Accuracy: 362649/444748 (81.5403%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model CO, internal_epoch   1,  Average loss: 0.0116, Accuracy: 25052/38041 (65.8553%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.5119, Accuracy: 373294/444748 (83.9338%), Attack Success Rate:0/444748(0.000)
time spent on training: 377.144234418869
[foolsgold agg] training data poison_ratio: 0.5503296937748214  data num: [8393, 29580, 16276, 9869, 9436, 247628, 49376, 13420, 27944, 38041]
[foolsgold agg] considering poison per batch poison_fraction: 0.5503296937748214
[foolsgold agg] wv: [0.82559614 0.         0.         1.         0.82559614 1.
 1.         1.         0.94256028 0.        ]
___Test Target_Simple poisoned: False, epoch: 26: Average loss: 1.0435, Accuracy: 224802/444748 (50.5459%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 26: Average loss: 1.0770, Accuracy: 0/444748 (0.0000%)
Done in 601.4468517303467 sec.
Server Epoch:27 choose agents : ['AL', 'NM', 'CO', 'IN', 'FL', 'GA', 'ME', 'WV', 'ND', 'RI'].
___Train Local_Simple,  epoch  27, local model AL, internal_epoch   1,  Average loss: 0.0132, Accuracy: 12750/21424 (59.5127%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.5831, Accuracy: 367539/444748 (82.6398%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  27, local model NM, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4834/9436 (51.2293%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.7553, Accuracy: 316043/444748 (71.0611%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  27, local model CO, internal_epoch   1,  Average loss: 0.0115, Accuracy: 25285/38041 (66.4678%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.6270, Accuracy: 373667/444748 (84.0177%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  27, local model IN, internal_epoch   1,  Average loss: 0.0125, Accuracy: 18678/29580 (63.1440%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.5255, Accuracy: 362101/444748 (81.4171%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  27, local model FL, internal_epoch   1,  Average loss: 0.0089, Accuracy: 98985/127170 (77.8368%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.2377, Accuracy: 404693/444748 (90.9938%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  27, local model GA, internal_epoch   1,  Average loss: 0.0116, Accuracy: 39882/58387 (68.3063%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.4805, Accuracy: 380407/444748 (85.5332%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.0770, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  27, local model ME, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2135/3927 (54.3672%), train_poison_data_count3927
Global model norm: 4.931717009000045.
Norm before scaling: 4.94588482815749. Distance: 0.2671543440965544
Total norm for 3 adversaries is: 4.94588482815749. distance: 0.2671543440965544
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.0199, Accuracy: 177598/444748 (39.9323%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.2367, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  27, local model WV, internal_epoch   1,  Average loss: 0.0151, Accuracy: 3290/6619 (49.7054%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.8150, Accuracy: 276457/444748 (62.1604%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  27, local model ND, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1501/2822 (53.1892%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.9030, Accuracy: 191975/444748 (43.1649%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  27, local model RI, internal_epoch   1,  Average loss: 0.0146, Accuracy: 3987/7885 (50.5644%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.7742, Accuracy: 318421/444748 (71.5958%), Attack Success Rate:0/444748(0.000)
time spent on training: 355.55692291259766
[foolsgold agg] training data poison_ratio: 0.012863137138009309  data num: [21424, 9436, 38041, 29580, 127170, 58387, 3927, 6619, 2822, 7885]
[foolsgold agg] considering poison per batch poison_fraction: 0.012863137138009309
[foolsgold agg] wv: [0. 1. 0. 0. 1. 1. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 27: Average loss: 1.0412, Accuracy: 227694/444748 (51.1962%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 27: Average loss: 1.0720, Accuracy: 0/444748 (0.0000%)
Done in 579.8063468933105 sec.
Server Epoch:28 choose agents : ['FL', 'WV', 'TX', 'OK', 'ND', 'NC', 'SC', 'AK', 'AR', 'RI'].
___Train Local_Simple,  epoch  28, local model FL, internal_epoch   1,  Average loss: 0.0091, Accuracy: 98262/127170 (77.2682%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.4338, Accuracy: 401181/444748 (90.2041%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model WV, internal_epoch   1,  Average loss: 0.0151, Accuracy: 3213/6619 (48.5421%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.8176, Accuracy: 340264/444748 (76.5071%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model TX, internal_epoch   1,  Average loss: 0.0081, Accuracy: 116928/146613 (79.7528%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.2128, Accuracy: 410361/444748 (92.2682%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model OK, internal_epoch   1,  Average loss: 0.0137, Accuracy: 9103/16276 (55.9290%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.6635, Accuracy: 355108/444748 (79.8448%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model ND, internal_epoch   1,  Average loss: 0.0152, Accuracy: 1466/2822 (51.9490%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.8981, Accuracy: 193391/444748 (43.4833%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model NC, internal_epoch   1,  Average loss: 0.0113, Accuracy: 33599/49376 (68.0472%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.4532, Accuracy: 368632/444748 (82.8856%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model SC, internal_epoch   1,  Average loss: 0.0129, Accuracy: 13226/22070 (59.9275%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.5954, Accuracy: 361282/444748 (81.2330%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model AK, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2045/4112 (49.7325%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.8084, Accuracy: 239453/444748 (53.8402%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model AR, internal_epoch   1,  Average loss: 0.0143, Accuracy: 7412/13420 (55.2310%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.6987, Accuracy: 351665/444748 (79.0706%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model RI, internal_epoch   1,  Average loss: 0.0146, Accuracy: 4069/7885 (51.6043%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.7695, Accuracy: 348488/444748 (78.3563%), Attack Success Rate:0/444748(0.000)
time spent on training: 152.91843438148499
[foolsgold agg] training data poison_ratio: 0.0  data num: [127170, 6619, 146613, 16276, 2822, 49376, 22070, 4112, 13420, 7885]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.38696492 0.         0.38696492 0.         1.         0.84584439
 0.         0.91533373 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 28: Average loss: 1.0391, Accuracy: 230010/444748 (51.7169%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 28: Average loss: 1.0696, Accuracy: 0/444748 (0.0000%)
Done in 377.2126703262329 sec.
Server Epoch:29 choose agents : ['NH', 'CO', 'NM', 'IN', 'DC', 'MS', 'AK', 'AL', 'TN', 'UT'].
___Train Local_Simple,  epoch  29, local model NH, internal_epoch   1,  Average loss: 0.0147, Accuracy: 4505/8777 (51.3273%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.7778, Accuracy: 305498/444748 (68.6901%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  29, local model CO, internal_epoch   1,  Average loss: 0.0115, Accuracy: 25097/38041 (65.9736%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.4828, Accuracy: 372252/444748 (83.6995%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  29, local model NM, internal_epoch   1,  Average loss: 0.0146, Accuracy: 4923/9436 (52.1725%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.7403, Accuracy: 350398/444748 (78.7857%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  29, local model IN, internal_epoch   1,  Average loss: 0.0124, Accuracy: 18704/29580 (63.2319%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.6167, Accuracy: 365905/444748 (82.2724%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  29, local model DC, internal_epoch   1,  Average loss: 0.0148, Accuracy: 2127/4220 (50.4028%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.8251, Accuracy: 235883/444748 (53.0375%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  29, local model MS, internal_epoch   1,  Average loss: 0.0144, Accuracy: 5444/9869 (55.1626%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.7503, Accuracy: 322157/444748 (72.4359%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  29, local model AK, internal_epoch   1,  Average loss: 0.0155, Accuracy: 2007/4112 (48.8084%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.8257, Accuracy: 239072/444748 (53.7545%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  29, local model AL, internal_epoch   1,  Average loss: 0.0132, Accuracy: 12589/21424 (58.7612%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.5908, Accuracy: 367134/444748 (82.5488%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  29, local model TN, internal_epoch   1,  Average loss: 0.0129, Accuracy: 17440/27944 (62.4105%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.5630, Accuracy: 361376/444748 (81.2541%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  29, local model UT, internal_epoch   1,  Average loss: 0.0135, Accuracy: 6792/11827 (57.4279%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.7256, Accuracy: 244394/444748 (54.9511%), Attack Success Rate:0/444748(0.000)
time spent on training: 140.97435331344604
[foolsgold agg] training data poison_ratio: 0.0  data num: [8777, 38041, 9436, 29580, 4220, 9869, 4112, 21424, 27944, 11827]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.         0.         0.         0.         0.
 1.         0.         0.69644735 0.        ]
___Test Target_Simple poisoned: False, epoch: 29: Average loss: 1.0378, Accuracy: 231491/444748 (52.0499%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 29: Average loss: 1.0677, Accuracy: 0/444748 (0.0000%)
Done in 365.163373708725 sec.
Server Epoch:30 choose agents : ['OR', 'RI', 'HI', 'ME', 'SC', 'TX', 'CO', 'DC', 'OK', 'NH'].
___Train Local_Simple,  epoch  30, local model OR, internal_epoch   1,  Average loss: 0.0134, Accuracy: 12510/21174 (59.0819%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.6213, Accuracy: 362319/444748 (81.4661%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  30, local model RI, internal_epoch   1,  Average loss: 0.0145, Accuracy: 4096/7885 (51.9467%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.7623, Accuracy: 315220/444748 (70.8761%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  30, local model HI, internal_epoch   1,  Average loss: 0.0144, Accuracy: 4401/8393 (52.4366%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.7621, Accuracy: 288168/444748 (64.7935%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0677, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  30, local model ME, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2158/3927 (54.9529%), train_poison_data_count3927
Global model norm: 4.9317742478803375.
Norm before scaling: 4.946847493618746. Distance: 0.2659010154315587
Total norm for 3 adversaries is: 4.946847493618746. distance: 0.2659010154315587
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.0173, Accuracy: 177104/444748 (39.8212%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.2588, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  30, local model SC, internal_epoch   1,  Average loss: 0.0130, Accuracy: 13245/22070 (60.0136%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.6282, Accuracy: 347862/444748 (78.2155%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  30, local model TX, internal_epoch   1,  Average loss: 0.0078, Accuracy: 117377/146613 (80.0591%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.2068, Accuracy: 414563/444748 (93.2130%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  30, local model CO, internal_epoch   1,  Average loss: 0.0114, Accuracy: 25264/38041 (66.4126%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.5592, Accuracy: 373166/444748 (83.9050%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  30, local model DC, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2127/4220 (50.4028%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.8235, Accuracy: 235749/444748 (53.0073%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  30, local model OK, internal_epoch   1,  Average loss: 0.0136, Accuracy: 9283/16276 (57.0349%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.6508, Accuracy: 361056/444748 (81.1822%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  30, local model NH, internal_epoch   1,  Average loss: 0.0151, Accuracy: 4564/8777 (51.9995%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.8255, Accuracy: 240130/444748 (53.9924%), Attack Success Rate:0/444748(0.000)
time spent on training: 354.2060272693634
[foolsgold agg] training data poison_ratio: 0.01415767766497462  data num: [21174, 7885, 8393, 3927, 22070, 146613, 38041, 4220, 16276, 8777]
[foolsgold agg] considering poison per batch poison_fraction: 0.01415767766497462
[foolsgold agg] wv: [1.         0.         0.         1.         0.05590562 0.39480183
 0.         0.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 30: Average loss: 1.0355, Accuracy: 233424/444748 (52.4846%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 30: Average loss: 1.0623, Accuracy: 0/444748 (0.0000%)
Done in 578.5250916481018 sec.
Server Epoch:31 choose agents : ['CA', 'ND', 'MO', 'GA', 'NH', 'MS', 'MA', 'TN', 'NM', 'FL'].
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0623, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  31, local model CA, internal_epoch   1,  Average loss: 0.0067, Accuracy: 197089/247628 (79.5908%), train_poison_data_count247628
Global model norm: 4.931759744848506.
Norm before scaling: 5.640515609060892. Distance: 2.7635462648133235
Total norm for 3 adversaries is: 5.640515609060892. distance: 2.7635462648133235
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 3.3080, Accuracy: 355152/444748 (79.8547%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 0.1929, Accuracy: 413914/444748 (93.0671%)
___Train Local_Simple,  epoch  31, local model ND, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1456/2822 (51.5946%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.8936, Accuracy: 194657/444748 (43.7679%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  31, local model MO, internal_epoch   1,  Average loss: 0.0124, Accuracy: 17773/28352 (62.6869%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.5229, Accuracy: 365190/444748 (82.1117%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  31, local model GA, internal_epoch   1,  Average loss: 0.0108, Accuracy: 40637/58387 (69.5994%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.3986, Accuracy: 378824/444748 (85.1772%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  31, local model NH, internal_epoch   1,  Average loss: 0.0153, Accuracy: 4520/8777 (51.4982%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.7906, Accuracy: 256768/444748 (57.7334%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  31, local model MS, internal_epoch   1,  Average loss: 0.0145, Accuracy: 5440/9869 (55.1221%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.7569, Accuracy: 320987/444748 (72.1728%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0623, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  31, local model MA, internal_epoch   1,  Average loss: 0.0105, Accuracy: 25529/40748 (62.6509%), train_poison_data_count40748
Global model norm: 4.931759744848506.
Norm before scaling: 5.043544745257259. Distance: 0.9663336366528178
Total norm for 3 adversaries is: 5.043544745257259. distance: 0.9663336366528178
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.4847, Accuracy: 333611/444748 (75.0112%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 0.2110, Accuracy: 444333/444748 (99.9067%)
___Train Local_Simple,  epoch  31, local model TN, internal_epoch   1,  Average loss: 0.0129, Accuracy: 17274/27944 (61.8165%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.5443, Accuracy: 357906/444748 (80.4739%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  31, local model NM, internal_epoch   1,  Average loss: 0.0144, Accuracy: 5015/9436 (53.1475%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.7414, Accuracy: 294833/444748 (66.2921%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  31, local model FL, internal_epoch   1,  Average loss: 0.0088, Accuracy: 98490/127170 (77.4475%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.2432, Accuracy: 406003/444748 (91.2883%), Attack Success Rate:0/444748(0.000)
time spent on training: 591.4145085811615
[foolsgold agg] training data poison_ratio: 0.5139173778765462  data num: [247628, 2822, 28352, 58387, 8777, 9869, 40748, 27944, 9436, 127170]
[foolsgold agg] considering poison per batch poison_fraction: 0.5139173778765462
[foolsgold agg] wv: [0. 0. 0. 0. 1. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 31: Average loss: 1.0351, Accuracy: 233732/444748 (52.5538%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 31: Average loss: 1.0618, Accuracy: 0/444748 (0.0000%)
Done in 815.1877844333649 sec.
Server Epoch:32 choose agents : ['UT', 'MO', 'CA', 'AK', 'AL', 'SC', 'NC', 'DC', 'NM', 'ND'].
___Train Local_Simple,  epoch  32, local model UT, internal_epoch   1,  Average loss: 0.0136, Accuracy: 6707/11827 (56.7092%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 0.7237, Accuracy: 243568/444748 (54.7654%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  32, local model MO, internal_epoch   1,  Average loss: 0.0126, Accuracy: 17795/28352 (62.7645%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 0.5347, Accuracy: 368563/444748 (82.8701%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.0618, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  32, local model CA, internal_epoch   1,  Average loss: 0.0067, Accuracy: 198490/247628 (80.1565%), train_poison_data_count247628
Global model norm: 4.931726484401112.
Norm before scaling: 5.547353460603544. Distance: 2.561788320571015
Total norm for 3 adversaries is: 5.547353460603544. distance: 2.561788320571015
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 3.1729, Accuracy: 357771/444748 (80.4435%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 2.8163, Accuracy: 115470/444748 (25.9630%)
___Train Local_Simple,  epoch  32, local model AK, internal_epoch   1,  Average loss: 0.0148, Accuracy: 2001/4112 (48.6625%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 0.8053, Accuracy: 240992/444748 (54.1862%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  32, local model AL, internal_epoch   1,  Average loss: 0.0131, Accuracy: 12740/21424 (59.4660%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 0.5852, Accuracy: 365960/444748 (82.2848%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  32, local model SC, internal_epoch   1,  Average loss: 0.0128, Accuracy: 13406/22070 (60.7431%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 0.5834, Accuracy: 357865/444748 (80.4647%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  32, local model NC, internal_epoch   1,  Average loss: 0.0111, Accuracy: 33768/49376 (68.3895%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 0.5307, Accuracy: 374494/444748 (84.2036%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  32, local model DC, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2102/4220 (49.8104%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 0.8204, Accuracy: 236749/444748 (53.2322%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  32, local model NM, internal_epoch   1,  Average loss: 0.0144, Accuracy: 4916/9436 (52.0983%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 0.7420, Accuracy: 302643/444748 (68.0482%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  32, local model ND, internal_epoch   1,  Average loss: 0.0155, Accuracy: 1481/2822 (52.4805%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 0.8883, Accuracy: 199476/444748 (44.8515%), Attack Success Rate:0/444748(0.000)
time spent on training: 373.54460167884827
[foolsgold agg] training data poison_ratio: 0.6171152873273905  data num: [11827, 28352, 247628, 4112, 21424, 22070, 49376, 4220, 9436, 2822]
[foolsgold agg] considering poison per batch poison_fraction: 0.6171152873273905
[foolsgold agg] wv: [0.         0.         1.         0.         0.         0.08604014
 1.         0.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 32: Average loss: 1.0321, Accuracy: 237429/444748 (53.3851%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 32: Average loss: 1.0560, Accuracy: 0/444748 (0.0000%)
Done in 597.4616997241974 sec.
Server Epoch:33 choose agents : ['HI', 'AR', 'OR', 'IN', 'SC', 'AK', 'ND', 'NM', 'NC', 'RI'].
___Train Local_Simple,  epoch  33, local model HI, internal_epoch   1,  Average loss: 0.0143, Accuracy: 4475/8393 (53.3182%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 0.7361, Accuracy: 255499/444748 (57.4480%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  33, local model AR, internal_epoch   1,  Average loss: 0.0144, Accuracy: 7457/13420 (55.5663%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 0.6947, Accuracy: 363231/444748 (81.6712%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  33, local model OR, internal_epoch   1,  Average loss: 0.0130, Accuracy: 12604/21174 (59.5258%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 0.6277, Accuracy: 363958/444748 (81.8347%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  33, local model IN, internal_epoch   1,  Average loss: 0.0123, Accuracy: 18772/29580 (63.4618%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 0.5107, Accuracy: 365925/444748 (82.2769%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  33, local model SC, internal_epoch   1,  Average loss: 0.0129, Accuracy: 13346/22070 (60.4712%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 0.5984, Accuracy: 350565/444748 (78.8233%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  33, local model AK, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2037/4112 (49.5379%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 0.8156, Accuracy: 246229/444748 (55.3637%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  33, local model ND, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1488/2822 (52.7286%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 0.8905, Accuracy: 198655/444748 (44.6669%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  33, local model NM, internal_epoch   1,  Average loss: 0.0144, Accuracy: 4989/9436 (52.8720%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 0.7372, Accuracy: 289634/444748 (65.1232%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  33, local model NC, internal_epoch   1,  Average loss: 0.0112, Accuracy: 33871/49376 (68.5981%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 0.4418, Accuracy: 368422/444748 (82.8384%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  33, local model RI, internal_epoch   1,  Average loss: 0.0144, Accuracy: 4123/7885 (52.2892%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 0.7596, Accuracy: 349168/444748 (78.5092%), Attack Success Rate:0/444748(0.000)
time spent on training: 141.10455012321472
[foolsgold agg] training data poison_ratio: 0.0  data num: [8393, 13420, 21174, 29580, 22070, 4112, 2822, 9436, 49376, 7885]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.36707283 0.45666396 1.         1.         1.         1.
 1.         0.36707283 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 33: Average loss: 1.0277, Accuracy: 242259/444748 (54.4711%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 33: Average loss: 1.0501, Accuracy: 0/444748 (0.0000%)
Done in 364.616596698761 sec.
Server Epoch:34 choose agents : ['OR', 'NC', 'DC', 'UT', 'MA', 'ME', 'NH', 'MS', 'FL', 'CA'].
___Train Local_Simple,  epoch  34, local model OR, internal_epoch   1,  Average loss: 0.0132, Accuracy: 12668/21174 (59.8281%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 0.6420, Accuracy: 361765/444748 (81.3416%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  34, local model NC, internal_epoch   1,  Average loss: 0.0112, Accuracy: 33962/49376 (68.7824%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 0.4580, Accuracy: 375606/444748 (84.4537%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  34, local model DC, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2159/4220 (51.1611%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 0.8118, Accuracy: 235539/444748 (52.9601%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  34, local model UT, internal_epoch   1,  Average loss: 0.0136, Accuracy: 6831/11827 (57.7577%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 0.7209, Accuracy: 256230/444748 (57.6124%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.0501, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  34, local model MA, internal_epoch   1,  Average loss: 0.0103, Accuracy: 25760/40748 (63.2178%), train_poison_data_count40748
Global model norm: 4.932009384418603.
Norm before scaling: 5.051379953821154. Distance: 0.9700517522141405
Total norm for 3 adversaries is: 5.051379953821154. distance: 0.9700517522141405
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.4858, Accuracy: 330019/444748 (74.2036%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 0.1511, Accuracy: 444440/444748 (99.9307%)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.0501, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  34, local model ME, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2157/3927 (54.9274%), train_poison_data_count3927
Global model norm: 4.932009384418603.
Norm before scaling: 4.945948651754878. Distance: 0.2634153318976746
Total norm for 3 adversaries is: 4.945948651754878. distance: 0.2634153318976746
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.0082, Accuracy: 181727/444748 (40.8607%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.2120, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  34, local model NH, internal_epoch   1,  Average loss: 0.0146, Accuracy: 4607/8777 (52.4895%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 0.7559, Accuracy: 349084/444748 (78.4903%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  34, local model MS, internal_epoch   1,  Average loss: 0.0143, Accuracy: 5542/9869 (56.1556%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 0.7446, Accuracy: 324687/444748 (73.0047%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  34, local model FL, internal_epoch   1,  Average loss: 0.0092, Accuracy: 98148/127170 (77.1786%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 0.2536, Accuracy: 400417/444748 (90.0323%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.0501, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  34, local model CA, internal_epoch   1,  Average loss: 0.0064, Accuracy: 199455/247628 (80.5462%), train_poison_data_count247628
Global model norm: 4.932009384418603.
Norm before scaling: 5.546895975422489. Distance: 2.530651257191014
Total norm for 3 adversaries is: 5.546895975422489. distance: 2.530651257191014
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 3.1832, Accuracy: 358540/444748 (80.6164%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 2.1653, Accuracy: 154263/444748 (34.6855%)
time spent on training: 796.2135615348816
[foolsgold agg] training data poison_ratio: 0.5570689668315812  data num: [21174, 49376, 4220, 11827, 40748, 3927, 8777, 9869, 127170, 247628]
[foolsgold agg] considering poison per batch poison_fraction: 0.5570689668315812
[foolsgold agg] wv: [1.         0.         0.31231928 1.         0.         0.08166914
 1.         1.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 34: Average loss: 1.0256, Accuracy: 244464/444748 (54.9669%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 34: Average loss: 1.0467, Accuracy: 0/444748 (0.0000%)
Done in 1020.4281451702118 sec.
Server Epoch:35 choose agents : ['NM', 'SD', 'NH', 'ME', 'HI', 'FL', 'WV', 'MO', 'TN', 'OR'].
___Train Local_Simple,  epoch  35, local model NM, internal_epoch   1,  Average loss: 0.0143, Accuracy: 5051/9436 (53.5290%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 0.7292, Accuracy: 354820/444748 (79.7800%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  35, local model SD, internal_epoch   1,  Average loss: 0.0155, Accuracy: 1723/3593 (47.9544%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 0.8183, Accuracy: 277105/444748 (62.3061%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  35, local model NH, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4570/8777 (52.0679%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 0.7585, Accuracy: 346965/444748 (78.0138%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.0467, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  35, local model ME, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2175/3927 (55.3858%), train_poison_data_count3927
Global model norm: 4.932009384418603.
Norm before scaling: 4.946998634167003. Distance: 0.26066073742104445
Total norm for 3 adversaries is: 4.946998634167003. distance: 0.26066073742104445
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.0014, Accuracy: 181491/444748 (40.8076%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.2040, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  35, local model HI, internal_epoch   1,  Average loss: 0.0143, Accuracy: 4433/8393 (52.8178%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 0.7464, Accuracy: 264274/444748 (59.4211%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  35, local model FL, internal_epoch   1,  Average loss: 0.0093, Accuracy: 97391/127170 (76.5833%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 0.2499, Accuracy: 404798/444748 (91.0174%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  35, local model WV, internal_epoch   1,  Average loss: 0.0148, Accuracy: 3410/6619 (51.5184%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 0.8042, Accuracy: 303013/444748 (68.1314%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  35, local model MO, internal_epoch   1,  Average loss: 0.0124, Accuracy: 17828/28352 (62.8809%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 0.5355, Accuracy: 362428/444748 (81.4906%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  35, local model TN, internal_epoch   1,  Average loss: 0.0128, Accuracy: 17490/27944 (62.5895%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 0.5419, Accuracy: 363338/444748 (81.6953%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  35, local model OR, internal_epoch   1,  Average loss: 0.0131, Accuracy: 12649/21174 (59.7384%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 0.5981, Accuracy: 362420/444748 (81.4888%), Attack Success Rate:0/444748(0.000)
time spent on training: 352.1181733608246
[foolsgold agg] training data poison_ratio: 0.016003423192126658  data num: [9436, 3593, 8777, 3927, 8393, 127170, 6619, 28352, 27944, 21174]
[foolsgold agg] considering poison per batch poison_fraction: 0.016003423192126658
[foolsgold agg] wv: [0.         0.06700806 0.29588575 1.         0.         1.
 0.63607148 0.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 35: Average loss: 1.0231, Accuracy: 246903/444748 (55.5153%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 35: Average loss: 1.0417, Accuracy: 0/444748 (0.0000%)
Done in 576.6635882854462 sec.
Server Epoch:36 choose agents : ['AR', 'NM', 'HI', 'OK', 'UT', 'NC', 'ME', 'TX', 'MA', 'SD'].
___Train Local_Simple,  epoch  36, local model AR, internal_epoch   1,  Average loss: 0.0140, Accuracy: 7400/13420 (55.1416%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 0.6836, Accuracy: 353097/444748 (79.3926%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  36, local model NM, internal_epoch   1,  Average loss: 0.0144, Accuracy: 5103/9436 (54.0801%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 0.7268, Accuracy: 359623/444748 (80.8599%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  36, local model HI, internal_epoch   1,  Average loss: 0.0142, Accuracy: 4530/8393 (53.9735%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 0.7353, Accuracy: 270205/444748 (60.7546%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  36, local model OK, internal_epoch   1,  Average loss: 0.0136, Accuracy: 9283/16276 (57.0349%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 0.6540, Accuracy: 365128/444748 (82.0977%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  36, local model UT, internal_epoch   1,  Average loss: 0.0136, Accuracy: 6829/11827 (57.7408%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 0.7113, Accuracy: 247467/444748 (55.6421%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  36, local model NC, internal_epoch   1,  Average loss: 0.0110, Accuracy: 34232/49376 (69.3292%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 0.4620, Accuracy: 376836/444748 (84.7302%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.0417, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  36, local model ME, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2139/3927 (54.4691%), train_poison_data_count3927
Global model norm: 4.932002036571469.
Norm before scaling: 4.945887527661673. Distance: 0.2595578560233459
Total norm for 3 adversaries is: 4.945887527661673. distance: 0.2595578560233459
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.0165, Accuracy: 176031/444748 (39.5799%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.3042, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  36, local model TX, internal_epoch   1,  Average loss: 0.0080, Accuracy: 116862/146613 (79.7078%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 0.2214, Accuracy: 408899/444748 (91.9395%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.0417, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  36, local model MA, internal_epoch   1,  Average loss: 0.0103, Accuracy: 25937/40748 (63.6522%), train_poison_data_count40748
Global model norm: 4.932002036571469.
Norm before scaling: 5.052408025735898. Distance: 1.0071427241405488
Total norm for 3 adversaries is: 5.052408025735898. distance: 1.0071427241405488
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.4648, Accuracy: 333900/444748 (75.0762%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 0.2285, Accuracy: 444326/444748 (99.9051%)
___Train Local_Simple,  epoch  36, local model SD, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1744/3593 (48.5388%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 0.8153, Accuracy: 245319/444748 (55.1591%), Attack Success Rate:0/444748(0.000)
time spent on training: 563.8493092060089
[foolsgold agg] training data poison_ratio: 0.14714649433975935  data num: [13420, 9436, 8393, 16276, 11827, 49376, 3927, 146613, 40748, 3593]
[foolsgold agg] considering poison per batch poison_fraction: 0.14714649433975935
[foolsgold agg] wv: [0.07738148 1.         1.         0.07738148 1.         0.59092411
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 36: Average loss: 1.0179, Accuracy: 252136/444748 (56.6919%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 36: Average loss: 1.0330, Accuracy: 0/444748 (0.0000%)
Done in 788.01873254776 sec.
Server Epoch:37 choose agents : ['TX', 'CO', 'UT', 'ME', 'NM', 'AR', 'IN', 'DC', 'FL', 'MO'].
___Train Local_Simple,  epoch  37, local model TX, internal_epoch   1,  Average loss: 0.0082, Accuracy: 116511/146613 (79.4684%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 0.2102, Accuracy: 411907/444748 (92.6158%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  37, local model CO, internal_epoch   1,  Average loss: 0.0113, Accuracy: 25672/38041 (67.4851%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 0.4599, Accuracy: 374078/444748 (84.1101%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  37, local model UT, internal_epoch   1,  Average loss: 0.0136, Accuracy: 6862/11827 (58.0198%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 0.7189, Accuracy: 300415/444748 (67.5472%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.0330, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  37, local model ME, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2186/3927 (55.6659%), train_poison_data_count3927
Global model norm: 4.932197524249499.
Norm before scaling: 4.947899790952581. Distance: 0.25966651000796365
Total norm for 3 adversaries is: 4.947899790952581. distance: 0.25966651000796365
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 0.9984, Accuracy: 187955/444748 (42.2610%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.1637, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  37, local model NM, internal_epoch   1,  Average loss: 0.0142, Accuracy: 5145/9436 (54.5252%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 0.7156, Accuracy: 294017/444748 (66.1087%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  37, local model AR, internal_epoch   1,  Average loss: 0.0139, Accuracy: 7556/13420 (56.3040%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 0.6595, Accuracy: 362630/444748 (81.5361%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  37, local model IN, internal_epoch   1,  Average loss: 0.0122, Accuracy: 19180/29580 (64.8411%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 0.5233, Accuracy: 366805/444748 (82.4748%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  37, local model DC, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2145/4220 (50.8294%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 0.8133, Accuracy: 235541/444748 (52.9606%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  37, local model FL, internal_epoch   1,  Average loss: 0.0092, Accuracy: 97777/127170 (76.8868%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 0.2579, Accuracy: 402304/444748 (90.4566%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  37, local model MO, internal_epoch   1,  Average loss: 0.0123, Accuracy: 18016/28352 (63.5440%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 0.5202, Accuracy: 369956/444748 (83.1833%), Attack Success Rate:0/444748(0.000)
time spent on training: 360.7758848667145
[foolsgold agg] training data poison_ratio: 0.009518015637951845  data num: [146613, 38041, 11827, 3927, 9436, 13420, 29580, 4220, 127170, 28352]
[foolsgold agg] considering poison per batch poison_fraction: 0.009518015637951845
[foolsgold agg] wv: [1.         0.         0.         1.         0.         0.
 0.         0.         0.74222318 0.        ]
___Test Target_Simple poisoned: False, epoch: 37: Average loss: 1.0156, Accuracy: 254226/444748 (57.1618%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 37: Average loss: 1.0300, Accuracy: 0/444748 (0.0000%)
Done in 584.9288847446442 sec.
Server Epoch:38 choose agents : ['NH', 'AK', 'AL', 'ND', 'NM', 'OK', 'TN', 'RI', 'HI', 'WV'].
___Train Local_Simple,  epoch  38, local model NH, internal_epoch   1,  Average loss: 0.0142, Accuracy: 4679/8777 (53.3098%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 0.7605, Accuracy: 351180/444748 (78.9616%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  38, local model AK, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2074/4112 (50.4377%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 0.8058, Accuracy: 280457/444748 (63.0598%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  38, local model AL, internal_epoch   1,  Average loss: 0.0129, Accuracy: 12918/21424 (60.2969%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 0.5651, Accuracy: 367971/444748 (82.7370%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  38, local model ND, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1504/2822 (53.2955%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 0.8855, Accuracy: 200582/444748 (45.1001%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  38, local model NM, internal_epoch   1,  Average loss: 0.0145, Accuracy: 5083/9436 (53.8682%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 0.7258, Accuracy: 345785/444748 (77.7485%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  38, local model OK, internal_epoch   1,  Average loss: 0.0134, Accuracy: 9479/16276 (58.2391%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 0.6290, Accuracy: 364375/444748 (81.9284%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  38, local model TN, internal_epoch   1,  Average loss: 0.0123, Accuracy: 17889/27944 (64.0173%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 0.5174, Accuracy: 367528/444748 (82.6374%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  38, local model RI, internal_epoch   1,  Average loss: 0.0145, Accuracy: 4086/7885 (51.8199%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 0.7548, Accuracy: 352414/444748 (79.2390%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  38, local model HI, internal_epoch   1,  Average loss: 0.0141, Accuracy: 4525/8393 (53.9140%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 0.7339, Accuracy: 303690/444748 (68.2836%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  38, local model WV, internal_epoch   1,  Average loss: 0.0149, Accuracy: 3424/6619 (51.7299%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 0.7984, Accuracy: 349922/444748 (78.6787%), Attack Success Rate:0/444748(0.000)
time spent on training: 138.3116478919983
[foolsgold agg] training data poison_ratio: 0.0  data num: [8777, 4112, 21424, 2822, 9436, 16276, 27944, 7885, 8393, 6619]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.         0.         1.         0.54887283 0.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 38: Average loss: 1.0145, Accuracy: 255059/444748 (57.3491%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 38: Average loss: 1.0288, Accuracy: 0/444748 (0.0000%)
Done in 362.4442937374115 sec.
Server Epoch:39 choose agents : ['WV', 'MA', 'FL', 'RI', 'MO', 'ND', 'SD', 'IN', 'CO', 'AK'].
___Train Local_Simple,  epoch  39, local model WV, internal_epoch   1,  Average loss: 0.0149, Accuracy: 3358/6619 (50.7327%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 0.7995, Accuracy: 295300/444748 (66.3972%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.0288, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  39, local model MA, internal_epoch   1,  Average loss: 0.0102, Accuracy: 26153/40748 (64.1823%), train_poison_data_count40748
Global model norm: 4.9323203043389965.
Norm before scaling: 5.0522039759543. Distance: 0.9835831015133916
Total norm for 3 adversaries is: 5.0522039759543. distance: 0.9835831015133916
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.4567, Accuracy: 333352/444748 (74.9530%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.1938, Accuracy: 444378/444748 (99.9168%)
___Train Local_Simple,  epoch  39, local model FL, internal_epoch   1,  Average loss: 0.0087, Accuracy: 99342/127170 (78.1175%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 0.2380, Accuracy: 407818/444748 (91.6964%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  39, local model RI, internal_epoch   1,  Average loss: 0.0143, Accuracy: 4135/7885 (52.4413%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 0.7473, Accuracy: 346788/444748 (77.9740%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  39, local model MO, internal_epoch   1,  Average loss: 0.0124, Accuracy: 18068/28352 (63.7274%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 0.5423, Accuracy: 363903/444748 (81.8223%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  39, local model ND, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1547/2822 (54.8193%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 0.8795, Accuracy: 204042/444748 (45.8781%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  39, local model SD, internal_epoch   1,  Average loss: 0.0154, Accuracy: 1739/3593 (48.3997%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 0.8094, Accuracy: 245726/444748 (55.2506%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  39, local model IN, internal_epoch   1,  Average loss: 0.0122, Accuracy: 19015/29580 (64.2833%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 0.5109, Accuracy: 367085/444748 (82.5378%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  39, local model CO, internal_epoch   1,  Average loss: 0.0113, Accuracy: 25661/38041 (67.4562%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 0.4998, Accuracy: 372046/444748 (83.6532%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  39, local model AK, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2006/4112 (48.7840%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 0.8044, Accuracy: 241971/444748 (54.4063%), Attack Success Rate:0/444748(0.000)
time spent on training: 356.4408230781555
[foolsgold agg] training data poison_ratio: 0.14103460449533092  data num: [6619, 40748, 127170, 7885, 28352, 2822, 3593, 29580, 38041, 4112]
[foolsgold agg] considering poison per batch poison_fraction: 0.14103460449533092
[foolsgold agg] wv: [0.         0.28241606 0.81886243 0.         0.84009921 1.
 1.         0.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 39: Average loss: 1.0118, Accuracy: 257916/444748 (57.9915%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 39: Average loss: 1.0248, Accuracy: 0/444748 (0.0000%)
Done in 580.6777701377869 sec.
Server Epoch:40 choose agents : ['OR', 'ME', 'ND', 'MO', 'SD', 'NM', 'NH', 'OK', 'DC', 'AL'].
___Train Local_Simple,  epoch  40, local model OR, internal_epoch   1,  Average loss: 0.0129, Accuracy: 12824/21174 (60.5648%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 0.5942, Accuracy: 363342/444748 (81.6962%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.0248, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  40, local model ME, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2161/3927 (55.0293%), train_poison_data_count3927
Global model norm: 4.932419299602856.
Norm before scaling: 4.947763326845431. Distance: 0.2575349325030872
Total norm for 3 adversaries is: 4.947763326845431. distance: 0.2575349325030872
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 0.9978, Accuracy: 185186/444748 (41.6384%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.2017, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  40, local model ND, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1559/2822 (55.2445%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 0.8806, Accuracy: 210778/444748 (47.3927%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  40, local model MO, internal_epoch   1,  Average loss: 0.0124, Accuracy: 17990/28352 (63.4523%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 0.5159, Accuracy: 369324/444748 (83.0412%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  40, local model SD, internal_epoch   1,  Average loss: 0.0156, Accuracy: 1699/3593 (47.2864%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 0.8138, Accuracy: 264844/444748 (59.5492%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  40, local model NM, internal_epoch   1,  Average loss: 0.0142, Accuracy: 5131/9436 (54.3769%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 0.7115, Accuracy: 350843/444748 (78.8858%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  40, local model NH, internal_epoch   1,  Average loss: 0.0143, Accuracy: 4669/8777 (53.1959%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 0.7593, Accuracy: 354338/444748 (79.6716%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  40, local model OK, internal_epoch   1,  Average loss: 0.0135, Accuracy: 9434/16276 (57.9626%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 0.6436, Accuracy: 358640/444748 (80.6389%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  40, local model DC, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2194/4220 (51.9905%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 0.8116, Accuracy: 236035/444748 (53.0716%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  40, local model AL, internal_epoch   1,  Average loss: 0.0129, Accuracy: 13047/21424 (60.8990%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 0.5637, Accuracy: 366699/444748 (82.4510%), Attack Success Rate:0/444748(0.000)
time spent on training: 345.3406283855438
[foolsgold agg] training data poison_ratio: 0.032724727293939215  data num: [21174, 3927, 2822, 28352, 3593, 9436, 8777, 16276, 4220, 21424]
[foolsgold agg] considering poison per batch poison_fraction: 0.032724727293939215
[foolsgold agg] wv: [1.       0.085837 0.085837 0.       0.       1.       1.       0.
 0.       0.      ]
___Test Target_Simple poisoned: False, epoch: 40: Average loss: 1.0103, Accuracy: 259347/444748 (58.3132%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 40: Average loss: 1.0221, Accuracy: 0/444748 (0.0000%)
Done in 569.1971776485443 sec.
Server Epoch:41 choose agents : ['CO', 'MS', 'NH', 'TX', 'DC', 'OK', 'FL', 'ME', 'UT', 'MA'].
___Train Local_Simple,  epoch  41, local model CO, internal_epoch   1,  Average loss: 0.0112, Accuracy: 25723/38041 (67.6191%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 0.4617, Accuracy: 373915/444748 (84.0735%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  41, local model MS, internal_epoch   1,  Average loss: 0.0143, Accuracy: 5599/9869 (56.7332%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 0.7416, Accuracy: 319180/444748 (71.7665%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  41, local model NH, internal_epoch   1,  Average loss: 0.0143, Accuracy: 4633/8777 (52.7857%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 0.7461, Accuracy: 318382/444748 (71.5871%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  41, local model TX, internal_epoch   1,  Average loss: 0.0084, Accuracy: 116996/146613 (79.7992%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 0.2962, Accuracy: 408798/444748 (91.9168%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  41, local model DC, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2173/4220 (51.4929%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 0.8078, Accuracy: 237024/444748 (53.2940%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  41, local model OK, internal_epoch   1,  Average loss: 0.0135, Accuracy: 9406/16276 (57.7906%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 0.6332, Accuracy: 363724/444748 (81.7820%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  41, local model FL, internal_epoch   1,  Average loss: 0.0087, Accuracy: 98729/127170 (77.6354%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 0.2332, Accuracy: 407995/444748 (91.7362%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.0221, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  41, local model ME, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2218/3927 (56.4808%), train_poison_data_count3927
Global model norm: 4.932445208191524.
Norm before scaling: 4.947490580098272. Distance: 0.25858474439169793
Total norm for 3 adversaries is: 4.947490580098272. distance: 0.25858474439169793
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 0.9941, Accuracy: 199071/444748 (44.7604%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.1152, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  41, local model UT, internal_epoch   1,  Average loss: 0.0134, Accuracy: 6905/11827 (58.3834%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 0.7007, Accuracy: 277319/444748 (62.3542%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.0221, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  41, local model MA, internal_epoch   1,  Average loss: 0.0103, Accuracy: 26144/40748 (64.1602%), train_poison_data_count40748
Global model norm: 4.932445208191524.
Norm before scaling: 5.050768599232513. Distance: 0.9774821109549465
Total norm for 3 adversaries is: 5.050768599232513. distance: 0.9774821109549465
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.4696, Accuracy: 334265/444748 (75.1583%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.3532, Accuracy: 442989/444748 (99.6045%)
time spent on training: 570.2674674987793
[foolsgold agg] training data poison_ratio: 0.10964051164754042  data num: [38041, 9869, 8777, 146613, 4220, 16276, 127170, 3927, 11827, 40748]
[foolsgold agg] considering poison per batch poison_fraction: 0.10964051164754042
[foolsgold agg] wv: [0.26563719 0.3671365  1.         1.         0.55730971 0.
 1.         0.07341225 0.         0.07341225]
___Test Target_Simple poisoned: False, epoch: 41: Average loss: 1.0073, Accuracy: 262856/444748 (59.1022%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 41: Average loss: 1.0182, Accuracy: 0/444748 (0.0000%)
Done in 794.2431261539459 sec.
Server Epoch:42 choose agents : ['OR', 'NH', 'ME', 'SD', 'CA', 'TN', 'NC', 'ND', 'UT', 'IN'].
___Train Local_Simple,  epoch  42, local model OR, internal_epoch   1,  Average loss: 0.0127, Accuracy: 12927/21174 (61.0513%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 0.5768, Accuracy: 363407/444748 (81.7108%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  42, local model NH, internal_epoch   1,  Average loss: 0.0145, Accuracy: 4681/8777 (53.3326%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 0.8314, Accuracy: 283180/444748 (63.6720%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.0182, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  42, local model ME, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2164/3927 (55.1057%), train_poison_data_count3927
Global model norm: 4.932569915538926.
Norm before scaling: 4.947444510435452. Distance: 0.25487240591034005
Total norm for 3 adversaries is: 4.947444510435452. distance: 0.25487240591034005
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0017, Accuracy: 185183/444748 (41.6377%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.1504, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  42, local model SD, internal_epoch   1,  Average loss: 0.0155, Accuracy: 1749/3593 (48.6780%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 0.8158, Accuracy: 263748/444748 (59.3028%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.0182, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  42, local model CA, internal_epoch   1,  Average loss: 0.0065, Accuracy: 199908/247628 (80.7292%), train_poison_data_count247628
Global model norm: 4.932569915538926.
Norm before scaling: 5.548729814775004. Distance: 2.555458815673999
Total norm for 3 adversaries is: 5.548729814775004. distance: 2.555458815673999
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 3.2468, Accuracy: 356195/444748 (80.0892%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.5573, Accuracy: 178208/444748 (40.0694%)
___Train Local_Simple,  epoch  42, local model TN, internal_epoch   1,  Average loss: 0.0125, Accuracy: 17857/27944 (63.9028%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 0.5222, Accuracy: 366469/444748 (82.3992%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  42, local model NC, internal_epoch   1,  Average loss: 0.0112, Accuracy: 34334/49376 (69.5358%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 0.4415, Accuracy: 375090/444748 (84.3376%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  42, local model ND, internal_epoch   1,  Average loss: 0.0151, Accuracy: 1528/2822 (54.1460%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 0.8830, Accuracy: 203772/444748 (45.8174%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  42, local model UT, internal_epoch   1,  Average loss: 0.0133, Accuracy: 6959/11827 (58.8399%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 0.6933, Accuracy: 321622/444748 (72.3156%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  42, local model IN, internal_epoch   1,  Average loss: 0.0124, Accuracy: 19085/29580 (64.5199%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 0.5092, Accuracy: 365843/444748 (82.2585%), Attack Success Rate:0/444748(0.000)
time spent on training: 580.1116247177124
[foolsgold agg] training data poison_ratio: 0.6186062638940804  data num: [21174, 8777, 3927, 3593, 247628, 27944, 49376, 2822, 11827, 29580]
[foolsgold agg] considering poison per batch poison_fraction: 0.6186062638940804
[foolsgold agg] wv: [0. 1. 0. 0. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 42: Average loss: 1.0069, Accuracy: 263216/444748 (59.1832%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 42: Average loss: 1.0165, Accuracy: 0/444748 (0.0000%)
Done in 804.2521567344666 sec.
Server Epoch:43 choose agents : ['FL', 'HI', 'ND', 'TX', 'CA', 'NC', 'ME', 'UT', 'AK', 'NM'].
___Train Local_Simple,  epoch  43, local model FL, internal_epoch   1,  Average loss: 0.0088, Accuracy: 99219/127170 (78.0208%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 0.2551, Accuracy: 404984/444748 (91.0592%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  43, local model HI, internal_epoch   1,  Average loss: 0.0140, Accuracy: 4498/8393 (53.5923%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 0.7270, Accuracy: 246361/444748 (55.3934%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  43, local model ND, internal_epoch   1,  Average loss: 0.0149, Accuracy: 1541/2822 (54.6067%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 0.8747, Accuracy: 218884/444748 (49.2153%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  43, local model TX, internal_epoch   1,  Average loss: 0.0080, Accuracy: 117318/146613 (80.0188%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 0.2287, Accuracy: 412268/444748 (92.6970%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 1.0165, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  43, local model CA, internal_epoch   1,  Average loss: 0.0064, Accuracy: 199747/247628 (80.6641%), train_poison_data_count247628
Global model norm: 4.932556768246328.
Norm before scaling: 5.552156239138863. Distance: 2.5302025782484487
Total norm for 3 adversaries is: 5.552156239138863. distance: 2.5302025782484487
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 3.1107, Accuracy: 359066/444748 (80.7347%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 2.2162, Accuracy: 82856/444748 (18.6299%)
___Train Local_Simple,  epoch  43, local model NC, internal_epoch   1,  Average loss: 0.0111, Accuracy: 34350/49376 (69.5682%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 0.4391, Accuracy: 370746/444748 (83.3609%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 1.0165, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  43, local model ME, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2181/3927 (55.5386%), train_poison_data_count3927
Global model norm: 4.932556768246328.
Norm before scaling: 4.947488652505916. Distance: 0.2582602802678805
Total norm for 3 adversaries is: 4.947488652505916. distance: 0.2582602802678805
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 0.9950, Accuracy: 181148/444748 (40.7305%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 1.2189, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  43, local model UT, internal_epoch   1,  Average loss: 0.0135, Accuracy: 6882/11827 (58.1889%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 0.6986, Accuracy: 267373/444748 (60.1179%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  43, local model AK, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2105/4112 (51.1916%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 0.7938, Accuracy: 307247/444748 (69.0834%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  43, local model NM, internal_epoch   1,  Average loss: 0.0142, Accuracy: 5096/9436 (54.0059%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 0.7159, Accuracy: 307719/444748 (69.1895%), Attack Success Rate:0/444748(0.000)
time spent on training: 591.3756442070007
[foolsgold agg] training data poison_ratio: 0.41150556842422104  data num: [127170, 8393, 2822, 146613, 247628, 49376, 3927, 11827, 4112, 9436]
[foolsgold agg] considering poison per batch poison_fraction: 0.41150556842422104
[foolsgold agg] wv: [0.         0.         0.         0.         1.         0.34592245
 0.         1.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 43: Average loss: 1.0045, Accuracy: 265849/444748 (59.7752%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 43: Average loss: 1.0130, Accuracy: 0/444748 (0.0000%)
Done in 815.2913937568665 sec.
Server Epoch:44 choose agents : ['DC', 'MO', 'NC', 'MA', 'OR', 'UT', 'CO', 'WV', 'TN', 'IN'].
___Train Local_Simple,  epoch  44, local model DC, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2223/4220 (52.6777%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.8023, Accuracy: 236891/444748 (53.2641%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  44, local model MO, internal_epoch   1,  Average loss: 0.0122, Accuracy: 18319/28352 (64.6127%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.5302, Accuracy: 365298/444748 (82.1360%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  44, local model NC, internal_epoch   1,  Average loss: 0.0109, Accuracy: 34379/49376 (69.6269%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.4253, Accuracy: 375314/444748 (84.3880%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.0130, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  44, local model MA, internal_epoch   1,  Average loss: 0.0101, Accuracy: 26342/40748 (64.6461%), train_poison_data_count40748
Global model norm: 4.93268785292012.
Norm before scaling: 5.057004606806456. Distance: 0.9733114831466326
Total norm for 3 adversaries is: 5.057004606806456. distance: 0.9733114831466326
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.4772, Accuracy: 332751/444748 (74.8179%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.1718, Accuracy: 444400/444748 (99.9218%)
___Train Local_Simple,  epoch  44, local model OR, internal_epoch   1,  Average loss: 0.0127, Accuracy: 12901/21174 (60.9285%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.6141, Accuracy: 361343/444748 (81.2467%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  44, local model UT, internal_epoch   1,  Average loss: 0.0132, Accuracy: 6874/11827 (58.1212%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.6944, Accuracy: 328067/444748 (73.7647%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  44, local model CO, internal_epoch   1,  Average loss: 0.0112, Accuracy: 25500/38041 (67.0329%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.4826, Accuracy: 374171/444748 (84.1310%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  44, local model WV, internal_epoch   1,  Average loss: 0.0146, Accuracy: 3424/6619 (51.7299%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.7918, Accuracy: 344834/444748 (77.5347%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  44, local model TN, internal_epoch   1,  Average loss: 0.0128, Accuracy: 17762/27944 (63.5628%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.5268, Accuracy: 365282/444748 (82.1324%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  44, local model IN, internal_epoch   1,  Average loss: 0.0123, Accuracy: 18907/29580 (63.9182%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.5308, Accuracy: 368958/444748 (82.9589%), Attack Success Rate:0/444748(0.000)
time spent on training: 354.4906232357025
[foolsgold agg] training data poison_ratio: 0.15801086547671211  data num: [4220, 28352, 49376, 40748, 21174, 11827, 38041, 6619, 27944, 29580]
[foolsgold agg] considering poison per batch poison_fraction: 0.15801086547671211
[foolsgold agg] wv: [1.         0.         0.         0.3317779  0.02905818 0.02905818
 0.         0.3317779  1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 44: Average loss: 1.0024, Accuracy: 268363/444748 (60.3405%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 44: Average loss: 1.0082, Accuracy: 0/444748 (0.0000%)
Done in 578.3671090602875 sec.
Server Epoch:45 choose agents : ['OR', 'NH', 'DC', 'ME', 'RI', 'WV', 'TN', 'CO', 'FL', 'MS'].
___Train Local_Simple,  epoch  45, local model OR, internal_epoch   1,  Average loss: 0.0129, Accuracy: 12867/21174 (60.7679%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.5889, Accuracy: 362276/444748 (81.4565%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  45, local model NH, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4653/8777 (53.0136%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.8521, Accuracy: 330600/444748 (74.3342%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  45, local model DC, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2175/4220 (51.5403%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.8012, Accuracy: 238071/444748 (53.5294%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 1.0082, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  45, local model ME, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2181/3927 (55.5386%), train_poison_data_count3927
Global model norm: 4.932796700820537.
Norm before scaling: 4.946385753774819. Distance: 0.25497667184878736
Total norm for 3 adversaries is: 4.946385753774819. distance: 0.25497667184878736
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0041, Accuracy: 178216/444748 (40.0712%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 1.3155, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  45, local model RI, internal_epoch   1,  Average loss: 0.0142, Accuracy: 4263/7885 (54.0647%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.7331, Accuracy: 340720/444748 (76.6097%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  45, local model WV, internal_epoch   1,  Average loss: 0.0147, Accuracy: 3507/6619 (52.9838%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.7790, Accuracy: 309384/444748 (69.5639%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  45, local model TN, internal_epoch   1,  Average loss: 0.0126, Accuracy: 17904/27944 (64.0710%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.5384, Accuracy: 364916/444748 (82.0501%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  45, local model CO, internal_epoch   1,  Average loss: 0.0111, Accuracy: 25999/38041 (68.3447%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.5359, Accuracy: 376375/444748 (84.6266%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  45, local model FL, internal_epoch   1,  Average loss: 0.0085, Accuracy: 99616/127170 (78.3329%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.2356, Accuracy: 408486/444748 (91.8466%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  45, local model MS, internal_epoch   1,  Average loss: 0.0141, Accuracy: 5686/9869 (57.6148%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.7119, Accuracy: 337347/444748 (75.8513%), Attack Success Rate:0/444748(0.000)
time spent on training: 352.9479820728302
[foolsgold agg] training data poison_ratio: 0.015362287091297442  data num: [21174, 8777, 4220, 3927, 7885, 6619, 27944, 38041, 127170, 9869]
[foolsgold agg] considering poison per batch poison_fraction: 0.015362287091297442
[foolsgold agg] wv: [1. 1. 0. 1. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 45: Average loss: 1.0010, Accuracy: 268976/444748 (60.4783%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 45: Average loss: 1.0063, Accuracy: 0/444748 (0.0000%)
Done in 576.8270401954651 sec.
Server Epoch:46 choose agents : ['AL', 'ME', 'SC', 'NM', 'GA', 'ND', 'OR', 'AK', 'TX', 'NC'].
___Train Local_Simple,  epoch  46, local model AL, internal_epoch   1,  Average loss: 0.0130, Accuracy: 13108/21424 (61.1837%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.5593, Accuracy: 367298/444748 (82.5856%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 1.0063, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  46, local model ME, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2224/3927 (56.6336%), train_poison_data_count3927
Global model norm: 4.932800954153319.
Norm before scaling: 4.948064969165918. Distance: 0.25533793363574964
Total norm for 3 adversaries is: 4.948064969165918. distance: 0.25533793363574964
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.9964, Accuracy: 191361/444748 (43.0268%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 1.2160, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  46, local model SC, internal_epoch   1,  Average loss: 0.0128, Accuracy: 13669/22070 (61.9348%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.5680, Accuracy: 363659/444748 (81.7674%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  46, local model NM, internal_epoch   1,  Average loss: 0.0142, Accuracy: 5082/9436 (53.8576%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.7206, Accuracy: 351668/444748 (79.0713%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  46, local model GA, internal_epoch   1,  Average loss: 0.0106, Accuracy: 41385/58387 (70.8805%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.3946, Accuracy: 381337/444748 (85.7423%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  46, local model ND, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1592/2822 (56.4139%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.8563, Accuracy: 238190/444748 (53.5562%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  46, local model OR, internal_epoch   1,  Average loss: 0.0130, Accuracy: 12822/21174 (60.5554%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.5781, Accuracy: 361695/444748 (81.3258%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  46, local model AK, internal_epoch   1,  Average loss: 0.0148, Accuracy: 2047/4112 (49.7811%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.7934, Accuracy: 310495/444748 (69.8137%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  46, local model TX, internal_epoch   1,  Average loss: 0.0077, Accuracy: 118431/146613 (80.7780%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.2058, Accuracy: 413272/444748 (92.9227%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  46, local model NC, internal_epoch   1,  Average loss: 0.0116, Accuracy: 34168/49376 (69.1996%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.4629, Accuracy: 375079/444748 (84.3352%), Attack Success Rate:0/444748(0.000)
time spent on training: 356.9019773006439
[foolsgold agg] training data poison_ratio: 0.011572430092443884  data num: [21424, 3927, 22070, 9436, 58387, 2822, 21174, 4112, 146613, 49376]
[foolsgold agg] considering poison per batch poison_fraction: 0.011572430092443884
[foolsgold agg] wv: [0.44758216 0.39139944 0.77867507 0.90065124 0.10467714 0.39139944
 1.         0.90065124 0.10467714 1.        ]
___Test Target_Simple poisoned: False, epoch: 46: Average loss: 0.9978, Accuracy: 272432/444748 (61.2554%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 46: Average loss: 1.0025, Accuracy: 0/444748 (0.0000%)
Done in 581.5814533233643 sec.
Server Epoch:47 choose agents : ['CA', 'SC', 'MA', 'ND', 'FL', 'NM', 'GA', 'MO', 'AK', 'ME'].
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 1.0025, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  47, local model CA, internal_epoch   1,  Average loss: 0.0064, Accuracy: 199191/247628 (80.4396%), train_poison_data_count247628
Global model norm: 4.932901679735123.
Norm before scaling: 5.53768753181987. Distance: 2.5392611851349614
Total norm for 3 adversaries is: 5.53768753181987. distance: 2.5392611851349614
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 3.0330, Accuracy: 358351/444748 (80.5739%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 1.4949, Accuracy: 187125/444748 (42.0744%)
___Train Local_Simple,  epoch  47, local model SC, internal_epoch   1,  Average loss: 0.0129, Accuracy: 13648/22070 (61.8396%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.6228, Accuracy: 360131/444748 (80.9742%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 1.0025, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  47, local model MA, internal_epoch   1,  Average loss: 0.0102, Accuracy: 26345/40748 (64.6535%), train_poison_data_count40748
Global model norm: 4.932901679735123.
Norm before scaling: 5.058387310278458. Distance: 0.9720754153052756
Total norm for 3 adversaries is: 5.058387310278458. distance: 0.9720754153052756
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.4316, Accuracy: 332992/444748 (74.8721%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.3262, Accuracy: 443851/444748 (99.7983%)
___Train Local_Simple,  epoch  47, local model ND, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1555/2822 (55.1028%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.8846, Accuracy: 204934/444748 (46.0787%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  47, local model FL, internal_epoch   1,  Average loss: 0.0085, Accuracy: 99967/127170 (78.6089%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.2240, Accuracy: 411690/444748 (92.5670%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  47, local model NM, internal_epoch   1,  Average loss: 0.0141, Accuracy: 5164/9436 (54.7266%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.7144, Accuracy: 359252/444748 (80.7765%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  47, local model GA, internal_epoch   1,  Average loss: 0.0106, Accuracy: 41609/58387 (71.2642%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.3882, Accuracy: 380436/444748 (85.5397%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  47, local model MO, internal_epoch   1,  Average loss: 0.0123, Accuracy: 18165/28352 (64.0696%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.5107, Accuracy: 369593/444748 (83.1017%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  47, local model AK, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2059/4112 (50.0730%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.8064, Accuracy: 239669/444748 (53.8887%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 1.0025, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  47, local model ME, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2211/3927 (56.3025%), train_poison_data_count3927
Global model norm: 4.932901679735123.
Norm before scaling: 4.948111418521962. Distance: 0.2551544174670483
Total norm for 3 adversaries is: 4.948111418521962. distance: 0.2551544174670483
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.0013, Accuracy: 183447/444748 (41.2474%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 1.2279, Accuracy: 0/444748 (0.0000%)
time spent on training: 799.246015548706
[foolsgold agg] training data poison_ratio: 0.5366784662500091  data num: [247628, 22070, 40748, 2822, 127170, 9436, 58387, 28352, 4112, 3927]
[foolsgold agg] considering poison per batch poison_fraction: 0.5366784662500091
[foolsgold agg] wv: [0.         0.73032042 0.         0.3789367  0.         0.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 47: Average loss: 0.9970, Accuracy: 273202/444748 (61.4285%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 47: Average loss: 1.0011, Accuracy: 0/444748 (0.0000%)
Done in 1023.1864380836487 sec.
Server Epoch:48 choose agents : ['OK', 'SC', 'DC', 'RI', 'HI', 'ND', 'MO', 'CA', 'ME', 'TX'].
___Train Local_Simple,  epoch  48, local model OK, internal_epoch   1,  Average loss: 0.0133, Accuracy: 9487/16276 (58.2883%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.6214, Accuracy: 365091/444748 (82.0894%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  48, local model SC, internal_epoch   1,  Average loss: 0.0126, Accuracy: 13821/22070 (62.6235%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.5708, Accuracy: 364821/444748 (82.0287%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  48, local model DC, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2218/4220 (52.5592%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.8033, Accuracy: 236972/444748 (53.2823%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  48, local model RI, internal_epoch   1,  Average loss: 0.0143, Accuracy: 4199/7885 (53.2530%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.7500, Accuracy: 353655/444748 (79.5181%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  48, local model HI, internal_epoch   1,  Average loss: 0.0142, Accuracy: 4592/8393 (54.7123%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.7313, Accuracy: 276219/444748 (62.1069%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  48, local model ND, internal_epoch   1,  Average loss: 0.0149, Accuracy: 1556/2822 (55.1382%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.8642, Accuracy: 223147/444748 (50.1738%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  48, local model MO, internal_epoch   1,  Average loss: 0.0122, Accuracy: 18335/28352 (64.6692%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.5242, Accuracy: 366849/444748 (82.4847%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 1.0011, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  48, local model CA, internal_epoch   1,  Average loss: 0.0063, Accuracy: 201547/247628 (81.3910%), train_poison_data_count247628
Global model norm: 4.932911732847295.
Norm before scaling: 5.573486451109676. Distance: 2.5739911779090963
Total norm for 3 adversaries is: 5.573486451109676. distance: 2.5739911779090963
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 3.3216, Accuracy: 357916/444748 (80.4761%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 1.1709, Accuracy: 208502/444748 (46.8809%)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 1.0011, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  48, local model ME, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2244/3927 (57.1429%), train_poison_data_count3927
Global model norm: 4.932911732847295.
Norm before scaling: 4.94912394468195. Distance: 0.25423432209266844
Total norm for 3 adversaries is: 4.94912394468195. distance: 0.25423432209266844
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9941, Accuracy: 186947/444748 (42.0344%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 1.2081, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  48, local model TX, internal_epoch   1,  Average loss: 0.0078, Accuracy: 117318/146613 (80.0188%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.2317, Accuracy: 408818/444748 (91.9213%), Attack Success Rate:0/444748(0.000)
time spent on training: 585.6984257698059
[foolsgold agg] training data poison_ratio: 0.515285157706284  data num: [16276, 22070, 4220, 7885, 8393, 2822, 28352, 247628, 3927, 146613]
[foolsgold agg] considering poison per batch poison_fraction: 0.515285157706284
[foolsgold agg] wv: [0.         1.         0.0384107  0.         0.         0.84872082
 0.         1.         0.84872082 1.        ]
___Test Target_Simple poisoned: False, epoch: 48: Average loss: 0.9929, Accuracy: 276479/444748 (62.1653%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 48: Average loss: 0.9946, Accuracy: 2/444748 (0.0004%)
Done in 809.6521515846252 sec.
Server Epoch:49 choose agents : ['FL', 'AR', 'DC', 'TX', 'HI', 'CO', 'UT', 'NH', 'OR', 'SD'].
___Train Local_Simple,  epoch  49, local model FL, internal_epoch   1,  Average loss: 0.0086, Accuracy: 99207/127170 (78.0113%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.2261, Accuracy: 407345/444748 (91.5901%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  49, local model AR, internal_epoch   1,  Average loss: 0.0138, Accuracy: 7759/13420 (57.8167%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.6552, Accuracy: 362061/444748 (81.4081%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  49, local model DC, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2198/4220 (52.0853%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.8013, Accuracy: 236274/444748 (53.1254%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  49, local model TX, internal_epoch   1,  Average loss: 0.0079, Accuracy: 117499/146613 (80.1423%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.2122, Accuracy: 412088/444748 (92.6565%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  49, local model HI, internal_epoch   1,  Average loss: 0.0139, Accuracy: 4598/8393 (54.7837%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.7271, Accuracy: 259761/444748 (58.4063%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  49, local model CO, internal_epoch   1,  Average loss: 0.0111, Accuracy: 25936/38041 (68.1791%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.4559, Accuracy: 373282/444748 (83.9311%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  49, local model UT, internal_epoch   1,  Average loss: 0.0133, Accuracy: 6985/11827 (59.0598%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.7041, Accuracy: 298884/444748 (67.2030%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  49, local model NH, internal_epoch   1,  Average loss: 0.0140, Accuracy: 4835/8777 (55.0872%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.7207, Accuracy: 351086/444748 (78.9404%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  49, local model OR, internal_epoch   1,  Average loss: 0.0129, Accuracy: 12990/21174 (61.3488%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.5912, Accuracy: 362893/444748 (81.5952%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  49, local model SD, internal_epoch   1,  Average loss: 0.0152, Accuracy: 1777/3593 (49.4573%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.8082, Accuracy: 327290/444748 (73.5900%), Attack Success Rate:0/444748(0.000)
time spent on training: 152.04713559150696
[foolsgold agg] training data poison_ratio: 0.0  data num: [127170, 13420, 4220, 146613, 8393, 38041, 11827, 8777, 21174, 3593]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.         0.         0.82580937 0.         0.
 1.         1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 49: Average loss: 0.9896, Accuracy: 280081/444748 (62.9752%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 49: Average loss: 0.9891, Accuracy: 3/444748 (0.0007%)
Done in 376.0978879928589 sec.
Server Epoch:50 choose agents : ['MA', 'AR', 'DC', 'NH', 'CA', 'SD', 'AK', 'CO', 'WV', 'IN'].
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.9891, Accuracy: 3/444748 (0.0007%)
0.0006745392896651588
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  50, local model MA, internal_epoch   1,  Average loss: 0.0100, Accuracy: 26510/40748 (65.0584%), train_poison_data_count40748
Global model norm: 4.93336042877867.
Norm before scaling: 5.062686116129383. Distance: 0.9731916309984621
Total norm for 3 adversaries is: 5.062686116129383. distance: 0.9731916309984621
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.4215, Accuracy: 333948/444748 (75.0870%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.2181, Accuracy: 444257/444748 (99.8896%)
___Train Local_Simple,  epoch  50, local model AR, internal_epoch   1,  Average loss: 0.0138, Accuracy: 7760/13420 (57.8241%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.6580, Accuracy: 349445/444748 (78.5715%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  50, local model DC, internal_epoch   1,  Average loss: 0.0142, Accuracy: 2235/4220 (52.9621%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.7945, Accuracy: 237411/444748 (53.3810%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  50, local model NH, internal_epoch   1,  Average loss: 0.0142, Accuracy: 4754/8777 (54.1643%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.7326, Accuracy: 350046/444748 (78.7066%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.9891, Accuracy: 3/444748 (0.0007%)
0.0006745392896651588
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  50, local model CA, internal_epoch   1,  Average loss: 0.0062, Accuracy: 201261/247628 (81.2755%), train_poison_data_count247628
Global model norm: 4.93336042877867.
Norm before scaling: 5.5630506607264145. Distance: 2.5478400525863534
Total norm for 3 adversaries is: 5.5630506607264145. distance: 2.5478400525863534
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 3.0929, Accuracy: 363834/444748 (81.8068%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 2.5316, Accuracy: 130287/444748 (29.2946%)
___Train Local_Simple,  epoch  50, local model SD, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1803/3593 (50.1809%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.7888, Accuracy: 244297/444748 (54.9293%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  50, local model AK, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2086/4112 (50.7296%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.7865, Accuracy: 275546/444748 (61.9555%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  50, local model CO, internal_epoch   1,  Average loss: 0.0111, Accuracy: 25913/38041 (68.1186%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.4526, Accuracy: 373947/444748 (84.0806%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  50, local model WV, internal_epoch   1,  Average loss: 0.0147, Accuracy: 3497/6619 (52.8328%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.7736, Accuracy: 350665/444748 (78.8458%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  50, local model IN, internal_epoch   1,  Average loss: 0.0122, Accuracy: 19219/29580 (64.9730%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.5170, Accuracy: 371321/444748 (83.4902%), Attack Success Rate:0/444748(0.000)
time spent on training: 581.6582288742065
[foolsgold agg] training data poison_ratio: 0.7268676053213959  data num: [40748, 13420, 4220, 8777, 247628, 3593, 4112, 38041, 6619, 29580]
[foolsgold agg] considering poison per batch poison_fraction: 0.7268676053213959
[foolsgold agg] wv: [0.       0.       0.       1.       0.467849 0.       0.       0.
 0.       1.      ]
___Test Target_Simple poisoned: False, epoch: 50: Average loss: 0.9877, Accuracy: 282052/444748 (63.4184%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 50: Average loss: 0.9844, Accuracy: 4/444748 (0.0009%)
Done in 805.4311842918396 sec.
Server Epoch:51 choose agents : ['ME', 'ND', 'TX', 'NH', 'AL', 'WV', 'TN', 'AR', 'NC', 'CO'].
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 0.9844, Accuracy: 4/444748 (0.0009%)
0.0008993857195535449
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  51, local model ME, internal_epoch   1,  Average loss: 0.0136, Accuracy: 2230/3927 (56.7864%), train_poison_data_count3927
Global model norm: 4.933455343713772.
Norm before scaling: 4.949875978399669. Distance: 0.2512567492427825
Total norm for 3 adversaries is: 4.949875978399669. distance: 0.2512567492427825
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.9809, Accuracy: 195505/444748 (43.9586%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 1.1370, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  51, local model ND, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1565/2822 (55.4571%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.8480, Accuracy: 252501/444748 (56.7739%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  51, local model TX, internal_epoch   1,  Average loss: 0.0078, Accuracy: 118090/146613 (80.5454%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.2153, Accuracy: 412721/444748 (92.7988%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  51, local model NH, internal_epoch   1,  Average loss: 0.0149, Accuracy: 4845/8777 (55.2011%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.7516, Accuracy: 347456/444748 (78.1242%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  51, local model AL, internal_epoch   1,  Average loss: 0.0128, Accuracy: 13223/21424 (61.7205%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.5532, Accuracy: 368920/444748 (82.9503%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  51, local model WV, internal_epoch   1,  Average loss: 0.0147, Accuracy: 3478/6619 (52.5457%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.7858, Accuracy: 339191/444748 (76.2659%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  51, local model TN, internal_epoch   1,  Average loss: 0.0128, Accuracy: 17866/27944 (63.9350%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.6531, Accuracy: 365640/444748 (82.2128%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  51, local model AR, internal_epoch   1,  Average loss: 0.0137, Accuracy: 7814/13420 (58.2265%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.6501, Accuracy: 352200/444748 (79.1909%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  51, local model NC, internal_epoch   1,  Average loss: 0.0108, Accuracy: 34753/49376 (70.3844%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.4355, Accuracy: 377116/444748 (84.7932%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  51, local model CO, internal_epoch   1,  Average loss: 0.0112, Accuracy: 25871/38041 (68.0082%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.4560, Accuracy: 374361/444748 (84.1737%), Attack Success Rate:0/444748(0.000)
time spent on training: 355.6862106323242
[foolsgold agg] training data poison_ratio: 0.012311772838855917  data num: [3927, 2822, 146613, 8777, 21424, 6619, 27944, 13420, 49376, 38041]
[foolsgold agg] considering poison per batch poison_fraction: 0.012311772838855917
[foolsgold agg] wv: [0.         0.         0.         1.         0.         0.59032537
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 51: Average loss: 0.9866, Accuracy: 283100/444748 (63.6540%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 51: Average loss: 0.9822, Accuracy: 4/444748 (0.0009%)
Done in 579.2382988929749 sec.
Server Epoch:52 choose agents : ['HI', 'AK', 'MS', 'NC', 'SC', 'RI', 'MA', 'TN', 'NH', 'CO'].
___Train Local_Simple,  epoch  52, local model HI, internal_epoch   1,  Average loss: 0.0141, Accuracy: 4672/8393 (55.6654%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.7178, Accuracy: 300890/444748 (67.6540%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  52, local model AK, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2129/4112 (51.7753%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.7826, Accuracy: 255074/444748 (57.3525%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  52, local model MS, internal_epoch   1,  Average loss: 0.0141, Accuracy: 5677/9869 (57.5236%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.7206, Accuracy: 326269/444748 (73.3604%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  52, local model NC, internal_epoch   1,  Average loss: 0.0110, Accuracy: 34773/49376 (70.4249%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.4261, Accuracy: 376432/444748 (84.6394%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  52, local model SC, internal_epoch   1,  Average loss: 0.0125, Accuracy: 13800/22070 (62.5283%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.5489, Accuracy: 362599/444748 (81.5291%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  52, local model RI, internal_epoch   1,  Average loss: 0.0141, Accuracy: 4326/7885 (54.8637%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.7259, Accuracy: 322157/444748 (72.4359%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.9822, Accuracy: 4/444748 (0.0009%)
0.0008993857195535449
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  52, local model MA, internal_epoch   1,  Average loss: 0.0099, Accuracy: 26775/40748 (65.7087%), train_poison_data_count40748
Global model norm: 4.933447224788707.
Norm before scaling: 5.065480426323143. Distance: 0.9839696503703946
Total norm for 3 adversaries is: 5.065480426323143. distance: 0.9839696503703946
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 1.4198, Accuracy: 336515/444748 (75.6642%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.1761, Accuracy: 444504/444748 (99.9451%)
___Train Local_Simple,  epoch  52, local model TN, internal_epoch   1,  Average loss: 0.0120, Accuracy: 18356/27944 (65.6885%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.5109, Accuracy: 358813/444748 (80.6778%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  52, local model NH, internal_epoch   1,  Average loss: 0.0141, Accuracy: 4781/8777 (54.4719%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.7267, Accuracy: 354208/444748 (79.6424%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  52, local model CO, internal_epoch   1,  Average loss: 0.0111, Accuracy: 26158/38041 (68.7627%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.4810, Accuracy: 374626/444748 (84.2333%), Attack Success Rate:0/444748(0.000)
time spent on training: 352.43275785446167
[foolsgold agg] training data poison_ratio: 0.1875929378726147  data num: [8393, 4112, 9869, 49376, 22070, 7885, 40748, 27944, 8777, 38041]
[foolsgold agg] considering poison per batch poison_fraction: 0.1875929378726147
[foolsgold agg] wv: [1. 1. 1. 1. 0. 1. 1. 0. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 52: Average loss: 0.9827, Accuracy: 286159/444748 (64.3418%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 52: Average loss: 0.9748, Accuracy: 4/444748 (0.0009%)
Done in 576.314612865448 sec.
Server Epoch:53 choose agents : ['IN', 'NC', 'ME', 'TX', 'MO', 'OR', 'UT', 'AL', 'WV', 'RI'].
___Train Local_Simple,  epoch  53, local model IN, internal_epoch   1,  Average loss: 0.0120, Accuracy: 19474/29580 (65.8350%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.5279, Accuracy: 365383/444748 (82.1551%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  53, local model NC, internal_epoch   1,  Average loss: 0.0107, Accuracy: 34846/49376 (70.5727%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.4284, Accuracy: 375146/444748 (84.3502%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 0.9748, Accuracy: 4/444748 (0.0009%)
0.0008993857195535449
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  53, local model ME, internal_epoch   1,  Average loss: 0.0136, Accuracy: 2239/3927 (57.0155%), train_poison_data_count3927
Global model norm: 4.93363279688131.
Norm before scaling: 4.950219297849516. Distance: 0.2485352611728889
Total norm for 3 adversaries is: 4.950219297849516. distance: 0.2485352611728889
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.9640, Accuracy: 218588/444748 (49.1487%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 1.1214, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  53, local model TX, internal_epoch   1,  Average loss: 0.0087, Accuracy: 117280/146613 (79.9929%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.2741, Accuracy: 409386/444748 (92.0490%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  53, local model MO, internal_epoch   1,  Average loss: 0.0122, Accuracy: 18442/28352 (65.0466%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.5387, Accuracy: 368188/444748 (82.7858%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  53, local model OR, internal_epoch   1,  Average loss: 0.0127, Accuracy: 13175/21174 (62.2225%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.5844, Accuracy: 361878/444748 (81.3670%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  53, local model UT, internal_epoch   1,  Average loss: 0.0131, Accuracy: 7003/11827 (59.2120%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.6728, Accuracy: 324222/444748 (72.9002%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  53, local model AL, internal_epoch   1,  Average loss: 0.0127, Accuracy: 13327/21424 (62.2059%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.5627, Accuracy: 367837/444748 (82.7068%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  53, local model WV, internal_epoch   1,  Average loss: 0.0147, Accuracy: 3449/6619 (52.1076%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.7799, Accuracy: 349859/444748 (78.6645%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  53, local model RI, internal_epoch   1,  Average loss: 0.0139, Accuracy: 4394/7885 (55.7261%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.7238, Accuracy: 354046/444748 (79.6060%), Attack Success Rate:0/444748(0.000)
time spent on training: 355.4915568828583
[foolsgold agg] training data poison_ratio: 0.012017369643518362  data num: [29580, 49376, 3927, 146613, 28352, 21174, 11827, 21424, 6619, 7885]
[foolsgold agg] considering poison per batch poison_fraction: 0.012017369643518362
[foolsgold agg] wv: [0.         0.         1.         0.35137905 0.         0.41536934
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 53: Average loss: 0.9816, Accuracy: 286514/444748 (64.4217%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 53: Average loss: 0.9736, Accuracy: 6/444748 (0.0013%)
Done in 578.9278788566589 sec.
Server Epoch:54 choose agents : ['GA', 'ND', 'ME', 'TN', 'SD', 'CO', 'RI', 'UT', 'MO', 'MA'].
___Train Local_Simple,  epoch  54, local model GA, internal_epoch   1,  Average loss: 0.0106, Accuracy: 41976/58387 (71.8927%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.4895, Accuracy: 382381/444748 (85.9770%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  54, local model ND, internal_epoch   1,  Average loss: 0.0144, Accuracy: 1570/2822 (55.6343%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.8700, Accuracy: 221203/444748 (49.7367%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 0.9736, Accuracy: 6/444748 (0.0013%)
0.0013490785793303175
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  54, local model ME, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2237/3927 (56.9646%), train_poison_data_count3927
Global model norm: 4.9336548331036525.
Norm before scaling: 4.949098701496396. Distance: 0.2520743972728742
Total norm for 3 adversaries is: 4.949098701496396. distance: 0.2520743972728742
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.9805, Accuracy: 200299/444748 (45.0365%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 1.1761, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  54, local model TN, internal_epoch   1,  Average loss: 0.0121, Accuracy: 18360/27944 (65.7028%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.5241, Accuracy: 365931/444748 (82.2783%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  54, local model SD, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1899/3593 (52.8528%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.7884, Accuracy: 308804/444748 (69.4335%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  54, local model CO, internal_epoch   1,  Average loss: 0.0110, Accuracy: 26205/38041 (68.8862%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.4444, Accuracy: 375212/444748 (84.3651%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  54, local model RI, internal_epoch   1,  Average loss: 0.0141, Accuracy: 4327/7885 (54.8763%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.7233, Accuracy: 341148/444748 (76.7059%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  54, local model UT, internal_epoch   1,  Average loss: 0.0131, Accuracy: 6988/11827 (59.0851%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.6873, Accuracy: 304778/444748 (68.5282%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  54, local model MO, internal_epoch   1,  Average loss: 0.0121, Accuracy: 18481/28352 (65.1841%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.5330, Accuracy: 369607/444748 (83.1048%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 0.9736, Accuracy: 6/444748 (0.0013%)
0.0013490785793303175
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  54, local model MA, internal_epoch   1,  Average loss: 0.0101, Accuracy: 26526/40748 (65.0977%), train_poison_data_count40748
Global model norm: 4.9336548331036525.
Norm before scaling: 5.063515832025882. Distance: 1.0008556758177116
Total norm for 3 adversaries is: 5.063515832025882. distance: 1.0008556758177116
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 1.4254, Accuracy: 330378/444748 (74.2843%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 0.3281, Accuracy: 444016/444748 (99.8354%)
time spent on training: 558.4531841278076
[foolsgold agg] training data poison_ratio: 0.19986489267467766  data num: [58387, 2822, 3927, 27944, 3593, 38041, 7885, 11827, 28352, 40748]
[foolsgold agg] considering poison per batch poison_fraction: 0.19986489267467766
[foolsgold agg] wv: [0.         0.         0.         0.         0.21986787 0.
 0.         1.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 54: Average loss: 0.9811, Accuracy: 287037/444748 (64.5392%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 54: Average loss: 0.9729, Accuracy: 6/444748 (0.0013%)
Done in 782.1362934112549 sec.
Server Epoch:55 choose agents : ['AL', 'CO', 'ME', 'UT', 'AK', 'AR', 'ND', 'DC', 'NH', 'RI'].
___Train Local_Simple,  epoch  55, local model AL, internal_epoch   1,  Average loss: 0.0127, Accuracy: 13186/21424 (61.5478%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.5531, Accuracy: 368196/444748 (82.7876%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  55, local model CO, internal_epoch   1,  Average loss: 0.0110, Accuracy: 26146/38041 (68.7311%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.4969, Accuracy: 374622/444748 (84.2324%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 0.9729, Accuracy: 6/444748 (0.0013%)
0.0013490785793303175
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  55, local model ME, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2231/3927 (56.8118%), train_poison_data_count3927
Global model norm: 4.93367744912424.
Norm before scaling: 4.949029522946306. Distance: 0.2507100452812452
Total norm for 3 adversaries is: 4.949029522946306. distance: 0.2507100452812452
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.9803, Accuracy: 199748/444748 (44.9126%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 1.1674, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  55, local model UT, internal_epoch   1,  Average loss: 0.0131, Accuracy: 7069/11827 (59.7700%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.7070, Accuracy: 299079/444748 (67.2468%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  55, local model AK, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2144/4112 (52.1401%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.7831, Accuracy: 291941/444748 (65.6419%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  55, local model AR, internal_epoch   1,  Average loss: 0.0135, Accuracy: 7830/13420 (58.3458%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.6418, Accuracy: 354174/444748 (79.6348%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  55, local model ND, internal_epoch   1,  Average loss: 0.0146, Accuracy: 1547/2822 (54.8193%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.8668, Accuracy: 214078/444748 (48.1347%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  55, local model DC, internal_epoch   1,  Average loss: 0.0142, Accuracy: 2197/4220 (52.0616%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.7905, Accuracy: 237966/444748 (53.5058%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  55, local model NH, internal_epoch   1,  Average loss: 0.0143, Accuracy: 4736/8777 (53.9592%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.7281, Accuracy: 349325/444748 (78.5445%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  55, local model RI, internal_epoch   1,  Average loss: 0.0143, Accuracy: 4259/7885 (54.0140%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.7369, Accuracy: 352343/444748 (79.2231%), Attack Success Rate:0/444748(0.000)
time spent on training: 344.8788228034973
[foolsgold agg] training data poison_ratio: 0.03372117985487957  data num: [21424, 38041, 3927, 11827, 4112, 13420, 2822, 4220, 8777, 7885]
[foolsgold agg] considering poison per batch poison_fraction: 0.03372117985487957
[foolsgold agg] wv: [0.         0.         0.         1.         0.         0.
 0.         0.         1.         0.48585929]
___Test Target_Simple poisoned: False, epoch: 55: Average loss: 0.9801, Accuracy: 287903/444748 (64.7340%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 55: Average loss: 0.9704, Accuracy: 7/444748 (0.0016%)
Done in 568.8421378135681 sec.
Server Epoch:56 choose agents : ['HI', 'OR', 'CA', 'GA', 'TN', 'MS', 'TX', 'RI', 'OK', 'FL'].
___Train Local_Simple,  epoch  56, local model HI, internal_epoch   1,  Average loss: 0.0138, Accuracy: 4646/8393 (55.3557%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.7136, Accuracy: 359553/444748 (80.8442%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  56, local model OR, internal_epoch   1,  Average loss: 0.0135, Accuracy: 12941/21174 (61.1174%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.6061, Accuracy: 363695/444748 (81.7755%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 0.9704, Accuracy: 7/444748 (0.0016%)
0.0015739250092187038
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  56, local model CA, internal_epoch   1,  Average loss: 0.0067, Accuracy: 200564/247628 (80.9941%), train_poison_data_count247628
Global model norm: 4.933692333115412.
Norm before scaling: 5.9787986012947245. Distance: 3.3843824166368988
Total norm for 3 adversaries is: 5.9787986012947245. distance: 3.3843824166368988
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 3.3204, Accuracy: 359173/444748 (80.7588%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 0.1103, Accuracy: 430082/444748 (96.7024%)
___Train Local_Simple,  epoch  56, local model GA, internal_epoch   1,  Average loss: 0.0107, Accuracy: 41768/58387 (71.5365%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.3870, Accuracy: 384285/444748 (86.4051%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  56, local model TN, internal_epoch   1,  Average loss: 0.0122, Accuracy: 18276/27944 (65.4022%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.5104, Accuracy: 366841/444748 (82.4829%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  56, local model MS, internal_epoch   1,  Average loss: 0.0139, Accuracy: 5752/9869 (58.2835%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.7116, Accuracy: 323745/444748 (72.7929%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  56, local model TX, internal_epoch   1,  Average loss: 0.0077, Accuracy: 118246/146613 (80.6518%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.2081, Accuracy: 413597/444748 (92.9958%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  56, local model RI, internal_epoch   1,  Average loss: 0.0140, Accuracy: 4342/7885 (55.0666%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.7285, Accuracy: 353019/444748 (79.3751%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  56, local model OK, internal_epoch   1,  Average loss: 0.0133, Accuracy: 9743/16276 (59.8611%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.6171, Accuracy: 366933/444748 (82.5036%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  56, local model FL, internal_epoch   1,  Average loss: 0.0087, Accuracy: 100300/127170 (78.8708%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.2315, Accuracy: 406198/444748 (91.3322%), Attack Success Rate:0/444748(0.000)
time spent on training: 387.2833511829376
[foolsgold agg] training data poison_ratio: 0.3688568666500829  data num: [8393, 21174, 247628, 58387, 27944, 9869, 146613, 7885, 16276, 127170]
[foolsgold agg] considering poison per batch poison_fraction: 0.3688568666500829
[foolsgold agg] wv: [0.         0.92328001 1.         0.         0.         0.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 56: Average loss: 0.9779, Accuracy: 290311/444748 (65.2754%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 56: Average loss: 0.9638, Accuracy: 22/444748 (0.0049%)
Done in 610.8227756023407 sec.
Server Epoch:57 choose agents : ['FL', 'AK', 'ME', 'DC', 'MS', 'TX', 'SD', 'MO', 'OR', 'NM'].
___Train Local_Simple,  epoch  57, local model FL, internal_epoch   1,  Average loss: 0.0084, Accuracy: 100172/127170 (78.7702%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.2301, Accuracy: 406908/444748 (91.4918%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  57, local model AK, internal_epoch   1,  Average loss: 0.0144, Accuracy: 2184/4112 (53.1128%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.7793, Accuracy: 321357/444748 (72.2560%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 0.9638, Accuracy: 22/444748 (0.0049%)
0.004946621457544497
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  57, local model ME, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2288/3927 (58.2633%), train_poison_data_count3927
Global model norm: 4.933760180350471.
Norm before scaling: 4.950543714775117. Distance: 0.251252004677096
Total norm for 3 adversaries is: 4.950543714775117. distance: 0.251252004677096
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.9802, Accuracy: 193564/444748 (43.5222%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 1.2742, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  57, local model DC, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2240/4220 (53.0806%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.7905, Accuracy: 238464/444748 (53.6178%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  57, local model MS, internal_epoch   1,  Average loss: 0.0139, Accuracy: 5763/9869 (58.3950%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.7008, Accuracy: 339511/444748 (76.3378%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  57, local model TX, internal_epoch   1,  Average loss: 0.0077, Accuracy: 118396/146613 (80.7541%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.2336, Accuracy: 414484/444748 (93.1952%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  57, local model SD, internal_epoch   1,  Average loss: 0.0152, Accuracy: 1795/3593 (49.9583%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.7983, Accuracy: 346500/444748 (77.9093%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  57, local model MO, internal_epoch   1,  Average loss: 0.0120, Accuracy: 18565/28352 (65.4804%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.5164, Accuracy: 364964/444748 (82.0609%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  57, local model OR, internal_epoch   1,  Average loss: 0.0133, Accuracy: 13048/21174 (61.6227%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.6071, Accuracy: 363312/444748 (81.6894%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  57, local model NM, internal_epoch   1,  Average loss: 0.0141, Accuracy: 5305/9436 (56.2209%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.6963, Accuracy: 363633/444748 (81.7616%), Attack Success Rate:0/444748(0.000)
time spent on training: 356.87304949760437
[foolsgold agg] training data poison_ratio: 0.010955013864634303  data num: [127170, 4112, 3927, 4220, 9869, 146613, 3593, 28352, 21174, 9436]
[foolsgold agg] considering poison per batch poison_fraction: 0.010955013864634303
[foolsgold agg] wv: [0. 0. 1. 0. 0. 0. 0. 0. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 57: Average loss: 0.9768, Accuracy: 290534/444748 (65.3255%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 57: Average loss: 0.9636, Accuracy: 23/444748 (0.0052%)
Done in 580.8812484741211 sec.
Server Epoch:58 choose agents : ['MO', 'GA', 'NC', 'IN', 'TX', 'SC', 'NH', 'AR', 'OK', 'HI'].
___Train Local_Simple,  epoch  58, local model MO, internal_epoch   1,  Average loss: 0.0120, Accuracy: 18579/28352 (65.5298%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.5096, Accuracy: 365763/444748 (82.2405%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  58, local model GA, internal_epoch   1,  Average loss: 0.0110, Accuracy: 41531/58387 (71.1306%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.3853, Accuracy: 382492/444748 (86.0020%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  58, local model NC, internal_epoch   1,  Average loss: 0.0105, Accuracy: 34901/49376 (70.6841%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.4153, Accuracy: 377504/444748 (84.8804%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  58, local model IN, internal_epoch   1,  Average loss: 0.0119, Accuracy: 19547/29580 (66.0818%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.4942, Accuracy: 368335/444748 (82.8188%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  58, local model TX, internal_epoch   1,  Average loss: 0.0077, Accuracy: 118631/146613 (80.9144%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.2339, Accuracy: 412056/444748 (92.6493%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  58, local model SC, internal_epoch   1,  Average loss: 0.0126, Accuracy: 13772/22070 (62.4014%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.5632, Accuracy: 363989/444748 (81.8416%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  58, local model NH, internal_epoch   1,  Average loss: 0.0140, Accuracy: 4888/8777 (55.6910%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.7487, Accuracy: 344531/444748 (77.4666%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  58, local model AR, internal_epoch   1,  Average loss: 0.0136, Accuracy: 7742/13420 (57.6900%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.6472, Accuracy: 356625/444748 (80.1859%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  58, local model OK, internal_epoch   1,  Average loss: 0.0132, Accuracy: 9641/16276 (59.2345%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.6096, Accuracy: 363306/444748 (81.6881%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  58, local model HI, internal_epoch   1,  Average loss: 0.0138, Accuracy: 4797/8393 (57.1548%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.7123, Accuracy: 359234/444748 (80.7725%), Attack Success Rate:0/444748(0.000)
time spent on training: 151.78594708442688
[foolsgold agg] training data poison_ratio: 0.0  data num: [28352, 58387, 49376, 29580, 146613, 22070, 8777, 13420, 16276, 8393]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         0.         0.         0.         0.69435515
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 58: Average loss: 0.9753, Accuracy: 292100/444748 (65.6776%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 58: Average loss: 0.9617, Accuracy: 28/444748 (0.0063%)
Done in 375.4086124897003 sec.
Server Epoch:59 choose agents : ['AL', 'CO', 'IN', 'AK', 'TN', 'MS', 'CA', 'GA', 'TX', 'DC'].
___Train Local_Simple,  epoch  59, local model AL, internal_epoch   1,  Average loss: 0.0127, Accuracy: 13353/21424 (62.3273%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.5484, Accuracy: 367328/444748 (82.5924%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  59, local model CO, internal_epoch   1,  Average loss: 0.0110, Accuracy: 26166/38041 (68.7837%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.4646, Accuracy: 374178/444748 (84.1326%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  59, local model IN, internal_epoch   1,  Average loss: 0.0119, Accuracy: 19647/29580 (66.4199%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.4959, Accuracy: 368108/444748 (82.7678%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  59, local model AK, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2163/4112 (52.6021%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.7779, Accuracy: 309034/444748 (69.4852%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  59, local model TN, internal_epoch   1,  Average loss: 0.0123, Accuracy: 18096/27944 (64.7581%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.5247, Accuracy: 363779/444748 (81.7944%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  59, local model MS, internal_epoch   1,  Average loss: 0.0140, Accuracy: 5758/9869 (58.3443%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.7004, Accuracy: 336517/444748 (75.6646%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 0.9617, Accuracy: 28/444748 (0.0063%)
0.006295700036874815
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  59, local model CA, internal_epoch   1,  Average loss: 0.0063, Accuracy: 201632/247628 (81.4254%), train_poison_data_count247628
Global model norm: 4.933854701011509.
Norm before scaling: 5.551908889902404. Distance: 2.499421624991001
Total norm for 3 adversaries is: 5.551908889902404. distance: 2.499421624991001
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 3.0548, Accuracy: 360011/444748 (80.9472%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 3.2207, Accuracy: 86004/444748 (19.3377%)
___Train Local_Simple,  epoch  59, local model GA, internal_epoch   1,  Average loss: 0.0106, Accuracy: 41697/58387 (71.4149%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.3886, Accuracy: 383417/444748 (86.2099%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  59, local model TX, internal_epoch   1,  Average loss: 0.0078, Accuracy: 118142/146613 (80.5808%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.2107, Accuracy: 413382/444748 (92.9475%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  59, local model DC, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2233/4220 (52.9147%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.7874, Accuracy: 238245/444748 (53.5685%), Attack Success Rate:0/444748(0.000)
time spent on training: 382.47829580307007
[foolsgold agg] training data poison_ratio: 0.42126644641708827  data num: [21424, 38041, 29580, 4112, 27944, 9869, 247628, 58387, 146613, 4220]
[foolsgold agg] considering poison per batch poison_fraction: 0.42126644641708827
[foolsgold agg] wv: [0.         0.         0.         0.         1.         0.2400283
 1.         0.         0.42861733 0.        ]
___Test Target_Simple poisoned: False, epoch: 59: Average loss: 0.9723, Accuracy: 294327/444748 (66.1784%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 59: Average loss: 0.9573, Accuracy: 50/444748 (0.0112%)
Done in 606.3337292671204 sec.
Server Epoch:60 choose agents : ['RI', 'HI', 'GA', 'OR', 'NH', 'TN', 'NM', 'AK', 'ME', 'SC'].
___Train Local_Simple,  epoch  60, local model RI, internal_epoch   1,  Average loss: 0.0138, Accuracy: 4356/7885 (55.2441%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.7093, Accuracy: 355832/444748 (80.0076%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  60, local model HI, internal_epoch   1,  Average loss: 0.0138, Accuracy: 4724/8393 (56.2850%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.7079, Accuracy: 304578/444748 (68.4833%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  60, local model GA, internal_epoch   1,  Average loss: 0.0104, Accuracy: 42188/58387 (72.2558%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.4694, Accuracy: 387362/444748 (87.0970%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  60, local model OR, internal_epoch   1,  Average loss: 0.0123, Accuracy: 13333/21174 (62.9687%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.5806, Accuracy: 365837/444748 (82.2571%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  60, local model NH, internal_epoch   1,  Average loss: 0.0145, Accuracy: 4817/8777 (54.8821%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.7533, Accuracy: 347776/444748 (78.1962%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  60, local model TN, internal_epoch   1,  Average loss: 0.0124, Accuracy: 18201/27944 (65.1338%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.5014, Accuracy: 364729/444748 (82.0080%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  60, local model NM, internal_epoch   1,  Average loss: 0.0139, Accuracy: 5321/9436 (56.3904%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.6815, Accuracy: 361055/444748 (81.1819%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  60, local model AK, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2169/4112 (52.7481%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.7771, Accuracy: 260042/444748 (58.4695%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 0.9573, Accuracy: 50/444748 (0.0112%)
0.011242321494419312
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  60, local model ME, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2266/3927 (57.7031%), train_poison_data_count3927
Global model norm: 4.934096116730575.
Norm before scaling: 4.949765194034382. Distance: 0.2477471500688958
Total norm for 3 adversaries is: 4.949765194034382. distance: 0.2477471500688958
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.9688, Accuracy: 211636/444748 (47.5856%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 1.1348, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  60, local model SC, internal_epoch   1,  Average loss: 0.0123, Accuracy: 14039/22070 (63.6112%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.5486, Accuracy: 362203/444748 (81.4401%), Attack Success Rate:0/444748(0.000)
time spent on training: 347.0550813674927
[foolsgold agg] training data poison_ratio: 0.02281746608175242  data num: [7885, 8393, 58387, 21174, 8777, 27944, 9436, 4112, 3927, 22070]
[foolsgold agg] considering poison per batch poison_fraction: 0.02281746608175242
[foolsgold agg] wv: [0.         0.         0.         0.         1.         0.35627143
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 60: Average loss: 0.9713, Accuracy: 294460/444748 (66.2083%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 60: Average loss: 0.9591, Accuracy: 41/444748 (0.0092%)
Done in 571.3286280632019 sec.
Server Epoch:61 choose agents : ['CA', 'MO', 'CO', 'ME', 'AK', 'OR', 'SD', 'UT', 'IN', 'AR'].
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 0.9591, Accuracy: 41/444748 (0.0092%)
0.009218703625423836
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  61, local model CA, internal_epoch   1,  Average loss: 0.0065, Accuracy: 200580/247628 (81.0005%), train_poison_data_count247628
Global model norm: 4.934117571038816.
Norm before scaling: 5.539862872192794. Distance: 2.5000765788747428
Total norm for 3 adversaries is: 5.539862872192794. distance: 2.5000765788747428
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 2.8452, Accuracy: 359100/444748 (80.7424%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 3.3146, Accuracy: 79922/444748 (17.9702%)
___Train Local_Simple,  epoch  61, local model MO, internal_epoch   1,  Average loss: 0.0119, Accuracy: 18680/28352 (65.8860%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.5070, Accuracy: 363719/444748 (81.7809%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  61, local model CO, internal_epoch   1,  Average loss: 0.0109, Accuracy: 26281/38041 (69.0860%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.4561, Accuracy: 376109/444748 (84.5668%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 0.9591, Accuracy: 41/444748 (0.0092%)
0.009218703625423836
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  61, local model ME, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2300/3927 (58.5689%), train_poison_data_count3927
Global model norm: 4.934117571038816.
Norm before scaling: 4.950325833780611. Distance: 0.2465330774039093
Total norm for 3 adversaries is: 4.950325833780611. distance: 0.2465330774039093
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.9646, Accuracy: 222803/444748 (50.0965%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 1.0944, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  61, local model AK, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2155/4112 (52.4076%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.7815, Accuracy: 244180/444748 (54.9030%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  61, local model OR, internal_epoch   1,  Average loss: 0.0135, Accuracy: 13331/21174 (62.9593%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.6340, Accuracy: 364700/444748 (82.0015%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  61, local model SD, internal_epoch   1,  Average loss: 0.0149, Accuracy: 1873/3593 (52.1291%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.7869, Accuracy: 272083/444748 (61.1769%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  61, local model UT, internal_epoch   1,  Average loss: 0.0132, Accuracy: 7055/11827 (59.6516%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.6733, Accuracy: 313460/444748 (70.4804%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  61, local model IN, internal_epoch   1,  Average loss: 0.0120, Accuracy: 19601/29580 (66.2644%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.5159, Accuracy: 369472/444748 (83.0745%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  61, local model AR, internal_epoch   1,  Average loss: 0.0136, Accuracy: 7858/13420 (58.5544%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.6356, Accuracy: 361493/444748 (81.2804%), Attack Success Rate:0/444748(0.000)
time spent on training: 579.9835925102234
[foolsgold agg] training data poison_ratio: 0.6262977587674964  data num: [247628, 28352, 38041, 3927, 4112, 21174, 3593, 11827, 29580, 13420]
[foolsgold agg] considering poison per batch poison_fraction: 0.6262977587674964
[foolsgold agg] wv: [0.22318077 0.         0.         0.63154454 0.         1.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 61: Average loss: 0.9701, Accuracy: 294919/444748 (66.3115%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 61: Average loss: 0.9575, Accuracy: 52/444748 (0.0117%)
Done in 803.6831586360931 sec.
Server Epoch:62 choose agents : ['IN', 'TX', 'ND', 'SD', 'SC', 'MO', 'AL', 'OK', 'NM', 'AR'].
___Train Local_Simple,  epoch  62, local model IN, internal_epoch   1,  Average loss: 0.0119, Accuracy: 19739/29580 (66.7309%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.5198, Accuracy: 363343/444748 (81.6964%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  62, local model TX, internal_epoch   1,  Average loss: 0.0078, Accuracy: 118553/146613 (80.8612%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.2179, Accuracy: 410110/444748 (92.2118%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  62, local model ND, internal_epoch   1,  Average loss: 0.0146, Accuracy: 1551/2822 (54.9610%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.8519, Accuracy: 248509/444748 (55.8764%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  62, local model SD, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1849/3593 (51.4612%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.7900, Accuracy: 290713/444748 (65.3658%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  62, local model SC, internal_epoch   1,  Average loss: 0.0124, Accuracy: 13979/22070 (63.3394%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.5465, Accuracy: 364687/444748 (81.9986%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  62, local model MO, internal_epoch   1,  Average loss: 0.0123, Accuracy: 18559/28352 (65.4592%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.5032, Accuracy: 367495/444748 (82.6299%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  62, local model AL, internal_epoch   1,  Average loss: 0.0126, Accuracy: 13436/21424 (62.7147%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.5648, Accuracy: 360506/444748 (81.0585%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  62, local model OK, internal_epoch   1,  Average loss: 0.0132, Accuracy: 9854/16276 (60.5431%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.6161, Accuracy: 364606/444748 (81.9804%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  62, local model NM, internal_epoch   1,  Average loss: 0.0141, Accuracy: 5373/9436 (56.9415%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.6828, Accuracy: 360074/444748 (80.9614%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  62, local model AR, internal_epoch   1,  Average loss: 0.0137, Accuracy: 7854/13420 (58.5246%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.6615, Accuracy: 355861/444748 (80.0141%), Attack Success Rate:0/444748(0.000)
time spent on training: 147.46796488761902
[foolsgold agg] training data poison_ratio: 0.0  data num: [29580, 146613, 2822, 3593, 22070, 28352, 21424, 16276, 9436, 13420]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.44039795 1.         0.95887442 0.         0.20694066
 0.         0.         0.48698793 0.78899147]
___Test Target_Simple poisoned: False, epoch: 62: Average loss: 0.9685, Accuracy: 295901/444748 (66.5323%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 62: Average loss: 0.9561, Accuracy: 68/444748 (0.0153%)
Done in 371.25228810310364 sec.
Server Epoch:63 choose agents : ['MO', 'DC', 'AR', 'NM', 'CO', 'FL', 'NH', 'UT', 'IN', 'MA'].
___Train Local_Simple,  epoch  63, local model MO, internal_epoch   1,  Average loss: 0.0120, Accuracy: 18638/28352 (65.7379%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.4954, Accuracy: 369324/444748 (83.0412%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  63, local model DC, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2260/4220 (53.5545%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.7803, Accuracy: 237972/444748 (53.5072%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  63, local model AR, internal_epoch   1,  Average loss: 0.0136, Accuracy: 7871/13420 (58.6513%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.6907, Accuracy: 356176/444748 (80.0849%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  63, local model NM, internal_epoch   1,  Average loss: 0.0140, Accuracy: 5310/9436 (56.2738%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.6901, Accuracy: 361832/444748 (81.3566%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  63, local model CO, internal_epoch   1,  Average loss: 0.0110, Accuracy: 26389/38041 (69.3699%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.4373, Accuracy: 376083/444748 (84.5609%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  63, local model FL, internal_epoch   1,  Average loss: 0.0083, Accuracy: 100561/127170 (79.0760%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.2220, Accuracy: 408585/444748 (91.8689%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  63, local model NH, internal_epoch   1,  Average loss: 0.0142, Accuracy: 4854/8777 (55.3036%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.7461, Accuracy: 345983/444748 (77.7930%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  63, local model UT, internal_epoch   1,  Average loss: 0.0130, Accuracy: 7089/11827 (59.9391%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.6994, Accuracy: 306053/444748 (68.8149%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  63, local model IN, internal_epoch   1,  Average loss: 0.0119, Accuracy: 19672/29580 (66.5044%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.5762, Accuracy: 366815/444748 (82.4770%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 0.9561, Accuracy: 68/444748 (0.0153%)
0.015289557232410263
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  63, local model MA, internal_epoch   1,  Average loss: 0.0098, Accuracy: 26948/40748 (66.1333%), train_poison_data_count40748
Global model norm: 4.934234698320041.
Norm before scaling: 5.072193801835543. Distance: 0.9854154084071917
Total norm for 3 adversaries is: 5.072193801835543. distance: 0.9854154084071917
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 1.4223, Accuracy: 336382/444748 (75.6343%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 0.1700, Accuracy: 444617/444748 (99.9705%)
time spent on training: 356.45566487312317
[foolsgold agg] training data poison_ratio: 0.130782389888661  data num: [28352, 4220, 13420, 9436, 38041, 127170, 8777, 11827, 29580, 40748]
[foolsgold agg] considering poison per batch poison_fraction: 0.130782389888661
[foolsgold agg] wv: [0.         0.19266571 0.         0.         0.         0.33701677
 1.         0.17799974 0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 63: Average loss: 0.9665, Accuracy: 296830/444748 (66.7412%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 63: Average loss: 0.9515, Accuracy: 115/444748 (0.0259%)
Done in 580.3596985340118 sec.
Server Epoch:64 choose agents : ['WV', 'OK', 'GA', 'SD', 'NC', 'ME', 'CO', 'MO', 'UT', 'NH'].
___Train Local_Simple,  epoch  64, local model WV, internal_epoch   1,  Average loss: 0.0145, Accuracy: 3541/6619 (53.4975%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.7617, Accuracy: 350821/444748 (78.8808%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  64, local model OK, internal_epoch   1,  Average loss: 0.0131, Accuracy: 9817/16276 (60.3158%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.6057, Accuracy: 368041/444748 (82.7527%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  64, local model GA, internal_epoch   1,  Average loss: 0.0105, Accuracy: 41941/58387 (71.8328%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.4779, Accuracy: 381242/444748 (85.7209%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  64, local model SD, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1873/3593 (52.1291%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.7845, Accuracy: 275974/444748 (62.0518%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  64, local model NC, internal_epoch   1,  Average loss: 0.0105, Accuracy: 35175/49376 (71.2391%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.4233, Accuracy: 380229/444748 (85.4931%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 0.9515, Accuracy: 115/444748 (0.0259%)
0.02585733943716442
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  64, local model ME, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2253/3927 (57.3720%), train_poison_data_count3927
Global model norm: 4.934362839338938.
Norm before scaling: 4.950737699774919. Distance: 0.2429074308164736
Total norm for 3 adversaries is: 4.950737699774919. distance: 0.2429074308164736
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.9539, Accuracy: 233557/444748 (52.5145%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 1.0735, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  64, local model CO, internal_epoch   1,  Average loss: 0.0109, Accuracy: 26265/38041 (69.0439%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.4475, Accuracy: 375455/444748 (84.4197%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  64, local model MO, internal_epoch   1,  Average loss: 0.0119, Accuracy: 18775/28352 (66.2211%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.5152, Accuracy: 369958/444748 (83.1837%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  64, local model UT, internal_epoch   1,  Average loss: 0.0130, Accuracy: 7056/11827 (59.6601%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.6686, Accuracy: 342619/444748 (77.0367%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  64, local model NH, internal_epoch   1,  Average loss: 0.0140, Accuracy: 4946/8777 (56.3518%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.7067, Accuracy: 342820/444748 (77.0819%), Attack Success Rate:0/444748(0.000)
time spent on training: 350.43740034103394
[foolsgold agg] training data poison_ratio: 0.017439769068502278  data num: [6619, 16276, 58387, 3593, 49376, 3927, 38041, 28352, 11827, 8777]
[foolsgold agg] considering poison per batch poison_fraction: 0.017439769068502278
[foolsgold agg] wv: [0.         0.         0.         0.7859814  0.         1.
 0.         0.         0.         0.57244502]
___Test Target_Simple poisoned: False, epoch: 64: Average loss: 0.9655, Accuracy: 297004/444748 (66.7803%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 64: Average loss: 0.9503, Accuracy: 122/444748 (0.0274%)
Done in 574.1505377292633 sec.
Server Epoch:65 choose agents : ['OK', 'TX', 'FL', 'SC', 'DC', 'ME', 'NH', 'CA', 'NC', 'TN'].
___Train Local_Simple,  epoch  65, local model OK, internal_epoch   1,  Average loss: 0.0131, Accuracy: 9783/16276 (60.1069%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.6034, Accuracy: 360439/444748 (81.0434%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  65, local model TX, internal_epoch   1,  Average loss: 0.0077, Accuracy: 118917/146613 (81.1095%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.2153, Accuracy: 415569/444748 (93.4392%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  65, local model FL, internal_epoch   1,  Average loss: 0.0084, Accuracy: 100641/127170 (79.1389%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.2274, Accuracy: 409363/444748 (92.0438%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  65, local model SC, internal_epoch   1,  Average loss: 0.0127, Accuracy: 13890/22070 (62.9361%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.5606, Accuracy: 365188/444748 (82.1112%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  65, local model DC, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2227/4220 (52.7725%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.7860, Accuracy: 237969/444748 (53.5065%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 0.9503, Accuracy: 122/444748 (0.0274%)
0.02743126444638312
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  65, local model ME, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2260/3927 (57.5503%), train_poison_data_count3927
Global model norm: 4.934392989683305.
Norm before scaling: 4.951024329039222. Distance: 0.24032976226169575
Total norm for 3 adversaries is: 4.951024329039222. distance: 0.24032976226169575
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.9568, Accuracy: 227164/444748 (51.0770%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 1.0543, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  65, local model NH, internal_epoch   1,  Average loss: 0.0143, Accuracy: 4765/8777 (54.2896%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.7188, Accuracy: 355421/444748 (79.9151%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 0.9503, Accuracy: 122/444748 (0.0274%)
0.02743126444638312
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  65, local model CA, internal_epoch   1,  Average loss: 0.0063, Accuracy: 201734/247628 (81.4666%), train_poison_data_count247628
Global model norm: 4.934392989683305.
Norm before scaling: 5.638341721586655. Distance: 2.684657700810295
Total norm for 3 adversaries is: 5.638341721586655. distance: 2.684657700810295
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 3.0574, Accuracy: 364117/444748 (81.8704%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 1.1929, Accuracy: 192111/444748 (43.1955%)
___Train Local_Simple,  epoch  65, local model NC, internal_epoch   1,  Average loss: 0.0106, Accuracy: 35313/49376 (71.5186%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.4146, Accuracy: 378587/444748 (85.1239%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  65, local model TN, internal_epoch   1,  Average loss: 0.0123, Accuracy: 18321/27944 (65.5633%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.5569, Accuracy: 368455/444748 (82.8458%), Attack Success Rate:0/444748(0.000)
time spent on training: 590.1669025421143
[foolsgold agg] training data poison_ratio: 0.3846400846481886  data num: [16276, 146613, 127170, 22070, 4220, 3927, 8777, 247628, 49376, 27944]
[foolsgold agg] considering poison per batch poison_fraction: 0.3846400846481886
[foolsgold agg] wv: [0.         0.18641702 0.12167385 1.         1.         1.
 1.         1.         0.         0.85574037]
___Test Target_Simple poisoned: False, epoch: 65: Average loss: 0.9613, Accuracy: 299643/444748 (67.3737%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 65: Average loss: 0.9436, Accuracy: 263/444748 (0.0591%)
Done in 812.388368844986 sec.
Server Epoch:66 choose agents : ['ME', 'CO', 'SD', 'TX', 'DC', 'MS', 'AL', 'AR', 'NM', 'OK'].
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 0.9436, Accuracy: 263/444748 (0.0591%)
0.05913461106064558
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  66, local model ME, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2294/3927 (58.4161%), train_poison_data_count3927
Global model norm: 4.934662015369707.
Norm before scaling: 4.950829392124301. Distance: 0.24457020159896922
Total norm for 3 adversaries is: 4.950829392124301. distance: 0.24457020159896922
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.9623, Accuracy: 228762/444748 (51.4363%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 1.0747, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  66, local model CO, internal_epoch   1,  Average loss: 0.0109, Accuracy: 26393/38041 (69.3804%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.4407, Accuracy: 376457/444748 (84.6450%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  66, local model SD, internal_epoch   1,  Average loss: 0.0149, Accuracy: 1877/3593 (52.2405%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.7848, Accuracy: 318291/444748 (71.5666%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  66, local model TX, internal_epoch   1,  Average loss: 0.0076, Accuracy: 118726/146613 (80.9792%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.2120, Accuracy: 416167/444748 (93.5737%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  66, local model DC, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2232/4220 (52.8910%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.7866, Accuracy: 236529/444748 (53.1827%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  66, local model MS, internal_epoch   1,  Average loss: 0.0139, Accuracy: 5791/9869 (58.6787%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.6983, Accuracy: 333444/444748 (74.9737%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  66, local model AL, internal_epoch   1,  Average loss: 0.0125, Accuracy: 13620/21424 (63.5736%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.5377, Accuracy: 369988/444748 (83.1905%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  66, local model AR, internal_epoch   1,  Average loss: 0.0135, Accuracy: 8041/13420 (59.9180%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.6295, Accuracy: 362784/444748 (81.5707%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  66, local model NM, internal_epoch   1,  Average loss: 0.0138, Accuracy: 5344/9436 (56.6342%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.6899, Accuracy: 363023/444748 (81.6244%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  66, local model OK, internal_epoch   1,  Average loss: 0.0131, Accuracy: 9825/16276 (60.3650%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.6067, Accuracy: 360895/444748 (81.1460%), Attack Success Rate:0/444748(0.000)
time spent on training: 350.95506024360657
[foolsgold agg] training data poison_ratio: 0.014717842432510429  data num: [3927, 38041, 3593, 146613, 4220, 9869, 21424, 13420, 9436, 16276]
[foolsgold agg] considering poison per batch poison_fraction: 0.014717842432510429
[foolsgold agg] wv: [1.         0.         0.         0.11770943 0.         0.
 0.         0.         0.81052981 0.        ]
___Test Target_Simple poisoned: False, epoch: 66: Average loss: 0.9604, Accuracy: 299717/444748 (67.3903%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 66: Average loss: 0.9431, Accuracy: 281/444748 (0.0632%)
Done in 574.2529122829437 sec.
Server Epoch:67 choose agents : ['NC', 'IN', 'OK', 'FL', 'NM', 'WV', 'AK', 'ME', 'CO', 'DC'].
___Train Local_Simple,  epoch  67, local model NC, internal_epoch   1,  Average loss: 0.0105, Accuracy: 35250/49376 (71.3910%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.4173, Accuracy: 379809/444748 (85.3987%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  67, local model IN, internal_epoch   1,  Average loss: 0.0119, Accuracy: 19846/29580 (67.0926%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.5002, Accuracy: 362492/444748 (81.5050%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  67, local model OK, internal_epoch   1,  Average loss: 0.0130, Accuracy: 9905/16276 (60.8565%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.5959, Accuracy: 365911/444748 (82.2738%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  67, local model FL, internal_epoch   1,  Average loss: 0.0084, Accuracy: 100233/127170 (78.8181%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.2395, Accuracy: 408549/444748 (91.8608%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  67, local model NM, internal_epoch   1,  Average loss: 0.0139, Accuracy: 5269/9436 (55.8393%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.6886, Accuracy: 362754/444748 (81.5639%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  67, local model WV, internal_epoch   1,  Average loss: 0.0143, Accuracy: 3631/6619 (54.8572%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.7522, Accuracy: 335352/444748 (75.4027%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  67, local model AK, internal_epoch   1,  Average loss: 0.0144, Accuracy: 2167/4112 (52.6994%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.7704, Accuracy: 338830/444748 (76.1847%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 0.9431, Accuracy: 281/444748 (0.0632%)
0.06318184679863653
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  67, local model ME, internal_epoch   1,  Average loss: 0.0133, Accuracy: 2303/3927 (58.6453%), train_poison_data_count3927
Global model norm: 4.9347138088612805.
Norm before scaling: 4.952185893758712. Distance: 0.24578385292901167
Total norm for 3 adversaries is: 4.952185893758712. distance: 0.24578385292901167
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.9610, Accuracy: 217965/444748 (49.0087%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 1.1662, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  67, local model CO, internal_epoch   1,  Average loss: 0.0108, Accuracy: 26595/38041 (69.9114%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.4769, Accuracy: 377166/444748 (84.8044%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  67, local model DC, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2296/4220 (54.4076%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.7839, Accuracy: 236482/444748 (53.1721%), Attack Success Rate:0/444748(0.000)
time spent on training: 351.76202869415283
[foolsgold agg] training data poison_ratio: 0.013599670311022763  data num: [49376, 29580, 16276, 127170, 9436, 6619, 4112, 3927, 38041, 4220]
[foolsgold agg] considering poison per batch poison_fraction: 0.013599670311022763
[foolsgold agg] wv: [0. 0. 0. 0. 0. 0. 0. 1. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 67: Average loss: 0.9599, Accuracy: 299509/444748 (67.3435%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 67: Average loss: 0.9434, Accuracy: 273/444748 (0.0614%)
Done in 574.7307159900665 sec.
Server Epoch:68 choose agents : ['FL', 'CO', 'CA', 'RI', 'TN', 'SC', 'OR', 'GA', 'MS', 'ME'].
___Train Local_Simple,  epoch  68, local model FL, internal_epoch   1,  Average loss: 0.0084, Accuracy: 100466/127170 (79.0013%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.2352, Accuracy: 409372/444748 (92.0458%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  68, local model CO, internal_epoch   1,  Average loss: 0.0108, Accuracy: 26478/38041 (69.6038%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.4482, Accuracy: 375461/444748 (84.4211%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.9434, Accuracy: 273/444748 (0.0614%)
0.06138307535952944
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  68, local model CA, internal_epoch   1,  Average loss: 0.0060, Accuracy: 203316/247628 (82.1054%), train_poison_data_count247628
Global model norm: 4.934739318888663.
Norm before scaling: 5.564136221616091. Distance: 2.4942460601674585
Total norm for 3 adversaries is: 5.564136221616091. distance: 2.4942460601674585
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 3.1019, Accuracy: 361416/444748 (81.2631%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 3.6422, Accuracy: 70241/444748 (15.7934%)
___Train Local_Simple,  epoch  68, local model RI, internal_epoch   1,  Average loss: 0.0138, Accuracy: 4488/7885 (56.9182%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.7138, Accuracy: 356020/444748 (80.0498%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  68, local model TN, internal_epoch   1,  Average loss: 0.0121, Accuracy: 18383/27944 (65.7851%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.5123, Accuracy: 363401/444748 (81.7094%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  68, local model SC, internal_epoch   1,  Average loss: 0.0126, Accuracy: 14050/22070 (63.6611%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.5833, Accuracy: 353768/444748 (79.5435%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  68, local model OR, internal_epoch   1,  Average loss: 0.0124, Accuracy: 13334/21174 (62.9735%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.5642, Accuracy: 364705/444748 (82.0026%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  68, local model GA, internal_epoch   1,  Average loss: 0.0106, Accuracy: 41923/58387 (71.8019%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.3752, Accuracy: 383976/444748 (86.3356%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  68, local model MS, internal_epoch   1,  Average loss: 0.0138, Accuracy: 5913/9869 (59.9149%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.6904, Accuracy: 330986/444748 (74.4210%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.9434, Accuracy: 273/444748 (0.0614%)
0.06138307535952944
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  68, local model ME, internal_epoch   1,  Average loss: 0.0133, Accuracy: 2333/3927 (59.4092%), train_poison_data_count3927
Global model norm: 4.934739318888663.
Norm before scaling: 4.952332057117644. Distance: 0.2439481434226416
Total norm for 3 adversaries is: 4.952332057117644. distance: 0.2439481434226416
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.9671, Accuracy: 216659/444748 (48.7150%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 1.1857, Accuracy: 0/444748 (0.0000%)
time spent on training: 585.4419631958008
[foolsgold agg] training data poison_ratio: 0.4459443887997589  data num: [127170, 38041, 247628, 7885, 27944, 22070, 21174, 58387, 9869, 3927]
[foolsgold agg] considering poison per batch poison_fraction: 0.4459443887997589
[foolsgold agg] wv: [0.         0.         0.92658502 0.         0.         1.
 0.         0.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 68: Average loss: 0.9572, Accuracy: 300586/444748 (67.5857%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 68: Average loss: 0.9404, Accuracy: 416/444748 (0.0935%)
Done in 809.0690133571625 sec.
Server Epoch:69 choose agents : ['AR', 'GA', 'CO', 'MS', 'MA', 'ND', 'WV', 'NM', 'SD', 'NC'].
___Train Local_Simple,  epoch  69, local model AR, internal_epoch   1,  Average loss: 0.0137, Accuracy: 7875/13420 (58.6811%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.6396, Accuracy: 360589/444748 (81.0771%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  69, local model GA, internal_epoch   1,  Average loss: 0.0107, Accuracy: 42127/58387 (72.1513%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.3939, Accuracy: 377169/444748 (84.8051%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  69, local model CO, internal_epoch   1,  Average loss: 0.0108, Accuracy: 26479/38041 (69.6065%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.5497, Accuracy: 377487/444748 (84.8766%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  69, local model MS, internal_epoch   1,  Average loss: 0.0140, Accuracy: 5857/9869 (59.3475%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.7098, Accuracy: 328643/444748 (73.8942%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70]
poison_now
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 0.9404, Accuracy: 416/444748 (0.0935%)
0.09353611483356868
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  69, local model MA, internal_epoch   1,  Average loss: 0.0098, Accuracy: 27347/40748 (67.1125%), train_poison_data_count40748
Global model norm: 4.934961366511884.
Norm before scaling: 5.0699122290001855. Distance: 0.9983151069807207
Total norm for 3 adversaries is: 5.0699122290001855. distance: 0.9983151069807207
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 1.4212, Accuracy: 336690/444748 (75.7035%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 0.1980, Accuracy: 444136/444748 (99.8624%)
___Train Local_Simple,  epoch  69, local model ND, internal_epoch   1,  Average loss: 0.0143, Accuracy: 1649/2822 (58.4337%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.8373, Accuracy: 266051/444748 (59.8206%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  69, local model WV, internal_epoch   1,  Average loss: 0.0144, Accuracy: 3620/6619 (54.6910%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.7605, Accuracy: 351372/444748 (79.0047%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  69, local model NM, internal_epoch   1,  Average loss: 0.0137, Accuracy: 5392/9436 (57.1429%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.6850, Accuracy: 362636/444748 (81.5374%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  69, local model SD, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1937/3593 (53.9104%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.7766, Accuracy: 309933/444748 (69.6873%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  69, local model NC, internal_epoch   1,  Average loss: 0.0105, Accuracy: 35292/49376 (71.4760%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.4096, Accuracy: 381362/444748 (85.7479%), Attack Success Rate:0/444748(0.000)
time spent on training: 351.8717427253723
[foolsgold agg] training data poison_ratio: 0.175402800556151  data num: [13420, 58387, 38041, 9869, 40748, 2822, 6619, 9436, 3593, 49376]
[foolsgold agg] considering poison per batch poison_fraction: 0.175402800556151
[foolsgold agg] wv: [0.33080127 1.         0.         0.30829622 0.86974176 1.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 69: Average loss: 0.9551, Accuracy: 301444/444748 (67.7786%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 69: Average loss: 0.9380, Accuracy: 564/444748 (0.1268%)
Done in 575.0838193893433 sec.
Server Epoch:70 choose agents : ['MS', 'FL', 'DC', 'IN', 'ND', 'CO', 'NC', 'AL', 'NM', 'RI'].
___Train Local_Simple,  epoch  70, local model MS, internal_epoch   1,  Average loss: 0.0138, Accuracy: 5778/9869 (58.5470%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.6979, Accuracy: 330491/444748 (74.3097%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  70, local model FL, internal_epoch   1,  Average loss: 0.0090, Accuracy: 99188/127170 (77.9964%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.3079, Accuracy: 403184/444748 (90.6545%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  70, local model DC, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2263/4220 (53.6256%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.7759, Accuracy: 238596/444748 (53.6475%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  70, local model IN, internal_epoch   1,  Average loss: 0.0118, Accuracy: 19903/29580 (67.2853%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.5091, Accuracy: 361397/444748 (81.2588%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  70, local model ND, internal_epoch   1,  Average loss: 0.0143, Accuracy: 1641/2822 (58.1502%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.8390, Accuracy: 252268/444748 (56.7216%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  70, local model CO, internal_epoch   1,  Average loss: 0.0108, Accuracy: 26616/38041 (69.9666%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.4559, Accuracy: 377401/444748 (84.8573%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  70, local model NC, internal_epoch   1,  Average loss: 0.0105, Accuracy: 35234/49376 (71.3586%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.4308, Accuracy: 379089/444748 (85.2368%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  70, local model AL, internal_epoch   1,  Average loss: 0.0125, Accuracy: 13607/21424 (63.5129%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.5283, Accuracy: 369142/444748 (83.0003%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  70, local model NM, internal_epoch   1,  Average loss: 0.0138, Accuracy: 5344/9436 (56.6342%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.6807, Accuracy: 362895/444748 (81.5956%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  70, local model RI, internal_epoch   1,  Average loss: 0.0137, Accuracy: 4487/7885 (56.9055%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.6954, Accuracy: 353346/444748 (79.4486%), Attack Success Rate:0/444748(0.000)
time spent on training: 147.0847189426422
[foolsgold agg] training data poison_ratio: 0.0  data num: [9869, 127170, 4220, 29580, 2822, 38041, 49376, 21424, 9436, 7885]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0. 1. 0. 0. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 70: Average loss: 0.9543, Accuracy: 302007/444748 (67.9052%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 70: Average loss: 0.9397, Accuracy: 510/444748 (0.1147%)
Done in 371.0798213481903 sec.
Saving all the graphs.
This run has a label: Apr.04_11.33.08. Visdom environment: loan_DBA
