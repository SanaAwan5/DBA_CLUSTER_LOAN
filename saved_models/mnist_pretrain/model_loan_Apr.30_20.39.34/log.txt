current path: saved_models/mnist_pretrain/model_loan_Apr.30_20.39.34
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
load data done
create model done
Poisoned following participants: ['CA', 'TX', 'FL', 'HI', 'GA', 'WA', 'PA', 'VA', 'MA', 'AZ', 'CO', 'IN', 'MI', 'ME', 'RI', 'AL', 'AK']
We use following environment for graphs:  loan_DBA
Server Epoch:1 choose agents : ['MS', 'HI', 'OK', 'LA', 'ND', 'WY', 'WI', 'MT', 'MA', 'DE'].
___Train Local_Simple,  epoch   1, local model MS, internal_epoch   1,  Average loss: 0.0149, Accuracy: 5093/9869 (51.6060%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.8012, Accuracy: 295229/444748 (66.3812%), Attack Success Rate:0/444748(0.000)
poison local model HI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7715, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   1, local model HI, internal_epoch   1,  Average loss: 0.0136, Accuracy: 4430/8393 (52.7821%), train_poison_data_count8393
Global model norm: 4.932287821085101.
Norm before scaling: 4.951413216812744. Distance: 0.5028991393654059
Total norm for 17 adversaries is: 4.951413216812744. distance: 0.5028991393654059
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.2038, Accuracy: 215474/444748 (48.4486%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 0.2862, Accuracy: 444463/444748 (99.9359%)
___Train Local_Simple,  epoch   1, local model OK, internal_epoch   1,  Average loss: 0.0143, Accuracy: 8526/16276 (52.3839%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.7142, Accuracy: 360751/444748 (81.1136%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model LA, internal_epoch   1,  Average loss: 0.0139, Accuracy: 11208/20228 (55.4083%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.6849, Accuracy: 364840/444748 (82.0330%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model ND, internal_epoch   1,  Average loss: 0.0159, Accuracy: 1373/2822 (48.6534%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.9241, Accuracy: 190183/444748 (42.7620%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model WY, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1709/3752 (45.5490%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.8537, Accuracy: 235868/444748 (53.0341%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model WI, internal_epoch   1,  Average loss: 0.0135, Accuracy: 13337/23488 (56.7822%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.6155, Accuracy: 357904/444748 (80.4734%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model MT, internal_epoch   1,  Average loss: 0.0158, Accuracy: 2226/4970 (44.7887%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.8588, Accuracy: 237898/444748 (53.4905%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7715, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   1, local model MA, internal_epoch   1,  Average loss: 0.0110, Accuracy: 24467/40748 (60.0447%), train_poison_data_count40748
Global model norm: 4.932287821085101.
Norm before scaling: 5.02192781583196. Distance: 0.9622108272786178
Total norm for 17 adversaries is: 5.02192781583196. distance: 0.9622108272786178
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.5703, Accuracy: 330165/444748 (74.2364%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 0.0745, Accuracy: 444415/444748 (99.9251%)
___Train Local_Simple,  epoch   1, local model DE, internal_epoch   1,  Average loss: 0.0158, Accuracy: 2252/5070 (44.4181%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.8413, Accuracy: 238901/444748 (53.7160%), Attack Success Rate:0/444748(0.000)
time spent on training: 546.4221425056458
[foolsgold agg] training data poison_ratio: 0.3623539995280793  data num: [9869, 8393, 16276, 20228, 2822, 3752, 23488, 4970, 40748, 5070]
[foolsgold agg] considering poison per batch poison_fraction: 0.3623539995280793
[foolsgold agg] wv: [0.22885709 0.         0.         1.         1.         0.
 0.         1.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 1: Average loss: 1.1081, Accuracy: 186110/444748 (41.8462%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 1: Average loss: 1.7661, Accuracy: 0/444748 (0.0000%)
Done in 1356.0070056915283 sec.
Server Epoch:2 choose agents : ['MO', 'NH', 'WY', 'OR', 'DE', 'CT', 'WA', 'WV', 'WI', 'KY'].
___Train Local_Simple,  epoch   2, local model MO, internal_epoch   1,  Average loss: 0.0131, Accuracy: 16587/28352 (58.5038%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.5697, Accuracy: 362859/444748 (81.5876%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model NH, internal_epoch   1,  Average loss: 0.0156, Accuracy: 4244/8777 (48.3537%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.8256, Accuracy: 239467/444748 (53.8433%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model WY, internal_epoch   1,  Average loss: 0.0159, Accuracy: 1592/3752 (42.4307%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.8575, Accuracy: 235081/444748 (52.8571%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model OR, internal_epoch   1,  Average loss: 0.0139, Accuracy: 11563/21174 (54.6094%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.6630, Accuracy: 356475/444748 (80.1521%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model DE, internal_epoch   1,  Average loss: 0.0158, Accuracy: 2268/5070 (44.7337%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.8380, Accuracy: 239305/444748 (53.8069%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model CT, internal_epoch   1,  Average loss: 0.0137, Accuracy: 16473/28136 (58.5478%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.5827, Accuracy: 357105/444748 (80.2938%), Attack Success Rate:0/444748(0.000)
poison local model WA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.7661, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   2, local model WA, internal_epoch   1,  Average loss: 0.0113, Accuracy: 22414/37141 (60.3484%), train_poison_data_count37141
Global model norm: 4.932254950908036.
Norm before scaling: 5.010728388848912. Distance: 1.001815875730801
Total norm for 17 adversaries is: 5.010728388848912. distance: 1.001815875730801
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.5698, Accuracy: 325241/444748 (73.1293%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 0.0902, Accuracy: 444666/444748 (99.9816%)
___Train Local_Simple,  epoch   2, local model WV, internal_epoch   1,  Average loss: 0.0155, Accuracy: 3085/6619 (46.6082%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.8549, Accuracy: 231817/444748 (52.1232%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model WI, internal_epoch   1,  Average loss: 0.0135, Accuracy: 13265/23488 (56.4756%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.6241, Accuracy: 361064/444748 (81.1840%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model KY, internal_epoch   1,  Average loss: 0.0140, Accuracy: 9315/17242 (54.0251%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.6883, Accuracy: 360954/444748 (81.1592%), Attack Success Rate:0/444748(0.000)
time spent on training: 342.7593116760254
[foolsgold agg] training data poison_ratio: 0.2066247197512114  data num: [28352, 8777, 3752, 21174, 5070, 28136, 37141, 6619, 23488, 17242]
[foolsgold agg] considering poison per batch poison_fraction: 0.2066247197512114
[foolsgold agg] wv: [0.         1.         0.         1.         0.         1.
 0.19795289 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 2: Average loss: 1.1060, Accuracy: 186493/444748 (41.9323%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 2: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
Done in 1150.2290585041046 sec.
Server Epoch:3 choose agents : ['ME', 'TN', 'GA', 'NH', 'IL', 'OR', 'IN', 'CO', 'MA', 'TX'].
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   3, local model ME, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1982/3927 (50.4711%), train_poison_data_count3927
Global model norm: 4.932150151586816.
Norm before scaling: 4.943629263116086. Distance: 0.27961330228798986
Total norm for 17 adversaries is: 4.943629263116086. distance: 0.27961330228798986
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.0517, Accuracy: 175583/444748 (39.4792%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.6893, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch   3, local model TN, internal_epoch   1,  Average loss: 0.0134, Accuracy: 16321/27944 (58.4061%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.6272, Accuracy: 355685/444748 (79.9745%), Attack Success Rate:0/444748(0.000)
poison local model GA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   3, local model GA, internal_epoch   1,  Average loss: 0.0105, Accuracy: 36083/58387 (61.7997%), train_poison_data_count58387
Global model norm: 4.932150151586816.
Norm before scaling: 5.075279025219982. Distance: 1.211337361920225
Total norm for 17 adversaries is: 5.075279025219982. distance: 1.211337361920225
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6589, Accuracy: 332967/444748 (74.8664%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 0.0091, Accuracy: 444720/444748 (99.9937%)
___Train Local_Simple,  epoch   3, local model NH, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4344/8777 (49.4930%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.7918, Accuracy: 301142/444748 (67.7107%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model IL, internal_epoch   1,  Average loss: 0.0113, Accuracy: 49527/71875 (68.9071%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.4125, Accuracy: 373828/444748 (84.0539%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model OR, internal_epoch   1,  Average loss: 0.0136, Accuracy: 11733/21174 (55.4123%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.7818, Accuracy: 357095/444748 (80.2915%), Attack Success Rate:0/444748(0.000)
poison local model IN will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   3, local model IN, internal_epoch   1,  Average loss: 0.0117, Accuracy: 16664/29580 (56.3354%), train_poison_data_count29580
Global model norm: 4.932150151586816.
Norm before scaling: 4.99432718810949. Distance: 0.8347321849474586
Total norm for 17 adversaries is: 4.99432718810949. distance: 0.8347321849474586
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.5147, Accuracy: 217403/444748 (48.8823%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 0.0541, Accuracy: 444748/444748 (100.0000%)
poison local model CO will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   3, local model CO, internal_epoch   1,  Average loss: 0.0111, Accuracy: 22764/38041 (59.8407%), train_poison_data_count38041
Global model norm: 4.932150151586816.
Norm before scaling: 5.015306694411985. Distance: 0.9075298151525257
Total norm for 17 adversaries is: 5.015306694411985. distance: 0.9075298151525257
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.5667, Accuracy: 215549/444748 (48.4654%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 0.0507, Accuracy: 444748/444748 (100.0000%)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   3, local model MA, internal_epoch   1,  Average loss: 0.0109, Accuracy: 24282/40748 (59.5907%), train_poison_data_count40748
Global model norm: 4.932150151586816.
Norm before scaling: 5.02523766709992. Distance: 0.9511899221850525
Total norm for 17 adversaries is: 5.02523766709992. distance: 0.9511899221850525
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6188, Accuracy: 254192/444748 (57.1542%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 0.0516, Accuracy: 444496/444748 (99.9433%)
poison local model TX will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   3, local model TX, internal_epoch   1,  Average loss: 0.0082, Accuracy: 106287/146613 (72.4949%), train_poison_data_count146613
Global model norm: 4.932150151586816.
Norm before scaling: 5.291177842197678. Distance: 1.9464038407340767
Total norm for 17 adversaries is: 5.291177842197678. distance: 1.9464038407340767
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.6605, Accuracy: 342520/444748 (77.0144%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
time spent on training: 1391.0619356632233
[foolsgold agg] training data poison_ratio: 0.7097296596028327  data num: [3927, 27944, 58387, 8777, 71875, 21174, 29580, 38041, 40748, 146613]
[foolsgold agg] considering poison per batch poison_fraction: 0.7097296596028327
[foolsgold agg] wv: [1.         1.         0.         0.1146861  1.         0.7566677
 0.         0.         0.         0.04244888]
___Test Target_Simple poisoned: False, epoch: 3: Average loss: 1.1031, Accuracy: 187035/444748 (42.0542%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 3: Average loss: 1.7498, Accuracy: 0/444748 (0.0000%)
Done in 2202.0501878261566 sec.
Server Epoch:4 choose agents : ['WV', 'DE', 'CO', 'MO', 'CT', 'OR', 'CA', 'TN', 'WI', 'WY'].
___Train Local_Simple,  epoch   4, local model WV, internal_epoch   1,  Average loss: 0.0157, Accuracy: 2994/6619 (45.2334%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.8540, Accuracy: 257341/444748 (57.8622%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model DE, internal_epoch   1,  Average loss: 0.0156, Accuracy: 2304/5070 (45.4438%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.8396, Accuracy: 274462/444748 (61.7118%), Attack Success Rate:0/444748(0.000)
poison local model CO will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.7498, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   4, local model CO, internal_epoch   1,  Average loss: 0.0111, Accuracy: 22805/38041 (59.9485%), train_poison_data_count38041
Global model norm: 4.932088856486798.
Norm before scaling: 5.011952609569577. Distance: 0.9046174175413276
Total norm for 17 adversaries is: 5.011952609569577. distance: 0.9046174175413276
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.5594, Accuracy: 215547/444748 (48.4650%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 0.0950, Accuracy: 444731/444748 (99.9962%)
___Train Local_Simple,  epoch   4, local model MO, internal_epoch   1,  Average loss: 0.0132, Accuracy: 16667/28352 (58.7860%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.5834, Accuracy: 358676/444748 (80.6470%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model CT, internal_epoch   1,  Average loss: 0.0137, Accuracy: 16337/28136 (58.0644%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.6013, Accuracy: 352909/444748 (79.3503%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model OR, internal_epoch   1,  Average loss: 0.0141, Accuracy: 11702/21174 (55.2659%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.6940, Accuracy: 350709/444748 (78.8557%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.7498, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   4, local model CA, internal_epoch   1,  Average loss: 0.0070, Accuracy: 192321/247628 (77.6653%), train_poison_data_count247628
Global model norm: 4.932088856486798.
Norm before scaling: 5.511734322377896. Distance: 2.5537298898376557
Total norm for 17 adversaries is: 5.511734322377896. distance: 2.5537298898376557
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 3.0928, Accuracy: 346874/444748 (77.9934%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 0.0001, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch   4, local model TN, internal_epoch   1,  Average loss: 0.0133, Accuracy: 16397/27944 (58.6781%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.5813, Accuracy: 364259/444748 (81.9023%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model WI, internal_epoch   1,  Average loss: 0.0135, Accuracy: 13589/23488 (57.8551%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.6237, Accuracy: 363390/444748 (81.7069%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model WY, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1684/3752 (44.8827%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.8498, Accuracy: 235950/444748 (53.0525%), Attack Success Rate:0/444748(0.000)
time spent on training: 574.0174148082733
[foolsgold agg] training data poison_ratio: 0.6640314827384217  data num: [6619, 5070, 38041, 28352, 28136, 21174, 247628, 27944, 23488, 3752]
[foolsgold agg] considering poison per batch poison_fraction: 0.6640314827384217
[foolsgold agg] wv: [0.         0.         0.         0.         0.         1.
 1.         0.69400256 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 4: Average loss: 1.1003, Accuracy: 187560/444748 (42.1722%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 4: Average loss: 1.7357, Accuracy: 0/444748 (0.0000%)
Done in 1380.991949558258 sec.
Server Epoch:5 choose agents : ['FL', 'TN', 'NY', 'AL', 'CO', 'ME', 'NJ', 'ID', 'OR', 'KS'].
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.7357, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   5, local model FL, internal_epoch   1,  Average loss: 0.0086, Accuracy: 90509/127170 (71.1717%), train_poison_data_count127170
Global model norm: 4.932056565070962.
Norm before scaling: 5.262099537597051. Distance: 1.8906185685986296
Total norm for 17 adversaries is: 5.262099537597051. distance: 1.8906185685986296
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.4548, Accuracy: 339825/444748 (76.4084%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch   5, local model TN, internal_epoch   1,  Average loss: 0.0132, Accuracy: 16480/27944 (58.9751%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.5840, Accuracy: 358526/444748 (80.6133%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model NY, internal_epoch   1,  Average loss: 0.0088, Accuracy: 112122/146282 (76.6478%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.2417, Accuracy: 405051/444748 (91.0743%), Attack Success Rate:0/444748(0.000)
poison local model AL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.7357, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   5, local model AL, internal_epoch   1,  Average loss: 0.0118, Accuracy: 12106/21424 (56.5067%), train_poison_data_count21424
Global model norm: 4.932056565070962.
Norm before scaling: 4.980579808810777. Distance: 0.6967354476512216
Total norm for 17 adversaries is: 4.980579808810777. distance: 0.6967354476512216
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.4332, Accuracy: 229954/444748 (51.7043%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 0.2600, Accuracy: 444406/444748 (99.9231%)
poison local model CO will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.7357, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   5, local model CO, internal_epoch   1,  Average loss: 0.0110, Accuracy: 23097/38041 (60.7161%), train_poison_data_count38041
Global model norm: 4.932056565070962.
Norm before scaling: 5.017970027148366. Distance: 0.92082183292739
Total norm for 17 adversaries is: 5.017970027148366. distance: 0.92082183292739
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.5480, Accuracy: 234155/444748 (52.6489%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 0.0439, Accuracy: 444732/444748 (99.9964%)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.7357, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   5, local model ME, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1983/3927 (50.4966%), train_poison_data_count3927
Global model norm: 4.932056565070962.
Norm before scaling: 4.9436255978293575. Distance: 0.27496991589022973
Total norm for 17 adversaries is: 4.9436255978293575. distance: 0.27496991589022973
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.0464, Accuracy: 175600/444748 (39.4830%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.6923, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch   5, local model NJ, internal_epoch   1,  Average loss: 0.0122, Accuracy: 43777/65376 (66.9619%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.4457, Accuracy: 375065/444748 (84.3320%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model ID, internal_epoch   1,  Average loss: 0.0149, Accuracy: 1877/3385 (55.4505%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.9400, Accuracy: 183439/444748 (41.2456%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model OR, internal_epoch   1,  Average loss: 0.0137, Accuracy: 11798/21174 (55.7193%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.8146, Accuracy: 357005/444748 (80.2713%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model KS, internal_epoch   1,  Average loss: 0.0141, Accuracy: 8064/15078 (53.4819%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.7125, Accuracy: 353822/444748 (79.5556%), Attack Success Rate:0/444748(0.000)
time spent on training: 973.5264644622803
[foolsgold agg] training data poison_ratio: 0.4056228062520088  data num: [127170, 27944, 146282, 21424, 38041, 3927, 65376, 3385, 21174, 15078]
[foolsgold agg] considering poison per batch poison_fraction: 0.4056228062520088
[foolsgold agg] wv: [0.         0.         0.77301596 0.         0.         0.
 1.         0.         0.91536506 0.        ]
___Test Target_Simple poisoned: False, epoch: 5: Average loss: 1.0980, Accuracy: 188241/444748 (42.3253%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 5: Average loss: 1.7234, Accuracy: 0/444748 (0.0000%)
Done in 1777.8096282482147 sec.
Server Epoch:6 choose agents : ['FL', 'MA', 'NH', 'DC', 'VA', 'ID', 'ND', 'NE', 'OH', 'CT'].
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.7234, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   6, local model FL, internal_epoch   1,  Average loss: 0.0086, Accuracy: 90825/127170 (71.4201%), train_poison_data_count127170
Global model norm: 4.931890077230708.
Norm before scaling: 5.264220823068067. Distance: 1.8946275195015478
Total norm for 17 adversaries is: 5.264220823068067. distance: 1.8946275195015478
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.3441, Accuracy: 339835/444748 (76.4107%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 0.0000, Accuracy: 444747/444748 (99.9998%)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.7234, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   6, local model MA, internal_epoch   1,  Average loss: 0.0108, Accuracy: 24539/40748 (60.2214%), train_poison_data_count40748
Global model norm: 4.931890077230708.
Norm before scaling: 5.0286889043932685. Distance: 0.9763060271125045
Total norm for 17 adversaries is: 5.0286889043932685. distance: 0.9763060271125045
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.5882, Accuracy: 268131/444748 (60.2883%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 0.0340, Accuracy: 444566/444748 (99.9591%)
___Train Local_Simple,  epoch   6, local model NH, internal_epoch   1,  Average loss: 0.0152, Accuracy: 4308/8777 (49.0828%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.8503, Accuracy: 299010/444748 (67.2313%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model DC, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2018/4220 (47.8199%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.8463, Accuracy: 234892/444748 (52.8146%), Attack Success Rate:0/444748(0.000)
poison local model VA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.7234, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   6, local model VA, internal_epoch   1,  Average loss: 0.0105, Accuracy: 30885/49488 (62.4091%), train_poison_data_count49488
Global model norm: 4.931890077230708.
Norm before scaling: 5.048666810164699. Distance: 1.1247102576240409
Total norm for 17 adversaries is: 5.048666810164699. distance: 1.1247102576240409
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.6795, Accuracy: 323710/444748 (72.7850%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 0.0175, Accuracy: 444697/444748 (99.9885%)
___Train Local_Simple,  epoch   6, local model ID, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1816/3385 (53.6484%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.9483, Accuracy: 180360/444748 (40.5533%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model ND, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1410/2822 (49.9646%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.9278, Accuracy: 187442/444748 (42.1457%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model NE, internal_epoch   1,  Average loss: 0.0146, Accuracy: 3345/6144 (54.4434%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.8481, Accuracy: 231411/444748 (52.0319%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model OH, internal_epoch   1,  Average loss: 0.0112, Accuracy: 40697/59283 (68.6487%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.4819, Accuracy: 367372/444748 (82.6023%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model CT, internal_epoch   1,  Average loss: 0.0137, Accuracy: 16517/28136 (58.7042%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.6010, Accuracy: 358865/444748 (80.6895%), Attack Success Rate:0/444748(0.000)
time spent on training: 764.375245809555
[foolsgold agg] training data poison_ratio: 0.6584608674846217  data num: [127170, 40748, 8777, 4220, 49488, 3385, 2822, 6144, 59283, 28136]
[foolsgold agg] considering poison per batch poison_fraction: 0.6584608674846217
[foolsgold agg] wv: [0.         0.         1.         0.68940227 0.         0.
 0.         0.18376726 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 6: Average loss: 1.0955, Accuracy: 188887/444748 (42.4706%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 6: Average loss: 1.7154, Accuracy: 0/444748 (0.0000%)
Done in 1565.455642938614 sec.
Server Epoch:7 choose agents : ['OH', 'AZ', 'NC', 'MN', 'ID', 'GA', 'WY', 'AK', 'IA', 'IN'].
___Train Local_Simple,  epoch   7, local model OH, internal_epoch   1,  Average loss: 0.0112, Accuracy: 40595/59283 (68.4766%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.4729, Accuracy: 375003/444748 (84.3181%), Attack Success Rate:0/444748(0.000)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.7154, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   7, local model AZ, internal_epoch   1,  Average loss: 0.0110, Accuracy: 25640/42368 (60.5174%), train_poison_data_count42368
Global model norm: 4.931834966777211.
Norm before scaling: 5.023367636567064. Distance: 0.9966042201680662
Total norm for 17 adversaries is: 5.023367636567064. distance: 0.9966042201680662
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.6498, Accuracy: 215662/444748 (48.4908%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 0.0334, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch   7, local model NC, internal_epoch   1,  Average loss: 0.0116, Accuracy: 32661/49376 (66.1475%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.4651, Accuracy: 373253/444748 (83.9246%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   7, local model MN, internal_epoch   1,  Average loss: 0.0131, Accuracy: 18595/31151 (59.6931%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.6457, Accuracy: 366342/444748 (82.3707%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   7, local model ID, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1822/3385 (53.8257%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.9362, Accuracy: 179779/444748 (40.4227%), Attack Success Rate:0/444748(0.000)
poison local model GA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.7154, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   7, local model GA, internal_epoch   1,  Average loss: 0.0104, Accuracy: 36267/58387 (62.1149%), train_poison_data_count58387
Global model norm: 4.931834966777211.
Norm before scaling: 5.075996210949072. Distance: 1.190359237125898
Total norm for 17 adversaries is: 5.075996210949072. distance: 1.190359237125898
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.6346, Accuracy: 334078/444748 (75.1162%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 0.0073, Accuracy: 444715/444748 (99.9926%)
___Train Local_Simple,  epoch   7, local model WY, internal_epoch   1,  Average loss: 0.0158, Accuracy: 1695/3752 (45.1759%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.8474, Accuracy: 236087/444748 (53.0833%), Attack Success Rate:0/444748(0.000)
poison local model AK will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.7154, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   7, local model AK, internal_epoch   1,  Average loss: 0.0152, Accuracy: 1860/4112 (45.2335%), train_poison_data_count4112
Global model norm: 4.931834966777211.
Norm before scaling: 4.939929798878389. Distance: 0.3341228131266568
Total norm for 17 adversaries is: 4.939929798878389. distance: 0.3341228131266568
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.0466, Accuracy: 215433/444748 (48.4393%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 0.3939, Accuracy: 444431/444748 (99.9287%)
___Train Local_Simple,  epoch   7, local model IA, internal_epoch   1,  Average loss: 0.2636, Accuracy: 0/5 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.0927, Accuracy: 190024/444748 (42.7262%), Attack Success Rate:0/444748(0.000)
poison local model IN will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.7154, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   7, local model IN, internal_epoch   1,  Average loss: 0.0116, Accuracy: 16826/29580 (56.8830%), train_poison_data_count29580
Global model norm: 4.931834966777211.
Norm before scaling: 4.997876288486894. Distance: 0.8035237684194211
Total norm for 17 adversaries is: 4.997876288486894. distance: 0.8035237684194211
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.5180, Accuracy: 256292/444748 (57.6263%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 0.0850, Accuracy: 444587/444748 (99.9638%)
time spent on training: 961.9663143157959
[foolsgold agg] training data poison_ratio: 0.4777806602013511  data num: [59283, 42368, 49376, 31151, 3385, 58387, 3752, 4112, 5, 29580]
[foolsgold agg] considering poison per batch poison_fraction: 0.4777806602013511
[foolsgold agg] wv: [0.         0.         0.         1.         0.56849931 0.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 7: Average loss: 1.0945, Accuracy: 189142/444748 (42.5279%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 7: Average loss: 1.7104, Accuracy: 0/444748 (0.0000%)
Done in 1769.5184211730957 sec.
Server Epoch:8 choose agents : ['NM', 'MT', 'VT', 'IA', 'KS', 'AZ', 'DC', 'MD', 'FL', 'IN'].
___Train Local_Simple,  epoch   8, local model NM, internal_epoch   1,  Average loss: 0.0150, Accuracy: 4724/9436 (50.0636%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.7719, Accuracy: 243623/444748 (54.7778%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model MT, internal_epoch   1,  Average loss: 0.0157, Accuracy: 2236/4970 (44.9899%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.8412, Accuracy: 238095/444748 (53.5348%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model VT, internal_epoch   1,  Average loss: 0.0156, Accuracy: 1726/3888 (44.3930%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.8885, Accuracy: 313636/444748 (70.5199%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model IA, internal_epoch   1,  Average loss: 0.2463, Accuracy: 1/5 (20.0000%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.0931, Accuracy: 189722/444748 (42.6583%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model KS, internal_epoch   1,  Average loss: 0.0141, Accuracy: 8094/15078 (53.6809%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.7132, Accuracy: 358275/444748 (80.5569%), Attack Success Rate:0/444748(0.000)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.7104, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   8, local model AZ, internal_epoch   1,  Average loss: 0.0109, Accuracy: 25768/42368 (60.8195%), train_poison_data_count42368
Global model norm: 4.9318194970655345.
Norm before scaling: 5.040306517347766. Distance: 1.0499905585818199
Total norm for 17 adversaries is: 5.040306517347766. distance: 1.0499905585818199
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6519, Accuracy: 285760/444748 (64.2521%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 0.0747, Accuracy: 444558/444748 (99.9573%)
___Train Local_Simple,  epoch   8, local model DC, internal_epoch   1,  Average loss: 0.0151, Accuracy: 2081/4220 (49.3128%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.8450, Accuracy: 233403/444748 (52.4798%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model MD, internal_epoch   1,  Average loss: 0.0124, Accuracy: 27119/42316 (64.0869%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.5258, Accuracy: 366503/444748 (82.4069%), Attack Success Rate:0/444748(0.000)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.7104, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   8, local model FL, internal_epoch   1,  Average loss: 0.0084, Accuracy: 91429/127170 (71.8951%), train_poison_data_count127170
Global model norm: 4.9318194970655345.
Norm before scaling: 5.269714940448759. Distance: 1.8840345793221374
Total norm for 17 adversaries is: 5.269714940448759. distance: 1.8840345793221374
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.4679, Accuracy: 340498/444748 (76.5598%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
poison local model IN will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.7104, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   8, local model IN, internal_epoch   1,  Average loss: 0.0116, Accuracy: 16716/29580 (56.5112%), train_poison_data_count29580
Global model norm: 4.9318194970655345.
Norm before scaling: 4.996902841725418. Distance: 0.8115975429885018
Total norm for 17 adversaries is: 4.996902841725418. distance: 0.8115975429885018
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5179, Accuracy: 215525/444748 (48.4600%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 0.0682, Accuracy: 444748/444748 (100.0000%)
time spent on training: 760.5347383022308
[foolsgold agg] training data poison_ratio: 0.7136052983360271  data num: [9436, 4970, 3888, 5, 15078, 42368, 4220, 42316, 127170, 29580]
[foolsgold agg] considering poison per batch poison_fraction: 0.7136052983360271
[foolsgold agg] wv: [0.         0.         0.         1.         0.         0.
 0.         0.32331127 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 8: Average loss: 1.0942, Accuracy: 189230/444748 (42.5477%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 8: Average loss: 1.7100, Accuracy: 0/444748 (0.0000%)
Done in 1564.616290807724 sec.
Server Epoch:9 choose agents : ['UT', 'WI', 'AZ', 'OH', 'NH', 'SD', 'CA', 'IA', 'MD', 'WY'].
___Train Local_Simple,  epoch   9, local model UT, internal_epoch   1,  Average loss: 0.0143, Accuracy: 6480/11827 (54.7899%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.7714, Accuracy: 240238/444748 (54.0167%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model WI, internal_epoch   1,  Average loss: 0.0133, Accuracy: 13566/23488 (57.7572%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.5976, Accuracy: 363355/444748 (81.6991%), Attack Success Rate:0/444748(0.000)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.7100, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   9, local model AZ, internal_epoch   1,  Average loss: 0.0109, Accuracy: 25822/42368 (60.9469%), train_poison_data_count42368
Global model norm: 4.931817563348163.
Norm before scaling: 5.029443641669182. Distance: 1.0292624770032046
Total norm for 17 adversaries is: 5.029443641669182. distance: 1.0292624770032046
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.5945, Accuracy: 273278/444748 (61.4456%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 0.0421, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch   9, local model OH, internal_epoch   1,  Average loss: 0.0111, Accuracy: 40819/59283 (68.8545%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.4338, Accuracy: 376830/444748 (84.7289%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model NH, internal_epoch   1,  Average loss: 0.0149, Accuracy: 4353/8777 (49.5955%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.7997, Accuracy: 261905/444748 (58.8884%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model SD, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1592/3593 (44.3084%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.8534, Accuracy: 260394/444748 (58.5487%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.7100, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   9, local model CA, internal_epoch   1,  Average loss: 0.0073, Accuracy: 194050/247628 (78.3635%), train_poison_data_count247628
Global model norm: 4.931817563348163.
Norm before scaling: 5.836559747616741. Distance: 3.2626017762894346
Total norm for 17 adversaries is: 5.836559747616741. distance: 3.2626017762894346
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 3.0620, Accuracy: 349456/444748 (78.5739%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 0.3742, Accuracy: 444048/444748 (99.8426%)
___Train Local_Simple,  epoch   9, local model IA, internal_epoch   1,  Average loss: 0.2657, Accuracy: 1/5 (20.0000%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.0922, Accuracy: 190802/444748 (42.9011%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model MD, internal_epoch   1,  Average loss: 0.0124, Accuracy: 27236/42316 (64.3634%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.4953, Accuracy: 368149/444748 (82.7770%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model WY, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1746/3752 (46.5352%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.8552, Accuracy: 235788/444748 (53.0161%), Attack Success Rate:0/444748(0.000)
time spent on training: 571.9558062553406
[foolsgold agg] training data poison_ratio: 0.6545638400404481  data num: [11827, 23488, 42368, 59283, 8777, 3593, 247628, 5, 42316, 3752]
[foolsgold agg] considering poison per batch poison_fraction: 0.6545638400404481
[foolsgold agg] wv: [1. 0. 0. 0. 0. 0. 1. 1. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 9: Average loss: 1.0922, Accuracy: 189781/444748 (42.6716%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 9: Average loss: 1.7026, Accuracy: 0/444748 (0.0000%)
Done in 1379.570970773697 sec.
Server Epoch:10 choose agents : ['ME', 'OR', 'MT', 'NM', 'MN', 'PA', 'GA', 'CO', 'IA', 'SD'].
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.7026, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  10, local model ME, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2027/3927 (51.6170%), train_poison_data_count3927
Global model norm: 4.931705019690971.
Norm before scaling: 4.943128829879329. Distance: 0.2794743354262249
Total norm for 17 adversaries is: 4.943128829879329. distance: 0.2794743354262249
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.0426, Accuracy: 175592/444748 (39.4812%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.6418, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  10, local model OR, internal_epoch   1,  Average loss: 0.0135, Accuracy: 12219/21174 (57.7076%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.6439, Accuracy: 360097/444748 (80.9665%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model MT, internal_epoch   1,  Average loss: 0.0153, Accuracy: 2324/4970 (46.7606%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.8321, Accuracy: 238288/444748 (53.5782%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model NM, internal_epoch   1,  Average loss: 0.0150, Accuracy: 4648/9436 (49.2582%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.7837, Accuracy: 242733/444748 (54.5776%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model MN, internal_epoch   1,  Average loss: 0.0127, Accuracy: 18855/31151 (60.5278%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.5978, Accuracy: 361588/444748 (81.3018%), Attack Success Rate:0/444748(0.000)
poison local model PA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.7026, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  10, local model PA, internal_epoch   1,  Average loss: 0.0101, Accuracy: 38840/60498 (64.2005%), train_poison_data_count60498
Global model norm: 4.931705019690971.
Norm before scaling: 5.092872965380534. Distance: 1.2419933431265755
Total norm for 17 adversaries is: 5.092872965380534. distance: 1.2419933431265755
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.7089, Accuracy: 335117/444748 (75.3499%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 0.0027, Accuracy: 444716/444748 (99.9928%)
poison local model GA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.7026, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  10, local model GA, internal_epoch   1,  Average loss: 0.0104, Accuracy: 36564/58387 (62.6235%), train_poison_data_count58387
Global model norm: 4.931705019690971.
Norm before scaling: 5.073647740798042. Distance: 1.1999449379527158
Total norm for 17 adversaries is: 5.073647740798042. distance: 1.1999449379527158
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.6057, Accuracy: 334462/444748 (75.2026%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 0.0071, Accuracy: 444718/444748 (99.9933%)
poison local model CO will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.7026, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  10, local model CO, internal_epoch   1,  Average loss: 0.0109, Accuracy: 23028/38041 (60.5347%), train_poison_data_count38041
Global model norm: 4.931705019690971.
Norm before scaling: 5.0175959912342485. Distance: 0.913289550273629
Total norm for 17 adversaries is: 5.0175959912342485. distance: 0.913289550273629
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.5236, Accuracy: 215484/444748 (48.4508%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 0.0665, Accuracy: 444684/444748 (99.9856%)
___Train Local_Simple,  epoch  10, local model IA, internal_epoch   1,  Average loss: 0.2760, Accuracy: 0/5 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.0886, Accuracy: 191334/444748 (43.0208%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model SD, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1535/3593 (42.7220%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.8497, Accuracy: 237463/444748 (53.3927%), Attack Success Rate:0/444748(0.000)
time spent on training: 958.3066847324371
[foolsgold agg] training data poison_ratio: 0.6957851389814086  data num: [3927, 21174, 4970, 9436, 31151, 60498, 58387, 38041, 5, 3593]
[foolsgold agg] considering poison per batch poison_fraction: 0.6957851389814086
[foolsgold agg] wv: [0.         0.10000421 0.         0.         0.56476232 0.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 10: Average loss: 1.0917, Accuracy: 189942/444748 (42.7078%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 10: Average loss: 1.7016, Accuracy: 0/444748 (0.0000%)
Done in 1764.7008180618286 sec.
Server Epoch:11 choose agents : ['SD', 'OH', 'TN', 'WV', 'NC', 'TX', 'FL', 'RI', 'IA', 'AL'].
___Train Local_Simple,  epoch  11, local model SD, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1568/3593 (43.6404%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.8480, Accuracy: 239989/444748 (53.9607%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model OH, internal_epoch   1,  Average loss: 0.0111, Accuracy: 40503/59283 (68.3214%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.4367, Accuracy: 377603/444748 (84.9027%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model TN, internal_epoch   1,  Average loss: 0.0135, Accuracy: 16462/27944 (58.9107%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.5920, Accuracy: 359568/444748 (80.8476%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model WV, internal_epoch   1,  Average loss: 0.0154, Accuracy: 3127/6619 (47.2428%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.8353, Accuracy: 326103/444748 (73.3231%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model NC, internal_epoch   1,  Average loss: 0.0116, Accuracy: 32807/49376 (66.4432%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.4503, Accuracy: 369386/444748 (83.0551%), Attack Success Rate:0/444748(0.000)
poison local model TX will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.7016, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  11, local model TX, internal_epoch   1,  Average loss: 0.0080, Accuracy: 107892/146613 (73.5897%), train_poison_data_count146613
Global model norm: 4.931713528235897.
Norm before scaling: 5.301231730581877. Distance: 1.945501356647443
Total norm for 17 adversaries is: 5.301231730581877. distance: 1.945501356647443
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.5513, Accuracy: 340229/444748 (76.4993%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.0001, Accuracy: 444732/444748 (99.9964%)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.7016, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  11, local model FL, internal_epoch   1,  Average loss: 0.0084, Accuracy: 91210/127170 (71.7229%), train_poison_data_count127170
Global model norm: 4.931713528235897.
Norm before scaling: 5.246808126272202. Distance: 1.8372770576431166
Total norm for 17 adversaries is: 5.246808126272202. distance: 1.8372770576431166
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.5245, Accuracy: 337950/444748 (75.9869%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.0001, Accuracy: 444734/444748 (99.9969%)
poison local model RI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.7016, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  11, local model RI, internal_epoch   1,  Average loss: 0.0138, Accuracy: 3951/7885 (50.1078%), train_poison_data_count7885
Global model norm: 4.931713528235897.
Norm before scaling: 4.951317297852036. Distance: 0.46004525806821883
Total norm for 17 adversaries is: 4.951317297852036. distance: 0.46004525806821883
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.1373, Accuracy: 215561/444748 (48.4681%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.5433, Accuracy: 438245/444748 (98.5378%)
___Train Local_Simple,  epoch  11, local model IA, internal_epoch   1,  Average loss: 0.2565, Accuracy: 0/5 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.0898, Accuracy: 191107/444748 (42.9697%), Attack Success Rate:0/444748(0.000)
poison local model AL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.7016, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  11, local model AL, internal_epoch   1,  Average loss: 0.0118, Accuracy: 12161/21424 (56.7634%), train_poison_data_count21424
Global model norm: 4.931713528235897.
Norm before scaling: 4.981408650589213. Distance: 0.696485216244004
Total norm for 17 adversaries is: 4.981408650589213. distance: 0.696485216244004
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.4432, Accuracy: 215511/444748 (48.4569%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.1387, Accuracy: 444610/444748 (99.9690%)
time spent on training: 976.6347689628601
[foolsgold agg] training data poison_ratio: 0.6736695175945518  data num: [3593, 59283, 27944, 6619, 49376, 146613, 127170, 7885, 5, 21424]
[foolsgold agg] considering poison per batch poison_fraction: 0.6736695175945518
[foolsgold agg] wv: [0.89900113 0.         0.52771993 0.         0.         0.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 11: Average loss: 1.0909, Accuracy: 190165/444748 (42.7579%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 11: Average loss: 1.6997, Accuracy: 0/444748 (0.0000%)
Done in 1784.6784343719482 sec.
Server Epoch:12 choose agents : ['NY', 'HI', 'AK', 'NJ', 'KY', 'AZ', 'FL', 'WA', 'WV', 'DE'].
___Train Local_Simple,  epoch  12, local model NY, internal_epoch   1,  Average loss: 0.0090, Accuracy: 112048/146282 (76.5973%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.2467, Accuracy: 407106/444748 (91.5363%), Attack Success Rate:0/444748(0.000)
poison local model HI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.6997, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  12, local model HI, internal_epoch   1,  Average loss: 0.0134, Accuracy: 4554/8393 (54.2595%), train_poison_data_count8393
Global model norm: 4.931699218401922.
Norm before scaling: 4.95241043279418. Distance: 0.49210643100660345
Total norm for 17 adversaries is: 4.95241043279418. distance: 0.49210643100660345
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.1771, Accuracy: 215450/444748 (48.4432%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.2663, Accuracy: 444500/444748 (99.9442%)
poison local model AK will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.6997, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  12, local model AK, internal_epoch   1,  Average loss: 0.0151, Accuracy: 1913/4112 (46.5224%), train_poison_data_count4112
Global model norm: 4.931699218401922.
Norm before scaling: 4.939771684938122. Distance: 0.33347924833633746
Total norm for 17 adversaries is: 4.939771684938122. distance: 0.33347924833633746
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.0244, Accuracy: 215425/444748 (48.4375%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.3823, Accuracy: 444436/444748 (99.9298%)
___Train Local_Simple,  epoch  12, local model NJ, internal_epoch   1,  Average loss: 0.0122, Accuracy: 44346/65376 (67.8322%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.4281, Accuracy: 377599/444748 (84.9018%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  12, local model KY, internal_epoch   1,  Average loss: 0.0139, Accuracy: 9498/17242 (55.0864%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.6793, Accuracy: 356543/444748 (80.1674%), Attack Success Rate:0/444748(0.000)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.6997, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  12, local model AZ, internal_epoch   1,  Average loss: 0.0108, Accuracy: 25873/42368 (61.0673%), train_poison_data_count42368
Global model norm: 4.931699218401922.
Norm before scaling: 5.037201956363705. Distance: 1.01909221681878
Total norm for 17 adversaries is: 5.037201956363705. distance: 1.01909221681878
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.5981, Accuracy: 330557/444748 (74.3246%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.0540, Accuracy: 444677/444748 (99.9840%)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.6997, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  12, local model FL, internal_epoch   1,  Average loss: 0.0086, Accuracy: 91629/127170 (72.0524%), train_poison_data_count127170
Global model norm: 4.931699218401922.
Norm before scaling: 5.2626345148360025. Distance: 1.880939802785371
Total norm for 17 adversaries is: 5.2626345148360025. distance: 1.880939802785371
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.5374, Accuracy: 340760/444748 (76.6187%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.0001, Accuracy: 444748/444748 (100.0000%)
poison local model WA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.6997, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  12, local model WA, internal_epoch   1,  Average loss: 0.0115, Accuracy: 22302/37141 (60.0468%), train_poison_data_count37141
Global model norm: 4.931699218401922.
Norm before scaling: 5.032336005292772. Distance: 1.10215132106395
Total norm for 17 adversaries is: 5.032336005292772. distance: 1.10215132106395
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.4138, Accuracy: 295096/444748 (66.3513%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.0172, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch  12, local model WV, internal_epoch   1,  Average loss: 0.0154, Accuracy: 3110/6619 (46.9859%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.8434, Accuracy: 237169/444748 (53.3266%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  12, local model DE, internal_epoch   1,  Average loss: 0.0155, Accuracy: 2299/5070 (45.3452%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.8283, Accuracy: 254462/444748 (57.2149%), Attack Success Rate:0/444748(0.000)
time spent on training: 1177.6955392360687
[foolsgold agg] training data poison_ratio: 0.47672220856814124  data num: [146282, 8393, 4112, 65376, 17242, 42368, 127170, 37141, 6619, 5070]
[foolsgold agg] considering poison per batch poison_fraction: 0.47672220856814124
[foolsgold agg] wv: [1.         0.         0.         1.         0.74421996 0.
 0.         0.14658516 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 12: Average loss: 1.0883, Accuracy: 191180/444748 (42.9861%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 12: Average loss: 1.6976, Accuracy: 0/444748 (0.0000%)
Done in 1985.3330338001251 sec.
Server Epoch:13 choose agents : ['RI', 'OH', 'MS', 'CA', 'FL', 'MO', 'CT', 'SC', 'MT', 'MD'].
poison local model RI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.6976, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  13, local model RI, internal_epoch   1,  Average loss: 0.0137, Accuracy: 3973/7885 (50.3868%), train_poison_data_count7885
Global model norm: 4.931573135367409.
Norm before scaling: 4.95263322861857. Distance: 0.45759661665304235
Total norm for 17 adversaries is: 4.95263322861857. distance: 0.45759661665304235
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.1310, Accuracy: 215454/444748 (48.4441%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 0.4188, Accuracy: 444005/444748 (99.8329%)
___Train Local_Simple,  epoch  13, local model OH, internal_epoch   1,  Average loss: 0.0111, Accuracy: 40803/59283 (68.8275%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.4256, Accuracy: 377578/444748 (84.8971%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model MS, internal_epoch   1,  Average loss: 0.0148, Accuracy: 5253/9869 (53.2273%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.7824, Accuracy: 308578/444748 (69.3827%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.6976, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  13, local model CA, internal_epoch   1,  Average loss: 0.0069, Accuracy: 194727/247628 (78.6369%), train_poison_data_count247628
Global model norm: 4.931573135367409.
Norm before scaling: 5.936524321048832. Distance: 3.354504412277579
Total norm for 17 adversaries is: 5.936524321048832. distance: 3.354504412277579
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.8220, Accuracy: 355938/444748 (80.0314%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.6976, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  13, local model FL, internal_epoch   1,  Average loss: 0.0085, Accuracy: 91271/127170 (71.7709%), train_poison_data_count127170
Global model norm: 4.931573135367409.
Norm before scaling: 5.268295561717315. Distance: 1.855413624797903
Total norm for 17 adversaries is: 5.268295561717315. distance: 1.855413624797903
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.4505, Accuracy: 339853/444748 (76.4147%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 0.0001, Accuracy: 444740/444748 (99.9982%)
___Train Local_Simple,  epoch  13, local model MO, internal_epoch   1,  Average loss: 0.0129, Accuracy: 17034/28352 (60.0804%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.5742, Accuracy: 363220/444748 (81.6687%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model CT, internal_epoch   1,  Average loss: 0.0142, Accuracy: 16416/28136 (58.3452%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.5978, Accuracy: 345223/444748 (77.6222%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model SC, internal_epoch   1,  Average loss: 0.0133, Accuracy: 12689/22070 (57.4943%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.6316, Accuracy: 359530/444748 (80.8390%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model MT, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2382/4970 (47.9276%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.8212, Accuracy: 237373/444748 (53.3725%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model MD, internal_epoch   1,  Average loss: 0.0123, Accuracy: 27272/42316 (64.4484%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.5499, Accuracy: 369680/444748 (83.1212%), Attack Success Rate:0/444748(0.000)
time spent on training: 786.0626354217529
[foolsgold agg] training data poison_ratio: 0.6624492148753893  data num: [7885, 59283, 9869, 247628, 127170, 28352, 28136, 22070, 4970, 42316]
[foolsgold agg] considering poison per batch poison_fraction: 0.6624492148753893
[foolsgold agg] wv: [0.4228823  0.         0.33341453 0.         0.         0.
 1.         0.04743165 0.5229492  0.53086836]
___Test Target_Simple poisoned: False, epoch: 13: Average loss: 1.0864, Accuracy: 191727/444748 (43.1091%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 13: Average loss: 1.6898, Accuracy: 0/444748 (0.0000%)
Done in 1595.53946185112 sec.
Server Epoch:14 choose agents : ['HI', 'FL', 'NC', 'OH', 'KS', 'WY', 'NY', 'MI', 'CO', 'WV'].
poison local model HI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.6898, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  14, local model HI, internal_epoch   1,  Average loss: 0.0134, Accuracy: 4569/8393 (54.4382%), train_poison_data_count8393
Global model norm: 4.931486693142208.
Norm before scaling: 4.949216630388753. Distance: 0.4864910572843396
Total norm for 17 adversaries is: 4.949216630388753. distance: 0.4864910572843396
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.1739, Accuracy: 215475/444748 (48.4488%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 0.2396, Accuracy: 444559/444748 (99.9575%)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.6898, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  14, local model FL, internal_epoch   1,  Average loss: 0.0085, Accuracy: 92014/127170 (72.3551%), train_poison_data_count127170
Global model norm: 4.931486693142208.
Norm before scaling: 5.26800103164234. Distance: 1.9401455322225194
Total norm for 17 adversaries is: 5.26800103164234. distance: 1.9401455322225194
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.4617, Accuracy: 338894/444748 (76.1991%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch  14, local model NC, internal_epoch   1,  Average loss: 0.0115, Accuracy: 32839/49376 (66.5080%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.4831, Accuracy: 369753/444748 (83.1376%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model OH, internal_epoch   1,  Average loss: 0.0112, Accuracy: 40477/59283 (68.2776%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.4348, Accuracy: 367862/444748 (82.7125%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model KS, internal_epoch   1,  Average loss: 0.0140, Accuracy: 8173/15078 (54.2048%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.7024, Accuracy: 354054/444748 (79.6078%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model WY, internal_epoch   1,  Average loss: 0.0155, Accuracy: 1687/3752 (44.9627%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.8466, Accuracy: 235846/444748 (53.0291%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model NY, internal_epoch   1,  Average loss: 0.0086, Accuracy: 113338/146282 (77.4791%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.2296, Accuracy: 406811/444748 (91.4700%), Attack Success Rate:0/444748(0.000)
poison local model MI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.6898, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  14, local model MI, internal_epoch   1,  Average loss: 0.0106, Accuracy: 28333/46276 (61.2261%), train_poison_data_count46276
Global model norm: 4.931486693142208.
Norm before scaling: 5.046426570090893. Distance: 1.034269478477789
Total norm for 17 adversaries is: 5.046426570090893. distance: 1.034269478477789
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.6171, Accuracy: 329332/444748 (74.0491%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 0.0184, Accuracy: 444721/444748 (99.9939%)
poison local model CO will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.6898, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  14, local model CO, internal_epoch   1,  Average loss: 0.0109, Accuracy: 23037/38041 (60.5583%), train_poison_data_count38041
Global model norm: 4.931486693142208.
Norm before scaling: 5.025527258393244. Distance: 0.9404127331371013
Total norm for 17 adversaries is: 5.025527258393244. distance: 0.9404127331371013
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.5543, Accuracy: 265446/444748 (59.6846%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 0.0485, Accuracy: 444704/444748 (99.9901%)
___Train Local_Simple,  epoch  14, local model WV, internal_epoch   1,  Average loss: 0.0154, Accuracy: 3101/6619 (46.8500%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.8422, Accuracy: 283915/444748 (63.8373%), Attack Success Rate:0/444748(0.000)
time spent on training: 976.8302736282349
[foolsgold agg] training data poison_ratio: 0.439522657764807  data num: [8393, 127170, 49376, 59283, 15078, 3752, 146282, 46276, 38041, 6619]
[foolsgold agg] considering poison per batch poison_fraction: 0.439522657764807
[foolsgold agg] wv: [0.         0.61309836 0.         0.         0.32858656 0.18563787
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 14: Average loss: 1.0839, Accuracy: 192692/444748 (43.3261%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 14: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
Done in 1784.5319917201996 sec.
Server Epoch:15 choose agents : ['TX', 'AK', 'PA', 'RI', 'NE', 'NJ', 'WA', 'OR', 'TN', 'VA'].
poison local model TX will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model TX, internal_epoch   1,  Average loss: 0.0079, Accuracy: 108346/146613 (73.8993%), train_poison_data_count146613
Global model norm: 4.931454784555391.
Norm before scaling: 5.310487253710922. Distance: 1.9789863169632227
Total norm for 17 adversaries is: 5.310487253710922. distance: 1.9789863169632227
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.5302, Accuracy: 343484/444748 (77.2312%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
poison local model AK will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model AK, internal_epoch   1,  Average loss: 0.0149, Accuracy: 1931/4112 (46.9601%), train_poison_data_count4112
Global model norm: 4.931454784555391.
Norm before scaling: 4.940271879120017. Distance: 0.3311115654890963
Total norm for 17 adversaries is: 4.940271879120017. distance: 0.3311115654890963
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.0402, Accuracy: 215424/444748 (48.4373%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.3452, Accuracy: 444449/444748 (99.9328%)
poison local model PA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model PA, internal_epoch   1,  Average loss: 0.0100, Accuracy: 39099/60498 (64.6286%), train_poison_data_count60498
Global model norm: 4.931454784555391.
Norm before scaling: 5.097120983332217. Distance: 1.2473951378211814
Total norm for 17 adversaries is: 5.097120983332217. distance: 1.2473951378211814
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.7311, Accuracy: 334867/444748 (75.2936%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.0019, Accuracy: 444723/444748 (99.9944%)
poison local model RI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model RI, internal_epoch   1,  Average loss: 0.0137, Accuracy: 3999/7885 (50.7166%), train_poison_data_count7885
Global model norm: 4.931454784555391.
Norm before scaling: 4.951666102675221. Distance: 0.45388851295260035
Total norm for 17 adversaries is: 4.951666102675221. distance: 0.45388851295260035
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.1364, Accuracy: 215442/444748 (48.4414%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.4130, Accuracy: 444389/444748 (99.9193%)
___Train Local_Simple,  epoch  15, local model NE, internal_epoch   1,  Average loss: 0.0145, Accuracy: 3341/6144 (54.3783%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.8363, Accuracy: 244869/444748 (55.0579%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  15, local model NJ, internal_epoch   1,  Average loss: 0.0122, Accuracy: 43411/65376 (66.4020%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.4393, Accuracy: 376431/444748 (84.6392%), Attack Success Rate:0/444748(0.000)
poison local model WA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model WA, internal_epoch   1,  Average loss: 0.0111, Accuracy: 22554/37141 (60.7253%), train_poison_data_count37141
Global model norm: 4.931454784555391.
Norm before scaling: 5.014784317627163. Distance: 0.9624195610221087
Total norm for 17 adversaries is: 5.014784317627163. distance: 0.9624195610221087
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.5153, Accuracy: 240150/444748 (53.9969%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.0663, Accuracy: 444733/444748 (99.9966%)
___Train Local_Simple,  epoch  15, local model OR, internal_epoch   1,  Average loss: 0.0135, Accuracy: 12067/21174 (56.9897%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.6764, Accuracy: 359622/444748 (80.8597%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  15, local model TN, internal_epoch   1,  Average loss: 0.0132, Accuracy: 16996/27944 (60.8216%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.5480, Accuracy: 362176/444748 (81.4340%), Attack Success Rate:0/444748(0.000)
poison local model VA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model VA, internal_epoch   1,  Average loss: 0.0106, Accuracy: 31273/49488 (63.1931%), train_poison_data_count49488
Global model norm: 4.931454784555391.
Norm before scaling: 5.050590918687603. Distance: 1.1091620012429297
Total norm for 17 adversaries is: 5.050590918687603. distance: 1.1091620012429297
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.5797, Accuracy: 331264/444748 (74.4835%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.0136, Accuracy: 444712/444748 (99.9919%)
time spent on training: 1381.747703075409
[foolsgold agg] training data poison_ratio: 0.7170612723541483  data num: [146613, 4112, 60498, 7885, 6144, 65376, 37141, 21174, 27944, 49488]
[foolsgold agg] considering poison per batch poison_fraction: 0.7170612723541483
[foolsgold agg] wv: [0. 0. 0. 0. 1. 1. 0. 1. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 15: Average loss: 1.0812, Accuracy: 193897/444748 (43.5970%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 15: Average loss: 1.6762, Accuracy: 0/444748 (0.0000%)
Done in 2189.0689899921417 sec.
Server Epoch:16 choose agents : ['DC', 'FL', 'GA', 'AK', 'UT', 'AL', 'LA', 'NM', 'OK', 'MI'].
___Train Local_Simple,  epoch  16, local model DC, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2007/4220 (47.5592%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.8417, Accuracy: 234340/444748 (52.6905%), Attack Success Rate:0/444748(0.000)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.6762, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  16, local model FL, internal_epoch   1,  Average loss: 0.0084, Accuracy: 91742/127170 (72.1412%), train_poison_data_count127170
Global model norm: 4.931346873986573.
Norm before scaling: 5.292730549875365. Distance: 1.940099694846374
Total norm for 17 adversaries is: 5.292730549875365. distance: 1.940099694846374
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.4376, Accuracy: 340283/444748 (76.5114%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.0002, Accuracy: 444744/444748 (99.9991%)
poison local model GA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.6762, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  16, local model GA, internal_epoch   1,  Average loss: 0.0102, Accuracy: 37140/58387 (63.6101%), train_poison_data_count58387
Global model norm: 4.931346873986573.
Norm before scaling: 5.0835602297981435. Distance: 1.1819971981047648
Total norm for 17 adversaries is: 5.0835602297981435. distance: 1.1819971981047648
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.6024, Accuracy: 332301/444748 (74.7167%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.0065, Accuracy: 444680/444748 (99.9847%)
poison local model AK will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.6762, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  16, local model AK, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1911/4112 (46.4737%), train_poison_data_count4112
Global model norm: 4.931346873986573.
Norm before scaling: 4.940359904966498. Distance: 0.3340531997706417
Total norm for 17 adversaries is: 4.940359904966498. distance: 0.3340531997706417
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.0368, Accuracy: 215447/444748 (48.4425%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.4176, Accuracy: 444359/444748 (99.9125%)
___Train Local_Simple,  epoch  16, local model UT, internal_epoch   1,  Average loss: 0.0139, Accuracy: 6592/11827 (55.7369%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.7500, Accuracy: 242336/444748 (54.4884%), Attack Success Rate:0/444748(0.000)
poison local model AL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.6762, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  16, local model AL, internal_epoch   1,  Average loss: 0.0117, Accuracy: 12327/21424 (57.5383%), train_poison_data_count21424
Global model norm: 4.931346873986573.
Norm before scaling: 4.982094174101804. Distance: 0.6887277347891331
Total norm for 17 adversaries is: 4.982094174101804. distance: 0.6887277347891331
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4393, Accuracy: 215468/444748 (48.4472%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.1494, Accuracy: 444529/444748 (99.9508%)
___Train Local_Simple,  epoch  16, local model LA, internal_epoch   1,  Average loss: 0.0137, Accuracy: 11255/20228 (55.6407%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.6827, Accuracy: 360097/444748 (80.9665%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  16, local model NM, internal_epoch   1,  Average loss: 0.0150, Accuracy: 4705/9436 (49.8622%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.7711, Accuracy: 291474/444748 (65.5369%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  16, local model OK, internal_epoch   1,  Average loss: 0.0140, Accuracy: 8830/16276 (54.2517%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.6785, Accuracy: 363316/444748 (81.6903%), Attack Success Rate:0/444748(0.000)
poison local model MI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.6762, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  16, local model MI, internal_epoch   1,  Average loss: 0.0106, Accuracy: 28484/46276 (61.5524%), train_poison_data_count46276
Global model norm: 4.931346873986573.
Norm before scaling: 5.048071751853893. Distance: 1.031757865463531
Total norm for 17 adversaries is: 5.048071751853893. distance: 1.031757865463531
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.6486, Accuracy: 316008/444748 (71.0533%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.0102, Accuracy: 444745/444748 (99.9993%)
time spent on training: 1172.2429895401
[foolsgold agg] training data poison_ratio: 0.8058999987474793  data num: [4220, 127170, 58387, 4112, 11827, 21424, 20228, 9436, 16276, 46276]
[foolsgold agg] considering poison per batch poison_fraction: 0.8058999987474793
[foolsgold agg] wv: [0.52914157 0.34218531 0.         0.70405456 0.52914157 0.
 1.         1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 16: Average loss: 1.0778, Accuracy: 195476/444748 (43.9521%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 16: Average loss: 1.6637, Accuracy: 0/444748 (0.0000%)
Done in 1975.9975216388702 sec.
Server Epoch:17 choose agents : ['OR', 'WI', 'WV', 'KY', 'VT', 'ME', 'ND', 'PA', 'DC', 'NY'].
___Train Local_Simple,  epoch  17, local model OR, internal_epoch   1,  Average loss: 0.0139, Accuracy: 12143/21174 (57.3486%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.6488, Accuracy: 360039/444748 (80.9535%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model WI, internal_epoch   1,  Average loss: 0.0133, Accuracy: 13623/23488 (57.9998%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.6514, Accuracy: 361608/444748 (81.3063%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model WV, internal_epoch   1,  Average loss: 0.0153, Accuracy: 3181/6619 (48.0586%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.8463, Accuracy: 330336/444748 (74.2749%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model KY, internal_epoch   1,  Average loss: 0.0138, Accuracy: 9578/17242 (55.5504%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.6758, Accuracy: 359966/444748 (80.9371%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model VT, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1848/3888 (47.5309%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.8671, Accuracy: 319839/444748 (71.9147%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.6637, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  17, local model ME, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2061/3927 (52.4828%), train_poison_data_count3927
Global model norm: 4.931355576539338.
Norm before scaling: 4.943661864757403. Distance: 0.27543861566208994
Total norm for 17 adversaries is: 4.943661864757403. distance: 0.27543861566208994
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.0338, Accuracy: 175680/444748 (39.5010%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.6430, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  17, local model ND, internal_epoch   1,  Average loss: 0.0156, Accuracy: 1431/2822 (50.7087%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.9047, Accuracy: 192103/444748 (43.1937%), Attack Success Rate:0/444748(0.000)
poison local model PA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.6637, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  17, local model PA, internal_epoch   1,  Average loss: 0.0101, Accuracy: 39222/60498 (64.8319%), train_poison_data_count60498
Global model norm: 4.931355576539338.
Norm before scaling: 5.101755042188722. Distance: 1.2707209719821475
Total norm for 17 adversaries is: 5.101755042188722. distance: 1.2707209719821475
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.7154, Accuracy: 334524/444748 (75.2165%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 0.0016, Accuracy: 444721/444748 (99.9939%)
___Train Local_Simple,  epoch  17, local model DC, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2083/4220 (49.3602%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.8295, Accuracy: 235428/444748 (52.9351%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model NY, internal_epoch   1,  Average loss: 0.0097, Accuracy: 111589/146282 (76.2835%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.2458, Accuracy: 403452/444748 (90.7147%), Attack Success Rate:0/444748(0.000)
time spent on training: 551.6323850154877
[foolsgold agg] training data poison_ratio: 0.22203267162944582  data num: [21174, 23488, 6619, 17242, 3888, 3927, 2822, 60498, 4220, 146282]
[foolsgold agg] considering poison per batch poison_fraction: 0.22203267162944582
[foolsgold agg] wv: [0.78553584 0.         0.         0.         0.         0.
 0.         0.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 17: Average loss: 1.0761, Accuracy: 196435/444748 (44.1677%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 17: Average loss: 1.6590, Accuracy: 0/444748 (0.0000%)
Done in 1358.3444850444794 sec.
Server Epoch:18 choose agents : ['ID', 'OK', 'SD', 'RI', 'LA', 'CA', 'ME', 'AZ', 'KY', 'AK'].
___Train Local_Simple,  epoch  18, local model ID, internal_epoch   1,  Average loss: 0.0147, Accuracy: 1851/3385 (54.6824%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.9165, Accuracy: 186922/444748 (42.0287%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  18, local model OK, internal_epoch   1,  Average loss: 0.0140, Accuracy: 8873/16276 (54.5159%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.6782, Accuracy: 364602/444748 (81.9795%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  18, local model SD, internal_epoch   1,  Average loss: 0.0160, Accuracy: 1634/3593 (45.4773%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.8348, Accuracy: 238184/444748 (53.5548%), Attack Success Rate:0/444748(0.000)
poison local model RI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.6590, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  18, local model RI, internal_epoch   1,  Average loss: 0.0137, Accuracy: 3940/7885 (49.9683%), train_poison_data_count7885
Global model norm: 4.931165664009698.
Norm before scaling: 4.951689021623846. Distance: 0.4400338976438842
Total norm for 17 adversaries is: 4.951689021623846. distance: 0.4400338976438842
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.1167, Accuracy: 215753/444748 (48.5113%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.5183, Accuracy: 440743/444748 (99.0995%)
___Train Local_Simple,  epoch  18, local model LA, internal_epoch   1,  Average loss: 0.0136, Accuracy: 11646/20228 (57.5737%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.6425, Accuracy: 359008/444748 (80.7217%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.6590, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  18, local model CA, internal_epoch   1,  Average loss: 0.0067, Accuracy: 195733/247628 (79.0432%), train_poison_data_count247628
Global model norm: 4.931165664009698.
Norm before scaling: 5.545651926942386. Distance: 2.5855693266925845
Total norm for 17 adversaries is: 5.545651926942386. distance: 2.5855693266925845
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 3.1856, Accuracy: 356971/444748 (80.2637%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.6590, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  18, local model ME, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2067/3927 (52.6356%), train_poison_data_count3927
Global model norm: 4.931165664009698.
Norm before scaling: 4.94420757273993. Distance: 0.2717844450526949
Total norm for 17 adversaries is: 4.94420757273993. distance: 0.2717844450526949
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.0344, Accuracy: 175723/444748 (39.5107%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.6208, Accuracy: 0/444748 (0.0000%)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.6590, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  18, local model AZ, internal_epoch   1,  Average loss: 0.0109, Accuracy: 26213/42368 (61.8698%), train_poison_data_count42368
Global model norm: 4.931165664009698.
Norm before scaling: 5.033244430733691. Distance: 1.0354736992974016
Total norm for 17 adversaries is: 5.033244430733691. distance: 1.0354736992974016
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.5344, Accuracy: 331490/444748 (74.5343%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.0526, Accuracy: 444700/444748 (99.9892%)
___Train Local_Simple,  epoch  18, local model KY, internal_epoch   1,  Average loss: 0.0138, Accuracy: 9620/17242 (55.7940%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.6733, Accuracy: 360449/444748 (81.0457%), Attack Success Rate:0/444748(0.000)
poison local model AK will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.6590, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  18, local model AK, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1957/4112 (47.5924%), train_poison_data_count4112
Global model norm: 4.931165664009698.
Norm before scaling: 4.939762611090806. Distance: 0.3388230242794936
Total norm for 17 adversaries is: 4.939762611090806. distance: 0.3388230242794936
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.0302, Accuracy: 215426/444748 (48.4378%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.3455, Accuracy: 444471/444748 (99.9377%)
time spent on training: 1176.4757075309753
[foolsgold agg] training data poison_ratio: 0.8343788525108825  data num: [3385, 16276, 3593, 7885, 20228, 247628, 3927, 42368, 17242, 4112]
[foolsgold agg] considering poison per batch poison_fraction: 0.8343788525108825
[foolsgold agg] wv: [0.         0.         1.         0.         0.08843707 1.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 18: Average loss: 1.0738, Accuracy: 198012/444748 (44.5223%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 18: Average loss: 1.6468, Accuracy: 0/444748 (0.0000%)
