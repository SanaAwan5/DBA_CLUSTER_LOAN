current path: saved_models/mnist_pretrain/model_loan_May.01_05.02.57
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
Loading data
load data done
create model done
Poisoned following participants: ['CA', 'TX', 'FL', 'HI', 'GA', 'WA', 'PA', 'VA', 'MA', 'AZ', 'CO', 'IN', 'MI', 'ME', 'RI', 'AL', 'AK']
We use following environment for graphs:  loan_DBA
Server Epoch:1 choose agents : ['MS', 'HI', 'OK', 'LA', 'ND', 'WY', 'WI', 'MT', 'MA', 'DE'].
___Train Local_Simple,  epoch   1, local model MS, internal_epoch   1,  Average loss: 0.0149, Accuracy: 5093/9869 (51.6060%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.8012, Accuracy: 295229/444748 (66.3812%), Attack Success Rate:0/444748(0.000)
poison local model HI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7715, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   1, local model HI, internal_epoch   1,  Average loss: 0.0136, Accuracy: 4430/8393 (52.7821%), train_poison_data_count8393
Global model norm: 4.932287821085101.
Norm before scaling: 4.951413216812744. Distance: 0.5028991393654059
Total norm for 17 adversaries is: 4.951413216812744. distance: 0.5028991393654059
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.2038, Accuracy: 215474/444748 (48.4486%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 0.2862, Accuracy: 444463/444748 (99.9359%)
___Train Local_Simple,  epoch   1, local model OK, internal_epoch   1,  Average loss: 0.0143, Accuracy: 8526/16276 (52.3839%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.7142, Accuracy: 360751/444748 (81.1136%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model LA, internal_epoch   1,  Average loss: 0.0139, Accuracy: 11208/20228 (55.4083%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.6849, Accuracy: 364840/444748 (82.0330%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model ND, internal_epoch   1,  Average loss: 0.0159, Accuracy: 1373/2822 (48.6534%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.9241, Accuracy: 190183/444748 (42.7620%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model WY, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1709/3752 (45.5490%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.8537, Accuracy: 235868/444748 (53.0341%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model WI, internal_epoch   1,  Average loss: 0.0135, Accuracy: 13337/23488 (56.7822%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.6155, Accuracy: 357904/444748 (80.4734%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   1, local model MT, internal_epoch   1,  Average loss: 0.0158, Accuracy: 2226/4970 (44.7887%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.8588, Accuracy: 237898/444748 (53.4905%), Attack Success Rate:0/444748(0.000)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7715, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   1, local model MA, internal_epoch   1,  Average loss: 0.0110, Accuracy: 24467/40748 (60.0447%), train_poison_data_count40748
Global model norm: 4.932287821085101.
Norm before scaling: 5.02192781583196. Distance: 0.9622108272786178
Total norm for 17 adversaries is: 5.02192781583196. distance: 0.9622108272786178
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.5703, Accuracy: 330165/444748 (74.2364%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 0.0745, Accuracy: 444415/444748 (99.9251%)
___Train Local_Simple,  epoch   1, local model DE, internal_epoch   1,  Average loss: 0.0158, Accuracy: 2252/5070 (44.4181%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 0.8413, Accuracy: 238901/444748 (53.7160%), Attack Success Rate:0/444748(0.000)
time spent on training: 551.9185376167297
[foolsgold agg] training data poison_ratio: 0.3623539995280793  data num: [9869, 8393, 16276, 20228, 2822, 3752, 23488, 4970, 40748, 5070]
[foolsgold agg] considering poison per batch poison_fraction: 0.3623539995280793
[foolsgold agg] wv: [0.22885709 0.         0.         1.         1.         0.
 0.         1.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 1: Average loss: 1.1081, Accuracy: 186110/444748 (41.8462%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 1: Average loss: 1.7661, Accuracy: 0/444748 (0.0000%)
Done in 1363.672000169754 sec.
Server Epoch:2 choose agents : ['MO', 'NH', 'WY', 'OR', 'DE', 'CT', 'WA', 'WV', 'WI', 'KY'].
___Train Local_Simple,  epoch   2, local model MO, internal_epoch   1,  Average loss: 0.0131, Accuracy: 16587/28352 (58.5038%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.5697, Accuracy: 362859/444748 (81.5876%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model NH, internal_epoch   1,  Average loss: 0.0156, Accuracy: 4244/8777 (48.3537%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.8256, Accuracy: 239467/444748 (53.8433%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model WY, internal_epoch   1,  Average loss: 0.0159, Accuracy: 1592/3752 (42.4307%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.8575, Accuracy: 235081/444748 (52.8571%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model OR, internal_epoch   1,  Average loss: 0.0139, Accuracy: 11563/21174 (54.6094%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.6630, Accuracy: 356475/444748 (80.1521%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model DE, internal_epoch   1,  Average loss: 0.0158, Accuracy: 2268/5070 (44.7337%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.8380, Accuracy: 239305/444748 (53.8069%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model CT, internal_epoch   1,  Average loss: 0.0137, Accuracy: 16473/28136 (58.5478%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.5827, Accuracy: 357105/444748 (80.2938%), Attack Success Rate:0/444748(0.000)
poison local model WA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.7661, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   2, local model WA, internal_epoch   1,  Average loss: 0.0113, Accuracy: 22414/37141 (60.3484%), train_poison_data_count37141
Global model norm: 4.932254950908036.
Norm before scaling: 5.010728388848912. Distance: 1.001815875730801
Total norm for 17 adversaries is: 5.010728388848912. distance: 1.001815875730801
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.5698, Accuracy: 325241/444748 (73.1293%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 0.0902, Accuracy: 444666/444748 (99.9816%)
___Train Local_Simple,  epoch   2, local model WV, internal_epoch   1,  Average loss: 0.0155, Accuracy: 3085/6619 (46.6082%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.8549, Accuracy: 231817/444748 (52.1232%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model WI, internal_epoch   1,  Average loss: 0.0135, Accuracy: 13265/23488 (56.4756%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.6241, Accuracy: 361064/444748 (81.1840%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   2, local model KY, internal_epoch   1,  Average loss: 0.0140, Accuracy: 9315/17242 (54.0251%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 0.6883, Accuracy: 360954/444748 (81.1592%), Attack Success Rate:0/444748(0.000)
time spent on training: 344.0806255340576
[foolsgold agg] training data poison_ratio: 0.2066247197512114  data num: [28352, 8777, 3752, 21174, 5070, 28136, 37141, 6619, 23488, 17242]
[foolsgold agg] considering poison per batch poison_fraction: 0.2066247197512114
[foolsgold agg] wv: [0.         1.         0.         1.         0.         1.
 0.19795289 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 2: Average loss: 1.1060, Accuracy: 186493/444748 (41.9323%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 2: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
Done in 1154.625812292099 sec.
Server Epoch:3 choose agents : ['ME', 'TN', 'GA', 'NH', 'IL', 'OR', 'IN', 'CO', 'MA', 'TX'].
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   3, local model ME, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1982/3927 (50.4711%), train_poison_data_count3927
Global model norm: 4.932150151586816.
Norm before scaling: 4.943629263116086. Distance: 0.27961330228798986
Total norm for 17 adversaries is: 4.943629263116086. distance: 0.27961330228798986
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.0517, Accuracy: 175583/444748 (39.4792%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.6893, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch   3, local model TN, internal_epoch   1,  Average loss: 0.0134, Accuracy: 16321/27944 (58.4061%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.6272, Accuracy: 355685/444748 (79.9745%), Attack Success Rate:0/444748(0.000)
poison local model GA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   3, local model GA, internal_epoch   1,  Average loss: 0.0105, Accuracy: 36083/58387 (61.7997%), train_poison_data_count58387
Global model norm: 4.932150151586816.
Norm before scaling: 5.075279025219982. Distance: 1.211337361920225
Total norm for 17 adversaries is: 5.075279025219982. distance: 1.211337361920225
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6589, Accuracy: 332967/444748 (74.8664%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 0.0091, Accuracy: 444720/444748 (99.9937%)
___Train Local_Simple,  epoch   3, local model NH, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4344/8777 (49.4930%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.7918, Accuracy: 301142/444748 (67.7107%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model IL, internal_epoch   1,  Average loss: 0.0113, Accuracy: 49527/71875 (68.9071%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.4125, Accuracy: 373828/444748 (84.0539%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   3, local model OR, internal_epoch   1,  Average loss: 0.0136, Accuracy: 11733/21174 (55.4123%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 0.7818, Accuracy: 357095/444748 (80.2915%), Attack Success Rate:0/444748(0.000)
poison local model IN will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   3, local model IN, internal_epoch   1,  Average loss: 0.0117, Accuracy: 16664/29580 (56.3354%), train_poison_data_count29580
Global model norm: 4.932150151586816.
Norm before scaling: 4.99432718810949. Distance: 0.8347321849474586
Total norm for 17 adversaries is: 4.99432718810949. distance: 0.8347321849474586
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.5147, Accuracy: 217403/444748 (48.8823%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 0.0541, Accuracy: 444748/444748 (100.0000%)
poison local model CO will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   3, local model CO, internal_epoch   1,  Average loss: 0.0111, Accuracy: 22764/38041 (59.8407%), train_poison_data_count38041
Global model norm: 4.932150151586816.
Norm before scaling: 5.015306694411985. Distance: 0.9075298151525257
Total norm for 17 adversaries is: 5.015306694411985. distance: 0.9075298151525257
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.5667, Accuracy: 215549/444748 (48.4654%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 0.0507, Accuracy: 444748/444748 (100.0000%)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   3, local model MA, internal_epoch   1,  Average loss: 0.0109, Accuracy: 24282/40748 (59.5907%), train_poison_data_count40748
Global model norm: 4.932150151586816.
Norm before scaling: 5.02523766709992. Distance: 0.9511899221850525
Total norm for 17 adversaries is: 5.02523766709992. distance: 0.9511899221850525
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6188, Accuracy: 254192/444748 (57.1542%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 0.0516, Accuracy: 444496/444748 (99.9433%)
poison local model TX will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7587, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   3, local model TX, internal_epoch   1,  Average loss: 0.0082, Accuracy: 106287/146613 (72.4949%), train_poison_data_count146613
Global model norm: 4.932150151586816.
Norm before scaling: 5.291177842197678. Distance: 1.9464038407340767
Total norm for 17 adversaries is: 5.291177842197678. distance: 1.9464038407340767
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.6605, Accuracy: 342520/444748 (77.0144%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
time spent on training: 1400.0244426727295
[foolsgold agg] training data poison_ratio: 0.7097296596028327  data num: [3927, 27944, 58387, 8777, 71875, 21174, 29580, 38041, 40748, 146613]
[foolsgold agg] considering poison per batch poison_fraction: 0.7097296596028327
[foolsgold agg] wv: [1.         1.         0.         0.1146861  1.         0.7566677
 0.         0.         0.         0.04244888]
___Test Target_Simple poisoned: False, epoch: 3: Average loss: 1.1031, Accuracy: 187035/444748 (42.0542%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 3: Average loss: 1.7498, Accuracy: 0/444748 (0.0000%)
Done in 2211.8672301769257 sec.
Server Epoch:4 choose agents : ['WV', 'DE', 'CO', 'MO', 'CT', 'OR', 'CA', 'TN', 'WI', 'WY'].
___Train Local_Simple,  epoch   4, local model WV, internal_epoch   1,  Average loss: 0.0157, Accuracy: 2994/6619 (45.2334%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.8540, Accuracy: 257341/444748 (57.8622%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model DE, internal_epoch   1,  Average loss: 0.0156, Accuracy: 2304/5070 (45.4438%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.8396, Accuracy: 274462/444748 (61.7118%), Attack Success Rate:0/444748(0.000)
poison local model CO will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.7498, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   4, local model CO, internal_epoch   1,  Average loss: 0.0111, Accuracy: 22805/38041 (59.9485%), train_poison_data_count38041
Global model norm: 4.932088856486798.
Norm before scaling: 5.011952609569577. Distance: 0.9046174175413276
Total norm for 17 adversaries is: 5.011952609569577. distance: 0.9046174175413276
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.5594, Accuracy: 215547/444748 (48.4650%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 0.0950, Accuracy: 444731/444748 (99.9962%)
___Train Local_Simple,  epoch   4, local model MO, internal_epoch   1,  Average loss: 0.0132, Accuracy: 16667/28352 (58.7860%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.5834, Accuracy: 358676/444748 (80.6470%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model CT, internal_epoch   1,  Average loss: 0.0137, Accuracy: 16337/28136 (58.0644%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.6013, Accuracy: 352909/444748 (79.3503%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model OR, internal_epoch   1,  Average loss: 0.0141, Accuracy: 11702/21174 (55.2659%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.6940, Accuracy: 350709/444748 (78.8557%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.7498, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   4, local model CA, internal_epoch   1,  Average loss: 0.0070, Accuracy: 192321/247628 (77.6653%), train_poison_data_count247628
Global model norm: 4.932088856486798.
Norm before scaling: 5.511734322377896. Distance: 2.5537298898376557
Total norm for 17 adversaries is: 5.511734322377896. distance: 2.5537298898376557
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 3.0928, Accuracy: 346874/444748 (77.9934%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 0.0001, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch   4, local model TN, internal_epoch   1,  Average loss: 0.0133, Accuracy: 16397/27944 (58.6781%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.5813, Accuracy: 364259/444748 (81.9023%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model WI, internal_epoch   1,  Average loss: 0.0135, Accuracy: 13589/23488 (57.8551%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.6237, Accuracy: 363390/444748 (81.7069%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   4, local model WY, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1684/3752 (44.8827%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 0.8498, Accuracy: 235950/444748 (53.0525%), Attack Success Rate:0/444748(0.000)
time spent on training: 575.0876498222351
[foolsgold agg] training data poison_ratio: 0.6640314827384217  data num: [6619, 5070, 38041, 28352, 28136, 21174, 247628, 27944, 23488, 3752]
[foolsgold agg] considering poison per batch poison_fraction: 0.6640314827384217
[foolsgold agg] wv: [0.         0.         0.         0.         0.         1.
 1.         0.69400256 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 4: Average loss: 1.1003, Accuracy: 187560/444748 (42.1722%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 4: Average loss: 1.7357, Accuracy: 0/444748 (0.0000%)
Done in 1388.7915425300598 sec.
Server Epoch:5 choose agents : ['FL', 'TN', 'NY', 'AL', 'CO', 'ME', 'NJ', 'ID', 'OR', 'KS'].
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.7357, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   5, local model FL, internal_epoch   1,  Average loss: 0.0086, Accuracy: 90509/127170 (71.1717%), train_poison_data_count127170
Global model norm: 4.932056565070962.
Norm before scaling: 5.262099537597051. Distance: 1.8906185685986296
Total norm for 17 adversaries is: 5.262099537597051. distance: 1.8906185685986296
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.4548, Accuracy: 339825/444748 (76.4084%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch   5, local model TN, internal_epoch   1,  Average loss: 0.0132, Accuracy: 16480/27944 (58.9751%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.5840, Accuracy: 358526/444748 (80.6133%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model NY, internal_epoch   1,  Average loss: 0.0088, Accuracy: 112122/146282 (76.6478%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.2417, Accuracy: 405051/444748 (91.0743%), Attack Success Rate:0/444748(0.000)
poison local model AL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.7357, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   5, local model AL, internal_epoch   1,  Average loss: 0.0118, Accuracy: 12106/21424 (56.5067%), train_poison_data_count21424
Global model norm: 4.932056565070962.
Norm before scaling: 4.980579808810777. Distance: 0.6967354476512216
Total norm for 17 adversaries is: 4.980579808810777. distance: 0.6967354476512216
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.4332, Accuracy: 229954/444748 (51.7043%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 0.2600, Accuracy: 444406/444748 (99.9231%)
poison local model CO will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.7357, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   5, local model CO, internal_epoch   1,  Average loss: 0.0110, Accuracy: 23097/38041 (60.7161%), train_poison_data_count38041
Global model norm: 4.932056565070962.
Norm before scaling: 5.017970027148366. Distance: 0.92082183292739
Total norm for 17 adversaries is: 5.017970027148366. distance: 0.92082183292739
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.5480, Accuracy: 234155/444748 (52.6489%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 0.0439, Accuracy: 444732/444748 (99.9964%)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.7357, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   5, local model ME, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1983/3927 (50.4966%), train_poison_data_count3927
Global model norm: 4.932056565070962.
Norm before scaling: 4.9436255978293575. Distance: 0.27496991589022973
Total norm for 17 adversaries is: 4.9436255978293575. distance: 0.27496991589022973
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.0464, Accuracy: 175600/444748 (39.4830%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.6923, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch   5, local model NJ, internal_epoch   1,  Average loss: 0.0122, Accuracy: 43777/65376 (66.9619%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.4457, Accuracy: 375065/444748 (84.3320%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model ID, internal_epoch   1,  Average loss: 0.0149, Accuracy: 1877/3385 (55.4505%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.9400, Accuracy: 183439/444748 (41.2456%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model OR, internal_epoch   1,  Average loss: 0.0137, Accuracy: 11798/21174 (55.7193%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.8146, Accuracy: 357005/444748 (80.2713%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   5, local model KS, internal_epoch   1,  Average loss: 0.0141, Accuracy: 8064/15078 (53.4819%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 0.7125, Accuracy: 353822/444748 (79.5556%), Attack Success Rate:0/444748(0.000)
time spent on training: 984.6955902576447
[foolsgold agg] training data poison_ratio: 0.4056228062520088  data num: [127170, 27944, 146282, 21424, 38041, 3927, 65376, 3385, 21174, 15078]
[foolsgold agg] considering poison per batch poison_fraction: 0.4056228062520088
[foolsgold agg] wv: [0.         0.         0.77301596 0.         0.         0.
 1.         0.         0.91536506 0.        ]
___Test Target_Simple poisoned: False, epoch: 5: Average loss: 1.0980, Accuracy: 188241/444748 (42.3253%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 5: Average loss: 1.7234, Accuracy: 0/444748 (0.0000%)
Done in 1797.7530920505524 sec.
Server Epoch:6 choose agents : ['FL', 'MA', 'NH', 'DC', 'VA', 'ID', 'ND', 'NE', 'OH', 'CT'].
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.7234, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   6, local model FL, internal_epoch   1,  Average loss: 0.0086, Accuracy: 90825/127170 (71.4201%), train_poison_data_count127170
Global model norm: 4.931890077230708.
Norm before scaling: 5.264220823068067. Distance: 1.8946275195015478
Total norm for 17 adversaries is: 5.264220823068067. distance: 1.8946275195015478
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.3441, Accuracy: 339835/444748 (76.4107%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 0.0000, Accuracy: 444747/444748 (99.9998%)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.7234, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   6, local model MA, internal_epoch   1,  Average loss: 0.0108, Accuracy: 24539/40748 (60.2214%), train_poison_data_count40748
Global model norm: 4.931890077230708.
Norm before scaling: 5.0286889043932685. Distance: 0.9763060271125045
Total norm for 17 adversaries is: 5.0286889043932685. distance: 0.9763060271125045
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.5882, Accuracy: 268131/444748 (60.2883%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 0.0340, Accuracy: 444566/444748 (99.9591%)
___Train Local_Simple,  epoch   6, local model NH, internal_epoch   1,  Average loss: 0.0152, Accuracy: 4308/8777 (49.0828%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.8503, Accuracy: 299010/444748 (67.2313%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model DC, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2018/4220 (47.8199%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.8463, Accuracy: 234892/444748 (52.8146%), Attack Success Rate:0/444748(0.000)
poison local model VA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.7234, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   6, local model VA, internal_epoch   1,  Average loss: 0.0105, Accuracy: 30885/49488 (62.4091%), train_poison_data_count49488
Global model norm: 4.931890077230708.
Norm before scaling: 5.048666810164699. Distance: 1.1247102576240409
Total norm for 17 adversaries is: 5.048666810164699. distance: 1.1247102576240409
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.6795, Accuracy: 323710/444748 (72.7850%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 0.0175, Accuracy: 444697/444748 (99.9885%)
___Train Local_Simple,  epoch   6, local model ID, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1816/3385 (53.6484%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.9483, Accuracy: 180360/444748 (40.5533%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model ND, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1410/2822 (49.9646%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.9278, Accuracy: 187442/444748 (42.1457%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model NE, internal_epoch   1,  Average loss: 0.0146, Accuracy: 3345/6144 (54.4434%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.8481, Accuracy: 231411/444748 (52.0319%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model OH, internal_epoch   1,  Average loss: 0.0112, Accuracy: 40697/59283 (68.6487%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.4819, Accuracy: 367372/444748 (82.6023%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   6, local model CT, internal_epoch   1,  Average loss: 0.0137, Accuracy: 16517/28136 (58.7042%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 0.6010, Accuracy: 358865/444748 (80.6895%), Attack Success Rate:0/444748(0.000)
time spent on training: 772.1364939212799
[foolsgold agg] training data poison_ratio: 0.6584608674846217  data num: [127170, 40748, 8777, 4220, 49488, 3385, 2822, 6144, 59283, 28136]
[foolsgold agg] considering poison per batch poison_fraction: 0.6584608674846217
[foolsgold agg] wv: [0.         0.         1.         0.68940227 0.         0.
 0.         0.18376726 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 6: Average loss: 1.0955, Accuracy: 188887/444748 (42.4706%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 6: Average loss: 1.7154, Accuracy: 0/444748 (0.0000%)
Done in 1583.1478612422943 sec.
Server Epoch:7 choose agents : ['OH', 'AZ', 'NC', 'MN', 'ID', 'GA', 'WY', 'AK', 'IA', 'IN'].
___Train Local_Simple,  epoch   7, local model OH, internal_epoch   1,  Average loss: 0.0112, Accuracy: 40595/59283 (68.4766%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.4729, Accuracy: 375003/444748 (84.3181%), Attack Success Rate:0/444748(0.000)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.7154, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   7, local model AZ, internal_epoch   1,  Average loss: 0.0110, Accuracy: 25640/42368 (60.5174%), train_poison_data_count42368
Global model norm: 4.931834966777211.
Norm before scaling: 5.023367636567064. Distance: 0.9966042201680662
Total norm for 17 adversaries is: 5.023367636567064. distance: 0.9966042201680662
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.6498, Accuracy: 215662/444748 (48.4908%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 0.0334, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch   7, local model NC, internal_epoch   1,  Average loss: 0.0116, Accuracy: 32661/49376 (66.1475%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.4651, Accuracy: 373253/444748 (83.9246%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   7, local model MN, internal_epoch   1,  Average loss: 0.0131, Accuracy: 18595/31151 (59.6931%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.6457, Accuracy: 366342/444748 (82.3707%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   7, local model ID, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1822/3385 (53.8257%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.9362, Accuracy: 179779/444748 (40.4227%), Attack Success Rate:0/444748(0.000)
poison local model GA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.7154, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   7, local model GA, internal_epoch   1,  Average loss: 0.0104, Accuracy: 36267/58387 (62.1149%), train_poison_data_count58387
Global model norm: 4.931834966777211.
Norm before scaling: 5.075996210949072. Distance: 1.190359237125898
Total norm for 17 adversaries is: 5.075996210949072. distance: 1.190359237125898
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.6346, Accuracy: 334078/444748 (75.1162%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 0.0073, Accuracy: 444715/444748 (99.9926%)
___Train Local_Simple,  epoch   7, local model WY, internal_epoch   1,  Average loss: 0.0158, Accuracy: 1695/3752 (45.1759%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 0.8474, Accuracy: 236087/444748 (53.0833%), Attack Success Rate:0/444748(0.000)
poison local model AK will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.7154, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   7, local model AK, internal_epoch   1,  Average loss: 0.0152, Accuracy: 1860/4112 (45.2335%), train_poison_data_count4112
Global model norm: 4.931834966777211.
Norm before scaling: 4.939929798878389. Distance: 0.3341228131266568
Total norm for 17 adversaries is: 4.939929798878389. distance: 0.3341228131266568
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.0466, Accuracy: 215433/444748 (48.4393%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 0.3939, Accuracy: 444431/444748 (99.9287%)
___Train Local_Simple,  epoch   7, local model IA, internal_epoch   1,  Average loss: 0.2636, Accuracy: 0/5 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.0927, Accuracy: 190024/444748 (42.7262%), Attack Success Rate:0/444748(0.000)
poison local model IN will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.7154, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   7, local model IN, internal_epoch   1,  Average loss: 0.0116, Accuracy: 16826/29580 (56.8830%), train_poison_data_count29580
Global model norm: 4.931834966777211.
Norm before scaling: 4.997876288486894. Distance: 0.8035237684194211
Total norm for 17 adversaries is: 4.997876288486894. distance: 0.8035237684194211
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.5180, Accuracy: 256292/444748 (57.6263%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 0.0850, Accuracy: 444587/444748 (99.9638%)
time spent on training: 971.0258738994598
[foolsgold agg] training data poison_ratio: 0.4777806602013511  data num: [59283, 42368, 49376, 31151, 3385, 58387, 3752, 4112, 5, 29580]
[foolsgold agg] considering poison per batch poison_fraction: 0.4777806602013511
[foolsgold agg] wv: [0.         0.         0.         1.         0.56849931 0.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 7: Average loss: 1.0945, Accuracy: 189142/444748 (42.5279%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 7: Average loss: 1.7104, Accuracy: 0/444748 (0.0000%)
Done in 1784.8138570785522 sec.
Server Epoch:8 choose agents : ['NM', 'MT', 'VT', 'IA', 'KS', 'AZ', 'DC', 'MD', 'FL', 'IN'].
___Train Local_Simple,  epoch   8, local model NM, internal_epoch   1,  Average loss: 0.0150, Accuracy: 4724/9436 (50.0636%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.7719, Accuracy: 243623/444748 (54.7778%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model MT, internal_epoch   1,  Average loss: 0.0157, Accuracy: 2236/4970 (44.9899%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.8412, Accuracy: 238095/444748 (53.5348%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model VT, internal_epoch   1,  Average loss: 0.0156, Accuracy: 1726/3888 (44.3930%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.8885, Accuracy: 313636/444748 (70.5199%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model IA, internal_epoch   1,  Average loss: 0.2463, Accuracy: 1/5 (20.0000%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.0931, Accuracy: 189722/444748 (42.6583%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model KS, internal_epoch   1,  Average loss: 0.0141, Accuracy: 8094/15078 (53.6809%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.7132, Accuracy: 358275/444748 (80.5569%), Attack Success Rate:0/444748(0.000)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.7104, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   8, local model AZ, internal_epoch   1,  Average loss: 0.0109, Accuracy: 25768/42368 (60.8195%), train_poison_data_count42368
Global model norm: 4.9318194970655345.
Norm before scaling: 5.040306517347766. Distance: 1.0499905585818199
Total norm for 17 adversaries is: 5.040306517347766. distance: 1.0499905585818199
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6519, Accuracy: 285760/444748 (64.2521%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 0.0747, Accuracy: 444558/444748 (99.9573%)
___Train Local_Simple,  epoch   8, local model DC, internal_epoch   1,  Average loss: 0.0151, Accuracy: 2081/4220 (49.3128%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.8450, Accuracy: 233403/444748 (52.4798%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   8, local model MD, internal_epoch   1,  Average loss: 0.0124, Accuracy: 27119/42316 (64.0869%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 0.5258, Accuracy: 366503/444748 (82.4069%), Attack Success Rate:0/444748(0.000)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.7104, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   8, local model FL, internal_epoch   1,  Average loss: 0.0084, Accuracy: 91429/127170 (71.8951%), train_poison_data_count127170
Global model norm: 4.9318194970655345.
Norm before scaling: 5.269714940448759. Distance: 1.8840345793221374
Total norm for 17 adversaries is: 5.269714940448759. distance: 1.8840345793221374
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.4679, Accuracy: 340498/444748 (76.5598%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
poison local model IN will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.7104, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   8, local model IN, internal_epoch   1,  Average loss: 0.0116, Accuracy: 16716/29580 (56.5112%), train_poison_data_count29580
Global model norm: 4.9318194970655345.
Norm before scaling: 4.996902841725418. Distance: 0.8115975429885018
Total norm for 17 adversaries is: 4.996902841725418. distance: 0.8115975429885018
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5179, Accuracy: 215525/444748 (48.4600%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 0.0682, Accuracy: 444748/444748 (100.0000%)
time spent on training: 769.7049205303192
[foolsgold agg] training data poison_ratio: 0.7136052983360271  data num: [9436, 4970, 3888, 5, 15078, 42368, 4220, 42316, 127170, 29580]
[foolsgold agg] considering poison per batch poison_fraction: 0.7136052983360271
[foolsgold agg] wv: [0.         0.         0.         1.         0.         0.
 0.         0.32331127 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 8: Average loss: 1.0942, Accuracy: 189230/444748 (42.5477%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 8: Average loss: 1.7100, Accuracy: 0/444748 (0.0000%)
Done in 1583.4688839912415 sec.
Server Epoch:9 choose agents : ['UT', 'WI', 'AZ', 'OH', 'NH', 'SD', 'CA', 'IA', 'MD', 'WY'].
___Train Local_Simple,  epoch   9, local model UT, internal_epoch   1,  Average loss: 0.0143, Accuracy: 6480/11827 (54.7899%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.7714, Accuracy: 240238/444748 (54.0167%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model WI, internal_epoch   1,  Average loss: 0.0133, Accuracy: 13566/23488 (57.7572%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.5976, Accuracy: 363355/444748 (81.6991%), Attack Success Rate:0/444748(0.000)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.7100, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   9, local model AZ, internal_epoch   1,  Average loss: 0.0109, Accuracy: 25822/42368 (60.9469%), train_poison_data_count42368
Global model norm: 4.931817563348163.
Norm before scaling: 5.029443641669182. Distance: 1.0292624770032046
Total norm for 17 adversaries is: 5.029443641669182. distance: 1.0292624770032046
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.5945, Accuracy: 273278/444748 (61.4456%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 0.0421, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch   9, local model OH, internal_epoch   1,  Average loss: 0.0111, Accuracy: 40819/59283 (68.8545%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.4338, Accuracy: 376830/444748 (84.7289%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model NH, internal_epoch   1,  Average loss: 0.0149, Accuracy: 4353/8777 (49.5955%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.7997, Accuracy: 261905/444748 (58.8884%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model SD, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1592/3593 (44.3084%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.8534, Accuracy: 260394/444748 (58.5487%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.7100, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch   9, local model CA, internal_epoch   1,  Average loss: 0.0073, Accuracy: 194050/247628 (78.3635%), train_poison_data_count247628
Global model norm: 4.931817563348163.
Norm before scaling: 5.836559747616741. Distance: 3.2626017762894346
Total norm for 17 adversaries is: 5.836559747616741. distance: 3.2626017762894346
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 3.0620, Accuracy: 349456/444748 (78.5739%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 0.3742, Accuracy: 444048/444748 (99.8426%)
___Train Local_Simple,  epoch   9, local model IA, internal_epoch   1,  Average loss: 0.2657, Accuracy: 1/5 (20.0000%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.0922, Accuracy: 190802/444748 (42.9011%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model MD, internal_epoch   1,  Average loss: 0.0124, Accuracy: 27236/42316 (64.3634%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.4953, Accuracy: 368149/444748 (82.7770%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch   9, local model WY, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1746/3752 (46.5352%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 0.8552, Accuracy: 235788/444748 (53.0161%), Attack Success Rate:0/444748(0.000)
time spent on training: 576.8253419399261
[foolsgold agg] training data poison_ratio: 0.6545638400404481  data num: [11827, 23488, 42368, 59283, 8777, 3593, 247628, 5, 42316, 3752]
[foolsgold agg] considering poison per batch poison_fraction: 0.6545638400404481
[foolsgold agg] wv: [1. 0. 0. 0. 0. 0. 1. 1. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 9: Average loss: 1.0922, Accuracy: 189781/444748 (42.6716%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 9: Average loss: 1.7026, Accuracy: 0/444748 (0.0000%)
Done in 1390.298647403717 sec.
Server Epoch:10 choose agents : ['ME', 'OR', 'MT', 'NM', 'MN', 'PA', 'GA', 'CO', 'IA', 'SD'].
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.7026, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  10, local model ME, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2027/3927 (51.6170%), train_poison_data_count3927
Global model norm: 4.931705019690971.
Norm before scaling: 4.943128829879329. Distance: 0.2794743354262249
Total norm for 17 adversaries is: 4.943128829879329. distance: 0.2794743354262249
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.0426, Accuracy: 175592/444748 (39.4812%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.6418, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  10, local model OR, internal_epoch   1,  Average loss: 0.0135, Accuracy: 12219/21174 (57.7076%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.6439, Accuracy: 360097/444748 (80.9665%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model MT, internal_epoch   1,  Average loss: 0.0153, Accuracy: 2324/4970 (46.7606%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.8321, Accuracy: 238288/444748 (53.5782%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model NM, internal_epoch   1,  Average loss: 0.0150, Accuracy: 4648/9436 (49.2582%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.7837, Accuracy: 242733/444748 (54.5776%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model MN, internal_epoch   1,  Average loss: 0.0127, Accuracy: 18855/31151 (60.5278%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.5978, Accuracy: 361588/444748 (81.3018%), Attack Success Rate:0/444748(0.000)
poison local model PA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.7026, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  10, local model PA, internal_epoch   1,  Average loss: 0.0101, Accuracy: 38840/60498 (64.2005%), train_poison_data_count60498
Global model norm: 4.931705019690971.
Norm before scaling: 5.092872965380534. Distance: 1.2419933431265755
Total norm for 17 adversaries is: 5.092872965380534. distance: 1.2419933431265755
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.7089, Accuracy: 335117/444748 (75.3499%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 0.0027, Accuracy: 444716/444748 (99.9928%)
poison local model GA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.7026, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  10, local model GA, internal_epoch   1,  Average loss: 0.0104, Accuracy: 36564/58387 (62.6235%), train_poison_data_count58387
Global model norm: 4.931705019690971.
Norm before scaling: 5.073647740798042. Distance: 1.1999449379527158
Total norm for 17 adversaries is: 5.073647740798042. distance: 1.1999449379527158
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.6057, Accuracy: 334462/444748 (75.2026%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 0.0071, Accuracy: 444718/444748 (99.9933%)
poison local model CO will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.7026, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  10, local model CO, internal_epoch   1,  Average loss: 0.0109, Accuracy: 23028/38041 (60.5347%), train_poison_data_count38041
Global model norm: 4.931705019690971.
Norm before scaling: 5.0175959912342485. Distance: 0.913289550273629
Total norm for 17 adversaries is: 5.0175959912342485. distance: 0.913289550273629
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.5236, Accuracy: 215484/444748 (48.4508%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 0.0665, Accuracy: 444684/444748 (99.9856%)
___Train Local_Simple,  epoch  10, local model IA, internal_epoch   1,  Average loss: 0.2760, Accuracy: 0/5 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.0886, Accuracy: 191334/444748 (43.0208%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  10, local model SD, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1535/3593 (42.7220%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 0.8497, Accuracy: 237463/444748 (53.3927%), Attack Success Rate:0/444748(0.000)
time spent on training: 964.729419708252
[foolsgold agg] training data poison_ratio: 0.6957851389814086  data num: [3927, 21174, 4970, 9436, 31151, 60498, 58387, 38041, 5, 3593]
[foolsgold agg] considering poison per batch poison_fraction: 0.6957851389814086
[foolsgold agg] wv: [0.         0.10000421 0.         0.         0.56476232 0.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 10: Average loss: 1.0917, Accuracy: 189942/444748 (42.7078%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 10: Average loss: 1.7016, Accuracy: 0/444748 (0.0000%)
Done in 1774.5547597408295 sec.
Server Epoch:11 choose agents : ['SD', 'OH', 'TN', 'WV', 'NC', 'TX', 'FL', 'RI', 'IA', 'AL'].
___Train Local_Simple,  epoch  11, local model SD, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1568/3593 (43.6404%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.8480, Accuracy: 239989/444748 (53.9607%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model OH, internal_epoch   1,  Average loss: 0.0111, Accuracy: 40503/59283 (68.3214%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.4367, Accuracy: 377603/444748 (84.9027%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model TN, internal_epoch   1,  Average loss: 0.0135, Accuracy: 16462/27944 (58.9107%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.5920, Accuracy: 359568/444748 (80.8476%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model WV, internal_epoch   1,  Average loss: 0.0154, Accuracy: 3127/6619 (47.2428%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.8353, Accuracy: 326103/444748 (73.3231%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  11, local model NC, internal_epoch   1,  Average loss: 0.0116, Accuracy: 32807/49376 (66.4432%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 0.4503, Accuracy: 369386/444748 (83.0551%), Attack Success Rate:0/444748(0.000)
poison local model TX will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.7016, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  11, local model TX, internal_epoch   1,  Average loss: 0.0080, Accuracy: 107892/146613 (73.5897%), train_poison_data_count146613
Global model norm: 4.931713528235897.
Norm before scaling: 5.301231730581877. Distance: 1.945501356647443
Total norm for 17 adversaries is: 5.301231730581877. distance: 1.945501356647443
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.5513, Accuracy: 340229/444748 (76.4993%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.0001, Accuracy: 444732/444748 (99.9964%)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.7016, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  11, local model FL, internal_epoch   1,  Average loss: 0.0084, Accuracy: 91210/127170 (71.7229%), train_poison_data_count127170
Global model norm: 4.931713528235897.
Norm before scaling: 5.246808126272202. Distance: 1.8372770576431166
Total norm for 17 adversaries is: 5.246808126272202. distance: 1.8372770576431166
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.5245, Accuracy: 337950/444748 (75.9869%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.0001, Accuracy: 444734/444748 (99.9969%)
poison local model RI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.7016, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  11, local model RI, internal_epoch   1,  Average loss: 0.0138, Accuracy: 3951/7885 (50.1078%), train_poison_data_count7885
Global model norm: 4.931713528235897.
Norm before scaling: 4.951317297852036. Distance: 0.46004525806821883
Total norm for 17 adversaries is: 4.951317297852036. distance: 0.46004525806821883
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.1373, Accuracy: 215561/444748 (48.4681%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.5433, Accuracy: 438245/444748 (98.5378%)
___Train Local_Simple,  epoch  11, local model IA, internal_epoch   1,  Average loss: 0.2565, Accuracy: 0/5 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.0898, Accuracy: 191107/444748 (42.9697%), Attack Success Rate:0/444748(0.000)
poison local model AL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.7016, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  11, local model AL, internal_epoch   1,  Average loss: 0.0118, Accuracy: 12161/21424 (56.7634%), train_poison_data_count21424
Global model norm: 4.931713528235897.
Norm before scaling: 4.981408650589213. Distance: 0.696485216244004
Total norm for 17 adversaries is: 4.981408650589213. distance: 0.696485216244004
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.4432, Accuracy: 215511/444748 (48.4569%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 0.1387, Accuracy: 444610/444748 (99.9690%)
time spent on training: 985.0844261646271
[foolsgold agg] training data poison_ratio: 0.6736695175945518  data num: [3593, 59283, 27944, 6619, 49376, 146613, 127170, 7885, 5, 21424]
[foolsgold agg] considering poison per batch poison_fraction: 0.6736695175945518
[foolsgold agg] wv: [0.89900113 0.         0.52771993 0.         0.         0.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 11: Average loss: 1.0909, Accuracy: 190165/444748 (42.7579%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 11: Average loss: 1.6997, Accuracy: 0/444748 (0.0000%)
Done in 1793.9229276180267 sec.
Server Epoch:12 choose agents : ['NY', 'HI', 'AK', 'NJ', 'KY', 'AZ', 'FL', 'WA', 'WV', 'DE'].
___Train Local_Simple,  epoch  12, local model NY, internal_epoch   1,  Average loss: 0.0090, Accuracy: 112048/146282 (76.5973%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.2467, Accuracy: 407106/444748 (91.5363%), Attack Success Rate:0/444748(0.000)
poison local model HI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.6997, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  12, local model HI, internal_epoch   1,  Average loss: 0.0134, Accuracy: 4554/8393 (54.2595%), train_poison_data_count8393
Global model norm: 4.931699218401922.
Norm before scaling: 4.95241043279418. Distance: 0.49210643100660345
Total norm for 17 adversaries is: 4.95241043279418. distance: 0.49210643100660345
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.1771, Accuracy: 215450/444748 (48.4432%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.2663, Accuracy: 444500/444748 (99.9442%)
poison local model AK will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.6997, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  12, local model AK, internal_epoch   1,  Average loss: 0.0151, Accuracy: 1913/4112 (46.5224%), train_poison_data_count4112
Global model norm: 4.931699218401922.
Norm before scaling: 4.939771684938122. Distance: 0.33347924833633746
Total norm for 17 adversaries is: 4.939771684938122. distance: 0.33347924833633746
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.0244, Accuracy: 215425/444748 (48.4375%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.3823, Accuracy: 444436/444748 (99.9298%)
___Train Local_Simple,  epoch  12, local model NJ, internal_epoch   1,  Average loss: 0.0122, Accuracy: 44346/65376 (67.8322%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.4281, Accuracy: 377599/444748 (84.9018%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  12, local model KY, internal_epoch   1,  Average loss: 0.0139, Accuracy: 9498/17242 (55.0864%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.6793, Accuracy: 356543/444748 (80.1674%), Attack Success Rate:0/444748(0.000)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.6997, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  12, local model AZ, internal_epoch   1,  Average loss: 0.0108, Accuracy: 25873/42368 (61.0673%), train_poison_data_count42368
Global model norm: 4.931699218401922.
Norm before scaling: 5.037201956363705. Distance: 1.01909221681878
Total norm for 17 adversaries is: 5.037201956363705. distance: 1.01909221681878
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.5981, Accuracy: 330557/444748 (74.3246%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.0540, Accuracy: 444677/444748 (99.9840%)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.6997, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  12, local model FL, internal_epoch   1,  Average loss: 0.0086, Accuracy: 91629/127170 (72.0524%), train_poison_data_count127170
Global model norm: 4.931699218401922.
Norm before scaling: 5.2626345148360025. Distance: 1.880939802785371
Total norm for 17 adversaries is: 5.2626345148360025. distance: 1.880939802785371
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.5374, Accuracy: 340760/444748 (76.6187%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.0001, Accuracy: 444748/444748 (100.0000%)
poison local model WA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.6997, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  12, local model WA, internal_epoch   1,  Average loss: 0.0115, Accuracy: 22302/37141 (60.0468%), train_poison_data_count37141
Global model norm: 4.931699218401922.
Norm before scaling: 5.032336005292772. Distance: 1.10215132106395
Total norm for 17 adversaries is: 5.032336005292772. distance: 1.10215132106395
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.4138, Accuracy: 295096/444748 (66.3513%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.0172, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch  12, local model WV, internal_epoch   1,  Average loss: 0.0154, Accuracy: 3110/6619 (46.9859%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.8434, Accuracy: 237169/444748 (53.3266%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  12, local model DE, internal_epoch   1,  Average loss: 0.0155, Accuracy: 2299/5070 (45.3452%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 0.8283, Accuracy: 254462/444748 (57.2149%), Attack Success Rate:0/444748(0.000)
time spent on training: 1186.4392046928406
[foolsgold agg] training data poison_ratio: 0.47672220856814124  data num: [146282, 8393, 4112, 65376, 17242, 42368, 127170, 37141, 6619, 5070]
[foolsgold agg] considering poison per batch poison_fraction: 0.47672220856814124
[foolsgold agg] wv: [1.         0.         0.         1.         0.74421996 0.
 0.         0.14658516 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 12: Average loss: 1.0883, Accuracy: 191180/444748 (42.9861%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 12: Average loss: 1.6976, Accuracy: 0/444748 (0.0000%)
Done in 2000.6235320568085 sec.
Server Epoch:13 choose agents : ['RI', 'OH', 'MS', 'CA', 'FL', 'MO', 'CT', 'SC', 'MT', 'MD'].
poison local model RI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.6976, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  13, local model RI, internal_epoch   1,  Average loss: 0.0137, Accuracy: 3973/7885 (50.3868%), train_poison_data_count7885
Global model norm: 4.931573135367409.
Norm before scaling: 4.95263322861857. Distance: 0.45759661665304235
Total norm for 17 adversaries is: 4.95263322861857. distance: 0.45759661665304235
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.1310, Accuracy: 215454/444748 (48.4441%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 0.4188, Accuracy: 444005/444748 (99.8329%)
___Train Local_Simple,  epoch  13, local model OH, internal_epoch   1,  Average loss: 0.0111, Accuracy: 40803/59283 (68.8275%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.4256, Accuracy: 377578/444748 (84.8971%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model MS, internal_epoch   1,  Average loss: 0.0148, Accuracy: 5253/9869 (53.2273%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.7824, Accuracy: 308578/444748 (69.3827%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.6976, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  13, local model CA, internal_epoch   1,  Average loss: 0.0069, Accuracy: 194727/247628 (78.6369%), train_poison_data_count247628
Global model norm: 4.931573135367409.
Norm before scaling: 5.936524321048832. Distance: 3.354504412277579
Total norm for 17 adversaries is: 5.936524321048832. distance: 3.354504412277579
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.8220, Accuracy: 355938/444748 (80.0314%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.6976, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  13, local model FL, internal_epoch   1,  Average loss: 0.0085, Accuracy: 91271/127170 (71.7709%), train_poison_data_count127170
Global model norm: 4.931573135367409.
Norm before scaling: 5.268295561717315. Distance: 1.855413624797903
Total norm for 17 adversaries is: 5.268295561717315. distance: 1.855413624797903
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.4505, Accuracy: 339853/444748 (76.4147%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 0.0001, Accuracy: 444740/444748 (99.9982%)
___Train Local_Simple,  epoch  13, local model MO, internal_epoch   1,  Average loss: 0.0129, Accuracy: 17034/28352 (60.0804%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.5742, Accuracy: 363220/444748 (81.6687%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model CT, internal_epoch   1,  Average loss: 0.0142, Accuracy: 16416/28136 (58.3452%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.5978, Accuracy: 345223/444748 (77.6222%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model SC, internal_epoch   1,  Average loss: 0.0133, Accuracy: 12689/22070 (57.4943%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.6316, Accuracy: 359530/444748 (80.8390%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model MT, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2382/4970 (47.9276%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.8212, Accuracy: 237373/444748 (53.3725%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  13, local model MD, internal_epoch   1,  Average loss: 0.0123, Accuracy: 27272/42316 (64.4484%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 0.5499, Accuracy: 369680/444748 (83.1212%), Attack Success Rate:0/444748(0.000)
time spent on training: 792.7861490249634
[foolsgold agg] training data poison_ratio: 0.6624492148753893  data num: [7885, 59283, 9869, 247628, 127170, 28352, 28136, 22070, 4970, 42316]
[foolsgold agg] considering poison per batch poison_fraction: 0.6624492148753893
[foolsgold agg] wv: [0.4228823  0.         0.33341453 0.         0.         0.
 1.         0.04743165 0.5229492  0.53086836]
___Test Target_Simple poisoned: False, epoch: 13: Average loss: 1.0864, Accuracy: 191727/444748 (43.1091%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 13: Average loss: 1.6898, Accuracy: 0/444748 (0.0000%)
Done in 1603.0094788074493 sec.
Server Epoch:14 choose agents : ['HI', 'FL', 'NC', 'OH', 'KS', 'WY', 'NY', 'MI', 'CO', 'WV'].
poison local model HI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.6898, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  14, local model HI, internal_epoch   1,  Average loss: 0.0134, Accuracy: 4569/8393 (54.4382%), train_poison_data_count8393
Global model norm: 4.931486693142208.
Norm before scaling: 4.949216630388753. Distance: 0.4864910572843396
Total norm for 17 adversaries is: 4.949216630388753. distance: 0.4864910572843396
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.1739, Accuracy: 215475/444748 (48.4488%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 0.2396, Accuracy: 444559/444748 (99.9575%)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.6898, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  14, local model FL, internal_epoch   1,  Average loss: 0.0085, Accuracy: 92014/127170 (72.3551%), train_poison_data_count127170
Global model norm: 4.931486693142208.
Norm before scaling: 5.26800103164234. Distance: 1.9401455322225194
Total norm for 17 adversaries is: 5.26800103164234. distance: 1.9401455322225194
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.4617, Accuracy: 338894/444748 (76.1991%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch  14, local model NC, internal_epoch   1,  Average loss: 0.0115, Accuracy: 32839/49376 (66.5080%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.4831, Accuracy: 369753/444748 (83.1376%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model OH, internal_epoch   1,  Average loss: 0.0112, Accuracy: 40477/59283 (68.2776%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.4348, Accuracy: 367862/444748 (82.7125%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model KS, internal_epoch   1,  Average loss: 0.0140, Accuracy: 8173/15078 (54.2048%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.7024, Accuracy: 354054/444748 (79.6078%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model WY, internal_epoch   1,  Average loss: 0.0155, Accuracy: 1687/3752 (44.9627%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.8466, Accuracy: 235846/444748 (53.0291%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  14, local model NY, internal_epoch   1,  Average loss: 0.0086, Accuracy: 113338/146282 (77.4791%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.2296, Accuracy: 406811/444748 (91.4700%), Attack Success Rate:0/444748(0.000)
poison local model MI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.6898, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  14, local model MI, internal_epoch   1,  Average loss: 0.0106, Accuracy: 28333/46276 (61.2261%), train_poison_data_count46276
Global model norm: 4.931486693142208.
Norm before scaling: 5.046426570090893. Distance: 1.034269478477789
Total norm for 17 adversaries is: 5.046426570090893. distance: 1.034269478477789
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.6171, Accuracy: 329332/444748 (74.0491%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 0.0184, Accuracy: 444721/444748 (99.9939%)
poison local model CO will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.6898, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  14, local model CO, internal_epoch   1,  Average loss: 0.0109, Accuracy: 23037/38041 (60.5583%), train_poison_data_count38041
Global model norm: 4.931486693142208.
Norm before scaling: 5.025527258393244. Distance: 0.9404127331371013
Total norm for 17 adversaries is: 5.025527258393244. distance: 0.9404127331371013
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.5543, Accuracy: 265446/444748 (59.6846%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 0.0485, Accuracy: 444704/444748 (99.9901%)
___Train Local_Simple,  epoch  14, local model WV, internal_epoch   1,  Average loss: 0.0154, Accuracy: 3101/6619 (46.8500%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 0.8422, Accuracy: 283915/444748 (63.8373%), Attack Success Rate:0/444748(0.000)
time spent on training: 983.2456693649292
[foolsgold agg] training data poison_ratio: 0.439522657764807  data num: [8393, 127170, 49376, 59283, 15078, 3752, 146282, 46276, 38041, 6619]
[foolsgold agg] considering poison per batch poison_fraction: 0.439522657764807
[foolsgold agg] wv: [0.         0.61309836 0.         0.         0.32858656 0.18563787
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 14: Average loss: 1.0839, Accuracy: 192692/444748 (43.3261%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 14: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
Done in 1794.830494403839 sec.
Server Epoch:15 choose agents : ['TX', 'AK', 'PA', 'RI', 'NE', 'NJ', 'WA', 'OR', 'TN', 'VA'].
poison local model TX will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model TX, internal_epoch   1,  Average loss: 0.0079, Accuracy: 108346/146613 (73.8993%), train_poison_data_count146613
Global model norm: 4.931454784555391.
Norm before scaling: 5.310487253710922. Distance: 1.9789863169632227
Total norm for 17 adversaries is: 5.310487253710922. distance: 1.9789863169632227
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.5302, Accuracy: 343484/444748 (77.2312%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
poison local model AK will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model AK, internal_epoch   1,  Average loss: 0.0149, Accuracy: 1931/4112 (46.9601%), train_poison_data_count4112
Global model norm: 4.931454784555391.
Norm before scaling: 4.940271879120017. Distance: 0.3311115654890963
Total norm for 17 adversaries is: 4.940271879120017. distance: 0.3311115654890963
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.0402, Accuracy: 215424/444748 (48.4373%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.3452, Accuracy: 444449/444748 (99.9328%)
poison local model PA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model PA, internal_epoch   1,  Average loss: 0.0100, Accuracy: 39099/60498 (64.6286%), train_poison_data_count60498
Global model norm: 4.931454784555391.
Norm before scaling: 5.097120983332217. Distance: 1.2473951378211814
Total norm for 17 adversaries is: 5.097120983332217. distance: 1.2473951378211814
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.7311, Accuracy: 334867/444748 (75.2936%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.0019, Accuracy: 444723/444748 (99.9944%)
poison local model RI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model RI, internal_epoch   1,  Average loss: 0.0137, Accuracy: 3999/7885 (50.7166%), train_poison_data_count7885
Global model norm: 4.931454784555391.
Norm before scaling: 4.951666102675221. Distance: 0.45388851295260035
Total norm for 17 adversaries is: 4.951666102675221. distance: 0.45388851295260035
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.1364, Accuracy: 215442/444748 (48.4414%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.4130, Accuracy: 444389/444748 (99.9193%)
___Train Local_Simple,  epoch  15, local model NE, internal_epoch   1,  Average loss: 0.0145, Accuracy: 3341/6144 (54.3783%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.8363, Accuracy: 244869/444748 (55.0579%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  15, local model NJ, internal_epoch   1,  Average loss: 0.0122, Accuracy: 43411/65376 (66.4020%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.4393, Accuracy: 376431/444748 (84.6392%), Attack Success Rate:0/444748(0.000)
poison local model WA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model WA, internal_epoch   1,  Average loss: 0.0111, Accuracy: 22554/37141 (60.7253%), train_poison_data_count37141
Global model norm: 4.931454784555391.
Norm before scaling: 5.014784317627163. Distance: 0.9624195610221087
Total norm for 17 adversaries is: 5.014784317627163. distance: 0.9624195610221087
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.5153, Accuracy: 240150/444748 (53.9969%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.0663, Accuracy: 444733/444748 (99.9966%)
___Train Local_Simple,  epoch  15, local model OR, internal_epoch   1,  Average loss: 0.0135, Accuracy: 12067/21174 (56.9897%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.6764, Accuracy: 359622/444748 (80.8597%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  15, local model TN, internal_epoch   1,  Average loss: 0.0132, Accuracy: 16996/27944 (60.8216%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 0.5480, Accuracy: 362176/444748 (81.4340%), Attack Success Rate:0/444748(0.000)
poison local model VA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6820, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  15, local model VA, internal_epoch   1,  Average loss: 0.0106, Accuracy: 31273/49488 (63.1931%), train_poison_data_count49488
Global model norm: 4.931454784555391.
Norm before scaling: 5.050590918687603. Distance: 1.1091620012429297
Total norm for 17 adversaries is: 5.050590918687603. distance: 1.1091620012429297
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.5797, Accuracy: 331264/444748 (74.4835%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.0136, Accuracy: 444712/444748 (99.9919%)
time spent on training: 1394.8488290309906
[foolsgold agg] training data poison_ratio: 0.7170612723541483  data num: [146613, 4112, 60498, 7885, 6144, 65376, 37141, 21174, 27944, 49488]
[foolsgold agg] considering poison per batch poison_fraction: 0.7170612723541483
[foolsgold agg] wv: [0. 0. 0. 0. 1. 1. 0. 1. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 15: Average loss: 1.0812, Accuracy: 193897/444748 (43.5970%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 15: Average loss: 1.6762, Accuracy: 0/444748 (0.0000%)
Done in 2205.3412618637085 sec.
Server Epoch:16 choose agents : ['DC', 'FL', 'GA', 'AK', 'UT', 'AL', 'LA', 'NM', 'OK', 'MI'].
___Train Local_Simple,  epoch  16, local model DC, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2007/4220 (47.5592%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.8417, Accuracy: 234340/444748 (52.6905%), Attack Success Rate:0/444748(0.000)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.6762, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  16, local model FL, internal_epoch   1,  Average loss: 0.0084, Accuracy: 91742/127170 (72.1412%), train_poison_data_count127170
Global model norm: 4.931346873986573.
Norm before scaling: 5.292730549875365. Distance: 1.940099694846374
Total norm for 17 adversaries is: 5.292730549875365. distance: 1.940099694846374
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.4376, Accuracy: 340283/444748 (76.5114%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.0002, Accuracy: 444744/444748 (99.9991%)
poison local model GA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.6762, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  16, local model GA, internal_epoch   1,  Average loss: 0.0102, Accuracy: 37140/58387 (63.6101%), train_poison_data_count58387
Global model norm: 4.931346873986573.
Norm before scaling: 5.0835602297981435. Distance: 1.1819971981047648
Total norm for 17 adversaries is: 5.0835602297981435. distance: 1.1819971981047648
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.6024, Accuracy: 332301/444748 (74.7167%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.0065, Accuracy: 444680/444748 (99.9847%)
poison local model AK will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.6762, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  16, local model AK, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1911/4112 (46.4737%), train_poison_data_count4112
Global model norm: 4.931346873986573.
Norm before scaling: 4.940359904966498. Distance: 0.3340531997706417
Total norm for 17 adversaries is: 4.940359904966498. distance: 0.3340531997706417
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.0368, Accuracy: 215447/444748 (48.4425%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.4176, Accuracy: 444359/444748 (99.9125%)
___Train Local_Simple,  epoch  16, local model UT, internal_epoch   1,  Average loss: 0.0139, Accuracy: 6592/11827 (55.7369%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.7500, Accuracy: 242336/444748 (54.4884%), Attack Success Rate:0/444748(0.000)
poison local model AL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.6762, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  16, local model AL, internal_epoch   1,  Average loss: 0.0117, Accuracy: 12327/21424 (57.5383%), train_poison_data_count21424
Global model norm: 4.931346873986573.
Norm before scaling: 4.982094174101804. Distance: 0.6887277347891331
Total norm for 17 adversaries is: 4.982094174101804. distance: 0.6887277347891331
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4393, Accuracy: 215468/444748 (48.4472%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.1494, Accuracy: 444529/444748 (99.9508%)
___Train Local_Simple,  epoch  16, local model LA, internal_epoch   1,  Average loss: 0.0137, Accuracy: 11255/20228 (55.6407%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.6827, Accuracy: 360097/444748 (80.9665%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  16, local model NM, internal_epoch   1,  Average loss: 0.0150, Accuracy: 4705/9436 (49.8622%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.7711, Accuracy: 291474/444748 (65.5369%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  16, local model OK, internal_epoch   1,  Average loss: 0.0140, Accuracy: 8830/16276 (54.2517%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 0.6785, Accuracy: 363316/444748 (81.6903%), Attack Success Rate:0/444748(0.000)
poison local model MI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.6762, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  16, local model MI, internal_epoch   1,  Average loss: 0.0106, Accuracy: 28484/46276 (61.5524%), train_poison_data_count46276
Global model norm: 4.931346873986573.
Norm before scaling: 5.048071751853893. Distance: 1.031757865463531
Total norm for 17 adversaries is: 5.048071751853893. distance: 1.031757865463531
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.6486, Accuracy: 316008/444748 (71.0533%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.0102, Accuracy: 444745/444748 (99.9993%)
time spent on training: 1181.8629071712494
[foolsgold agg] training data poison_ratio: 0.8058999987474793  data num: [4220, 127170, 58387, 4112, 11827, 21424, 20228, 9436, 16276, 46276]
[foolsgold agg] considering poison per batch poison_fraction: 0.8058999987474793
[foolsgold agg] wv: [0.52914157 0.34218531 0.         0.70405456 0.52914157 0.
 1.         1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 16: Average loss: 1.0778, Accuracy: 195476/444748 (43.9521%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 16: Average loss: 1.6637, Accuracy: 0/444748 (0.0000%)
Done in 1992.1965596675873 sec.
Server Epoch:17 choose agents : ['OR', 'WI', 'WV', 'KY', 'VT', 'ME', 'ND', 'PA', 'DC', 'NY'].
___Train Local_Simple,  epoch  17, local model OR, internal_epoch   1,  Average loss: 0.0139, Accuracy: 12143/21174 (57.3486%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.6488, Accuracy: 360039/444748 (80.9535%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model WI, internal_epoch   1,  Average loss: 0.0133, Accuracy: 13623/23488 (57.9998%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.6514, Accuracy: 361608/444748 (81.3063%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model WV, internal_epoch   1,  Average loss: 0.0153, Accuracy: 3181/6619 (48.0586%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.8463, Accuracy: 330336/444748 (74.2749%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model KY, internal_epoch   1,  Average loss: 0.0138, Accuracy: 9578/17242 (55.5504%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.6758, Accuracy: 359966/444748 (80.9371%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model VT, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1848/3888 (47.5309%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.8671, Accuracy: 319839/444748 (71.9147%), Attack Success Rate:0/444748(0.000)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.6637, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  17, local model ME, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2061/3927 (52.4828%), train_poison_data_count3927
Global model norm: 4.931355576539338.
Norm before scaling: 4.943661864757403. Distance: 0.27543861566208994
Total norm for 17 adversaries is: 4.943661864757403. distance: 0.27543861566208994
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.0338, Accuracy: 175680/444748 (39.5010%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.6430, Accuracy: 0/444748 (0.0000%)
___Train Local_Simple,  epoch  17, local model ND, internal_epoch   1,  Average loss: 0.0156, Accuracy: 1431/2822 (50.7087%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.9047, Accuracy: 192103/444748 (43.1937%), Attack Success Rate:0/444748(0.000)
poison local model PA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.6637, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  17, local model PA, internal_epoch   1,  Average loss: 0.0101, Accuracy: 39222/60498 (64.8319%), train_poison_data_count60498
Global model norm: 4.931355576539338.
Norm before scaling: 5.101755042188722. Distance: 1.2707209719821475
Total norm for 17 adversaries is: 5.101755042188722. distance: 1.2707209719821475
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.7154, Accuracy: 334524/444748 (75.2165%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 0.0016, Accuracy: 444721/444748 (99.9939%)
___Train Local_Simple,  epoch  17, local model DC, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2083/4220 (49.3602%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.8295, Accuracy: 235428/444748 (52.9351%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  17, local model NY, internal_epoch   1,  Average loss: 0.0097, Accuracy: 111589/146282 (76.2835%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 0.2458, Accuracy: 403452/444748 (90.7147%), Attack Success Rate:0/444748(0.000)
time spent on training: 554.363377571106
[foolsgold agg] training data poison_ratio: 0.22203267162944582  data num: [21174, 23488, 6619, 17242, 3888, 3927, 2822, 60498, 4220, 146282]
[foolsgold agg] considering poison per batch poison_fraction: 0.22203267162944582
[foolsgold agg] wv: [0.78553584 0.         0.         0.         0.         0.
 0.         0.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 17: Average loss: 1.0761, Accuracy: 196435/444748 (44.1677%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 17: Average loss: 1.6590, Accuracy: 0/444748 (0.0000%)
Done in 1363.3808958530426 sec.
Server Epoch:18 choose agents : ['ID', 'OK', 'SD', 'RI', 'LA', 'CA', 'ME', 'AZ', 'KY', 'AK'].
___Train Local_Simple,  epoch  18, local model ID, internal_epoch   1,  Average loss: 0.0147, Accuracy: 1851/3385 (54.6824%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.9165, Accuracy: 186922/444748 (42.0287%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  18, local model OK, internal_epoch   1,  Average loss: 0.0140, Accuracy: 8873/16276 (54.5159%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.6782, Accuracy: 364602/444748 (81.9795%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  18, local model SD, internal_epoch   1,  Average loss: 0.0160, Accuracy: 1634/3593 (45.4773%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.8348, Accuracy: 238184/444748 (53.5548%), Attack Success Rate:0/444748(0.000)
poison local model RI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.6590, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  18, local model RI, internal_epoch   1,  Average loss: 0.0137, Accuracy: 3940/7885 (49.9683%), train_poison_data_count7885
Global model norm: 4.931165664009698.
Norm before scaling: 4.951689021623846. Distance: 0.4400338976438842
Total norm for 17 adversaries is: 4.951689021623846. distance: 0.4400338976438842
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.1167, Accuracy: 215753/444748 (48.5113%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.5183, Accuracy: 440743/444748 (99.0995%)
___Train Local_Simple,  epoch  18, local model LA, internal_epoch   1,  Average loss: 0.0136, Accuracy: 11646/20228 (57.5737%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.6425, Accuracy: 359008/444748 (80.7217%), Attack Success Rate:0/444748(0.000)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.6590, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  18, local model CA, internal_epoch   1,  Average loss: 0.0067, Accuracy: 195733/247628 (79.0432%), train_poison_data_count247628
Global model norm: 4.931165664009698.
Norm before scaling: 5.545651926942386. Distance: 2.5855693266925845
Total norm for 17 adversaries is: 5.545651926942386. distance: 2.5855693266925845
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 3.1856, Accuracy: 356971/444748 (80.2637%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.0000, Accuracy: 444748/444748 (100.0000%)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.6590, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  18, local model ME, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2067/3927 (52.6356%), train_poison_data_count3927
Global model norm: 4.931165664009698.
Norm before scaling: 4.94420757273993. Distance: 0.2717844450526949
Total norm for 17 adversaries is: 4.94420757273993. distance: 0.2717844450526949
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.0344, Accuracy: 175723/444748 (39.5107%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.6208, Accuracy: 0/444748 (0.0000%)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.6590, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  18, local model AZ, internal_epoch   1,  Average loss: 0.0109, Accuracy: 26213/42368 (61.8698%), train_poison_data_count42368
Global model norm: 4.931165664009698.
Norm before scaling: 5.033244430733691. Distance: 1.0354736992974016
Total norm for 17 adversaries is: 5.033244430733691. distance: 1.0354736992974016
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.5344, Accuracy: 331490/444748 (74.5343%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.0526, Accuracy: 444700/444748 (99.9892%)
___Train Local_Simple,  epoch  18, local model KY, internal_epoch   1,  Average loss: 0.0138, Accuracy: 9620/17242 (55.7940%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 0.6733, Accuracy: 360449/444748 (81.0457%), Attack Success Rate:0/444748(0.000)
poison local model AK will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.6590, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  18, local model AK, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1957/4112 (47.5924%), train_poison_data_count4112
Global model norm: 4.931165664009698.
Norm before scaling: 4.939762611090806. Distance: 0.3388230242794936
Total norm for 17 adversaries is: 4.939762611090806. distance: 0.3388230242794936
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.0302, Accuracy: 215426/444748 (48.4378%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.3455, Accuracy: 444471/444748 (99.9377%)
time spent on training: 1185.4325046539307
[foolsgold agg] training data poison_ratio: 0.8343788525108825  data num: [3385, 16276, 3593, 7885, 20228, 247628, 3927, 42368, 17242, 4112]
[foolsgold agg] considering poison per batch poison_fraction: 0.8343788525108825
[foolsgold agg] wv: [0.         0.         1.         0.         0.08843707 1.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 18: Average loss: 1.0738, Accuracy: 198012/444748 (44.5223%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 18: Average loss: 1.6468, Accuracy: 0/444748 (0.0000%)
Done in 1994.2080039978027 sec.
Server Epoch:19 choose agents : ['NJ', 'IN', 'IL', 'WY', 'MT', 'ND', 'OR', 'MN', 'DE', 'NE'].
___Train Local_Simple,  epoch  19, local model NJ, internal_epoch   1,  Average loss: 0.0126, Accuracy: 42797/65376 (65.4629%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.4708, Accuracy: 369156/444748 (83.0034%), Attack Success Rate:0/444748(0.000)
poison local model IN will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.6468, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  19, local model IN, internal_epoch   1,  Average loss: 0.0114, Accuracy: 17226/29580 (58.2353%), train_poison_data_count29580
Global model norm: 4.931205116908979.
Norm before scaling: 5.004227567625596. Distance: 0.8147658884185386
Total norm for 17 adversaries is: 5.004227567625596. distance: 0.8147658884185386
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.4634, Accuracy: 295515/444748 (66.4455%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 0.0693, Accuracy: 444745/444748 (99.9993%)
___Train Local_Simple,  epoch  19, local model IL, internal_epoch   1,  Average loss: 0.0109, Accuracy: 50868/71875 (70.7729%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.3949, Accuracy: 377248/444748 (84.8229%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  19, local model WY, internal_epoch   1,  Average loss: 0.0155, Accuracy: 1710/3752 (45.5757%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.8425, Accuracy: 236308/444748 (53.1330%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  19, local model MT, internal_epoch   1,  Average loss: 0.0151, Accuracy: 2357/4970 (47.4245%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.8299, Accuracy: 237361/444748 (53.3698%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  19, local model ND, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1431/2822 (50.7087%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.9167, Accuracy: 190533/444748 (42.8407%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  19, local model OR, internal_epoch   1,  Average loss: 0.0134, Accuracy: 12147/21174 (57.3675%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.6350, Accuracy: 362433/444748 (81.4918%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  19, local model MN, internal_epoch   1,  Average loss: 0.0126, Accuracy: 19075/31151 (61.2340%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.5313, Accuracy: 365280/444748 (82.1319%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  19, local model DE, internal_epoch   1,  Average loss: 0.0154, Accuracy: 2416/5070 (47.6529%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.8242, Accuracy: 257489/444748 (57.8955%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  19, local model NE, internal_epoch   1,  Average loss: 0.0147, Accuracy: 3320/6144 (54.0365%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 0.8437, Accuracy: 231165/444748 (51.9766%), Attack Success Rate:0/444748(0.000)
time spent on training: 345.15805530548096
[foolsgold agg] training data poison_ratio: 0.12227485800739106  data num: [65376, 29580, 71875, 3752, 4970, 2822, 21174, 31151, 5070, 6144]
[foolsgold agg] considering poison per batch poison_fraction: 0.12227485800739106
[foolsgold agg] wv: [1.         0.         0.         0.         0.         0.
 0.33895688 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 19: Average loss: 1.0728, Accuracy: 198646/444748 (44.6648%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 19: Average loss: 1.6468, Accuracy: 0/444748 (0.0000%)
Done in 1156.971356868744 sec.
Server Epoch:20 choose agents : ['KS', 'NC', 'LA', 'NH', 'RI', 'OH', 'MO', 'WA', 'CT', 'OR'].
___Train Local_Simple,  epoch  20, local model KS, internal_epoch   1,  Average loss: 0.0138, Accuracy: 8179/15078 (54.2446%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.6925, Accuracy: 350788/444748 (78.8734%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  20, local model NC, internal_epoch   1,  Average loss: 0.0116, Accuracy: 33269/49376 (67.3789%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.4653, Accuracy: 375686/444748 (84.4717%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  20, local model LA, internal_epoch   1,  Average loss: 0.0135, Accuracy: 11686/20228 (57.7714%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.6305, Accuracy: 363489/444748 (81.7292%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  20, local model NH, internal_epoch   1,  Average loss: 0.0151, Accuracy: 4487/8777 (51.1223%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.7848, Accuracy: 332311/444748 (74.7189%), Attack Success Rate:0/444748(0.000)
poison local model RI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.6468, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  20, local model RI, internal_epoch   1,  Average loss: 0.0136, Accuracy: 4023/7885 (51.0209%), train_poison_data_count7885
Global model norm: 4.931041888159459.
Norm before scaling: 4.952921673665832. Distance: 0.43855877893485773
Total norm for 17 adversaries is: 4.952921673665832. distance: 0.43855877893485773
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.1088, Accuracy: 215432/444748 (48.4391%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 0.4150, Accuracy: 444457/444748 (99.9346%)
___Train Local_Simple,  epoch  20, local model OH, internal_epoch   1,  Average loss: 0.0110, Accuracy: 41032/59283 (69.2138%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.4195, Accuracy: 377938/444748 (84.9780%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  20, local model MO, internal_epoch   1,  Average loss: 0.0128, Accuracy: 17368/28352 (61.2585%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.5486, Accuracy: 366571/444748 (82.4222%), Attack Success Rate:0/444748(0.000)
poison local model WA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.6468, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  20, local model WA, internal_epoch   1,  Average loss: 0.0113, Accuracy: 22653/37141 (60.9919%), train_poison_data_count37141
Global model norm: 4.931041888159459.
Norm before scaling: 5.01975467644772. Distance: 1.029559107461607
Total norm for 17 adversaries is: 5.01975467644772. distance: 1.029559107461607
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.5345, Accuracy: 215576/444748 (48.4715%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 0.0487, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch  20, local model CT, internal_epoch   1,  Average loss: 0.0134, Accuracy: 16795/28136 (59.6922%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.5839, Accuracy: 353186/444748 (79.4126%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  20, local model OR, internal_epoch   1,  Average loss: 0.0139, Accuracy: 12020/21174 (56.7677%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 0.6544, Accuracy: 361338/444748 (81.2456%), Attack Success Rate:0/444748(0.000)
time spent on training: 552.766622543335
[foolsgold agg] training data poison_ratio: 0.16347529317793996  data num: [15078, 49376, 20228, 8777, 7885, 59283, 28352, 37141, 28136, 21174]
[foolsgold agg] considering poison per batch poison_fraction: 0.16347529317793996
[foolsgold agg] wv: [0.         1.         0.         1.         0.         0.17609672
 0.17467619 0.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 20: Average loss: 1.0699, Accuracy: 200749/444748 (45.1377%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 20: Average loss: 1.6381, Accuracy: 0/444748 (0.0000%)
Done in 1360.5208623409271 sec.
Server Epoch:21 choose agents : ['TN', 'OR', 'IA', 'AR', 'NM', 'SD', 'WI', 'OH', 'CT', 'TX'].
___Train Local_Simple,  epoch  21, local model TN, internal_epoch   1,  Average loss: 0.0130, Accuracy: 17042/27944 (60.9863%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.5526, Accuracy: 364623/444748 (81.9842%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model OR, internal_epoch   1,  Average loss: 0.0134, Accuracy: 12129/21174 (57.2825%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.6445, Accuracy: 359271/444748 (80.7808%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model IA, internal_epoch   1,  Average loss: 0.2130, Accuracy: 1/5 (20.0000%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.0686, Accuracy: 204102/444748 (45.8916%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model AR, internal_epoch   1,  Average loss: 0.0143, Accuracy: 7264/13420 (54.1282%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.7092, Accuracy: 359474/444748 (80.8264%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model NM, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4812/9436 (50.9962%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.7515, Accuracy: 245101/444748 (55.1101%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model SD, internal_epoch   1,  Average loss: 0.0159, Accuracy: 1627/3593 (45.2825%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.8423, Accuracy: 239503/444748 (53.8514%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model WI, internal_epoch   1,  Average loss: 0.0131, Accuracy: 13824/23488 (58.8556%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.5863, Accuracy: 363057/444748 (81.6321%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model OH, internal_epoch   1,  Average loss: 0.0110, Accuracy: 41030/59283 (69.2104%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.4515, Accuracy: 373525/444748 (83.9858%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  21, local model CT, internal_epoch   1,  Average loss: 0.0136, Accuracy: 16652/28136 (59.1840%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 0.6125, Accuracy: 354634/444748 (79.7382%), Attack Success Rate:0/444748(0.000)
poison local model TX will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.6381, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  21, local model TX, internal_epoch   1,  Average loss: 0.0078, Accuracy: 109692/146613 (74.8174%), train_poison_data_count146613
Global model norm: 4.930992376949411.
Norm before scaling: 5.318227216442337. Distance: 1.9682365837943305
Total norm for 17 adversaries is: 5.318227216442337. distance: 1.9682365837943305
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 2.5115, Accuracy: 342190/444748 (76.9402%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 0.0001, Accuracy: 444744/444748 (99.9991%)
time spent on training: 356.9589800834656
[foolsgold agg] training data poison_ratio: 0.44015767415608903  data num: [27944, 21174, 5, 13420, 9436, 3593, 23488, 59283, 28136, 146613]
[foolsgold agg] considering poison per batch poison_fraction: 0.44015767415608903
[foolsgold agg] wv: [0.         0.         1.         0.         0.         0.
 0.         0.         0.         0.18579115]
___Test Target_Simple poisoned: False, epoch: 21: Average loss: 1.0695, Accuracy: 201051/444748 (45.2056%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 21: Average loss: 1.6363, Accuracy: 0/444748 (0.0000%)
Done in 1166.7777636051178 sec.
Server Epoch:22 choose agents : ['TN', 'VA', 'IN', 'CA', 'WI', 'AK', 'ME', 'MA', 'OR', 'IA'].
___Train Local_Simple,  epoch  22, local model TN, internal_epoch   1,  Average loss: 0.0130, Accuracy: 17056/27944 (61.0364%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.5635, Accuracy: 351957/444748 (79.1363%), Attack Success Rate:0/444748(0.000)
poison local model VA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.6363, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  22, local model VA, internal_epoch   1,  Average loss: 0.0105, Accuracy: 30940/49488 (62.5202%), train_poison_data_count49488
Global model norm: 4.931004367991215.
Norm before scaling: 5.05602481373601. Distance: 1.1596542453957734
Total norm for 17 adversaries is: 5.05602481373601. distance: 1.1596542453957734
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.5875, Accuracy: 330580/444748 (74.3297%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 0.0160, Accuracy: 444717/444748 (99.9930%)
poison local model IN will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.6363, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  22, local model IN, internal_epoch   1,  Average loss: 0.0114, Accuracy: 17066/29580 (57.6944%), train_poison_data_count29580
Global model norm: 4.931004367991215.
Norm before scaling: 5.000206752317145. Distance: 0.7926277968557813
Total norm for 17 adversaries is: 5.000206752317145. distance: 0.7926277968557813
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.4605, Accuracy: 310622/444748 (69.8422%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 0.0722, Accuracy: 444597/444748 (99.9660%)
poison local model CA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.6363, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  22, local model CA, internal_epoch   1,  Average loss: 0.0068, Accuracy: 196833/247628 (79.4874%), train_poison_data_count247628
Global model norm: 4.931004367991215.
Norm before scaling: 5.533259657097372. Distance: 2.5881375177039714
Total norm for 17 adversaries is: 5.533259657097372. distance: 2.5881375177039714
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 3.0750, Accuracy: 356592/444748 (80.1784%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 0.0002, Accuracy: 444723/444748 (99.9944%)
___Train Local_Simple,  epoch  22, local model WI, internal_epoch   1,  Average loss: 0.0132, Accuracy: 13737/23488 (58.4852%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.6128, Accuracy: 353622/444748 (79.5106%), Attack Success Rate:0/444748(0.000)
poison local model AK will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.6363, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  22, local model AK, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1918/4112 (46.6440%), train_poison_data_count4112
Global model norm: 4.931004367991215.
Norm before scaling: 4.944337384116172. Distance: 0.43161866835593665
Total norm for 17 adversaries is: 4.944337384116172. distance: 0.43161866835593665
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.0297, Accuracy: 215460/444748 (48.4454%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 0.3717, Accuracy: 444382/444748 (99.9177%)
poison local model ME will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.6363, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  22, local model ME, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2090/3927 (53.2213%), train_poison_data_count3927
Global model norm: 4.931004367991215.
Norm before scaling: 4.945001625546766. Distance: 0.2726860620328282
Total norm for 17 adversaries is: 4.945001625546766. distance: 0.2726860620328282
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.0406, Accuracy: 175596/444748 (39.4821%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.7848, Accuracy: 0/444748 (0.0000%)
poison local model MA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.6363, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  22, local model MA, internal_epoch   1,  Average loss: 0.0106, Accuracy: 25103/40748 (61.6055%), train_poison_data_count40748
Global model norm: 4.931004367991215.
Norm before scaling: 5.035483338568695. Distance: 0.9563075229073232
Total norm for 17 adversaries is: 5.035483338568695. distance: 0.9563075229073232
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.5552, Accuracy: 308216/444748 (69.3013%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 0.0205, Accuracy: 444719/444748 (99.9935%)
___Train Local_Simple,  epoch  22, local model OR, internal_epoch   1,  Average loss: 0.0135, Accuracy: 12377/21174 (58.4538%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 0.6122, Accuracy: 361415/444748 (81.2629%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  22, local model IA, internal_epoch   1,  Average loss: 0.2619, Accuracy: 0/5 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.0680, Accuracy: 205736/444748 (46.2590%), Attack Success Rate:0/444748(0.000)
time spent on training: 1398.910295009613
[foolsgold agg] training data poison_ratio: 0.8379558753297299  data num: [27944, 49488, 29580, 247628, 23488, 4112, 3927, 40748, 21174, 5]
[foolsgold agg] considering poison per batch poison_fraction: 0.8379558753297299
[foolsgold agg] wv: [0.04640498 0.         0.         0.48945811 0.04640498 0.01367347
 0.30435527 0.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 22: Average loss: 1.0677, Accuracy: 202371/444748 (45.5024%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 22: Average loss: 1.6280, Accuracy: 0/444748 (0.0000%)
Done in 2208.3465309143066 sec.
Server Epoch:23 choose agents : ['CO', 'HI', 'IL', 'AZ', 'VA', 'CT', 'SC', 'MN', 'MS', 'MO'].
poison local model CO will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.6280, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  23, local model CO, internal_epoch   1,  Average loss: 0.0108, Accuracy: 23415/38041 (61.5520%), train_poison_data_count38041
Global model norm: 4.930979612259965.
Norm before scaling: 5.029804093051491. Distance: 0.929756418446529
Total norm for 17 adversaries is: 5.029804093051491. distance: 0.929756418446529
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.5127, Accuracy: 311925/444748 (70.1352%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 0.0564, Accuracy: 444694/444748 (99.9879%)
poison local model HI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.6280, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  23, local model HI, internal_epoch   1,  Average loss: 0.0132, Accuracy: 4611/8393 (54.9386%), train_poison_data_count8393
Global model norm: 4.930979612259965.
Norm before scaling: 4.9518721768054474. Distance: 0.46880546877416707
Total norm for 17 adversaries is: 4.9518721768054474. distance: 0.46880546877416707
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.1581, Accuracy: 215456/444748 (48.4445%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 0.2733, Accuracy: 444502/444748 (99.9447%)
___Train Local_Simple,  epoch  23, local model IL, internal_epoch   1,  Average loss: 0.0108, Accuracy: 51390/71875 (71.4991%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.3912, Accuracy: 378546/444748 (85.1147%), Attack Success Rate:0/444748(0.000)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.6280, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  23, local model AZ, internal_epoch   1,  Average loss: 0.0106, Accuracy: 26179/42368 (61.7896%), train_poison_data_count42368
Global model norm: 4.930979612259965.
Norm before scaling: 5.043511276551694. Distance: 0.9940394142058095
Total norm for 17 adversaries is: 5.043511276551694. distance: 0.9940394142058095
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.5796, Accuracy: 330890/444748 (74.3994%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 0.0240, Accuracy: 444702/444748 (99.9897%)
poison local model VA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.6280, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  23, local model VA, internal_epoch   1,  Average loss: 0.0103, Accuracy: 31110/49488 (62.8637%), train_poison_data_count49488
Global model norm: 4.930979612259965.
Norm before scaling: 5.059858786983473. Distance: 1.0974333730298829
Total norm for 17 adversaries is: 5.059858786983473. distance: 1.0974333730298829
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.6063, Accuracy: 328882/444748 (73.9479%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 0.0063, Accuracy: 444746/444748 (99.9996%)
___Train Local_Simple,  epoch  23, local model CT, internal_epoch   1,  Average loss: 0.0132, Accuracy: 16928/28136 (60.1649%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.5832, Accuracy: 353344/444748 (79.4481%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  23, local model SC, internal_epoch   1,  Average loss: 0.0135, Accuracy: 13116/22070 (59.4291%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.6056, Accuracy: 356040/444748 (80.0543%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  23, local model MN, internal_epoch   1,  Average loss: 0.0126, Accuracy: 19243/31151 (61.7733%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.5270, Accuracy: 366407/444748 (82.3853%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  23, local model MS, internal_epoch   1,  Average loss: 0.0147, Accuracy: 5276/9869 (53.4603%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.7770, Accuracy: 310675/444748 (69.8542%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  23, local model MO, internal_epoch   1,  Average loss: 0.0130, Accuracy: 17350/28352 (61.1950%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 0.5551, Accuracy: 366070/444748 (82.3095%), Attack Success Rate:0/444748(0.000)
time spent on training: 970.0271737575531
[foolsgold agg] training data poison_ratio: 0.4193872197438611  data num: [38041, 8393, 71875, 42368, 49488, 28136, 22070, 31151, 9869, 28352]
[foolsgold agg] considering poison per batch poison_fraction: 0.4193872197438611
[foolsgold agg] wv: [0.         0.         1.         0.         0.         0.19938538
 1.         0.69256731 0.26768915 0.19938538]
___Test Target_Simple poisoned: False, epoch: 23: Average loss: 1.0652, Accuracy: 204355/444748 (45.9485%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 23: Average loss: 1.6230, Accuracy: 0/444748 (0.0000%)
Done in 1778.5296728610992 sec.
Server Epoch:24 choose agents : ['SC', 'MN', 'OK', 'RI', 'AL', 'MI', 'SD', 'KS', 'HI', 'LA'].
___Train Local_Simple,  epoch  24, local model SC, internal_epoch   1,  Average loss: 0.0130, Accuracy: 13163/22070 (59.6420%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.6329, Accuracy: 357144/444748 (80.3026%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  24, local model MN, internal_epoch   1,  Average loss: 0.0128, Accuracy: 19151/31151 (61.4780%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.5901, Accuracy: 363589/444748 (81.7517%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  24, local model OK, internal_epoch   1,  Average loss: 0.0139, Accuracy: 8949/16276 (54.9828%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.6816, Accuracy: 359600/444748 (80.8548%), Attack Success Rate:0/444748(0.000)
poison local model RI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.6230, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  24, local model RI, internal_epoch   1,  Average loss: 0.0136, Accuracy: 4151/7885 (52.6443%), train_poison_data_count7885
Global model norm: 4.930968201373246.
Norm before scaling: 4.951632783342212. Distance: 0.45819206842349447
Total norm for 17 adversaries is: 4.951632783342212. distance: 0.45819206842349447
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.1258, Accuracy: 215437/444748 (48.4402%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 0.3213, Accuracy: 444466/444748 (99.9366%)
poison local model AL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.6230, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  24, local model AL, internal_epoch   1,  Average loss: 0.0116, Accuracy: 12444/21424 (58.0844%), train_poison_data_count21424
Global model norm: 4.930968201373246.
Norm before scaling: 4.984189403749738. Distance: 0.6968395951176829
Total norm for 17 adversaries is: 4.984189403749738. distance: 0.6968395951176829
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.4391, Accuracy: 215507/444748 (48.4560%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 0.1101, Accuracy: 444634/444748 (99.9744%)
poison local model MI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.6230, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  24, local model MI, internal_epoch   1,  Average loss: 0.0104, Accuracy: 29087/46276 (62.8555%), train_poison_data_count46276
Global model norm: 4.930968201373246.
Norm before scaling: 5.058010983866587. Distance: 1.0720905654392474
Total norm for 17 adversaries is: 5.058010983866587. distance: 1.0720905654392474
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.5956, Accuracy: 323977/444748 (72.8451%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 0.0163, Accuracy: 444590/444748 (99.9645%)
___Train Local_Simple,  epoch  24, local model SD, internal_epoch   1,  Average loss: 0.0160, Accuracy: 1648/3593 (45.8670%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.8342, Accuracy: 244916/444748 (55.0685%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  24, local model KS, internal_epoch   1,  Average loss: 0.0139, Accuracy: 8262/15078 (54.7951%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.6719, Accuracy: 359951/444748 (80.9337%), Attack Success Rate:0/444748(0.000)
poison local model HI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.6230, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  24, local model HI, internal_epoch   1,  Average loss: 0.0132, Accuracy: 4568/8393 (54.4263%), train_poison_data_count8393
Global model norm: 4.930968201373246.
Norm before scaling: 4.95375803082162. Distance: 0.47018461041093107
Total norm for 17 adversaries is: 4.95375803082162. distance: 0.47018461041093107
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.1554, Accuracy: 215508/444748 (48.4562%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 0.2649, Accuracy: 444572/444748 (99.9604%)
___Train Local_Simple,  epoch  24, local model LA, internal_epoch   1,  Average loss: 0.0135, Accuracy: 11659/20228 (57.6379%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 0.6380, Accuracy: 360437/444748 (81.0430%), Attack Success Rate:0/444748(0.000)
time spent on training: 959.1034049987793
[foolsgold agg] training data poison_ratio: 0.43653508270348385  data num: [22070, 31151, 16276, 7885, 21424, 46276, 3593, 15078, 8393, 20228]
[foolsgold agg] considering poison per batch poison_fraction: 0.43653508270348385
[foolsgold agg] wv: [1.         0.77213614 0.         0.         0.         0.
 0.76020886 0.         0.         0.85443428]
___Test Target_Simple poisoned: False, epoch: 24: Average loss: 1.0632, Accuracy: 206078/444748 (46.3359%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 24: Average loss: 1.6174, Accuracy: 0/444748 (0.0000%)
Done in 1773.3508908748627 sec.
Server Epoch:25 choose agents : ['MS', 'WV', 'FL', 'NM', 'GA', 'MO', 'HI', 'NJ', 'SD', 'PA'].
___Train Local_Simple,  epoch  25, local model MS, internal_epoch   1,  Average loss: 0.0148, Accuracy: 5307/9869 (53.7744%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.7764, Accuracy: 303448/444748 (68.2292%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  25, local model WV, internal_epoch   1,  Average loss: 0.0152, Accuracy: 3206/6619 (48.4363%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.8210, Accuracy: 321393/444748 (72.2641%), Attack Success Rate:0/444748(0.000)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.6174, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  25, local model FL, internal_epoch   1,  Average loss: 0.0084, Accuracy: 92555/127170 (72.7805%), train_poison_data_count127170
Global model norm: 4.930984253969042.
Norm before scaling: 5.267099236377147. Distance: 1.880246388339964
Total norm for 17 adversaries is: 5.267099236377147. distance: 1.880246388339964
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 2.3412, Accuracy: 339704/444748 (76.3812%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 0.0001, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch  25, local model NM, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4792/9436 (50.7842%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.7577, Accuracy: 319949/444748 (71.9394%), Attack Success Rate:0/444748(0.000)
poison local model GA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.6174, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  25, local model GA, internal_epoch   1,  Average loss: 0.0101, Accuracy: 37706/58387 (64.5794%), train_poison_data_count58387
Global model norm: 4.930984253969042.
Norm before scaling: 5.088176650429559. Distance: 1.191860525106341
Total norm for 17 adversaries is: 5.088176650429559. distance: 1.191860525106341
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.5920, Accuracy: 333183/444748 (74.9150%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 0.0053, Accuracy: 444720/444748 (99.9937%)
___Train Local_Simple,  epoch  25, local model MO, internal_epoch   1,  Average loss: 0.0128, Accuracy: 17247/28352 (60.8317%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.6462, Accuracy: 357102/444748 (80.2931%), Attack Success Rate:0/444748(0.000)
poison local model HI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.6174, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  25, local model HI, internal_epoch   1,  Average loss: 0.0132, Accuracy: 4548/8393 (54.1880%), train_poison_data_count8393
Global model norm: 4.930984253969042.
Norm before scaling: 4.951746992608628. Distance: 0.4680903243399145
Total norm for 17 adversaries is: 4.951746992608628. distance: 0.4680903243399145
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.1467, Accuracy: 215450/444748 (48.4432%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 0.2796, Accuracy: 444507/444748 (99.9458%)
___Train Local_Simple,  epoch  25, local model NJ, internal_epoch   1,  Average loss: 0.0120, Accuracy: 44823/65376 (68.5619%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.4004, Accuracy: 375661/444748 (84.4660%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  25, local model SD, internal_epoch   1,  Average loss: 0.0158, Accuracy: 1659/3593 (46.1731%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 0.8348, Accuracy: 241030/444748 (54.1947%), Attack Success Rate:0/444748(0.000)
poison local model PA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.6174, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  25, local model PA, internal_epoch   1,  Average loss: 0.0099, Accuracy: 39382/60498 (65.0964%), train_poison_data_count60498
Global model norm: 4.930984253969042.
Norm before scaling: 5.100578552042087. Distance: 1.2423468913375755
Total norm for 17 adversaries is: 5.100578552042087. distance: 1.2423468913375755
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.6935, Accuracy: 331229/444748 (74.4757%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 0.0019, Accuracy: 444722/444748 (99.9942%)
time spent on training: 980.4626567363739
[foolsgold agg] training data poison_ratio: 0.6736900074928579  data num: [9869, 6619, 127170, 9436, 58387, 28352, 8393, 65376, 3593, 60498]
[foolsgold agg] considering poison per batch poison_fraction: 0.6736900074928579
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.20170657
 0.         1.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 25: Average loss: 1.0622, Accuracy: 207051/444748 (46.5547%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 25: Average loss: 1.6164, Accuracy: 0/444748 (0.0000%)
Done in 1790.6029467582703 sec.
Server Epoch:26 choose agents : ['OH', 'NM', 'DE', 'NC', 'NY', 'NH', 'MO', 'HI', 'CT', 'GA'].
___Train Local_Simple,  epoch  26, local model OH, internal_epoch   1,  Average loss: 0.0109, Accuracy: 41175/59283 (69.4550%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.5074, Accuracy: 378746/444748 (85.1597%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model NM, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4798/9436 (50.8478%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.7571, Accuracy: 337186/444748 (75.8151%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model DE, internal_epoch   1,  Average loss: 0.0153, Accuracy: 2426/5070 (47.8501%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.8195, Accuracy: 267633/444748 (60.1763%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model NC, internal_epoch   1,  Average loss: 0.0112, Accuracy: 33579/49376 (68.0067%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.4628, Accuracy: 375577/444748 (84.4471%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model NY, internal_epoch   1,  Average loss: 0.0086, Accuracy: 114321/146282 (78.1511%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.2433, Accuracy: 408431/444748 (91.8343%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model NH, internal_epoch   1,  Average loss: 0.0149, Accuracy: 4482/8777 (51.0653%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.8220, Accuracy: 329950/444748 (74.1881%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  26, local model MO, internal_epoch   1,  Average loss: 0.0128, Accuracy: 17565/28352 (61.9533%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.5465, Accuracy: 363380/444748 (81.7047%), Attack Success Rate:0/444748(0.000)
poison local model HI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.6164, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  26, local model HI, internal_epoch   1,  Average loss: 0.0132, Accuracy: 4612/8393 (54.9506%), train_poison_data_count8393
Global model norm: 4.930918689423311.
Norm before scaling: 4.951471576235056. Distance: 0.4806712894446671
Total norm for 17 adversaries is: 4.951471576235056. distance: 0.4806712894446671
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.1821, Accuracy: 215463/444748 (48.4461%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 0.2481, Accuracy: 444510/444748 (99.9465%)
___Train Local_Simple,  epoch  26, local model CT, internal_epoch   1,  Average loss: 0.0135, Accuracy: 16986/28136 (60.3711%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 0.5663, Accuracy: 356851/444748 (80.2367%), Attack Success Rate:0/444748(0.000)
poison local model GA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.6164, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  26, local model GA, internal_epoch   1,  Average loss: 0.0101, Accuracy: 37426/58387 (64.0999%), train_poison_data_count58387
Global model norm: 4.930918689423311.
Norm before scaling: 5.097257564929159. Distance: 1.2142522911472708
Total norm for 17 adversaries is: 5.097257564929159. distance: 1.2142522911472708
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.5884, Accuracy: 334841/444748 (75.2878%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 0.0066, Accuracy: 444632/444748 (99.9739%)
time spent on training: 560.1684212684631
[foolsgold agg] training data poison_ratio: 0.16632959062696143  data num: [59283, 9436, 5070, 49376, 146282, 8777, 28352, 8393, 28136, 58387]
[foolsgold agg] considering poison per batch poison_fraction: 0.16632959062696143
[foolsgold agg] wv: [0.         0.00410807 0.         0.         0.73803246 1.
 0.2446729  0.         0.00410807 0.        ]
___Test Target_Simple poisoned: False, epoch: 26: Average loss: 1.0607, Accuracy: 208465/444748 (46.8726%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 26: Average loss: 1.6139, Accuracy: 0/444748 (0.0000%)
Done in 1371.0721352100372 sec.
Server Epoch:27 choose agents : ['NC', 'WY', 'NH', 'AZ', 'DE', 'ID', 'OH', 'AL', 'OR', 'IL'].
___Train Local_Simple,  epoch  27, local model NC, internal_epoch   1,  Average loss: 0.0113, Accuracy: 33441/49376 (67.7272%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.4401, Accuracy: 373963/444748 (84.0842%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  27, local model WY, internal_epoch   1,  Average loss: 0.0152, Accuracy: 1787/3752 (47.6279%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.8235, Accuracy: 236821/444748 (53.2484%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  27, local model NH, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4450/8777 (50.7007%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.7799, Accuracy: 347201/444748 (78.0669%), Attack Success Rate:0/444748(0.000)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.6139, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  27, local model AZ, internal_epoch   1,  Average loss: 0.0106, Accuracy: 26287/42368 (62.0445%), train_poison_data_count42368
Global model norm: 4.9308950937097515.
Norm before scaling: 5.073145470234241. Distance: 1.1448149345793996
Total norm for 17 adversaries is: 5.073145470234241. distance: 1.1448149345793996
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.5551, Accuracy: 296085/444748 (66.5737%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 0.0140, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch  27, local model DE, internal_epoch   1,  Average loss: 0.0153, Accuracy: 2427/5070 (47.8698%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.8147, Accuracy: 276152/444748 (62.0918%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  27, local model ID, internal_epoch   1,  Average loss: 0.0146, Accuracy: 1902/3385 (56.1891%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.9161, Accuracy: 189785/444748 (42.6725%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  27, local model OH, internal_epoch   1,  Average loss: 0.0112, Accuracy: 41147/59283 (69.4078%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.4365, Accuracy: 376519/444748 (84.6590%), Attack Success Rate:0/444748(0.000)
poison local model AL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.6139, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  27, local model AL, internal_epoch   1,  Average loss: 0.0116, Accuracy: 12466/21424 (58.1871%), train_poison_data_count21424
Global model norm: 4.9308950937097515.
Norm before scaling: 4.985356057937493. Distance: 0.6892101086490122
Total norm for 17 adversaries is: 4.985356057937493. distance: 0.6892101086490122
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.4147, Accuracy: 218074/444748 (49.0332%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 0.1119, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch  27, local model OR, internal_epoch   1,  Average loss: 0.0135, Accuracy: 12243/21174 (57.8209%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.6586, Accuracy: 353736/444748 (79.5363%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  27, local model IL, internal_epoch   1,  Average loss: 0.0106, Accuracy: 51182/71875 (71.2097%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 0.3810, Accuracy: 380405/444748 (85.5327%), Attack Success Rate:0/444748(0.000)
time spent on training: 554.1773889064789
[foolsgold agg] training data poison_ratio: 0.22267212130520378  data num: [49376, 3752, 8777, 42368, 5070, 3385, 59283, 21424, 21174, 71875]
[foolsgold agg] considering poison per batch poison_fraction: 0.22267212130520378
[foolsgold agg] wv: [0. 0. 1. 0. 0. 1. 0. 0. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 27: Average loss: 1.0592, Accuracy: 209543/444748 (47.1150%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 27: Average loss: 1.6098, Accuracy: 0/444748 (0.0000%)
Done in 1364.6951484680176 sec.
Server Epoch:28 choose agents : ['PA', 'IA', 'ID', 'OR', 'SD', 'NC', 'IL', 'HI', 'MS', 'NE'].
poison local model PA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.6098, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  28, local model PA, internal_epoch   1,  Average loss: 0.0099, Accuracy: 39482/60498 (65.2617%), train_poison_data_count60498
Global model norm: 4.930847901943893.
Norm before scaling: 5.098973316745999. Distance: 1.2495280805487707
Total norm for 17 adversaries is: 5.098973316745999. distance: 1.2495280805487707
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.7050, Accuracy: 334967/444748 (75.3161%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 0.0023, Accuracy: 444611/444748 (99.9692%)
___Train Local_Simple,  epoch  28, local model IA, internal_epoch   1,  Average loss: 0.2261, Accuracy: 1/5 (20.0000%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.0570, Accuracy: 214307/444748 (48.1862%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model ID, internal_epoch   1,  Average loss: 0.0145, Accuracy: 1878/3385 (55.4801%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.9207, Accuracy: 186786/444748 (41.9982%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model OR, internal_epoch   1,  Average loss: 0.0136, Accuracy: 12313/21174 (58.1515%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.6503, Accuracy: 354381/444748 (79.6813%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model SD, internal_epoch   1,  Average loss: 0.0158, Accuracy: 1712/3593 (47.6482%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.8321, Accuracy: 240993/444748 (54.1864%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model NC, internal_epoch   1,  Average loss: 0.0113, Accuracy: 33422/49376 (67.6888%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.4491, Accuracy: 372378/444748 (83.7279%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model IL, internal_epoch   1,  Average loss: 0.0107, Accuracy: 51370/71875 (71.4713%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.3667, Accuracy: 380118/444748 (85.4682%), Attack Success Rate:0/444748(0.000)
poison local model HI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.6098, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  28, local model HI, internal_epoch   1,  Average loss: 0.0132, Accuracy: 4540/8393 (54.0927%), train_poison_data_count8393
Global model norm: 4.930847901943893.
Norm before scaling: 4.9530782125772275. Distance: 0.47806805290221915
Total norm for 17 adversaries is: 4.9530782125772275. distance: 0.47806805290221915
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1714, Accuracy: 215474/444748 (48.4486%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 0.2325, Accuracy: 444523/444748 (99.9494%)
___Train Local_Simple,  epoch  28, local model MS, internal_epoch   1,  Average loss: 0.0147, Accuracy: 5354/9869 (54.2507%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.7540, Accuracy: 329653/444748 (74.1213%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  28, local model NE, internal_epoch   1,  Average loss: 0.0145, Accuracy: 3326/6144 (54.1341%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 0.8423, Accuracy: 226937/444748 (51.0260%), Attack Success Rate:0/444748(0.000)
time spent on training: 551.3234300613403
[foolsgold agg] training data poison_ratio: 0.29401396428693366  data num: [60498, 5, 3385, 21174, 3593, 49376, 71875, 8393, 9869, 6144]
[foolsgold agg] considering poison per batch poison_fraction: 0.29401396428693366
[foolsgold agg] wv: [0.         1.         0.         1.         0.31576193 0.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 28: Average loss: 1.0584, Accuracy: 210351/444748 (47.2967%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 28: Average loss: 1.6058, Accuracy: 0/444748 (0.0000%)
Done in 1361.363461971283 sec.
Server Epoch:29 choose agents : ['CT', 'MO', 'KY', 'CO', 'NH', 'DE', 'FL', 'NY', 'TX', 'WY'].
___Train Local_Simple,  epoch  29, local model CT, internal_epoch   1,  Average loss: 0.0131, Accuracy: 17242/28136 (61.2809%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.5488, Accuracy: 359496/444748 (80.8314%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  29, local model MO, internal_epoch   1,  Average loss: 0.0131, Accuracy: 17347/28352 (61.1844%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.5631, Accuracy: 366459/444748 (82.3970%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  29, local model KY, internal_epoch   1,  Average loss: 0.0137, Accuracy: 9821/17242 (56.9597%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.6545, Accuracy: 355705/444748 (79.9790%), Attack Success Rate:0/444748(0.000)
poison local model CO will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.6058, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  29, local model CO, internal_epoch   1,  Average loss: 0.0106, Accuracy: 23616/38041 (62.0804%), train_poison_data_count38041
Global model norm: 4.930810380299543.
Norm before scaling: 5.033259588716078. Distance: 0.9224412762939191
Total norm for 17 adversaries is: 5.033259588716078. distance: 0.9224412762939191
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.4581, Accuracy: 306210/444748 (68.8502%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 0.0493, Accuracy: 444703/444748 (99.9899%)
___Train Local_Simple,  epoch  29, local model NH, internal_epoch   1,  Average loss: 0.0157, Accuracy: 4330/8777 (49.3335%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.7853, Accuracy: 312897/444748 (70.3538%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  29, local model DE, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2459/5070 (48.5010%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.8152, Accuracy: 341367/444748 (76.7552%), Attack Success Rate:0/444748(0.000)
poison local model FL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.6058, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  29, local model FL, internal_epoch   1,  Average loss: 0.0082, Accuracy: 93244/127170 (73.3223%), train_poison_data_count127170
Global model norm: 4.930810380299543.
Norm before scaling: 5.27424581478669. Distance: 1.8249486079883745
Total norm for 17 adversaries is: 5.27424581478669. distance: 1.8249486079883745
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 2.4228, Accuracy: 341241/444748 (76.7268%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 0.0023, Accuracy: 444606/444748 (99.9681%)
___Train Local_Simple,  epoch  29, local model NY, internal_epoch   1,  Average loss: 0.0090, Accuracy: 114298/146282 (78.1354%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.2189, Accuracy: 409588/444748 (92.0944%), Attack Success Rate:0/444748(0.000)
poison local model TX will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.6058, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  29, local model TX, internal_epoch   1,  Average loss: 0.0078, Accuracy: 109876/146613 (74.9429%), train_poison_data_count146613
Global model norm: 4.930810380299543.
Norm before scaling: 5.314302206087086. Distance: 1.9533613138288781
Total norm for 17 adversaries is: 5.314302206087086. distance: 1.9533613138288781
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 2.5396, Accuracy: 343523/444748 (77.2399%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 0.0000, Accuracy: 444743/444748 (99.9989%)
___Train Local_Simple,  epoch  29, local model WY, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1739/3752 (46.3486%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 0.8342, Accuracy: 236320/444748 (53.1357%), Attack Success Rate:0/444748(0.000)
time spent on training: 785.603465795517
[foolsgold agg] training data poison_ratio: 0.5675357412614777  data num: [28136, 28352, 17242, 38041, 8777, 5070, 127170, 146282, 146613, 3752]
[foolsgold agg] considering poison per batch poison_fraction: 0.5675357412614777
[foolsgold agg] wv: [0. 0. 0. 0. 1. 0. 0. 1. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 29: Average loss: 1.0570, Accuracy: 211995/444748 (47.6663%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 29: Average loss: 1.5939, Accuracy: 0/444748 (0.0000%)
Done in 1592.1831567287445 sec.
Server Epoch:30 choose agents : ['AK', 'TX', 'VT', 'OK', 'NM', 'UT', 'MS', 'SD', 'AZ', 'AL'].
poison local model AK will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.5939, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  30, local model AK, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2012/4112 (48.9300%), train_poison_data_count4112
Global model norm: 4.930571511590538.
Norm before scaling: 4.94143307644645. Distance: 0.3342976690159457
Total norm for 17 adversaries is: 4.94143307644645. distance: 0.3342976690159457
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.0379, Accuracy: 215443/444748 (48.4416%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 0.3299, Accuracy: 444464/444748 (99.9361%)
poison local model TX will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.5939, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  30, local model TX, internal_epoch   1,  Average loss: 0.0078, Accuracy: 109448/146613 (74.6510%), train_poison_data_count146613
Global model norm: 4.930571511590538.
Norm before scaling: 5.320258545006791. Distance: 1.9621233754889775
Total norm for 17 adversaries is: 5.320258545006791. distance: 1.9621233754889775
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 2.5344, Accuracy: 342235/444748 (76.9503%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 0.0001, Accuracy: 444748/444748 (100.0000%)
___Train Local_Simple,  epoch  30, local model VT, internal_epoch   1,  Average loss: 0.0151, Accuracy: 1878/3888 (48.3025%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.8667, Accuracy: 252545/444748 (56.7838%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  30, local model OK, internal_epoch   1,  Average loss: 0.0138, Accuracy: 9040/16276 (55.5419%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.6677, Accuracy: 357366/444748 (80.3525%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  30, local model NM, internal_epoch   1,  Average loss: 0.0148, Accuracy: 4879/9436 (51.7062%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.7602, Accuracy: 285103/444748 (64.1044%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  30, local model UT, internal_epoch   1,  Average loss: 0.0140, Accuracy: 6644/11827 (56.1765%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.7639, Accuracy: 242347/444748 (54.4909%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  30, local model MS, internal_epoch   1,  Average loss: 0.0144, Accuracy: 5362/9869 (54.3317%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.7678, Accuracy: 309049/444748 (69.4886%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  30, local model SD, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1652/3593 (45.9783%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 0.8376, Accuracy: 240814/444748 (54.1462%), Attack Success Rate:0/444748(0.000)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.5939, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  30, local model AZ, internal_epoch   1,  Average loss: 0.0106, Accuracy: 26478/42368 (62.4953%), train_poison_data_count42368
Global model norm: 4.930571511590538.
Norm before scaling: 5.066266201321862. Distance: 1.150853476811895
Total norm for 17 adversaries is: 5.066266201321862. distance: 1.150853476811895
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.5819, Accuracy: 332713/444748 (74.8093%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 0.0321, Accuracy: 444719/444748 (99.9935%)
poison local model AL will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.5939, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  30, local model AL, internal_epoch   1,  Average loss: 0.0115, Accuracy: 12498/21424 (58.3364%), train_poison_data_count21424
Global model norm: 4.930571511590538.
Norm before scaling: 4.984394133241098. Distance: 0.6861884655141739
Total norm for 17 adversaries is: 4.984394133241098. distance: 0.6861884655141739
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.3989, Accuracy: 215524/444748 (48.4598%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 0.1005, Accuracy: 444636/444748 (99.9748%)
time spent on training: 970.3308613300323
[foolsgold agg] training data poison_ratio: 0.7962591775981233  data num: [4112, 146613, 3888, 16276, 9436, 11827, 9869, 3593, 42368, 21424]
[foolsgold agg] considering poison per batch poison_fraction: 0.7962591775981233
[foolsgold agg] wv: [0.         0.48603434 0.         0.         0.98024109 1.
 0.         0.84404182 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 30: Average loss: 1.0550, Accuracy: 214254/444748 (48.1742%), Attack Success Rate:0/444748(0.000)
___Test Target_Simple poisoned: True, epoch: 30: Average loss: 1.5840, Accuracy: 0/444748 (0.0000%)
Done in 1778.9373066425323 sec.
Server Epoch:31 choose agents : ['MO', 'KY', 'NE', 'WA', 'OH', 'LA', 'MD', 'RI', 'AZ', 'ND'].
___Train Local_Simple,  epoch  31, local model MO, internal_epoch   1,  Average loss: 0.0128, Accuracy: 17390/28352 (61.3361%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.5449, Accuracy: 364659/444748 (81.9923%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  31, local model KY, internal_epoch   1,  Average loss: 0.0136, Accuracy: 9776/17242 (56.6988%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.6529, Accuracy: 359083/444748 (80.7385%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  31, local model NE, internal_epoch   1,  Average loss: 0.0144, Accuracy: 3391/6144 (55.1921%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.8199, Accuracy: 265898/444748 (59.7862%), Attack Success Rate:0/444748(0.000)
poison local model WA will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.5840, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  31, local model WA, internal_epoch   1,  Average loss: 0.0110, Accuracy: 22996/37141 (61.9154%), train_poison_data_count37141
Global model norm: 4.930586791797726.
Norm before scaling: 5.036364307597572. Distance: 1.060934596556341
Total norm for 17 adversaries is: 5.036364307597572. distance: 1.060934596556341
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.4827, Accuracy: 327337/444748 (73.6006%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 0.2917, Accuracy: 444183/444748 (99.8730%)
___Train Local_Simple,  epoch  31, local model OH, internal_epoch   1,  Average loss: 0.0110, Accuracy: 41509/59283 (70.0184%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.4698, Accuracy: 377507/444748 (84.8811%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  31, local model LA, internal_epoch   1,  Average loss: 0.0134, Accuracy: 11861/20228 (58.6365%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.6344, Accuracy: 353617/444748 (79.5095%), Attack Success Rate:0/444748(0.000)
___Train Local_Simple,  epoch  31, local model MD, internal_epoch   1,  Average loss: 0.0118, Accuracy: 27942/42316 (66.0318%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 0.4609, Accuracy: 372991/444748 (83.8657%), Attack Success Rate:0/444748(0.000)
poison local model RI will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.5840, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  31, local model RI, internal_epoch   1,  Average loss: 0.0135, Accuracy: 4118/7885 (52.2257%), train_poison_data_count7885
Global model norm: 4.930586791797726.
Norm before scaling: 4.953211257135365. Distance: 0.446044704727429
Total norm for 17 adversaries is: 4.953211257135365. distance: 0.446044704727429
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.1224, Accuracy: 215451/444748 (48.4434%), Attack Success Rate:0/444748(0.000)
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 0.3217, Accuracy: 444459/444748 (99.9350%)
poison local model AZ will poison epochs: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 92, 193, 194, 195, 196, 197, 198, 199, 200]
poison_now
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.5840, Accuracy: 0/444748 (0.0000%)
0.0
Current lr: [0.0005]
___PoisonTrain Local_Simple ,  epoch  31, local model AZ, internal_epoch   1,  Average loss: 0.0107, Accuracy: 26127/42368 (61.6668%), train_poison_data_count42368
Global model norm: 4.930586791797726.
Norm before scaling: 5.036993314567826. Distance: 0.9964007334670864
Total norm for 17 adversaries is: 5.036993314567826. distance: 0.9964007334670864
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.5293, Accuracy: 332632/444748 (74.7911%), Attack Success Rate:0/444748(0.000)
