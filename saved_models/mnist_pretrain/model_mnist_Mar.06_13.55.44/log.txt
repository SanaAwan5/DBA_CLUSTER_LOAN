current path: saved_models/mnist_pretrain/model_mnist_Mar.06_13.55.44
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
create model done
Poisoned following participants: [1, 2, 3, 4, 5, 6.0, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33]
We use following environment for graphs:  mnist_DBA
Server Epoch:1 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch   1, local model 0, internal_epoch   1,  Average loss: 0.0426, Accuracy: 176/300 (58.6667%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.3684, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:13/10000(0.130)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 1, internal_epoch   1,  Average loss: 0.0539, Accuracy: 26/84 (30.9524%), train_poison_data_count: 84
Global model norm: 13.898006576196178.
Norm before scaling: 13.896258041243625. Distance: 0.03475427294886373
Total norm for 9 adversaries is: 13.896258041243625. distance: 0.03475427294886373
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.2988, Accuracy: 1025/8991 (11.4003%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 2, internal_epoch   1,  Average loss: 0.0571, Accuracy: 38/119 (31.9328%), train_poison_data_count: 119
Global model norm: 13.898006576196178.
Norm before scaling: 13.894617457386488. Distance: 0.08004901228852475
Total norm for 9 adversaries is: 13.894617457386488. distance: 0.08004901228852475
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.2963, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 3, internal_epoch   1,  Average loss: 0.0350, Accuracy: 423/1010 (41.8812%), train_poison_data_count: 1010
Global model norm: 13.898006576196178.
Norm before scaling: 13.860783622574733. Distance: 1.0463689463463888
Total norm for 9 adversaries is: 13.860783622574733. distance: 1.0463689463463888
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 4.1708, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 4, internal_epoch   1,  Average loss: 0.0324, Accuracy: 357/463 (77.1058%), train_poison_data_count: 463
Global model norm: 13.898006576196178.
Norm before scaling: 13.926386623412608. Distance: 0.9854643410299324
Total norm for 9 adversaries is: 13.926386623412608. distance: 0.9854643410299324
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 9.1114, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 5, internal_epoch   1,  Average loss: 0.0217, Accuracy: 885/1046 (84.6080%), train_poison_data_count: 1046
Global model norm: 13.898006576196178.
Norm before scaling: 13.85555299787609. Distance: 1.1274060904224164
Total norm for 9 adversaries is: 13.85555299787609. distance: 1.1274060904224164
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 3.6180, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 6, internal_epoch   1,  Average loss: 0.0228, Accuracy: 1205/1982 (60.7972%), train_poison_data_count: 1982
Global model norm: 13.898006576196178.
Norm before scaling: 13.821573858669788. Distance: 1.6053890013553125
Total norm for 9 adversaries is: 13.821573858669788. distance: 1.6053890013553125
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 6.3571, Accuracy: 1976/8991 (21.9775%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 7, internal_epoch   1,  Average loss: 0.0539, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.898006576196178.
Norm before scaling: 13.895998349942388. Distance: 0.04954485574386213
Total norm for 9 adversaries is: 13.895998349942388. distance: 0.04954485574386213
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.2987, Accuracy: 1292/8991 (14.3699%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 8, internal_epoch   1,  Average loss: 0.0528, Accuracy: 57/171 (33.3333%), train_poison_data_count: 171
Global model norm: 13.898006576196178.
Norm before scaling: 13.89296075429956. Distance: 0.1677770241208558
Total norm for 9 adversaries is: 13.89296075429956. distance: 0.1677770241208558
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.2990, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 9, internal_epoch   1,  Average loss: 0.0486, Accuracy: 129/263 (49.0494%), train_poison_data_count: 263
Global model norm: 13.898006576196178.
Norm before scaling: 13.893017866344602. Distance: 0.29294204590210154
Total norm for 9 adversaries is: 13.893017866344602. distance: 0.29294204590210154
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.3444, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.98292875289917
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 1. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 1: Average loss: 2.3010, Accuracy: 1066/10000 (10.6600%), Attack Success Rate:9/10000(0.090)
___Test Target_Simple poisoned: True, epoch: 1: Average loss: 2.2974, Accuracy: 1040/8991 (11.5671%)
Done in 98.40876650810242 sec.
Server Epoch:2 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch   2, local model 0, internal_epoch   1,  Average loss: 0.0421, Accuracy: 187/300 (62.3333%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.3858, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:9/10000(0.090)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 1, internal_epoch   1,  Average loss: 0.0537, Accuracy: 26/84 (30.9524%), train_poison_data_count: 84
Global model norm: 13.897911606478305.
Norm before scaling: 13.896280551254701. Distance: 0.03568429884086083
Total norm for 9 adversaries is: 13.896280551254701. distance: 0.03568429884086083
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.2954, Accuracy: 1003/8991 (11.1556%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 2, internal_epoch   1,  Average loss: 0.0568, Accuracy: 34/119 (28.5714%), train_poison_data_count: 119
Global model norm: 13.897911606478305.
Norm before scaling: 13.894641068233431. Distance: 0.08330872353617758
Total norm for 9 adversaries is: 13.894641068233431. distance: 0.08330872353617758
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.2929, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 3, internal_epoch   1,  Average loss: 0.0343, Accuracy: 439/1010 (43.4653%), train_poison_data_count: 1010
Global model norm: 13.897911606478305.
Norm before scaling: 13.859735563763868. Distance: 1.0325397171620518
Total norm for 9 adversaries is: 13.859735563763868. distance: 1.0325397171620518
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 3.8773, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 4, internal_epoch   1,  Average loss: 0.0286, Accuracy: 369/463 (79.6976%), train_poison_data_count: 463
Global model norm: 13.897911606478305.
Norm before scaling: 13.932880816495908. Distance: 1.029214178885662
Total norm for 9 adversaries is: 13.932880816495908. distance: 1.029214178885662
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 10.8484, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 5, internal_epoch   1,  Average loss: 0.0221, Accuracy: 896/1046 (85.6597%), train_poison_data_count: 1046
Global model norm: 13.897911606478305.
Norm before scaling: 13.853535863909155. Distance: 1.1120335061630768
Total norm for 9 adversaries is: 13.853535863909155. distance: 1.1120335061630768
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 3.3650, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 6, internal_epoch   1,  Average loss: 0.0227, Accuracy: 1229/1982 (62.0081%), train_poison_data_count: 1982
Global model norm: 13.897911606478305.
Norm before scaling: 13.81937951733509. Distance: 1.583307274386473
Total norm for 9 adversaries is: 13.81937951733509. distance: 1.583307274386473
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 5.4546, Accuracy: 1766/8991 (19.6419%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 7, internal_epoch   1,  Average loss: 0.0539, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.897911606478305.
Norm before scaling: 13.895925877085173. Distance: 0.05193425190663855
Total norm for 9 adversaries is: 13.895925877085173. distance: 0.05193425190663855
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.2951, Accuracy: 1548/8991 (17.2172%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 8, internal_epoch   1,  Average loss: 0.0524, Accuracy: 60/171 (35.0877%), train_poison_data_count: 171
Global model norm: 13.897911606478305.
Norm before scaling: 13.893193594241401. Distance: 0.17359694635039175
Total norm for 9 adversaries is: 13.893193594241401. distance: 0.17359694635039175
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.2964, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 9, internal_epoch   1,  Average loss: 0.0479, Accuracy: 143/263 (54.3726%), train_poison_data_count: 263
Global model norm: 13.897911606478305.
Norm before scaling: 13.894237481959134. Distance: 0.3079849950724072
Total norm for 9 adversaries is: 13.894237481959134. distance: 0.3079849950724072
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.3615, Accuracy: 892/8991 (9.9210%)
time spent on training: 36.82363200187683
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 1. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 2: Average loss: 2.3000, Accuracy: 1044/10000 (10.4400%), Attack Success Rate:7/10000(0.070)
___Test Target_Simple poisoned: True, epoch: 2: Average loss: 2.2939, Accuracy: 1018/8991 (11.3224%)
Done in 96.95471549034119 sec.
Server Epoch:3 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch   3, local model 0, internal_epoch   1,  Average loss: 0.0415, Accuracy: 198/300 (66.0000%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.4124, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:14/10000(0.140)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 1, internal_epoch   1,  Average loss: 0.0533, Accuracy: 26/84 (30.9524%), train_poison_data_count: 84
Global model norm: 13.89790337207913.
Norm before scaling: 13.896383218403786. Distance: 0.03717822507940759
Total norm for 9 adversaries is: 13.896383218403786. distance: 0.03717822507940759
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.2920, Accuracy: 1003/8991 (11.1556%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 2, internal_epoch   1,  Average loss: 0.0566, Accuracy: 30/119 (25.2101%), train_poison_data_count: 119
Global model norm: 13.89790337207913.
Norm before scaling: 13.894716293222421. Distance: 0.08556285386677608
Total norm for 9 adversaries is: 13.894716293222421. distance: 0.08556285386677608
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.2894, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 3, internal_epoch   1,  Average loss: 0.0343, Accuracy: 452/1010 (44.7525%), train_poison_data_count: 1010
Global model norm: 13.89790337207913.
Norm before scaling: 13.858227739296925. Distance: 1.0216935419548174
Total norm for 9 adversaries is: 13.858227739296925. distance: 1.0216935419548174
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 3.6533, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 4, internal_epoch   1,  Average loss: 0.0297, Accuracy: 381/463 (82.2894%), train_poison_data_count: 463
Global model norm: 13.89790337207913.
Norm before scaling: 13.932115823461968. Distance: 1.0182556122892807
Total norm for 9 adversaries is: 13.932115823461968. distance: 1.0182556122892807
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 10.5116, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 5, internal_epoch   1,  Average loss: 0.0208, Accuracy: 902/1046 (86.2333%), train_poison_data_count: 1046
Global model norm: 13.89790337207913.
Norm before scaling: 13.853704933369245. Distance: 1.0977048489818246
Total norm for 9 adversaries is: 13.853704933369245. distance: 1.0977048489818246
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 3.3757, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 6, internal_epoch   1,  Average loss: 0.0218, Accuracy: 1243/1982 (62.7144%), train_poison_data_count: 1982
Global model norm: 13.89790337207913.
Norm before scaling: 13.827455735040058. Distance: 1.6055458217415253
Total norm for 9 adversaries is: 13.827455735040058. distance: 1.6055458217415253
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 5.8888, Accuracy: 1924/8991 (21.3992%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 7, internal_epoch   1,  Average loss: 0.0539, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.89790337207913.
Norm before scaling: 13.895900072264459. Distance: 0.05291021576572139
Total norm for 9 adversaries is: 13.895900072264459. distance: 0.05291021576572139
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.2914, Accuracy: 1555/8991 (17.2951%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 8, internal_epoch   1,  Average loss: 0.0521, Accuracy: 57/171 (33.3333%), train_poison_data_count: 171
Global model norm: 13.89790337207913.
Norm before scaling: 13.893489580892735. Distance: 0.18437402369353867
Total norm for 9 adversaries is: 13.893489580892735. distance: 0.18437402369353867
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.2946, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 9, internal_epoch   1,  Average loss: 0.0470, Accuracy: 143/263 (54.3726%), train_poison_data_count: 263
Global model norm: 13.89790337207913.
Norm before scaling: 13.89567276815655. Distance: 0.3256893357624328
Total norm for 9 adversaries is: 13.89567276815655. distance: 0.3256893357624328
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.3858, Accuracy: 892/8991 (9.9210%)
time spent on training: 36.93656373023987
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.95903426
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 3: Average loss: 2.2992, Accuracy: 1055/10000 (10.5500%), Attack Success Rate:6/10000(0.060)
___Test Target_Simple poisoned: True, epoch: 3: Average loss: 2.2902, Accuracy: 1029/8991 (11.4448%)
Done in 97.18318462371826 sec.
Server Epoch:4 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch   4, local model 0, internal_epoch   1,  Average loss: 0.0407, Accuracy: 214/300 (71.3333%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.4526, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:11/10000(0.110)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 1, internal_epoch   1,  Average loss: 0.0528, Accuracy: 26/84 (30.9524%), train_poison_data_count: 84
Global model norm: 13.898220667399354.
Norm before scaling: 13.896829015622705. Distance: 0.039349541442580696
Total norm for 9 adversaries is: 13.896829015622705. distance: 0.039349541442580696
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 2.2886, Accuracy: 1146/8991 (12.7461%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 2, internal_epoch   1,  Average loss: 0.0564, Accuracy: 35/119 (29.4118%), train_poison_data_count: 119
Global model norm: 13.898220667399354.
Norm before scaling: 13.895169281808595. Distance: 0.08953189629925637
Total norm for 9 adversaries is: 13.895169281808595. distance: 0.08953189629925637
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 2.2859, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 3, internal_epoch   1,  Average loss: 0.0328, Accuracy: 465/1010 (46.0396%), train_poison_data_count: 1010
Global model norm: 13.898220667399354.
Norm before scaling: 13.866509666532211. Distance: 1.0448901020103674
Total norm for 9 adversaries is: 13.866509666532211. distance: 1.0448901020103674
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 4.3187, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 4, internal_epoch   1,  Average loss: 0.0263, Accuracy: 398/463 (85.9611%), train_poison_data_count: 463
Global model norm: 13.898220667399354.
Norm before scaling: 13.938417413051912. Distance: 1.0568631937280046
Total norm for 9 adversaries is: 13.938417413051912. distance: 1.0568631937280046
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 12.3245, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 5, internal_epoch   1,  Average loss: 0.0192, Accuracy: 919/1046 (87.8585%), train_poison_data_count: 1046
Global model norm: 13.898220667399354.
Norm before scaling: 13.856603024828823. Distance: 1.0847808386258173
Total norm for 9 adversaries is: 13.856603024828823. distance: 1.0847808386258173
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 3.7455, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 6, internal_epoch   1,  Average loss: 0.0217, Accuracy: 1284/1982 (64.7830%), train_poison_data_count: 1982
Global model norm: 13.898220667399354.
Norm before scaling: 13.83598547334286. Distance: 1.6540995618659675
Total norm for 9 adversaries is: 13.83598547334286. distance: 1.6540995618659675
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 5.2935, Accuracy: 1940/8991 (21.5771%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 7, internal_epoch   1,  Average loss: 0.0539, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.898220667399354.
Norm before scaling: 13.896226197751046. Distance: 0.056065722701810046
Total norm for 9 adversaries is: 13.896226197751046. distance: 0.056065722701810046
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 2.2875, Accuracy: 1735/8991 (19.2971%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 8, internal_epoch   1,  Average loss: 0.0519, Accuracy: 59/171 (34.5029%), train_poison_data_count: 171
Global model norm: 13.898220667399354.
Norm before scaling: 13.894065611047818. Distance: 0.19094404544942942
Total norm for 9 adversaries is: 13.894065611047818. distance: 0.19094404544942942
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 2.2926, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 9, internal_epoch   1,  Average loss: 0.0461, Accuracy: 156/263 (59.3156%), train_poison_data_count: 263
Global model norm: 13.898220667399354.
Norm before scaling: 13.897722214062915. Distance: 0.3456372235949355
Total norm for 9 adversaries is: 13.897722214062915. distance: 0.3456372235949355
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 2.4285, Accuracy: 892/8991 (9.9210%)
time spent on training: 36.45251727104187
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 1. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 4: Average loss: 2.2985, Accuracy: 1202/10000 (12.0200%), Attack Success Rate:18/10000(0.180)
___Test Target_Simple poisoned: True, epoch: 4: Average loss: 2.2865, Accuracy: 1176/8991 (13.0797%)
Done in 96.58321738243103 sec.
Server Epoch:5 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch   5, local model 0, internal_epoch   1,  Average loss: 0.0399, Accuracy: 225/300 (75.0000%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.5135, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:12/10000(0.120)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 1, internal_epoch   1,  Average loss: 0.0524, Accuracy: 26/84 (30.9524%), train_poison_data_count: 84
Global model norm: 13.898664758892421.
Norm before scaling: 13.897398319603239. Distance: 0.04142683530749754
Total norm for 9 adversaries is: 13.897398319603239. distance: 0.04142683530749754
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.2851, Accuracy: 1443/8991 (16.0494%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 2, internal_epoch   1,  Average loss: 0.0562, Accuracy: 36/119 (30.2521%), train_poison_data_count: 119
Global model norm: 13.898664758892421.
Norm before scaling: 13.895745242333847. Distance: 0.09381192863996883
Total norm for 9 adversaries is: 13.895745242333847. distance: 0.09381192863996883
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.2825, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 3, internal_epoch   1,  Average loss: 0.0335, Accuracy: 454/1010 (44.9505%), train_poison_data_count: 1010
Global model norm: 13.898664758892421.
Norm before scaling: 13.858539336770962. Distance: 1.0331071257386395
Total norm for 9 adversaries is: 13.858539336770962. distance: 1.0331071257386395
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 3.5119, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 4, internal_epoch   1,  Average loss: 0.0282, Accuracy: 404/463 (87.2570%), train_poison_data_count: 463
Global model norm: 13.898664758892421.
Norm before scaling: 13.938041915964089. Distance: 1.0438923835718454
Total norm for 9 adversaries is: 13.938041915964089. distance: 1.0438923835718454
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 12.1080, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 5, internal_epoch   1,  Average loss: 0.0183, Accuracy: 924/1046 (88.3365%), train_poison_data_count: 1046
Global model norm: 13.898664758892421.
Norm before scaling: 13.860732432467382. Distance: 1.086698142212129
Total norm for 9 adversaries is: 13.860732432467382. distance: 1.086698142212129
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 4.3287, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 6, internal_epoch   1,  Average loss: 0.0220, Accuracy: 1209/1982 (60.9990%), train_poison_data_count: 1982
Global model norm: 13.898664758892421.
Norm before scaling: 13.837118588422884. Distance: 1.6467612181994162
Total norm for 9 adversaries is: 13.837118588422884. distance: 1.6467612181994162
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 5.0840, Accuracy: 1974/8991 (21.9553%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 7, internal_epoch   1,  Average loss: 0.0539, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.898664758892421.
Norm before scaling: 13.896673098024555. Distance: 0.05894332161278407
Total norm for 9 adversaries is: 13.896673098024555. distance: 0.05894332161278407
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.2836, Accuracy: 1852/8991 (20.5984%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 8, internal_epoch   1,  Average loss: 0.0514, Accuracy: 60/171 (35.0877%), train_poison_data_count: 171
Global model norm: 13.898664758892421.
Norm before scaling: 13.894890352401973. Distance: 0.19869571166275338
Total norm for 9 adversaries is: 13.894890352401973. distance: 0.19869571166275338
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.2914, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 9, internal_epoch   1,  Average loss: 0.0454, Accuracy: 156/263 (59.3156%), train_poison_data_count: 263
Global model norm: 13.898664758892421.
Norm before scaling: 13.899700002383145. Distance: 0.36410701381341903
Total norm for 9 adversaries is: 13.899700002383145. distance: 0.36410701381341903
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.4794, Accuracy: 892/8991 (9.9210%)
time spent on training: 36.79997229576111
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 1. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 5: Average loss: 2.2978, Accuracy: 1981/10000 (19.8100%), Attack Success Rate:26/10000(0.260)
___Test Target_Simple poisoned: True, epoch: 5: Average loss: 2.2828, Accuracy: 1944/8991 (21.6216%)
Done in 96.49540734291077 sec.
Server Epoch:6 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch   6, local model 0, internal_epoch   1,  Average loss: 0.0391, Accuracy: 248/300 (82.6667%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.5758, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:5/10000(0.050)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 1, internal_epoch   1,  Average loss: 0.0521, Accuracy: 31/84 (36.9048%), train_poison_data_count: 84
Global model norm: 13.8990391241344.
Norm before scaling: 13.897873179240412. Distance: 0.04269909505588021
Total norm for 9 adversaries is: 13.897873179240412. distance: 0.04269909505588021
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.2817, Accuracy: 1627/8991 (18.0959%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 2, internal_epoch   1,  Average loss: 0.0559, Accuracy: 34/119 (28.5714%), train_poison_data_count: 119
Global model norm: 13.8990391241344.
Norm before scaling: 13.896283845399607. Distance: 0.09737138685732562
Total norm for 9 adversaries is: 13.896283845399607. distance: 0.09737138685732562
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.2791, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 3, internal_epoch   1,  Average loss: 0.0318, Accuracy: 489/1010 (48.4158%), train_poison_data_count: 1010
Global model norm: 13.8990391241344.
Norm before scaling: 13.868903392959451. Distance: 1.0588790677969349
Total norm for 9 adversaries is: 13.868903392959451. distance: 1.0588790677969349
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 4.5745, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 4, internal_epoch   1,  Average loss: 0.0243, Accuracy: 409/463 (88.3369%), train_poison_data_count: 463
Global model norm: 13.8990391241344.
Norm before scaling: 13.944798222309906. Distance: 1.0864266590586342
Total norm for 9 adversaries is: 13.944798222309906. distance: 1.0864266590586342
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 14.0102, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 5, internal_epoch   1,  Average loss: 0.0185, Accuracy: 943/1046 (90.1530%), train_poison_data_count: 1046
Global model norm: 13.8990391241344.
Norm before scaling: 13.863614746622666. Distance: 1.102878568966705
Total norm for 9 adversaries is: 13.863614746622666. distance: 1.102878568966705
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 4.6401, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 6, internal_epoch   1,  Average loss: 0.0198, Accuracy: 1348/1982 (68.0121%), train_poison_data_count: 1982
Global model norm: 13.8990391241344.
Norm before scaling: 13.855582732298288. Distance: 1.6888017931378854
Total norm for 9 adversaries is: 13.855582732298288. distance: 1.6888017931378854
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 7.1450, Accuracy: 1953/8991 (21.7217%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 7, internal_epoch   1,  Average loss: 0.0537, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.8990391241344.
Norm before scaling: 13.897089240393786. Distance: 0.060537377889338904
Total norm for 9 adversaries is: 13.897089240393786. distance: 0.060537377889338904
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.2797, Accuracy: 1966/8991 (21.8663%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 8, internal_epoch   1,  Average loss: 0.0509, Accuracy: 58/171 (33.9181%), train_poison_data_count: 171
Global model norm: 13.8990391241344.
Norm before scaling: 13.895808931450338. Distance: 0.21133263101903552
Total norm for 9 adversaries is: 13.895808931450338. distance: 0.21133263101903552
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.2925, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 9, internal_epoch   1,  Average loss: 0.0445, Accuracy: 161/263 (61.2167%), train_poison_data_count: 263
Global model norm: 13.8990391241344.
Norm before scaling: 13.901366329963531. Distance: 0.37755408338572266
Total norm for 9 adversaries is: 13.901366329963531. distance: 0.37755408338572266
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.5262, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.26699185371399
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.10683582 1.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 6: Average loss: 2.2974, Accuracy: 2363/10000 (23.6300%), Attack Success Rate:17/10000(0.170)
___Test Target_Simple poisoned: True, epoch: 6: Average loss: 2.2787, Accuracy: 2322/8991 (25.8258%)
Done in 97.4849009513855 sec.
Server Epoch:7 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch   7, local model 0, internal_epoch   1,  Average loss: 0.0380, Accuracy: 259/300 (86.3333%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.6829, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:11/10000(0.110)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 1, internal_epoch   1,  Average loss: 0.0517, Accuracy: 35/84 (41.6667%), train_poison_data_count: 84
Global model norm: 13.8998399684119.
Norm before scaling: 13.898793756851989. Distance: 0.04487689502973125
Total norm for 9 adversaries is: 13.898793756851989. distance: 0.04487689502973125
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.2782, Accuracy: 1740/8991 (19.3527%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 2, internal_epoch   1,  Average loss: 0.0555, Accuracy: 38/119 (31.9328%), train_poison_data_count: 119
Global model norm: 13.8998399684119.
Norm before scaling: 13.897264367823608. Distance: 0.10326792212580789
Total norm for 9 adversaries is: 13.897264367823608. distance: 0.10326792212580789
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.2758, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 3, internal_epoch   1,  Average loss: 0.0316, Accuracy: 477/1010 (47.2277%), train_poison_data_count: 1010
Global model norm: 13.8998399684119.
Norm before scaling: 13.864455056498683. Distance: 1.0160537988281118
Total norm for 9 adversaries is: 13.864455056498683. distance: 1.0160537988281118
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 3.8190, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 4, internal_epoch   1,  Average loss: 0.0236, Accuracy: 411/463 (88.7689%), train_poison_data_count: 463
Global model norm: 13.8998399684119.
Norm before scaling: 13.94560190963697. Distance: 1.0809073550235668
Total norm for 9 adversaries is: 13.94560190963697. distance: 1.0809073550235668
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 14.0938, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 5, internal_epoch   1,  Average loss: 0.0191, Accuracy: 943/1046 (90.1530%), train_poison_data_count: 1046
Global model norm: 13.8998399684119.
Norm before scaling: 13.853891623307566. Distance: 1.0578232667451106
Total norm for 9 adversaries is: 13.853891623307566. distance: 1.0578232667451106
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 3.1517, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 6, internal_epoch   1,  Average loss: 0.0190, Accuracy: 1294/1982 (65.2876%), train_poison_data_count: 1982
Global model norm: 13.8998399684119.
Norm before scaling: 13.871863758196898. Distance: 1.7444346352049669
Total norm for 9 adversaries is: 13.871863758196898. distance: 1.7444346352049669
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 8.5093, Accuracy: 1977/8991 (21.9887%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 7, internal_epoch   1,  Average loss: 0.0536, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.8998399684119.
Norm before scaling: 13.897922585669615. Distance: 0.06392117094110483
Total norm for 9 adversaries is: 13.897922585669615. distance: 0.06392117094110483
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.2756, Accuracy: 2128/8991 (23.6681%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 8, internal_epoch   1,  Average loss: 0.0503, Accuracy: 59/171 (34.5029%), train_poison_data_count: 171
Global model norm: 13.8998399684119.
Norm before scaling: 13.89724680028133. Distance: 0.2237351445775517
Total norm for 9 adversaries is: 13.89724680028133. distance: 0.2237351445775517
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.2958, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 9, internal_epoch   1,  Average loss: 0.0436, Accuracy: 178/263 (67.6806%), train_poison_data_count: 263
Global model norm: 13.8998399684119.
Norm before scaling: 13.903833072094892. Distance: 0.39599797522383645
Total norm for 9 adversaries is: 13.903833072094892. distance: 0.39599797522383645
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.6077, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.14931321144104
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.76422457
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 7: Average loss: 2.2974, Accuracy: 2431/10000 (24.3100%), Attack Success Rate:18/10000(0.180)
___Test Target_Simple poisoned: True, epoch: 7: Average loss: 2.2749, Accuracy: 2377/8991 (26.4375%)
Done in 97.44388365745544 sec.
Server Epoch:8 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch   8, local model 0, internal_epoch   1,  Average loss: 0.0369, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.8914, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:10/10000(0.100)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 1, internal_epoch   1,  Average loss: 0.0513, Accuracy: 41/84 (48.8095%), train_poison_data_count: 84
Global model norm: 13.90079115118655.
Norm before scaling: 13.89986302150498. Distance: 0.04710760370644325
Total norm for 9 adversaries is: 13.89986302150498. distance: 0.04710760370644325
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 2.2751, Accuracy: 1701/8991 (18.9189%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 2, internal_epoch   1,  Average loss: 0.0554, Accuracy: 23/119 (19.3277%), train_poison_data_count: 119
Global model norm: 13.90079115118655.
Norm before scaling: 13.8983469247681. Distance: 0.10680410304860771
Total norm for 9 adversaries is: 13.8983469247681. distance: 0.10680410304860771
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 2.2727, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 3, internal_epoch   1,  Average loss: 0.0319, Accuracy: 499/1010 (49.4059%), train_poison_data_count: 1010
Global model norm: 13.90079115118655.
Norm before scaling: 13.867828990444147. Distance: 1.0363691601499556
Total norm for 9 adversaries is: 13.867828990444147. distance: 1.0363691601499556
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 4.0892, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 4, internal_epoch   1,  Average loss: 0.0250, Accuracy: 423/463 (91.3607%), train_poison_data_count: 463
Global model norm: 13.90079115118655.
Norm before scaling: 13.944873723839457. Distance: 1.063425278280932
Total norm for 9 adversaries is: 13.944873723839457. distance: 1.063425278280932
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 13.6217, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 5, internal_epoch   1,  Average loss: 0.0192, Accuracy: 949/1046 (90.7266%), train_poison_data_count: 1046
Global model norm: 13.90079115118655.
Norm before scaling: 13.854420839812851. Distance: 1.0582576654572475
Total norm for 9 adversaries is: 13.854420839812851. distance: 1.0582576654572475
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 3.0986, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 6, internal_epoch   1,  Average loss: 0.0192, Accuracy: 1336/1982 (67.4067%), train_poison_data_count: 1982
Global model norm: 13.90079115118655.
Norm before scaling: 13.863697844367564. Distance: 1.703715930578491
Total norm for 9 adversaries is: 13.863697844367564. distance: 1.703715930578491
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 7.0525, Accuracy: 1970/8991 (21.9108%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 7, internal_epoch   1,  Average loss: 0.0535, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.90079115118655.
Norm before scaling: 13.898899698961673. Distance: 0.0685819069168729
Total norm for 9 adversaries is: 13.898899698961673. distance: 0.0685819069168729
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 2.2716, Accuracy: 2151/8991 (23.9239%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 8, internal_epoch   1,  Average loss: 0.0497, Accuracy: 63/171 (36.8421%), train_poison_data_count: 171
Global model norm: 13.90079115118655.
Norm before scaling: 13.89877289768861. Distance: 0.23521559495559669
Total norm for 9 adversaries is: 13.89877289768861. distance: 0.23521559495559669
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 2.3009, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 9, internal_epoch   1,  Average loss: 0.0426, Accuracy: 174/263 (66.1597%), train_poison_data_count: 263
Global model norm: 13.90079115118655.
Norm before scaling: 13.906437630405545. Distance: 0.41515503104665896
Total norm for 9 adversaries is: 13.906437630405545. distance: 0.41515503104665896
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 2.7136, Accuracy: 892/8991 (9.9210%)
time spent on training: 36.86912488937378
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 1. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 8: Average loss: 2.2980, Accuracy: 2344/10000 (23.4400%), Attack Success Rate:17/10000(0.170)
___Test Target_Simple poisoned: True, epoch: 8: Average loss: 2.2714, Accuracy: 2309/8991 (25.6812%)
Done in 97.36515188217163 sec.
Server Epoch:9 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch   9, local model 0, internal_epoch   1,  Average loss: 0.0357, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 3.1012, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:9/10000(0.090)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 1, internal_epoch   1,  Average loss: 0.0508, Accuracy: 45/84 (53.5714%), train_poison_data_count: 84
Global model norm: 13.901759830740911.
Norm before scaling: 13.90096952501341. Distance: 0.0491359709967777
Total norm for 9 adversaries is: 13.90096952501341. distance: 0.0491359709967777
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.2725, Accuracy: 1540/8991 (17.1282%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 2, internal_epoch   1,  Average loss: 0.0551, Accuracy: 19/119 (15.9664%), train_poison_data_count: 119
Global model norm: 13.901759830740911.
Norm before scaling: 13.89949142294085. Distance: 0.11323679676627098
Total norm for 9 adversaries is: 13.89949142294085. distance: 0.11323679676627098
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.2704, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 3, internal_epoch   1,  Average loss: 0.0306, Accuracy: 493/1010 (48.8119%), train_poison_data_count: 1010
Global model norm: 13.901759830740911.
Norm before scaling: 13.872501182645472. Distance: 1.0377080593837602
Total norm for 9 adversaries is: 13.872501182645472. distance: 1.0377080593837602
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 4.2497, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 4, internal_epoch   1,  Average loss: 0.0240, Accuracy: 431/463 (93.0886%), train_poison_data_count: 463
Global model norm: 13.901759830740911.
Norm before scaling: 13.947512737842027. Distance: 1.0701587315944305
Total norm for 9 adversaries is: 13.947512737842027. distance: 1.0701587315944305
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 14.2004, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 5, internal_epoch   1,  Average loss: 0.0186, Accuracy: 946/1046 (90.4398%), train_poison_data_count: 1046
Global model norm: 13.901759830740911.
Norm before scaling: 13.854925806954396. Distance: 1.0352999605432143
Total norm for 9 adversaries is: 13.854925806954396. distance: 1.0352999605432143
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 3.1049, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 6, internal_epoch   1,  Average loss: 0.0190, Accuracy: 1327/1982 (66.9526%), train_poison_data_count: 1982
Global model norm: 13.901759830740911.
Norm before scaling: 13.864896377632975. Distance: 1.711748183679432
Total norm for 9 adversaries is: 13.864896377632975. distance: 1.711748183679432
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 5.2403, Accuracy: 2212/8991 (24.6024%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 7, internal_epoch   1,  Average loss: 0.0535, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.901759830740911.
Norm before scaling: 13.899896503310172. Distance: 0.07239298616214802
Total norm for 9 adversaries is: 13.899896503310172. distance: 0.07239298616214802
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.2681, Accuracy: 2177/8991 (24.2131%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 8, internal_epoch   1,  Average loss: 0.0490, Accuracy: 62/171 (36.2573%), train_poison_data_count: 171
Global model norm: 13.901759830740911.
Norm before scaling: 13.900360300348051. Distance: 0.24872956232715282
Total norm for 9 adversaries is: 13.900360300348051. distance: 0.24872956232715282
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.3095, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 9, internal_epoch   1,  Average loss: 0.0419, Accuracy: 187/263 (71.1027%), train_poison_data_count: 263
Global model norm: 13.901759830740911.
Norm before scaling: 13.908929253838386. Distance: 0.4319757912274496
Total norm for 9 adversaries is: 13.908929253838386. distance: 0.4319757912274496
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.8307, Accuracy: 892/8991 (9.9210%)
time spent on training: 36.975279569625854
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.85411457 0.         1.         0.85411457 0.         0.18676092
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 9: Average loss: 2.2987, Accuracy: 1761/10000 (17.6100%), Attack Success Rate:29/10000(0.290)
___Test Target_Simple poisoned: True, epoch: 9: Average loss: 2.2685, Accuracy: 1726/8991 (19.1970%)
Done in 97.28803396224976 sec.
Server Epoch:10 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  10, local model 0, internal_epoch   1,  Average loss: 0.0342, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 3.4203, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:12/10000(0.120)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 1, internal_epoch   1,  Average loss: 0.0506, Accuracy: 29/84 (34.5238%), train_poison_data_count: 84
Global model norm: 13.902760820169911.
Norm before scaling: 13.902041915099367. Distance: 0.0516206841122398
Total norm for 9 adversaries is: 13.902041915099367. distance: 0.0516206841122398
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.2705, Accuracy: 2039/8991 (22.6782%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 2, internal_epoch   1,  Average loss: 0.0546, Accuracy: 17/119 (14.2857%), train_poison_data_count: 119
Global model norm: 13.902760820169911.
Norm before scaling: 13.900745596888466. Distance: 0.11940547552858449
Total norm for 9 adversaries is: 13.900745596888466. distance: 0.11940547552858449
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.2701, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 3, internal_epoch   1,  Average loss: 0.0301, Accuracy: 519/1010 (51.3861%), train_poison_data_count: 1010
Global model norm: 13.902760820169911.
Norm before scaling: 13.875320018480092. Distance: 1.0310408640254785
Total norm for 9 adversaries is: 13.875320018480092. distance: 1.0310408640254785
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 4.1222, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 4, internal_epoch   1,  Average loss: 0.0214, Accuracy: 416/463 (89.8488%), train_poison_data_count: 463
Global model norm: 13.902760820169911.
Norm before scaling: 13.952722558586013. Distance: 1.1039878172547797
Total norm for 9 adversaries is: 13.952722558586013. distance: 1.1039878172547797
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 15.8026, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 5, internal_epoch   1,  Average loss: 0.0198, Accuracy: 932/1046 (89.1013%), train_poison_data_count: 1046
Global model norm: 13.902760820169911.
Norm before scaling: 13.856147123582065. Distance: 1.0634773471573666
Total norm for 9 adversaries is: 13.856147123582065. distance: 1.0634773471573666
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 3.0409, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 6, internal_epoch   1,  Average loss: 0.0185, Accuracy: 1338/1982 (67.5076%), train_poison_data_count: 1982
Global model norm: 13.902760820169911.
Norm before scaling: 13.872585877045982. Distance: 1.7317952395753362
Total norm for 9 adversaries is: 13.872585877045982. distance: 1.7317952395753362
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 5.4483, Accuracy: 2048/8991 (22.7783%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 7, internal_epoch   1,  Average loss: 0.0533, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.902760820169911.
Norm before scaling: 13.900897078073605. Distance: 0.07513992325543738
Total norm for 9 adversaries is: 13.900897078073605. distance: 0.07513992325543738
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.2650, Accuracy: 2220/8991 (24.6914%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 8, internal_epoch   1,  Average loss: 0.0482, Accuracy: 65/171 (38.0117%), train_poison_data_count: 171
Global model norm: 13.902760820169911.
Norm before scaling: 13.901912398478165. Distance: 0.25769141272461715
Total norm for 9 adversaries is: 13.901912398478165. distance: 0.25769141272461715
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.3199, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 9, internal_epoch   1,  Average loss: 0.0407, Accuracy: 153/263 (58.1749%), train_poison_data_count: 263
Global model norm: 13.902760820169911.
Norm before scaling: 13.911119889922482. Distance: 0.44780212608614706
Total norm for 9 adversaries is: 13.911119889922482. distance: 0.44780212608614706
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.9481, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.05857992172241
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.31069938 0.         1.         0.31069938 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 10: Average loss: 2.2987, Accuracy: 1813/10000 (18.1300%), Attack Success Rate:34/10000(0.340)
___Test Target_Simple poisoned: True, epoch: 10: Average loss: 2.2661, Accuracy: 1776/8991 (19.7531%)
Done in 96.96907091140747 sec.
Server Epoch:11 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  11, local model 0, internal_epoch   1,  Average loss: 0.0337, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 3.5829, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:16/10000(0.160)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 1, internal_epoch   1,  Average loss: 0.0504, Accuracy: 28/84 (33.3333%), train_poison_data_count: 84
Global model norm: 13.90342865516059.
Norm before scaling: 13.902767954156085. Distance: 0.05273574809653294
Total norm for 9 adversaries is: 13.902767954156085. distance: 0.05273574809653294
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 2.2686, Accuracy: 2347/8991 (26.1039%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 2, internal_epoch   1,  Average loss: 0.0539, Accuracy: 16/119 (13.4454%), train_poison_data_count: 119
Global model norm: 13.90342865516059.
Norm before scaling: 13.901724158186727. Distance: 0.1223515094656854
Total norm for 9 adversaries is: 13.901724158186727. distance: 0.1223515094656854
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 2.2698, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 3, internal_epoch   1,  Average loss: 0.0306, Accuracy: 491/1010 (48.6139%), train_poison_data_count: 1010
Global model norm: 13.90342865516059.
Norm before scaling: 13.871362157710092. Distance: 1.038329130953086
Total norm for 9 adversaries is: 13.871362157710092. distance: 1.038329130953086
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 3.8643, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 4, internal_epoch   1,  Average loss: 0.0198, Accuracy: 417/463 (90.0648%), train_poison_data_count: 463
Global model norm: 13.90342865516059.
Norm before scaling: 13.95698314608279. Distance: 1.1285663871928464
Total norm for 9 adversaries is: 13.95698314608279. distance: 1.1285663871928464
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 17.1619, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 5, internal_epoch   1,  Average loss: 0.0180, Accuracy: 936/1046 (89.4837%), train_poison_data_count: 1046
Global model norm: 13.90342865516059.
Norm before scaling: 13.862687980402365. Distance: 1.0790998502001403
Total norm for 9 adversaries is: 13.862687980402365. distance: 1.0790998502001403
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 3.6580, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 6, internal_epoch   1,  Average loss: 0.0179, Accuracy: 1378/1982 (69.5257%), train_poison_data_count: 1982
Global model norm: 13.90342865516059.
Norm before scaling: 13.863078176344441. Distance: 1.6753478301139964
Total norm for 9 adversaries is: 13.863078176344441. distance: 1.6753478301139964
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 4.9695, Accuracy: 2395/8991 (26.6377%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 7, internal_epoch   1,  Average loss: 0.0528, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.90342865516059.
Norm before scaling: 13.901736231984545. Distance: 0.07755514573843475
Total norm for 9 adversaries is: 13.901736231984545. distance: 0.07755514573843475
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 2.2633, Accuracy: 1737/8991 (19.3193%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 8, internal_epoch   1,  Average loss: 0.0475, Accuracy: 72/171 (42.1053%), train_poison_data_count: 171
Global model norm: 13.90342865516059.
Norm before scaling: 13.90350438134326. Distance: 0.26911277350059615
Total norm for 9 adversaries is: 13.90350438134326. distance: 0.26911277350059615
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 2.3395, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 9, internal_epoch   1,  Average loss: 0.0400, Accuracy: 169/263 (64.2586%), train_poison_data_count: 263
Global model norm: 13.90342865516059.
Norm before scaling: 13.912573724570215. Distance: 0.4565787724617985
Total norm for 9 adversaries is: 13.912573724570215. distance: 0.4565787724617985
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 3.0270, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.116127252578735
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 11: Average loss: 2.3001, Accuracy: 1211/10000 (12.1100%), Attack Success Rate:13/10000(0.130)
___Test Target_Simple poisoned: True, epoch: 11: Average loss: 2.2637, Accuracy: 1203/8991 (13.3800%)
Done in 98.18986892700195 sec.
Server Epoch:12 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  12, local model 0, internal_epoch   1,  Average loss: 0.0320, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 3.9319, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:7/10000(0.070)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 1, internal_epoch   1,  Average loss: 0.0503, Accuracy: 10/84 (11.9048%), train_poison_data_count: 84
Global model norm: 13.904527193142663.
Norm before scaling: 13.903889042032954. Distance: 0.054824699573698274
Total norm for 9 adversaries is: 13.903889042032954. distance: 0.054824699573698274
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 2.2667, Accuracy: 2861/8991 (31.8207%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 2, internal_epoch   1,  Average loss: 0.0534, Accuracy: 17/119 (14.2857%), train_poison_data_count: 119
Global model norm: 13.904527193142663.
Norm before scaling: 13.903122453781515. Distance: 0.1279145952597017
Total norm for 9 adversaries is: 13.903122453781515. distance: 0.1279145952597017
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 2.2713, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 3, internal_epoch   1,  Average loss: 0.0292, Accuracy: 502/1010 (49.7030%), train_poison_data_count: 1010
Global model norm: 13.904527193142663.
Norm before scaling: 13.877517609252642. Distance: 1.0407598872011772
Total norm for 9 adversaries is: 13.877517609252642. distance: 1.0407598872011772
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 4.4707, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 4, internal_epoch   1,  Average loss: 0.0201, Accuracy: 402/463 (86.8251%), train_poison_data_count: 463
Global model norm: 13.904527193142663.
Norm before scaling: 13.954053961062433. Distance: 1.105449878545029
Total norm for 9 adversaries is: 13.954053961062433. distance: 1.105449878545029
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 15.9227, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 5, internal_epoch   1,  Average loss: 0.0177, Accuracy: 922/1046 (88.1453%), train_poison_data_count: 1046
Global model norm: 13.904527193142663.
Norm before scaling: 13.85734906274916. Distance: 1.0662910483040258
Total norm for 9 adversaries is: 13.85734906274916. distance: 1.0662910483040258
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 3.1164, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 6, internal_epoch   1,  Average loss: 0.0164, Accuracy: 1394/1982 (70.3330%), train_poison_data_count: 1982
Global model norm: 13.904527193142663.
Norm before scaling: 13.901314191646875. Distance: 1.8016186668196281
Total norm for 9 adversaries is: 13.901314191646875. distance: 1.8016186668196281
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 10.6567, Accuracy: 2282/8991 (25.3809%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 7, internal_epoch   1,  Average loss: 0.0529, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.904527193142663.
Norm before scaling: 13.902863988229019. Distance: 0.082885438808959
Total norm for 9 adversaries is: 13.902863988229019. distance: 0.082885438808959
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 2.2611, Accuracy: 1930/8991 (21.4659%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 8, internal_epoch   1,  Average loss: 0.0468, Accuracy: 61/171 (35.6725%), train_poison_data_count: 171
Global model norm: 13.904527193142663.
Norm before scaling: 13.905223474225938. Distance: 0.282714066314946
Total norm for 9 adversaries is: 13.905223474225938. distance: 0.282714066314946
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 2.3614, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 9, internal_epoch   1,  Average loss: 0.0398, Accuracy: 152/263 (57.7947%), train_poison_data_count: 263
Global model norm: 13.904527193142663.
Norm before scaling: 13.914521438423657. Distance: 0.47339786325850014
Total norm for 9 adversaries is: 13.914521438423657. distance: 0.47339786325850014
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 3.1322, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.1233971118927
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.21957772
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 12: Average loss: 2.3031, Accuracy: 1143/10000 (11.4300%), Attack Success Rate:12/10000(0.120)
___Test Target_Simple poisoned: True, epoch: 12: Average loss: 2.2611, Accuracy: 1142/8991 (12.7016%)
Done in 97.2858989238739 sec.
Server Epoch:13 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  13, local model 0, internal_epoch   1,  Average loss: 0.0302, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 4.5362, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:9/10000(0.090)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 1, internal_epoch   1,  Average loss: 0.0499, Accuracy: 5/84 (5.9524%), train_poison_data_count: 84
Global model norm: 13.906208852642775.
Norm before scaling: 13.905628387616728. Distance: 0.05802361950499728
Total norm for 9 adversaries is: 13.905628387616728. distance: 0.05802361950499728
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 2.2653, Accuracy: 2892/8991 (32.1655%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 2, internal_epoch   1,  Average loss: 0.0530, Accuracy: 12/119 (10.0840%), train_poison_data_count: 119
Global model norm: 13.906208852642775.
Norm before scaling: 13.905061066626121. Distance: 0.1349360245650049
Total norm for 9 adversaries is: 13.905061066626121. distance: 0.1349360245650049
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 2.2741, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 3, internal_epoch   1,  Average loss: 0.0288, Accuracy: 502/1010 (49.7030%), train_poison_data_count: 1010
Global model norm: 13.906208852642775.
Norm before scaling: 13.875356858621748. Distance: 1.0096479159134022
Total norm for 9 adversaries is: 13.875356858621748. distance: 1.0096479159134022
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 3.7704, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 4, internal_epoch   1,  Average loss: 0.0200, Accuracy: 389/463 (84.0173%), train_poison_data_count: 463
Global model norm: 13.906208852642775.
Norm before scaling: 13.953833071864553. Distance: 1.0997118724258783
Total norm for 9 adversaries is: 13.953833071864553. distance: 1.0997118724258783
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 15.5231, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 5, internal_epoch   1,  Average loss: 0.0189, Accuracy: 915/1046 (87.4761%), train_poison_data_count: 1046
Global model norm: 13.906208852642775.
Norm before scaling: 13.856446103991185. Distance: 1.1074017988803853
Total norm for 9 adversaries is: 13.856446103991185. distance: 1.1074017988803853
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 2.7679, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 6, internal_epoch   1,  Average loss: 0.0160, Accuracy: 1379/1982 (69.5762%), train_poison_data_count: 1982
Global model norm: 13.906208852642775.
Norm before scaling: 13.898649388842946. Distance: 1.7828616163089368
Total norm for 9 adversaries is: 13.898649388842946. distance: 1.7828616163089368
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 8.9501, Accuracy: 2261/8991 (25.1474%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 7, internal_epoch   1,  Average loss: 0.0526, Accuracy: 0/86 (0.0000%), train_poison_data_count: 86
Global model norm: 13.906208852642775.
Norm before scaling: 13.904550238464543. Distance: 0.08755076715265603
Total norm for 9 adversaries is: 13.904550238464543. distance: 0.08755076715265603
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 2.2585, Accuracy: 1997/8991 (22.2111%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 8, internal_epoch   1,  Average loss: 0.0458, Accuracy: 63/171 (36.8421%), train_poison_data_count: 171
Global model norm: 13.906208852642775.
Norm before scaling: 13.907760846648827. Distance: 0.2988927310093865
Total norm for 9 adversaries is: 13.907760846648827. distance: 0.2988927310093865
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 2.4038, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 9, internal_epoch   1,  Average loss: 0.0387, Accuracy: 146/263 (55.5133%), train_poison_data_count: 263
Global model norm: 13.906208852642775.
Norm before scaling: 13.916933220844221. Distance: 0.4868245023706557
Total norm for 9 adversaries is: 13.916933220844221. distance: 0.4868245023706557
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 3.2689, Accuracy: 892/8991 (9.9210%)
time spent on training: 36.65264964103699
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.78824097 0.         1.         0.78824097 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 13: Average loss: 2.3060, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:11/10000(0.110)
___Test Target_Simple poisoned: True, epoch: 13: Average loss: 2.2596, Accuracy: 1135/8991 (12.6237%)
Done in 97.16212320327759 sec.
Server Epoch:14 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  14, local model 0, internal_epoch   1,  Average loss: 0.0288, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 4.8564, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:11/10000(0.110)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 1, internal_epoch   1,  Average loss: 0.0497, Accuracy: 4/84 (4.7619%), train_poison_data_count: 84
Global model norm: 13.907568296888467.
Norm before scaling: 13.907016964453929. Distance: 0.06006011728354725
Total norm for 9 adversaries is: 13.907016964453929. distance: 0.06006011728354725
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 2.2644, Accuracy: 2856/8991 (31.7651%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 2, internal_epoch   1,  Average loss: 0.0522, Accuracy: 12/119 (10.0840%), train_poison_data_count: 119
Global model norm: 13.907568296888467.
Norm before scaling: 13.906765154608374. Distance: 0.1407451182856187
Total norm for 9 adversaries is: 13.906765154608374. distance: 0.1407451182856187
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 2.2794, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 3, internal_epoch   1,  Average loss: 0.0287, Accuracy: 525/1010 (51.9802%), train_poison_data_count: 1010
Global model norm: 13.907568296888467.
Norm before scaling: 13.88129509064463. Distance: 1.0412955703929812
Total norm for 9 adversaries is: 13.88129509064463. distance: 1.0412955703929812
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 3.8126, Accuracy: 1946/8991 (21.6439%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 4, internal_epoch   1,  Average loss: 0.0188, Accuracy: 387/463 (83.5853%), train_poison_data_count: 463
Global model norm: 13.907568296888467.
Norm before scaling: 13.958237620163137. Distance: 1.1275337614261591
Total norm for 9 adversaries is: 13.958237620163137. distance: 1.1275337614261591
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 16.8045, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 5, internal_epoch   1,  Average loss: 0.0172, Accuracy: 899/1046 (85.9465%), train_poison_data_count: 1046
Global model norm: 13.907568296888467.
Norm before scaling: 13.863336282998686. Distance: 1.11596463373676
Total norm for 9 adversaries is: 13.863336282998686. distance: 1.11596463373676
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 3.3789, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 6, internal_epoch   1,  Average loss: 0.0156, Accuracy: 1425/1982 (71.8971%), train_poison_data_count: 1982
Global model norm: 13.907568296888467.
Norm before scaling: 13.904353254600192. Distance: 1.7914223245597423
Total norm for 9 adversaries is: 13.904353254600192. distance: 1.7914223245597423
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 10.2574, Accuracy: 2166/8991 (24.0908%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 7, internal_epoch   1,  Average loss: 0.0524, Accuracy: 0/86 (0.0000%), train_poison_data_count: 86
Global model norm: 13.907568296888467.
Norm before scaling: 13.906000370828291. Distance: 0.09281338785209232
Total norm for 9 adversaries is: 13.906000370828291. distance: 0.09281338785209232
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 2.2578, Accuracy: 1973/8991 (21.9442%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 8, internal_epoch   1,  Average loss: 0.0442, Accuracy: 63/171 (36.8421%), train_poison_data_count: 171
Global model norm: 13.907568296888467.
Norm before scaling: 13.91028349597795. Distance: 0.31694659259506325
Total norm for 9 adversaries is: 13.91028349597795. distance: 0.31694659259506325
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 2.4676, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 9, internal_epoch   1,  Average loss: 0.0383, Accuracy: 109/263 (41.4449%), train_poison_data_count: 263
Global model norm: 13.907568296888467.
Norm before scaling: 13.919159321446834. Distance: 0.5041260646465475
Total norm for 9 adversaries is: 13.919159321446834. distance: 0.5041260646465475
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 3.4106, Accuracy: 892/8991 (9.9210%)
time spent on training: 36.97000312805176
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.42250463 0.         1.         0.42250463 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 14: Average loss: 2.3080, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:11/10000(0.110)
___Test Target_Simple poisoned: True, epoch: 14: Average loss: 2.2582, Accuracy: 1136/8991 (12.6349%)
Done in 96.94562363624573 sec.
Server Epoch:15 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  15, local model 0, internal_epoch   1,  Average loss: 0.0285, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 5.1107, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:14/10000(0.140)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 1, internal_epoch   1,  Average loss: 0.0494, Accuracy: 7/84 (8.3333%), train_poison_data_count: 84
Global model norm: 13.908534858817635.
Norm before scaling: 13.908062557436335. Distance: 0.0627812153567859
Total norm for 9 adversaries is: 13.908062557436335. distance: 0.0627812153567859
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 2.2646, Accuracy: 2877/8991 (31.9987%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 2, internal_epoch   1,  Average loss: 0.0514, Accuracy: 11/119 (9.2437%), train_poison_data_count: 119
Global model norm: 13.908534858817635.
Norm before scaling: 13.908043357853948. Distance: 0.14439592598904927
Total norm for 9 adversaries is: 13.908043357853948. distance: 0.14439592598904927
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 2.2837, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 3, internal_epoch   1,  Average loss: 0.0289, Accuracy: 502/1010 (49.7030%), train_poison_data_count: 1010
Global model norm: 13.908534858817635.
Norm before scaling: 13.880967515100432. Distance: 1.0466516740498635
Total norm for 9 adversaries is: 13.880967515100432. distance: 1.0466516740498635
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 3.8919, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 4, internal_epoch   1,  Average loss: 0.0186, Accuracy: 389/463 (84.0173%), train_poison_data_count: 463
Global model norm: 13.908534858817635.
Norm before scaling: 13.958974946871379. Distance: 1.1276757420941341
Total norm for 9 adversaries is: 13.958974946871379. distance: 1.1276757420941341
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 16.8538, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 5, internal_epoch   1,  Average loss: 0.0194, Accuracy: 905/1046 (86.5201%), train_poison_data_count: 1046
Global model norm: 13.908534858817635.
Norm before scaling: 13.860554091261896. Distance: 1.1455089572338164
Total norm for 9 adversaries is: 13.860554091261896. distance: 1.1455089572338164
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 2.8646, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 6, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1394/1982 (70.3330%), train_poison_data_count: 1982
Global model norm: 13.908534858817635.
Norm before scaling: 13.90515927955677. Distance: 1.788057003068393
Total norm for 9 adversaries is: 13.90515927955677. distance: 1.788057003068393
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 8.0098, Accuracy: 2575/8991 (28.6398%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 7, internal_epoch   1,  Average loss: 0.0519, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.908534858817635.
Norm before scaling: 13.907065789800376. Distance: 0.09515722438708
Total norm for 9 adversaries is: 13.907065789800376. distance: 0.09515722438708
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 2.2574, Accuracy: 1802/8991 (20.0423%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 8, internal_epoch   1,  Average loss: 0.0428, Accuracy: 65/171 (38.0117%), train_poison_data_count: 171
Global model norm: 13.908534858817635.
Norm before scaling: 13.912144335427433. Distance: 0.32477914109871764
Total norm for 9 adversaries is: 13.912144335427433. distance: 0.32477914109871764
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 2.5234, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 9, internal_epoch   1,  Average loss: 0.0378, Accuracy: 129/263 (49.0494%), train_poison_data_count: 263
Global model norm: 13.908534858817635.
Norm before scaling: 13.921000340790213. Distance: 0.5151065474076856
Total norm for 9 adversaries is: 13.921000340790213. distance: 0.5151065474076856
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 3.5806, Accuracy: 892/8991 (9.9210%)
time spent on training: 36.95493197441101
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.01673875
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 15: Average loss: 2.3118, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:20/10000(0.200)
___Test Target_Simple poisoned: True, epoch: 15: Average loss: 2.2575, Accuracy: 1135/8991 (12.6237%)
Done in 98.19446349143982 sec.
Server Epoch:16 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  16, local model 0, internal_epoch   1,  Average loss: 0.0263, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 5.5062, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:7/10000(0.070)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 1, internal_epoch   1,  Average loss: 0.0493, Accuracy: 0/84 (0.0000%), train_poison_data_count: 84
Global model norm: 13.909918757625798.
Norm before scaling: 13.909420723498203. Distance: 0.06404837039645173
Total norm for 9 adversaries is: 13.909420723498203. distance: 0.06404837039645173
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 2.2637, Accuracy: 2844/8991 (31.6316%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 2, internal_epoch   1,  Average loss: 0.0508, Accuracy: 10/119 (8.4034%), train_poison_data_count: 119
Global model norm: 13.909918757625798.
Norm before scaling: 13.909756404847192. Distance: 0.15029227149410007
Total norm for 9 adversaries is: 13.909756404847192. distance: 0.15029227149410007
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 2.2921, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 3, internal_epoch   1,  Average loss: 0.0291, Accuracy: 491/1010 (48.6139%), train_poison_data_count: 1010
Global model norm: 13.909918757625798.
Norm before scaling: 13.878055820236831. Distance: 1.056244216993403
Total norm for 9 adversaries is: 13.878055820236831. distance: 1.056244216993403
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 3.3359, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 4, internal_epoch   1,  Average loss: 0.0174, Accuracy: 383/463 (82.7214%), train_poison_data_count: 463
Global model norm: 13.909918757625798.
Norm before scaling: 13.965309760581194. Distance: 1.1675880857969958
Total norm for 9 adversaries is: 13.965309760581194. distance: 1.1675880857969958
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 18.8729, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 5, internal_epoch   1,  Average loss: 0.0158, Accuracy: 896/1046 (85.6597%), train_poison_data_count: 1046
Global model norm: 13.909918757625798.
Norm before scaling: 13.864691676808711. Distance: 1.1383190622640618
Total norm for 9 adversaries is: 13.864691676808711. distance: 1.1383190622640618
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 3.1115, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 6, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1435/1982 (72.4016%), train_poison_data_count: 1982
Global model norm: 13.909918757625798.
Norm before scaling: 13.906015184112997. Distance: 1.7950048251073905
Total norm for 9 adversaries is: 13.906015184112997. distance: 1.7950048251073905
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 7.4765, Accuracy: 2147/8991 (23.8794%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 7, internal_epoch   1,  Average loss: 0.0520, Accuracy: 2/86 (2.3256%), train_poison_data_count: 86
Global model norm: 13.909918757625798.
Norm before scaling: 13.908482198830875. Distance: 0.10023928136703109
Total norm for 9 adversaries is: 13.908482198830875. distance: 0.10023928136703109
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 2.2576, Accuracy: 1892/8991 (21.0433%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 8, internal_epoch   1,  Average loss: 0.0427, Accuracy: 65/171 (38.0117%), train_poison_data_count: 171
Global model norm: 13.909918757625798.
Norm before scaling: 13.913940223529254. Distance: 0.335861751976573
Total norm for 9 adversaries is: 13.913940223529254. distance: 0.335861751976573
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 2.5744, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 9, internal_epoch   1,  Average loss: 0.0372, Accuracy: 136/263 (51.7110%), train_poison_data_count: 263
Global model norm: 13.909918757625798.
Norm before scaling: 13.922836184902867. Distance: 0.5261842200877853
Total norm for 9 adversaries is: 13.922836184902867. distance: 0.5261842200877853
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 3.6463, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.1851589679718
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 16: Average loss: 2.3170, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:12/10000(0.120)
___Test Target_Simple poisoned: True, epoch: 16: Average loss: 2.2579, Accuracy: 1135/8991 (12.6237%)
Done in 98.08382773399353 sec.
Server Epoch:17 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  17, local model 0, internal_epoch   1,  Average loss: 0.0252, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 5.9180, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:10/10000(0.100)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 1, internal_epoch   1,  Average loss: 0.0492, Accuracy: 0/84 (0.0000%), train_poison_data_count: 84
Global model norm: 13.91150324319236.
Norm before scaling: 13.910930677333214. Distance: 0.06739860156185107
Total norm for 9 adversaries is: 13.910930677333214. distance: 0.06739860156185107
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 2.2633, Accuracy: 2672/8991 (29.7186%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 2, internal_epoch   1,  Average loss: 0.0498, Accuracy: 14/119 (11.7647%), train_poison_data_count: 119
Global model norm: 13.91150324319236.
Norm before scaling: 13.911695738489701. Distance: 0.15631701701141898
Total norm for 9 adversaries is: 13.911695738489701. distance: 0.15631701701141898
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 2.3031, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 3, internal_epoch   1,  Average loss: 0.0263, Accuracy: 542/1010 (53.6634%), train_poison_data_count: 1010
Global model norm: 13.91150324319236.
Norm before scaling: 13.899251003805812. Distance: 1.0871469363029893
Total norm for 9 adversaries is: 13.899251003805812. distance: 1.0871469363029893
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 4.8952, Accuracy: 1837/8991 (20.4315%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 4, internal_epoch   1,  Average loss: 0.0200, Accuracy: 364/463 (78.6177%), train_poison_data_count: 463
Global model norm: 13.91150324319236.
Norm before scaling: 13.963355471393966. Distance: 1.1560987425148674
Total norm for 9 adversaries is: 13.963355471393966. distance: 1.1560987425148674
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 17.5412, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 5, internal_epoch   1,  Average loss: 0.0167, Accuracy: 893/1046 (85.3728%), train_poison_data_count: 1046
Global model norm: 13.91150324319236.
Norm before scaling: 13.877583581077964. Distance: 1.2060147545261481
Total norm for 9 adversaries is: 13.877583581077964. distance: 1.2060147545261481
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 4.4101, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 6, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1399/1982 (70.5853%), train_poison_data_count: 1982
Global model norm: 13.91150324319236.
Norm before scaling: 13.889518770981704. Distance: 1.7539347283105224
Total norm for 9 adversaries is: 13.889518770981704. distance: 1.7539347283105224
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 4.3738, Accuracy: 1987/8991 (22.0999%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 7, internal_epoch   1,  Average loss: 0.0515, Accuracy: 1/86 (1.1628%), train_poison_data_count: 86
Global model norm: 13.91150324319236.
Norm before scaling: 13.910090432658105. Distance: 0.10280543650912252
Total norm for 9 adversaries is: 13.910090432658105. distance: 0.10280543650912252
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 2.2582, Accuracy: 1982/8991 (22.0443%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 8, internal_epoch   1,  Average loss: 0.0417, Accuracy: 63/171 (36.8421%), train_poison_data_count: 171
Global model norm: 13.91150324319236.
Norm before scaling: 13.916225464426688. Distance: 0.3450984947612813
Total norm for 9 adversaries is: 13.916225464426688. distance: 0.3450984947612813
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 2.6499, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 9, internal_epoch   1,  Average loss: 0.0369, Accuracy: 133/263 (50.5703%), train_poison_data_count: 263
Global model norm: 13.91150324319236.
Norm before scaling: 13.924515633231813. Distance: 0.5384291923090156
Total norm for 9 adversaries is: 13.924515633231813. distance: 0.5384291923090156
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 3.7209, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.09662079811096
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.18513158 0.         1.         0.18513158 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 17: Average loss: 2.3179, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:14/10000(0.140)
___Test Target_Simple poisoned: True, epoch: 17: Average loss: 2.2563, Accuracy: 1135/8991 (12.6237%)
Done in 97.20596170425415 sec.
Server Epoch:18 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  18, local model 0, internal_epoch   1,  Average loss: 0.0245, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 6.0729, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:11/10000(0.110)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 1, internal_epoch   1,  Average loss: 0.0490, Accuracy: 0/84 (0.0000%), train_poison_data_count: 84
Global model norm: 13.91220082032455.
Norm before scaling: 13.911717675106658. Distance: 0.0682460117414924
Total norm for 9 adversaries is: 13.911717675106658. distance: 0.0682460117414924
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 2.2631, Accuracy: 3049/8991 (33.9117%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 2, internal_epoch   1,  Average loss: 0.0489, Accuracy: 15/119 (12.6050%), train_poison_data_count: 119
Global model norm: 13.91220082032455.
Norm before scaling: 13.91284900923283. Distance: 0.16076452765144494
Total norm for 9 adversaries is: 13.91284900923283. distance: 0.16076452765144494
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 2.3141, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 3, internal_epoch   1,  Average loss: 0.0278, Accuracy: 504/1010 (49.9010%), train_poison_data_count: 1010
Global model norm: 13.91220082032455.
Norm before scaling: 13.889589629403822. Distance: 1.0634414765146023
Total norm for 9 adversaries is: 13.889589629403822. distance: 1.0634414765146023
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 3.9522, Accuracy: 1710/8991 (19.0190%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 4, internal_epoch   1,  Average loss: 0.0176, Accuracy: 369/463 (79.6976%), train_poison_data_count: 463
Global model norm: 13.91220082032455.
Norm before scaling: 13.963017800205913. Distance: 1.1484968728009215
Total norm for 9 adversaries is: 13.963017800205913. distance: 1.1484968728009215
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 17.4233, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 5, internal_epoch   1,  Average loss: 0.0154, Accuracy: 897/1046 (85.7553%), train_poison_data_count: 1046
Global model norm: 13.91220082032455.
Norm before scaling: 13.87114490186992. Distance: 1.1707467306198553
Total norm for 9 adversaries is: 13.87114490186992. distance: 1.1707467306198553
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 3.5773, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 6, internal_epoch   1,  Average loss: 0.0151, Accuracy: 1396/1982 (70.4339%), train_poison_data_count: 1982
Global model norm: 13.91220082032455.
Norm before scaling: 13.902786612256461. Distance: 1.7590461301626406
Total norm for 9 adversaries is: 13.902786612256461. distance: 1.7590461301626406
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 6.9918, Accuracy: 2426/8991 (26.9825%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 7, internal_epoch   1,  Average loss: 0.0508, Accuracy: 4/86 (4.6512%), train_poison_data_count: 86
Global model norm: 13.91220082032455.
Norm before scaling: 13.91095426049198. Distance: 0.10471148963321009
Total norm for 9 adversaries is: 13.91095426049198. distance: 0.10471148963321009
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 2.2593, Accuracy: 1567/8991 (17.4285%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 8, internal_epoch   1,  Average loss: 0.0413, Accuracy: 76/171 (44.4444%), train_poison_data_count: 171
Global model norm: 13.91220082032455.
Norm before scaling: 13.91770288565183. Distance: 0.3537652414765551
Total norm for 9 adversaries is: 13.91770288565183. distance: 0.3537652414765551
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 2.7262, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 9, internal_epoch   1,  Average loss: 0.0363, Accuracy: 110/263 (41.8251%), train_poison_data_count: 263
Global model norm: 13.91220082032455.
Norm before scaling: 13.925916023190752. Distance: 0.5458002974678171
Total norm for 9 adversaries is: 13.925916023190752. distance: 0.5458002974678171
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 3.8397, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.0746123790741
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.29096459 0.         1.         0.29096459 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 18: Average loss: 2.3206, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:6/10000(0.060)
___Test Target_Simple poisoned: True, epoch: 18: Average loss: 2.2557, Accuracy: 1135/8991 (12.6237%)
Done in 97.65430760383606 sec.
Server Epoch:19 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  19, local model 0, internal_epoch   1,  Average loss: 0.0252, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 5.9110, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:13/10000(0.130)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 1, internal_epoch   1,  Average loss: 0.0487, Accuracy: 2/84 (2.3810%), train_poison_data_count: 84
Global model norm: 13.913207638850137.
Norm before scaling: 13.912796913947606. Distance: 0.0701595503842129
Total norm for 9 adversaries is: 13.912796913947606. distance: 0.0701595503842129
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 2.2639, Accuracy: 3290/8991 (36.5921%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 2, internal_epoch   1,  Average loss: 0.0483, Accuracy: 16/119 (13.4454%), train_poison_data_count: 119
Global model norm: 13.913207638850137.
Norm before scaling: 13.914148586377431. Distance: 0.16293325529579852
Total norm for 9 adversaries is: 13.914148586377431. distance: 0.16293325529579852
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 2.3250, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 3, internal_epoch   1,  Average loss: 0.0278, Accuracy: 493/1010 (48.8119%), train_poison_data_count: 1010
Global model norm: 13.913207638850137.
Norm before scaling: 13.890943560042322. Distance: 1.0800741516371308
Total norm for 9 adversaries is: 13.890943560042322. distance: 1.0800741516371308
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 4.0527, Accuracy: 1592/8991 (17.7066%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 4, internal_epoch   1,  Average loss: 0.0171, Accuracy: 377/463 (81.4255%), train_poison_data_count: 463
Global model norm: 13.913207638850137.
Norm before scaling: 13.964703889159772. Distance: 1.155954993477337
Total norm for 9 adversaries is: 13.964703889159772. distance: 1.155954993477337
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 17.7199, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 5, internal_epoch   1,  Average loss: 0.0156, Accuracy: 894/1046 (85.4685%), train_poison_data_count: 1046
Global model norm: 13.913207638850137.
Norm before scaling: 13.872501182645472. Distance: 1.2013344755449555
Total norm for 9 adversaries is: 13.872501182645472. distance: 1.2013344755449555
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 3.4717, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 6, internal_epoch   1,  Average loss: 0.0143, Accuracy: 1489/1982 (75.1261%), train_poison_data_count: 1982
Global model norm: 13.913207638850137.
Norm before scaling: 13.906689446181613. Distance: 1.7352843091788306
Total norm for 9 adversaries is: 13.906689446181613. distance: 1.7352843091788306
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 9.6522, Accuracy: 2029/8991 (22.5670%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 7, internal_epoch   1,  Average loss: 0.0501, Accuracy: 10/86 (11.6279%), train_poison_data_count: 86
Global model norm: 13.913207638850137.
Norm before scaling: 13.912135012655375. Distance: 0.10615181488494942
Total norm for 9 adversaries is: 13.912135012655375. distance: 0.10615181488494942
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 2.2621, Accuracy: 1074/8991 (11.9453%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 8, internal_epoch   1,  Average loss: 0.0392, Accuracy: 91/171 (53.2164%), train_poison_data_count: 171
Global model norm: 13.913207638850137.
Norm before scaling: 13.919969421879298. Distance: 0.3627866844567385
Total norm for 9 adversaries is: 13.919969421879298. distance: 0.3627866844567385
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 2.8534, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 9, internal_epoch   1,  Average loss: 0.0361, Accuracy: 120/263 (45.6274%), train_poison_data_count: 263
Global model norm: 13.913207638850137.
Norm before scaling: 13.926920206754705. Distance: 0.5471483364937136
Total norm for 9 adversaries is: 13.926920206754705. distance: 0.5471483364937136
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 3.8994, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.27374839782715
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.33633217 0.         1.         0.33633217 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 19: Average loss: 2.3238, Accuracy: 1138/10000 (11.3800%), Attack Success Rate:7/10000(0.070)
___Test Target_Simple poisoned: True, epoch: 19: Average loss: 2.2554, Accuracy: 1144/8991 (12.7238%)
Done in 97.39154720306396 sec.
Server Epoch:20 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  20, local model 0, internal_epoch   1,  Average loss: 0.0239, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 6.1498, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:15/10000(0.150)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 1, internal_epoch   1,  Average loss: 0.0482, Accuracy: 3/84 (3.5714%), train_poison_data_count: 84
Global model norm: 13.914176550627467.
Norm before scaling: 13.913816849319465. Distance: 0.07163672718959338
Total norm for 9 adversaries is: 13.913816849319465. distance: 0.07163672718959338
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 2.2649, Accuracy: 3446/8991 (38.3272%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 2, internal_epoch   1,  Average loss: 0.0480, Accuracy: 23/119 (19.3277%), train_poison_data_count: 119
Global model norm: 13.914176550627467.
Norm before scaling: 13.91537950848752. Distance: 0.16541375845791678
Total norm for 9 adversaries is: 13.91537950848752. distance: 0.16541375845791678
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 2.3368, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 3, internal_epoch   1,  Average loss: 0.0280, Accuracy: 471/1010 (46.6337%), train_poison_data_count: 1010
Global model norm: 13.914176550627467.
Norm before scaling: 13.891308796618402. Distance: 1.1261454155361035
Total norm for 9 adversaries is: 13.891308796618402. distance: 1.1261454155361035
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 4.1079, Accuracy: 974/8991 (10.8331%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 4, internal_epoch   1,  Average loss: 0.0187, Accuracy: 390/463 (84.2333%), train_poison_data_count: 463
Global model norm: 13.914176550627467.
Norm before scaling: 13.96426244419488. Distance: 1.149754139284968
Total norm for 9 adversaries is: 13.96426244419488. distance: 1.149754139284968
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 17.3105, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 5, internal_epoch   1,  Average loss: 0.0160, Accuracy: 891/1046 (85.1816%), train_poison_data_count: 1046
Global model norm: 13.914176550627467.
Norm before scaling: 13.8725913766645. Distance: 1.1868688010103592
Total norm for 9 adversaries is: 13.8725913766645. distance: 1.1868688010103592
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 3.6426, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 6, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1424/1982 (71.8466%), train_poison_data_count: 1982
Global model norm: 13.914176550627467.
Norm before scaling: 13.901945326547098. Distance: 1.7398742919762573
Total norm for 9 adversaries is: 13.901945326547098. distance: 1.7398742919762573
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 5.9492, Accuracy: 2522/8991 (28.0503%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 7, internal_epoch   1,  Average loss: 0.0494, Accuracy: 19/86 (22.0930%), train_poison_data_count: 86
Global model norm: 13.914176550627467.
Norm before scaling: 13.91318186608196. Distance: 0.10842587149626917
Total norm for 9 adversaries is: 13.91318186608196. distance: 0.10842587149626917
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 2.2645, Accuracy: 1011/8991 (11.2446%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 8, internal_epoch   1,  Average loss: 0.0383, Accuracy: 102/171 (59.6491%), train_poison_data_count: 171
Global model norm: 13.914176550627467.
Norm before scaling: 13.921714430716847. Distance: 0.36878912200943414
Total norm for 9 adversaries is: 13.921714430716847. distance: 0.36878912200943414
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 2.9547, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 9, internal_epoch   1,  Average loss: 0.0359, Accuracy: 120/263 (45.6274%), train_poison_data_count: 263
Global model norm: 13.914176550627467.
Norm before scaling: 13.928953552593695. Distance: 0.5596076193950658
Total norm for 9 adversaries is: 13.928953552593695. distance: 0.5596076193950658
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 3.9933, Accuracy: 1084/8991 (12.0565%)
time spent on training: 37.10493302345276
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.85128913 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 20: Average loss: 2.3317, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:12/10000(0.120)
___Test Target_Simple poisoned: True, epoch: 20: Average loss: 2.2574, Accuracy: 1135/8991 (12.6237%)
Done in 97.04645919799805 sec.
Server Epoch:21 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  21, local model 0, internal_epoch   1,  Average loss: 0.0227, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 6.6863, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:10/10000(0.100)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 1, internal_epoch   1,  Average loss: 0.0482, Accuracy: 2/84 (2.3810%), train_poison_data_count: 84
Global model norm: 13.91578357810919.
Norm before scaling: 13.915349901839514. Distance: 0.07432036596067926
Total norm for 9 adversaries is: 13.915349901839514. distance: 0.07432036596067926
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 2.2659, Accuracy: 3341/8991 (37.1594%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 2, internal_epoch   1,  Average loss: 0.0466, Accuracy: 19/119 (15.9664%), train_poison_data_count: 119
Global model norm: 13.91578357810919.
Norm before scaling: 13.917303805509304. Distance: 0.17064165715245214
Total norm for 9 adversaries is: 13.917303805509304. distance: 0.17064165715245214
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 2.3572, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 3, internal_epoch   1,  Average loss: 0.0263, Accuracy: 536/1010 (53.0693%), train_poison_data_count: 1010
Global model norm: 13.91578357810919.
Norm before scaling: 13.900285654769101. Distance: 1.0925473276706956
Total norm for 9 adversaries is: 13.900285654769101. distance: 1.0925473276706956
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 4.1347, Accuracy: 2091/8991 (23.2566%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 4, internal_epoch   1,  Average loss: 0.0187, Accuracy: 376/463 (81.2095%), train_poison_data_count: 463
Global model norm: 13.91578357810919.
Norm before scaling: 13.962821641186775. Distance: 1.1505909665952465
Total norm for 9 adversaries is: 13.962821641186775. distance: 1.1505909665952465
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 16.1926, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 5, internal_epoch   1,  Average loss: 0.0185, Accuracy: 890/1046 (85.0860%), train_poison_data_count: 1046
Global model norm: 13.91578357810919.
Norm before scaling: 13.867672196634889. Distance: 1.2594778752490583
Total norm for 9 adversaries is: 13.867672196634889. distance: 1.2594778752490583
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 2.6765, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 6, internal_epoch   1,  Average loss: 0.0140, Accuracy: 1467/1982 (74.0161%), train_poison_data_count: 1982
Global model norm: 13.91578357810919.
Norm before scaling: 13.919657007135235. Distance: 1.7978904840088632
Total norm for 9 adversaries is: 13.919657007135235. distance: 1.7978904840088632
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 7.2223, Accuracy: 2299/8991 (25.5700%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 7, internal_epoch   1,  Average loss: 0.0497, Accuracy: 16/86 (18.6047%), train_poison_data_count: 86
Global model norm: 13.91578357810919.
Norm before scaling: 13.914779139145937. Distance: 0.11489045416363897
Total norm for 9 adversaries is: 13.914779139145937. distance: 0.11489045416363897
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 2.2684, Accuracy: 1015/8991 (11.2891%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 8, internal_epoch   1,  Average loss: 0.0371, Accuracy: 93/171 (54.3860%), train_poison_data_count: 171
Global model norm: 13.91578357810919.
Norm before scaling: 13.923853741077924. Distance: 0.38462734157976414
Total norm for 9 adversaries is: 13.923853741077924. distance: 0.38462734157976414
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 3.0936, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 9, internal_epoch   1,  Average loss: 0.0351, Accuracy: 112/263 (42.5856%), train_poison_data_count: 263
Global model norm: 13.91578357810919.
Norm before scaling: 13.930866664371884. Distance: 0.575307346177936
Total norm for 9 adversaries is: 13.930866664371884. distance: 0.575307346177936
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 4.1441, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.340017557144165
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.42567868 0.         1.         0.42567868 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 21: Average loss: 2.3366, Accuracy: 1143/10000 (11.4300%), Attack Success Rate:13/10000(0.130)
___Test Target_Simple poisoned: True, epoch: 21: Average loss: 2.2583, Accuracy: 1144/8991 (12.7238%)
Done in 98.38443875312805 sec.
Server Epoch:22 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  22, local model 0, internal_epoch   1,  Average loss: 0.0241, Accuracy: 260/300 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 6.1422, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:14/10000(0.140)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 1, internal_epoch   1,  Average loss: 0.0480, Accuracy: 2/84 (2.3810%), train_poison_data_count: 84
Global model norm: 13.917080140205641.
Norm before scaling: 13.916625671935472. Distance: 0.07809413061625464
Total norm for 9 adversaries is: 13.916625671935472. distance: 0.07809413061625464
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 2.2675, Accuracy: 3502/8991 (38.9501%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 2, internal_epoch   1,  Average loss: 0.0456, Accuracy: 27/119 (22.6891%), train_poison_data_count: 119
Global model norm: 13.917080140205641.
Norm before scaling: 13.919150551495422. Distance: 0.17719662188709728
Total norm for 9 adversaries is: 13.919150551495422. distance: 0.17719662188709728
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 2.3848, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 3, internal_epoch   1,  Average loss: 0.0270, Accuracy: 536/1010 (53.0693%), train_poison_data_count: 1010
Global model norm: 13.917080140205641.
Norm before scaling: 13.898520938479164. Distance: 1.1038591508475948
Total norm for 9 adversaries is: 13.898520938479164. distance: 1.1038591508475948
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 3.9730, Accuracy: 2035/8991 (22.6337%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 4, internal_epoch   1,  Average loss: 0.0162, Accuracy: 381/463 (82.2894%), train_poison_data_count: 463
Global model norm: 13.917080140205641.
Norm before scaling: 13.968301036199449. Distance: 1.1749561748042228
Total norm for 9 adversaries is: 13.968301036199449. distance: 1.1749561748042228
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 18.0696, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 5, internal_epoch   1,  Average loss: 0.0154, Accuracy: 889/1046 (84.9904%), train_poison_data_count: 1046
Global model norm: 13.917080140205641.
Norm before scaling: 13.87849615915386. Distance: 1.2498327143311043
Total norm for 9 adversaries is: 13.87849615915386. distance: 1.2498327143311043
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 3.6332, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 6, internal_epoch   1,  Average loss: 0.0132, Accuracy: 1579/1982 (79.6670%), train_poison_data_count: 1982
Global model norm: 13.917080140205641.
Norm before scaling: 13.924463033681665. Distance: 1.7774857349064774
Total norm for 9 adversaries is: 13.924463033681665. distance: 1.7774857349064774
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 10.5543, Accuracy: 2532/8991 (28.1615%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 7, internal_epoch   1,  Average loss: 0.0491, Accuracy: 20/86 (23.2558%), train_poison_data_count: 86
Global model norm: 13.917080140205641.
Norm before scaling: 13.91632305033233. Distance: 0.11843353472440538
Total norm for 9 adversaries is: 13.91632305033233. distance: 0.11843353472440538
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 2.2772, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 8, internal_epoch   1,  Average loss: 0.0350, Accuracy: 98/171 (57.3099%), train_poison_data_count: 171
Global model norm: 13.917080140205641.
Norm before scaling: 13.92612804178994. Distance: 0.38688164950250464
Total norm for 9 adversaries is: 13.92612804178994. distance: 0.38688164950250464
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 3.2494, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 9, internal_epoch   1,  Average loss: 0.0343, Accuracy: 138/263 (52.4715%), train_poison_data_count: 263
Global model norm: 13.917080140205641.
Norm before scaling: 13.932713255400994. Distance: 0.5820322996808514
Total norm for 9 adversaries is: 13.932713255400994. distance: 0.5820322996808514
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 4.2715, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.05019569396973
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.4245585 0.        1.        0.4245585 0.        0.        1.
 0.        0.        0.       ]
___Test Target_Simple poisoned: False, epoch: 22: Average loss: 2.3419, Accuracy: 1186/10000 (11.8600%), Attack Success Rate:15/10000(0.150)
___Test Target_Simple poisoned: True, epoch: 22: Average loss: 2.2594, Accuracy: 1191/8991 (13.2466%)
Done in 97.42014026641846 sec.
Server Epoch:23 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  23, local model 0, internal_epoch   1,  Average loss: 0.0214, Accuracy: 261/300 (87.0000%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 6.7957, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:15/10000(0.150)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 1, internal_epoch   1,  Average loss: 0.0478, Accuracy: 4/84 (4.7619%), train_poison_data_count: 84
Global model norm: 13.918282847108308.
Norm before scaling: 13.917932570820224. Distance: 0.07975903180229424
Total norm for 9 adversaries is: 13.917932570820224. distance: 0.07975903180229424
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 2.2702, Accuracy: 3407/8991 (37.8934%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 2, internal_epoch   1,  Average loss: 0.0444, Accuracy: 34/119 (28.5714%), train_poison_data_count: 119
Global model norm: 13.918282847108308.
Norm before scaling: 13.92089347076595. Distance: 0.1832533887384595
Total norm for 9 adversaries is: 13.92089347076595. distance: 0.1832533887384595
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 2.4197, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 3, internal_epoch   1,  Average loss: 0.0268, Accuracy: 493/1010 (48.8119%), train_poison_data_count: 1010
Global model norm: 13.918282847108308.
Norm before scaling: 13.898606023254578. Distance: 1.1154584509217396
Total norm for 9 adversaries is: 13.898606023254578. distance: 1.1154584509217396
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 3.7195, Accuracy: 2040/8991 (22.6894%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 4, internal_epoch   1,  Average loss: 0.0179, Accuracy: 378/463 (81.6415%), train_poison_data_count: 463
Global model norm: 13.918282847108308.
Norm before scaling: 13.96573259846109. Distance: 1.1591495551778126
Total norm for 9 adversaries is: 13.96573259846109. distance: 1.1591495551778126
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 16.8120, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 5, internal_epoch   1,  Average loss: 0.0177, Accuracy: 897/1046 (85.7553%), train_poison_data_count: 1046
Global model norm: 13.918282847108308.
Norm before scaling: 13.887852669949611. Distance: 1.3367353142894238
Total norm for 9 adversaries is: 13.887852669949611. distance: 1.3367353142894238
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 4.3973, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 6, internal_epoch   1,  Average loss: 0.0137, Accuracy: 1561/1982 (78.7588%), train_poison_data_count: 1982
Global model norm: 13.918282847108308.
Norm before scaling: 13.899888818968572. Distance: 1.6954223315967047
Total norm for 9 adversaries is: 13.899888818968572. distance: 1.6954223315967047
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 6.4137, Accuracy: 2098/8991 (23.3344%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 7, internal_epoch   1,  Average loss: 0.0483, Accuracy: 20/86 (23.2558%), train_poison_data_count: 86
Global model norm: 13.918282847108308.
Norm before scaling: 13.917636007634904. Distance: 0.1211802573535873
Total norm for 9 adversaries is: 13.917636007634904. distance: 0.1211802573535873
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 2.2842, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 8, internal_epoch   1,  Average loss: 0.0340, Accuracy: 104/171 (60.8187%), train_poison_data_count: 171
Global model norm: 13.918282847108308.
Norm before scaling: 13.928027847358608. Distance: 0.3926870470155189
Total norm for 9 adversaries is: 13.928027847358608. distance: 0.3926870470155189
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 3.3966, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 9, internal_epoch   1,  Average loss: 0.0336, Accuracy: 150/263 (57.0342%), train_poison_data_count: 263
Global model norm: 13.918282847108308.
Norm before scaling: 13.934267225103225. Distance: 0.5870106089265289
Total norm for 9 adversaries is: 13.934267225103225. distance: 0.5870106089265289
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 4.3827, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.055659532547
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.60260387 0.         1.         0.60260387 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 23: Average loss: 2.3501, Accuracy: 1235/10000 (12.3500%), Attack Success Rate:18/10000(0.180)
___Test Target_Simple poisoned: True, epoch: 23: Average loss: 2.2626, Accuracy: 1238/8991 (13.7693%)
Done in 97.08410334587097 sec.
Server Epoch:24 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  24, local model 0, internal_epoch   1,  Average loss: 0.0211, Accuracy: 261/300 (87.0000%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 6.7402, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:8/10000(0.080)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 1, internal_epoch   1,  Average loss: 0.0475, Accuracy: 7/84 (8.3333%), train_poison_data_count: 84
Global model norm: 13.919773752412766.
Norm before scaling: 13.919348970294406. Distance: 0.0825713012189282
Total norm for 9 adversaries is: 13.919348970294406. distance: 0.0825713012189282
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 2.2725, Accuracy: 3313/8991 (36.8480%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 2, internal_epoch   1,  Average loss: 0.0435, Accuracy: 39/119 (32.7731%), train_poison_data_count: 119
Global model norm: 13.919773752412766.
Norm before scaling: 13.92264713154126. Distance: 0.18484482710871947
Total norm for 9 adversaries is: 13.92264713154126. distance: 0.18484482710871947
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 2.4479, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 3, internal_epoch   1,  Average loss: 0.0258, Accuracy: 562/1010 (55.6436%), train_poison_data_count: 1010
Global model norm: 13.919773752412766.
Norm before scaling: 13.905371065973819. Distance: 1.1389748119620273
Total norm for 9 adversaries is: 13.905371065973819. distance: 1.1389748119620273
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 3.9042, Accuracy: 2041/8991 (22.7005%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 4, internal_epoch   1,  Average loss: 0.0170, Accuracy: 369/463 (79.6976%), train_poison_data_count: 463
Global model norm: 13.919773752412766.
Norm before scaling: 13.965113087437633. Distance: 1.1569583372727281
Total norm for 9 adversaries is: 13.965113087437633. distance: 1.1569583372727281
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 16.1033, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 5, internal_epoch   1,  Average loss: 0.0149, Accuracy: 893/1046 (85.3728%), train_poison_data_count: 1046
Global model norm: 13.919773752412766.
Norm before scaling: 13.886309439291276. Distance: 1.3257111997873818
Total norm for 9 adversaries is: 13.886309439291276. distance: 1.3257111997873818
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 3.8756, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 6, internal_epoch   1,  Average loss: 0.0132, Accuracy: 1572/1982 (79.3138%), train_poison_data_count: 1982
Global model norm: 13.919773752412766.
Norm before scaling: 13.912426757619707. Distance: 1.7264731543713308
Total norm for 9 adversaries is: 13.912426757619707. distance: 1.7264731543713308
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 7.0654, Accuracy: 2513/8991 (27.9502%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 7, internal_epoch   1,  Average loss: 0.0484, Accuracy: 21/86 (24.4186%), train_poison_data_count: 86
Global model norm: 13.919773752412766.
Norm before scaling: 13.919353355208296. Distance: 0.1276955828542756
Total norm for 9 adversaries is: 13.919353355208296. distance: 0.1276955828542756
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 2.2997, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 8, internal_epoch   1,  Average loss: 0.0338, Accuracy: 106/171 (61.9883%), train_poison_data_count: 171
Global model norm: 13.919773752412766.
Norm before scaling: 13.929685309169766. Distance: 0.39526751718423714
Total norm for 9 adversaries is: 13.929685309169766. distance: 0.39526751718423714
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 3.5118, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 9, internal_epoch   1,  Average loss: 0.0333, Accuracy: 159/263 (60.4563%), train_poison_data_count: 263
Global model norm: 13.919773752412766.
Norm before scaling: 13.93586536623612. Distance: 0.5965294531755625
Total norm for 9 adversaries is: 13.93586536623612. distance: 0.5965294531755625
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 4.4813, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.24571251869202
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.0183753  0.         1.         0.0183753  0.         0.
 0.94754983 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 24: Average loss: 2.3531, Accuracy: 1649/10000 (16.4900%), Attack Success Rate:27/10000(0.270)
___Test Target_Simple poisoned: True, epoch: 24: Average loss: 2.2627, Accuracy: 1660/8991 (18.4629%)
Done in 97.48524475097656 sec.
Server Epoch:25 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  25, local model 0, internal_epoch   1,  Average loss: 0.0214, Accuracy: 262/300 (87.3333%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 6.8976, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:8/10000(0.080)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 1, internal_epoch   1,  Average loss: 0.0471, Accuracy: 15/84 (17.8571%), train_poison_data_count: 84
Global model norm: 13.920532846885243.
Norm before scaling: 13.92028676230924. Distance: 0.08385365592858263
Total norm for 9 adversaries is: 13.92028676230924. distance: 0.08385365592858263
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 2.2772, Accuracy: 3303/8991 (36.7367%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 2, internal_epoch   1,  Average loss: 0.0430, Accuracy: 54/119 (45.3782%), train_poison_data_count: 119
Global model norm: 13.920532846885243.
Norm before scaling: 13.923682783687015. Distance: 0.18441133868422538
Total norm for 9 adversaries is: 13.923682783687015. distance: 0.18441133868422538
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 2.4660, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 3, internal_epoch   1,  Average loss: 0.0263, Accuracy: 536/1010 (53.0693%), train_poison_data_count: 1010
Global model norm: 13.920532846885243.
Norm before scaling: 13.908766889509607. Distance: 1.1841718313241894
Total norm for 9 adversaries is: 13.908766889509607. distance: 1.1841718313241894
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 4.4368, Accuracy: 2042/8991 (22.7116%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 4, internal_epoch   1,  Average loss: 0.0160, Accuracy: 382/463 (82.5054%), train_poison_data_count: 463
Global model norm: 13.920532846885243.
Norm before scaling: 13.971815895018688. Distance: 1.192512074055516
Total norm for 9 adversaries is: 13.971815895018688. distance: 1.192512074055516
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 18.5286, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 5, internal_epoch   1,  Average loss: 0.0153, Accuracy: 898/1046 (85.8509%), train_poison_data_count: 1046
Global model norm: 13.920532846885243.
Norm before scaling: 13.883381829209517. Distance: 1.2938993856088814
Total norm for 9 adversaries is: 13.883381829209517. distance: 1.2938993856088814
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 3.6967, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 6, internal_epoch   1,  Average loss: 0.0124, Accuracy: 1590/1982 (80.2220%), train_poison_data_count: 1982
Global model norm: 13.920532846885243.
Norm before scaling: 13.92183937898782. Distance: 1.7300788664067968
Total norm for 9 adversaries is: 13.92183937898782. distance: 1.7300788664067968
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 8.7159, Accuracy: 2171/8991 (24.1464%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 7, internal_epoch   1,  Average loss: 0.0475, Accuracy: 37/86 (43.0233%), train_poison_data_count: 86
Global model norm: 13.920532846885243.
Norm before scaling: 13.920264291117835. Distance: 0.12782277306120746
Total norm for 9 adversaries is: 13.920264291117835. distance: 0.12782277306120746
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 2.3070, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 8, internal_epoch   1,  Average loss: 0.0320, Accuracy: 120/171 (70.1754%), train_poison_data_count: 171
Global model norm: 13.920532846885243.
Norm before scaling: 13.9315298662445. Distance: 0.40138979660175006
Total norm for 9 adversaries is: 13.9315298662445. distance: 0.40138979660175006
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 3.6947, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 9, internal_epoch   1,  Average loss: 0.0324, Accuracy: 150/263 (57.0342%), train_poison_data_count: 263
Global model norm: 13.920532846885243.
Norm before scaling: 13.937460039705888. Distance: 0.6028122985665483
Total norm for 9 adversaries is: 13.937460039705888. distance: 0.6028122985665483
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 4.6406, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.485225200653076
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.80752662 0.         1.         0.80752662 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 25: Average loss: 2.3643, Accuracy: 1637/10000 (16.3700%), Attack Success Rate:32/10000(0.320)
___Test Target_Simple poisoned: True, epoch: 25: Average loss: 2.2678, Accuracy: 1642/8991 (18.2627%)
Done in 98.42552042007446 sec.
Server Epoch:26 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  26, local model 0, internal_epoch   1,  Average loss: 0.0210, Accuracy: 261/300 (87.0000%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 7.0676, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:12/10000(0.120)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 1, internal_epoch   1,  Average loss: 0.0472, Accuracy: 9/84 (10.7143%), train_poison_data_count: 84
Global model norm: 13.922397796370804.
Norm before scaling: 13.922043239548827. Distance: 0.08618188106946391
Total norm for 9 adversaries is: 13.922043239548827. distance: 0.08618188106946391
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 2.2799, Accuracy: 2997/8991 (33.3333%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 2, internal_epoch   1,  Average loss: 0.0418, Accuracy: 46/119 (38.6555%), train_poison_data_count: 119
Global model norm: 13.922397796370804.
Norm before scaling: 13.92598833997491. Distance: 0.19161023733739319
Total norm for 9 adversaries is: 13.92598833997491. distance: 0.19161023733739319
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 2.5189, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 3, internal_epoch   1,  Average loss: 0.0242, Accuracy: 613/1010 (60.6931%), train_poison_data_count: 1010
Global model norm: 13.922397796370804.
Norm before scaling: 13.921386710186967. Distance: 1.189451321003866
Total norm for 9 adversaries is: 13.921386710186967. distance: 1.189451321003866
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 5.4088, Accuracy: 2021/8991 (22.4780%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 4, internal_epoch   1,  Average loss: 0.0151, Accuracy: 376/463 (81.2095%), train_poison_data_count: 463
Global model norm: 13.922397796370804.
Norm before scaling: 13.972371222980495. Distance: 1.1983375915501207
Total norm for 9 adversaries is: 13.972371222980495. distance: 1.1983375915501207
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 18.0048, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 5, internal_epoch   1,  Average loss: 0.0167, Accuracy: 887/1046 (84.7992%), train_poison_data_count: 1046
Global model norm: 13.922397796370804.
Norm before scaling: 13.883347208505377. Distance: 1.3765502773266205
Total norm for 9 adversaries is: 13.883347208505377. distance: 1.3765502773266205
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 3.1174, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 6, internal_epoch   1,  Average loss: 0.0119, Accuracy: 1587/1982 (80.0706%), train_poison_data_count: 1982
Global model norm: 13.922397796370804.
Norm before scaling: 13.93577339186085. Distance: 1.7790113737183397
Total norm for 9 adversaries is: 13.93577339186085. distance: 1.7790113737183397
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 9.5951, Accuracy: 2556/8991 (28.4284%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 7, internal_epoch   1,  Average loss: 0.0465, Accuracy: 38/86 (44.1860%), train_poison_data_count: 86
Global model norm: 13.922397796370804.
Norm before scaling: 13.922007070957443. Distance: 0.13030669232561032
Total norm for 9 adversaries is: 13.922007070957443. distance: 0.13030669232561032
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 2.3160, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 8, internal_epoch   1,  Average loss: 0.0317, Accuracy: 112/171 (65.4971%), train_poison_data_count: 171
Global model norm: 13.922397796370804.
Norm before scaling: 13.933096014554025. Distance: 0.40257234468165365
Total norm for 9 adversaries is: 13.933096014554025. distance: 0.40257234468165365
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 3.7839, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 9, internal_epoch   1,  Average loss: 0.0319, Accuracy: 138/263 (52.4715%), train_poison_data_count: 263
Global model norm: 13.922397796370804.
Norm before scaling: 13.939490753460841. Distance: 0.6189734777829584
Total norm for 9 adversaries is: 13.939490753460841. distance: 0.6189734777829584
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 4.7783, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.49627947807312
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.88627056 0.         1.         0.88627056 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 26: Average loss: 2.3787, Accuracy: 1634/10000 (16.3400%), Attack Success Rate:23/10000(0.230)
___Test Target_Simple poisoned: True, epoch: 26: Average loss: 2.2746, Accuracy: 1636/8991 (18.1960%)
Done in 97.55403685569763 sec.
Server Epoch:27 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  27, local model 0, internal_epoch   1,  Average loss: 0.0189, Accuracy: 263/300 (87.6667%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 7.3060, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:5/10000(0.050)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 1, internal_epoch   1,  Average loss: 0.0472, Accuracy: 12/84 (14.2857%), train_poison_data_count: 84
Global model norm: 13.924647679143671.
Norm before scaling: 13.924252633494094. Distance: 0.09304488274421654
Total norm for 9 adversaries is: 13.924252633494094. distance: 0.09304488274421654
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 2.2862, Accuracy: 3000/8991 (33.3667%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 2, internal_epoch   1,  Average loss: 0.0403, Accuracy: 52/119 (43.6975%), train_poison_data_count: 119
Global model norm: 13.924647679143671.
Norm before scaling: 13.9286457213492. Distance: 0.19675527784946442
Total norm for 9 adversaries is: 13.9286457213492. distance: 0.19675527784946442
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 2.5790, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 3, internal_epoch   1,  Average loss: 0.0262, Accuracy: 520/1010 (51.4851%), train_poison_data_count: 1010
Global model norm: 13.924647679143671.
Norm before scaling: 13.911119889922482. Distance: 1.1913589217994498
Total norm for 9 adversaries is: 13.911119889922482. distance: 1.1913589217994498
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 3.6353, Accuracy: 2031/8991 (22.5893%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 4, internal_epoch   1,  Average loss: 0.0217, Accuracy: 368/463 (79.4816%), train_poison_data_count: 463
Global model norm: 13.924647679143671.
Norm before scaling: 13.964235126597462. Distance: 1.1605379138293694
Total norm for 9 adversaries is: 13.964235126597462. distance: 1.1605379138293694
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 14.4710, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 5, internal_epoch   1,  Average loss: 0.0148, Accuracy: 884/1046 (84.5124%), train_poison_data_count: 1046
Global model norm: 13.924647679143671.
Norm before scaling: 13.89048658887734. Distance: 1.3826903380835722
Total norm for 9 adversaries is: 13.89048658887734. distance: 1.3826903380835722
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 3.7286, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 6, internal_epoch   1,  Average loss: 0.0119, Accuracy: 1626/1982 (82.0383%), train_poison_data_count: 1982
Global model norm: 13.924647679143671.
Norm before scaling: 13.931536985498775. Distance: 1.7546745265844559
Total norm for 9 adversaries is: 13.931536985498775. distance: 1.7546745265844559
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 8.9282, Accuracy: 2328/8991 (25.8926%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 7, internal_epoch   1,  Average loss: 0.0465, Accuracy: 38/86 (44.1860%), train_poison_data_count: 86
Global model norm: 13.924647679143671.
Norm before scaling: 13.924215922718952. Distance: 0.13774192643304473
Total norm for 9 adversaries is: 13.924215922718952. distance: 0.13774192643304473
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 2.3322, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 8, internal_epoch   1,  Average loss: 0.0325, Accuracy: 112/171 (65.4971%), train_poison_data_count: 171
Global model norm: 13.924647679143671.
Norm before scaling: 13.934699765116768. Distance: 0.4068371308044133
Total norm for 9 adversaries is: 13.934699765116768. distance: 0.4068371308044133
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 3.8461, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 9, internal_epoch   1,  Average loss: 0.0313, Accuracy: 157/263 (59.6958%), train_poison_data_count: 263
Global model norm: 13.924647679143671.
Norm before scaling: 13.94228400676142. Distance: 0.6348925654322259
Total norm for 9 adversaries is: 13.94228400676142. distance: 0.6348925654322259
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 5.0428, Accuracy: 892/8991 (9.9210%)
time spent on training: 36.82771587371826
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.39876871 0.         1.         0.39876871 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 27: Average loss: 2.3861, Accuracy: 1972/10000 (19.7200%), Attack Success Rate:28/10000(0.280)
___Test Target_Simple poisoned: True, epoch: 27: Average loss: 2.2778, Accuracy: 1971/8991 (21.9219%)
Done in 97.18533301353455 sec.
Server Epoch:28 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  28, local model 0, internal_epoch   1,  Average loss: 0.0203, Accuracy: 263/300 (87.6667%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 6.6087, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:9/10000(0.090)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 1, internal_epoch   1,  Average loss: 0.0465, Accuracy: 15/84 (17.8571%), train_poison_data_count: 84
Global model norm: 13.92596806939905.
Norm before scaling: 13.92551169970543. Distance: 0.09515837926940907
Total norm for 9 adversaries is: 13.92551169970543. distance: 0.09515837926940907
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 2.2885, Accuracy: 3029/8991 (33.6892%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 2, internal_epoch   1,  Average loss: 0.0391, Accuracy: 51/119 (42.8571%), train_poison_data_count: 119
Global model norm: 13.92596806939905.
Norm before scaling: 13.93034363815025. Distance: 0.19945405639359248
Total norm for 9 adversaries is: 13.93034363815025. distance: 0.19945405639359248
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 2.6273, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 3, internal_epoch   1,  Average loss: 0.0257, Accuracy: 546/1010 (54.0594%), train_poison_data_count: 1010
Global model norm: 13.92596806939905.
Norm before scaling: 13.912427854393744. Distance: 1.2013676181495376
Total norm for 9 adversaries is: 13.912427854393744. distance: 1.2013676181495376
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 3.9033, Accuracy: 2585/8991 (28.7510%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 4, internal_epoch   1,  Average loss: 0.0159, Accuracy: 362/463 (78.1857%), train_poison_data_count: 463
Global model norm: 13.92596806939905.
Norm before scaling: 13.971750368139611. Distance: 1.1967819257358228
Total norm for 9 adversaries is: 13.971750368139611. distance: 1.1967819257358228
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 16.8091, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 5, internal_epoch   1,  Average loss: 0.0143, Accuracy: 885/1046 (84.6080%), train_poison_data_count: 1046
Global model norm: 13.92596806939905.
Norm before scaling: 13.891731140926852. Distance: 1.3952616427082247
Total norm for 9 adversaries is: 13.891731140926852. distance: 1.3952616427082247
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 3.5447, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 6, internal_epoch   1,  Average loss: 0.0114, Accuracy: 1616/1982 (81.5338%), train_poison_data_count: 1982
Global model norm: 13.92596806939905.
Norm before scaling: 13.948799240226402. Distance: 1.798818118122444
Total norm for 9 adversaries is: 13.948799240226402. distance: 1.798818118122444
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 13.1683, Accuracy: 2284/8991 (25.4032%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 7, internal_epoch   1,  Average loss: 0.0457, Accuracy: 44/86 (51.1628%), train_poison_data_count: 86
Global model norm: 13.92596806939905.
Norm before scaling: 13.925673320935195. Distance: 0.13951455213929095
Total norm for 9 adversaries is: 13.925673320935195. distance: 0.13951455213929095
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 2.3491, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 8, internal_epoch   1,  Average loss: 0.0302, Accuracy: 119/171 (69.5906%), train_poison_data_count: 171
Global model norm: 13.92596806939905.
Norm before scaling: 13.936618657321775. Distance: 0.4049283868264963
Total norm for 9 adversaries is: 13.936618657321775. distance: 0.4049283868264963
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 3.9963, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 9, internal_epoch   1,  Average loss: 0.0310, Accuracy: 156/263 (59.3156%), train_poison_data_count: 263
Global model norm: 13.92596806939905.
Norm before scaling: 13.943926642447634. Distance: 0.6449090255113424
Total norm for 9 adversaries is: 13.943926642447634. distance: 0.6449090255113424
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 5.0314, Accuracy: 905/8991 (10.0656%)
time spent on training: 37.10191059112549
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.55784591 0.         1.         0.55784591 0.         0.
 0.65970929 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 28: Average loss: 2.3969, Accuracy: 2053/10000 (20.5300%), Attack Success Rate:27/10000(0.270)
___Test Target_Simple poisoned: True, epoch: 28: Average loss: 2.2839, Accuracy: 2053/8991 (22.8339%)
Done in 97.82089138031006 sec.
Server Epoch:29 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  29, local model 0, internal_epoch   1,  Average loss: 0.0188, Accuracy: 265/300 (88.3333%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 7.0362, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:9/10000(0.090)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 1, internal_epoch   1,  Average loss: 0.0466, Accuracy: 16/84 (19.0476%), train_poison_data_count: 84
Global model norm: 13.927125636369155.
Norm before scaling: 13.926659443733042. Distance: 0.09869841952518736
Total norm for 9 adversaries is: 13.926659443733042. distance: 0.09869841952518736
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 2.2932, Accuracy: 2932/8991 (32.6104%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 2, internal_epoch   1,  Average loss: 0.0398, Accuracy: 56/119 (47.0588%), train_poison_data_count: 119
Global model norm: 13.927125636369155.
Norm before scaling: 13.931415410041739. Distance: 0.1980758401278997
Total norm for 9 adversaries is: 13.931415410041739. distance: 0.1980758401278997
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 2.6589, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 3, internal_epoch   1,  Average loss: 0.0241, Accuracy: 571/1010 (56.5347%), train_poison_data_count: 1010
Global model norm: 13.927125636369155.
Norm before scaling: 13.924395092301978. Distance: 1.204939031997594
Total norm for 9 adversaries is: 13.924395092301978. distance: 1.204939031997594
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 4.5594, Accuracy: 1976/8991 (21.9775%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 4, internal_epoch   1,  Average loss: 0.0173, Accuracy: 366/463 (79.0497%), train_poison_data_count: 463
Global model norm: 13.927125636369155.
Norm before scaling: 13.970984226909524. Distance: 1.2009097425800195
Total norm for 9 adversaries is: 13.970984226909524. distance: 1.2009097425800195
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 16.1043, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 5, internal_epoch   1,  Average loss: 0.0143, Accuracy: 881/1046 (84.2256%), train_poison_data_count: 1046
Global model norm: 13.927125636369155.
Norm before scaling: 13.89339403116021. Distance: 1.4125521270450758
Total norm for 9 adversaries is: 13.89339403116021. distance: 1.4125521270450758
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 3.6397, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 6, internal_epoch   1,  Average loss: 0.0123, Accuracy: 1557/1982 (78.5570%), train_poison_data_count: 1982
Global model norm: 13.927125636369155.
Norm before scaling: 13.922629048041717. Distance: 1.748910496663207
Total norm for 9 adversaries is: 13.922629048041717. distance: 1.748910496663207
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 5.3901, Accuracy: 2607/8991 (28.9957%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 7, internal_epoch   1,  Average loss: 0.0458, Accuracy: 41/86 (47.6744%), train_poison_data_count: 86
Global model norm: 13.927125636369155.
Norm before scaling: 13.926798590995011. Distance: 0.14402252310785146
Total norm for 9 adversaries is: 13.926798590995011. distance: 0.14402252310785146
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 2.3643, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 8, internal_epoch   1,  Average loss: 0.0285, Accuracy: 121/171 (70.7602%), train_poison_data_count: 171
Global model norm: 13.927125636369155.
Norm before scaling: 13.93849021233699. Distance: 0.41611432977565327
Total norm for 9 adversaries is: 13.93849021233699. distance: 0.41611432977565327
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 4.2046, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 9, internal_epoch   1,  Average loss: 0.0307, Accuracy: 149/263 (56.6540%), train_poison_data_count: 263
Global model norm: 13.927125636369155.
Norm before scaling: 13.94520636339162. Distance: 0.656937511529379
Total norm for 9 adversaries is: 13.94520636339162. distance: 0.656937511529379
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 5.1355, Accuracy: 892/8991 (9.9210%)
time spent on training: 37.29762601852417
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.30074765 0.         1.         0.30074765 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 29: Average loss: 2.4026, Accuracy: 2417/10000 (24.1700%), Attack Success Rate:16/10000(0.160)
___Test Target_Simple poisoned: True, epoch: 29: Average loss: 2.2864, Accuracy: 2417/8991 (26.8824%)
Done in 97.90930438041687 sec.
Server Epoch:30 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  30, local model 0, internal_epoch   1,  Average loss: 0.0195, Accuracy: 266/300 (88.6667%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 7.0001, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:12/10000(0.120)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 1, internal_epoch   1,  Average loss: 0.0464, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.928301731055662.
Norm before scaling: 13.92779832867276. Distance: 0.09935429580803001
Total norm for 9 adversaries is: 13.92779832867276. distance: 0.09935429580803001
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 2.2950, Accuracy: 2785/8991 (30.9754%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 2, internal_epoch   1,  Average loss: 0.0388, Accuracy: 67/119 (56.3025%), train_poison_data_count: 119
Global model norm: 13.928301731055662.
Norm before scaling: 13.932884649569274. Distance: 0.19569122788439997
Total norm for 9 adversaries is: 13.932884649569274. distance: 0.19569122788439997
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 2.6787, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 3, internal_epoch   1,  Average loss: 0.0243, Accuracy: 574/1010 (56.8317%), train_poison_data_count: 1010
Global model norm: 13.928301731055662.
Norm before scaling: 13.921632227295415. Distance: 1.2297560307990199
Total norm for 9 adversaries is: 13.921632227295415. distance: 1.2297560307990199
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 4.0549, Accuracy: 2036/8991 (22.6449%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 4, internal_epoch   1,  Average loss: 0.0180, Accuracy: 360/463 (77.7538%), train_poison_data_count: 463
Global model norm: 13.928301731055662.
Norm before scaling: 13.97177821710077. Distance: 1.2058908945900335
Total norm for 9 adversaries is: 13.97177821710077. distance: 1.2058908945900335
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 15.8751, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 5, internal_epoch   1,  Average loss: 0.0132, Accuracy: 884/1046 (84.5124%), train_poison_data_count: 1046
Global model norm: 13.928301731055662.
Norm before scaling: 13.903318906337729. Distance: 1.398284775902888
Total norm for 9 adversaries is: 13.903318906337729. distance: 1.398284775902888
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 5.4720, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 6, internal_epoch   1,  Average loss: 0.0118, Accuracy: 1654/1982 (83.4511%), train_poison_data_count: 1982
Global model norm: 13.928301731055662.
Norm before scaling: 13.908908958400941. Distance: 1.6568538356768956
Total norm for 9 adversaries is: 13.908908958400941. distance: 1.6568538356768956
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 6.4487, Accuracy: 2134/8991 (23.7348%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 7, internal_epoch   1,  Average loss: 0.0447, Accuracy: 48/86 (55.8140%), train_poison_data_count: 86
Global model norm: 13.928301731055662.
Norm before scaling: 13.928105630876145. Distance: 0.14431066691893538
Total norm for 9 adversaries is: 13.928105630876145. distance: 0.14431066691893538
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 2.3789, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 8, internal_epoch   1,  Average loss: 0.0264, Accuracy: 130/171 (76.0234%), train_poison_data_count: 171
Global model norm: 13.928301731055662.
Norm before scaling: 13.9403264896027. Distance: 0.41569945808546926
Total norm for 9 adversaries is: 13.9403264896027. distance: 0.41569945808546926
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 4.3807, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 9, internal_epoch   1,  Average loss: 0.0306, Accuracy: 154/263 (58.5551%), train_poison_data_count: 263
Global model norm: 13.928301731055662.
Norm before scaling: 13.946570759061167. Distance: 0.6602184785484918
Total norm for 9 adversaries is: 13.946570759061167. distance: 0.6602184785484918
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 5.1735, Accuracy: 910/8991 (10.1212%)
time spent on training: 37.39712357521057
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 30: Average loss: 2.4159, Accuracy: 2380/10000 (23.8000%), Attack Success Rate:21/10000(0.210)
___Test Target_Simple poisoned: True, epoch: 30: Average loss: 2.2933, Accuracy: 2380/8991 (26.4709%)
Done in 97.7211365699768 sec.
Server Epoch:31 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  31, local model 0, internal_epoch   1,  Average loss: 0.0177, Accuracy: 263/300 (87.6667%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 7.1419, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:7/10000(0.070)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 1, internal_epoch   1,  Average loss: 0.0464, Accuracy: 18/84 (21.4286%), train_poison_data_count: 84
Global model norm: 13.930319540133828.
Norm before scaling: 13.929664496265358. Distance: 0.1033827405586416
Total norm for 9 adversaries is: 13.929664496265358. distance: 0.1033827405586416
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 2.2957, Accuracy: 2739/8991 (30.4638%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 2, internal_epoch   1,  Average loss: 0.0367, Accuracy: 69/119 (57.9832%), train_poison_data_count: 119
Global model norm: 13.930319540133828.
Norm before scaling: 13.935320628200206. Distance: 0.19989555992166078
Total norm for 9 adversaries is: 13.935320628200206. distance: 0.19989555992166078
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 2.7496, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 3, internal_epoch   1,  Average loss: 0.0235, Accuracy: 594/1010 (58.8119%), train_poison_data_count: 1010
Global model norm: 13.930319540133828.
Norm before scaling: 13.927902406827151. Distance: 1.2139023448121675
Total norm for 9 adversaries is: 13.927902406827151. distance: 1.2139023448121675
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 4.1892, Accuracy: 2117/8991 (23.5458%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 4, internal_epoch   1,  Average loss: 0.0149, Accuracy: 360/463 (77.7538%), train_poison_data_count: 463
Global model norm: 13.930319540133828.
Norm before scaling: 13.977700593860263. Distance: 1.2462496286313223
Total norm for 9 adversaries is: 13.977700593860263. distance: 1.2462496286313223
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 17.2833, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 5, internal_epoch   1,  Average loss: 0.0145, Accuracy: 876/1046 (83.7476%), train_poison_data_count: 1046
Global model norm: 13.930319540133828.
Norm before scaling: 13.906801362840696. Distance: 1.4885952835980032
Total norm for 9 adversaries is: 13.906801362840696. distance: 1.4885952835980032
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 4.7919, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 6, internal_epoch   1,  Average loss: 0.0111, Accuracy: 1665/1982 (84.0061%), train_poison_data_count: 1982
Global model norm: 13.930319540133828.
Norm before scaling: 13.943400275932797. Distance: 1.7668713921859929
Total norm for 9 adversaries is: 13.943400275932797. distance: 1.7668713921859929
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 10.0573, Accuracy: 2611/8991 (29.0402%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 7, internal_epoch   1,  Average loss: 0.0454, Accuracy: 49/86 (56.9767%), train_poison_data_count: 86
Global model norm: 13.930319540133828.
Norm before scaling: 13.93020890779617. Distance: 0.14927306410042568
Total norm for 9 adversaries is: 13.93020890779617. distance: 0.14927306410042568
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 2.4024, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 8, internal_epoch   1,  Average loss: 0.0293, Accuracy: 131/171 (76.6082%), train_poison_data_count: 171
Global model norm: 13.930319540133828.
Norm before scaling: 13.940923022411281. Distance: 0.4077742847353797
Total norm for 9 adversaries is: 13.940923022411281. distance: 0.4077742847353797
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 4.2437, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 9, internal_epoch   1,  Average loss: 0.0304, Accuracy: 155/263 (58.9354%), train_poison_data_count: 263
Global model norm: 13.930319540133828.
Norm before scaling: 13.947720052156205. Distance: 0.6692608388508262
Total norm for 9 adversaries is: 13.947720052156205. distance: 0.6692608388508262
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 5.1220, Accuracy: 1377/8991 (15.3153%)
time spent on training: 37.66570591926575
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.68858391 0.         1.         0.68858391 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 31: Average loss: 2.4299, Accuracy: 2499/10000 (24.9900%), Attack Success Rate:20/10000(0.200)
___Test Target_Simple poisoned: True, epoch: 31: Average loss: 2.3013, Accuracy: 2499/8991 (27.7945%)
Done in 98.14305186271667 sec.
Server Epoch:32 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  32, local model 0, internal_epoch   1,  Average loss: 0.0178, Accuracy: 266/300 (88.6667%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 6.9570, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:15/10000(0.150)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 1, internal_epoch   1,  Average loss: 0.0461, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.93220234589748.
Norm before scaling: 13.931428005746463. Distance: 0.10705446353530645
Total norm for 9 adversaries is: 13.931428005746463. distance: 0.10705446353530645
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 2.2988, Accuracy: 2739/8991 (30.4638%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 2, internal_epoch   1,  Average loss: 0.0357, Accuracy: 75/119 (63.0252%), train_poison_data_count: 119
Global model norm: 13.93220234589748.
Norm before scaling: 13.937266805434248. Distance: 0.19873019694091804
Total norm for 9 adversaries is: 13.937266805434248. distance: 0.19873019694091804
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 2.7884, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 3, internal_epoch   1,  Average loss: 0.0248, Accuracy: 564/1010 (55.8416%), train_poison_data_count: 1010
Global model norm: 13.93220234589748.
Norm before scaling: 13.92155550366415. Distance: 1.2593629651878973
Total norm for 9 adversaries is: 13.92155550366415. distance: 1.2593629651878973
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 3.1698, Accuracy: 2039/8991 (22.6782%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 4, internal_epoch   1,  Average loss: 0.0135, Accuracy: 359/463 (77.5378%), train_poison_data_count: 463
Global model norm: 13.93220234589748.
Norm before scaling: 13.982831509618043. Distance: 1.2656256122352156
Total norm for 9 adversaries is: 13.982831509618043. distance: 1.2656256122352156
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 18.9991, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 5, internal_epoch   1,  Average loss: 0.0137, Accuracy: 885/1046 (84.6080%), train_poison_data_count: 1046
Global model norm: 13.93220234589748.
Norm before scaling: 13.91179116252143. Distance: 1.5045156061815292
Total norm for 9 adversaries is: 13.91179116252143. distance: 1.5045156061815292
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 5.5917, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 6, internal_epoch   1,  Average loss: 0.0121, Accuracy: 1567/1982 (79.0616%), train_poison_data_count: 1982
Global model norm: 13.93220234589748.
Norm before scaling: 13.927991146534007. Distance: 1.752514871379101
Total norm for 9 adversaries is: 13.927991146534007. distance: 1.752514871379101
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 5.0733, Accuracy: 2497/8991 (27.7722%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 7, internal_epoch   1,  Average loss: 0.0439, Accuracy: 52/86 (60.4651%), train_poison_data_count: 86
Global model norm: 13.93220234589748.
Norm before scaling: 13.931917586488902. Distance: 0.1516432122015228
Total norm for 9 adversaries is: 13.931917586488902. distance: 0.1516432122015228
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 2.4189, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 8, internal_epoch   1,  Average loss: 0.0260, Accuracy: 127/171 (74.2690%), train_poison_data_count: 171
Global model norm: 13.93220234589748.
Norm before scaling: 13.943497124485912. Distance: 0.4104971241228793
Total norm for 9 adversaries is: 13.943497124485912. distance: 0.4104971241228793
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 4.4792, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 9, internal_epoch   1,  Average loss: 0.0301, Accuracy: 157/263 (59.6958%), train_poison_data_count: 263
Global model norm: 13.93220234589748.
Norm before scaling: 13.949429867486689. Distance: 0.6782067491328857
Total norm for 9 adversaries is: 13.949429867486689. distance: 0.6782067491328857
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 5.2073, Accuracy: 978/8991 (10.8775%)
time spent on training: 37.23431205749512
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.77043273 0.         1.         0.77043273 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 32: Average loss: 2.4417, Accuracy: 2525/10000 (25.2500%), Attack Success Rate:20/10000(0.200)
___Test Target_Simple poisoned: True, epoch: 32: Average loss: 2.3076, Accuracy: 2525/8991 (28.0836%)
Done in 97.21163058280945 sec.
Server Epoch:33 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  33, local model 0, internal_epoch   1,  Average loss: 0.0172, Accuracy: 264/300 (88.0000%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 6.9821, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:14/10000(0.140)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 1, internal_epoch   1,  Average loss: 0.0462, Accuracy: 18/84 (21.4286%), train_poison_data_count: 84
Global model norm: 13.934043284555255.
Norm before scaling: 13.933197315288325. Distance: 0.110467398451775
Total norm for 9 adversaries is: 13.933197315288325. distance: 0.110467398451775
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 2.3003, Accuracy: 2739/8991 (30.4638%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 2, internal_epoch   1,  Average loss: 0.0360, Accuracy: 76/119 (63.8655%), train_poison_data_count: 119
Global model norm: 13.934043284555255.
Norm before scaling: 13.939050152023452. Distance: 0.19662854269295604
Total norm for 9 adversaries is: 13.939050152023452. distance: 0.19662854269295604
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 2.8137, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 3, internal_epoch   1,  Average loss: 0.0233, Accuracy: 600/1010 (59.4059%), train_poison_data_count: 1010
Global model norm: 13.934043284555255.
Norm before scaling: 13.933997291429984. Distance: 1.2383739063723638
Total norm for 9 adversaries is: 13.933997291429984. distance: 1.2383739063723638
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 3.8362, Accuracy: 2040/8991 (22.6894%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 4, internal_epoch   1,  Average loss: 0.0147, Accuracy: 356/463 (76.8898%), train_poison_data_count: 463
Global model norm: 13.934043284555255.
Norm before scaling: 13.978388317893458. Distance: 1.2483983268846364
Total norm for 9 adversaries is: 13.978388317893458. distance: 1.2483983268846364
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 16.6302, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 5, internal_epoch   1,  Average loss: 0.0154, Accuracy: 875/1046 (83.6520%), train_poison_data_count: 1046
Global model norm: 13.934043284555255.
Norm before scaling: 13.92720835517152. Distance: 1.617296592976477
Total norm for 9 adversaries is: 13.92720835517152. distance: 1.617296592976477
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 7.1592, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 6, internal_epoch   1,  Average loss: 0.0108, Accuracy: 1627/1982 (82.0888%), train_poison_data_count: 1982
Global model norm: 13.934043284555255.
Norm before scaling: 13.928824833950738. Distance: 1.694730878637396
Total norm for 9 adversaries is: 13.928824833950738. distance: 1.694730878637396
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 8.3855, Accuracy: 2491/8991 (27.7055%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 7, internal_epoch   1,  Average loss: 0.0435, Accuracy: 46/86 (53.4884%), train_poison_data_count: 86
Global model norm: 13.934043284555255.
Norm before scaling: 13.933685191212428. Distance: 0.1543830920426775
Total norm for 9 adversaries is: 13.933685191212428. distance: 0.1543830920426775
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 2.4359, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 8, internal_epoch   1,  Average loss: 0.0255, Accuracy: 128/171 (74.8538%), train_poison_data_count: 171
Global model norm: 13.934043284555255.
Norm before scaling: 13.94506411718576. Distance: 0.41261190355971933
Total norm for 9 adversaries is: 13.94506411718576. distance: 0.41261190355971933
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 4.5448, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 9, internal_epoch   1,  Average loss: 0.0305, Accuracy: 130/263 (49.4297%), train_poison_data_count: 263
Global model norm: 13.934043284555255.
Norm before scaling: 13.951239002402204. Distance: 0.6955456075064422
Total norm for 9 adversaries is: 13.951239002402204. distance: 0.6955456075064422
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 5.1428, Accuracy: 1831/8991 (20.3648%)
time spent on training: 36.964231967926025
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 33: Average loss: 2.4568, Accuracy: 2539/10000 (25.3900%), Attack Success Rate:12/10000(0.120)
___Test Target_Simple poisoned: True, epoch: 33: Average loss: 2.3164, Accuracy: 2539/8991 (28.2394%)
Done in 97.8660957813263 sec.
Server Epoch:34 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  34, local model 0, internal_epoch   1,  Average loss: 0.0168, Accuracy: 265/300 (88.3333%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 6.9708, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:10/10000(0.100)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 1, internal_epoch   1,  Average loss: 0.0463, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.936186176865247.
Norm before scaling: 13.935185945965443. Distance: 0.11524520435202756
Total norm for 9 adversaries is: 13.935185945965443. distance: 0.11524520435202756
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 2.3025, Accuracy: 2702/8991 (30.0523%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 2, internal_epoch   1,  Average loss: 0.0352, Accuracy: 71/119 (59.6639%), train_poison_data_count: 119
Global model norm: 13.936186176865247.
Norm before scaling: 13.941129887461148. Distance: 0.1945536654170197
Total norm for 9 adversaries is: 13.941129887461148. distance: 0.1945536654170197
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 2.8524, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 3, internal_epoch   1,  Average loss: 0.0225, Accuracy: 650/1010 (64.3564%), train_poison_data_count: 1010
Global model norm: 13.936186176865247.
Norm before scaling: 13.940839290446982. Distance: 1.2517901476681839
Total norm for 9 adversaries is: 13.940839290446982. distance: 1.2517901476681839
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 4.5769, Accuracy: 2034/8991 (22.6226%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 4, internal_epoch   1,  Average loss: 0.0147, Accuracy: 355/463 (76.6739%), train_poison_data_count: 463
Global model norm: 13.936186176865247.
Norm before scaling: 13.978294985901915. Distance: 1.25250132159013
Total norm for 9 adversaries is: 13.978294985901915. distance: 1.25250132159013
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 16.0383, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 5, internal_epoch   1,  Average loss: 0.0145, Accuracy: 876/1046 (83.7476%), train_poison_data_count: 1046
Global model norm: 13.936186176865247.
Norm before scaling: 13.912060978655468. Distance: 1.5804661673931568
Total norm for 9 adversaries is: 13.912060978655468. distance: 1.5804661673931568
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 3.8882, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 6, internal_epoch   1,  Average loss: 0.0112, Accuracy: 1618/1982 (81.6347%), train_poison_data_count: 1982
Global model norm: 13.936186176865247.
Norm before scaling: 13.9286457213492. Distance: 1.7184865576246362
Total norm for 9 adversaries is: 13.9286457213492. distance: 1.7184865576246362
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 6.2309, Accuracy: 2255/8991 (25.0806%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 7, internal_epoch   1,  Average loss: 0.0430, Accuracy: 49/86 (56.9767%), train_poison_data_count: 86
Global model norm: 13.936186176865247.
Norm before scaling: 13.935688534011952. Distance: 0.15835807417724387
Total norm for 9 adversaries is: 13.935688534011952. distance: 0.15835807417724387
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 2.4555, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 8, internal_epoch   1,  Average loss: 0.0269, Accuracy: 131/171 (76.6082%), train_poison_data_count: 171
Global model norm: 13.936186176865247.
Norm before scaling: 13.946183446192142. Distance: 0.4039063894540926
Total norm for 9 adversaries is: 13.946183446192142. distance: 0.4039063894540926
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 4.4569, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 9, internal_epoch   1,  Average loss: 0.0296, Accuracy: 142/263 (53.9924%), train_poison_data_count: 263
Global model norm: 13.936186176865247.
Norm before scaling: 13.953977962450796. Distance: 0.7078320094234599
Total norm for 9 adversaries is: 13.953977962450796. distance: 0.7078320094234599
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 5.4014, Accuracy: 919/8991 (10.2213%)
time spent on training: 37.110968589782715
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 34: Average loss: 2.4673, Accuracy: 2473/10000 (24.7300%), Attack Success Rate:13/10000(0.130)
___Test Target_Simple poisoned: True, epoch: 34: Average loss: 2.3209, Accuracy: 2473/8991 (27.5053%)
Done in 97.70285367965698 sec.
Server Epoch:35 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  35, local model 0, internal_epoch   1,  Average loss: 0.0151, Accuracy: 262/300 (87.3333%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 7.0218, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:7/10000(0.070)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 1, internal_epoch   1,  Average loss: 0.0463, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.938334213403381.
Norm before scaling: 13.937058240791941. Distance: 0.12239561605096022
Total norm for 9 adversaries is: 13.937058240791941. distance: 0.12239561605096022
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 2.2970, Accuracy: 2909/8991 (32.3546%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 2, internal_epoch   1,  Average loss: 0.0330, Accuracy: 80/119 (67.2269%), train_poison_data_count: 119
Global model norm: 13.938334213403381.
Norm before scaling: 13.943915152330447. Distance: 0.1994874675275273
Total norm for 9 adversaries is: 13.943915152330447. distance: 0.1994874675275273
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 2.9295, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 3, internal_epoch   1,  Average loss: 0.0247, Accuracy: 594/1010 (58.8119%), train_poison_data_count: 1010
Global model norm: 13.938334213403381.
Norm before scaling: 13.930997554773088. Distance: 1.2985664735127296
Total norm for 9 adversaries is: 13.930997554773088. distance: 1.2985664735127296
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 3.2906, Accuracy: 2518/8991 (28.0058%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 4, internal_epoch   1,  Average loss: 0.0145, Accuracy: 353/463 (76.2419%), train_poison_data_count: 463
Global model norm: 13.938334213403381.
Norm before scaling: 13.979462955402985. Distance: 1.2579499163702612
Total norm for 9 adversaries is: 13.979462955402985. distance: 1.2579499163702612
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 15.5170, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 5, internal_epoch   1,  Average loss: 0.0151, Accuracy: 879/1046 (84.0344%), train_poison_data_count: 1046
Global model norm: 13.938334213403381.
Norm before scaling: 13.921433293006888. Distance: 1.62849959093135
Total norm for 9 adversaries is: 13.921433293006888. distance: 1.62849959093135
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 4.7629, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 6, internal_epoch   1,  Average loss: 0.0103, Accuracy: 1646/1982 (83.0474%), train_poison_data_count: 1982
Global model norm: 13.938334213403381.
Norm before scaling: 13.946415944614419. Distance: 1.750252364899294
Total norm for 9 adversaries is: 13.946415944614419. distance: 1.750252364899294
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 9.8474, Accuracy: 2586/8991 (28.7621%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 7, internal_epoch   1,  Average loss: 0.0435, Accuracy: 41/86 (47.6744%), train_poison_data_count: 86
Global model norm: 13.938334213403381.
Norm before scaling: 13.937849784533157. Distance: 0.1613096422871964
Total norm for 9 adversaries is: 13.937849784533157. distance: 0.1613096422871964
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 2.4720, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 8, internal_epoch   1,  Average loss: 0.0260, Accuracy: 124/171 (72.5146%), train_poison_data_count: 171
Global model norm: 13.938334213403381.
Norm before scaling: 13.948391204275136. Distance: 0.40939127110767
Total norm for 9 adversaries is: 13.948391204275136. distance: 0.40939127110767
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 4.5530, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 9, internal_epoch   1,  Average loss: 0.0293, Accuracy: 158/263 (60.0760%), train_poison_data_count: 263
Global model norm: 13.938334213403381.
Norm before scaling: 13.955937938216534. Distance: 0.7140190912654212
Total norm for 9 adversaries is: 13.955937938216534. distance: 0.7140190912654212
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 5.3461, Accuracy: 1721/8991 (19.1414%)
time spent on training: 37.266003131866455
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.48686722 0.         1.         0.48686722 0.         0.
 0.5607699  0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 35: Average loss: 2.4791, Accuracy: 2490/10000 (24.9000%), Attack Success Rate:20/10000(0.200)
___Test Target_Simple poisoned: True, epoch: 35: Average loss: 2.3289, Accuracy: 2490/8991 (27.6944%)
Done in 97.98799395561218 sec.
Server Epoch:36 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  36, local model 0, internal_epoch   1,  Average loss: 0.0156, Accuracy: 272/300 (90.6667%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 7.1683, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:14/10000(0.140)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 1, internal_epoch   1,  Average loss: 0.0462, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.939288790058704.
Norm before scaling: 13.938115264586752. Distance: 0.12242374752854673
Total norm for 9 adversaries is: 13.938115264586752. distance: 0.12242374752854673
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 2.3023, Accuracy: 2733/8991 (30.3971%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 2, internal_epoch   1,  Average loss: 0.0339, Accuracy: 82/119 (68.9076%), train_poison_data_count: 119
Global model norm: 13.939288790058704.
Norm before scaling: 13.944475968432076. Distance: 0.19242281425268523
Total norm for 9 adversaries is: 13.944475968432076. distance: 0.19242281425268523
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 2.9014, Accuracy: 1035/8991 (11.5115%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 3, internal_epoch   1,  Average loss: 0.0233, Accuracy: 576/1010 (57.0297%), train_poison_data_count: 1010
Global model norm: 13.939288790058704.
Norm before scaling: 13.941550722493233. Distance: 1.2925880540113086
Total norm for 9 adversaries is: 13.941550722493233. distance: 1.2925880540113086
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 4.0556, Accuracy: 2609/8991 (29.0179%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 4, internal_epoch   1,  Average loss: 0.0153, Accuracy: 354/463 (76.4579%), train_poison_data_count: 463
Global model norm: 13.939288790058704.
Norm before scaling: 13.982242221266935. Distance: 1.2878756058580525
Total norm for 9 adversaries is: 13.982242221266935. distance: 1.2878756058580525
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 15.7538, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 5, internal_epoch   1,  Average loss: 0.0147, Accuracy: 880/1046 (84.1300%), train_poison_data_count: 1046
Global model norm: 13.939288790058704.
Norm before scaling: 13.928712546503535. Distance: 1.6220181322977514
Total norm for 9 adversaries is: 13.928712546503535. distance: 1.6220181322977514
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 6.4754, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 6, internal_epoch   1,  Average loss: 0.0118, Accuracy: 1545/1982 (77.9516%), train_poison_data_count: 1982
Global model norm: 13.939288790058704.
Norm before scaling: 13.929560431276851. Distance: 1.7598417648796016
Total norm for 9 adversaries is: 13.929560431276851. distance: 1.7598417648796016
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 4.5481, Accuracy: 2556/8991 (28.4284%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 7, internal_epoch   1,  Average loss: 0.0436, Accuracy: 44/86 (51.1628%), train_poison_data_count: 86
Global model norm: 13.939288790058704.
Norm before scaling: 13.938818078089064. Distance: 0.16479801316364218
Total norm for 9 adversaries is: 13.938818078089064. distance: 0.16479801316364218
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 2.4942, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 8, internal_epoch   1,  Average loss: 0.0260, Accuracy: 125/171 (73.0994%), train_poison_data_count: 171
Global model norm: 13.939288790058704.
Norm before scaling: 13.949324309142742. Distance: 0.4146264033093998
Total norm for 9 adversaries is: 13.949324309142742. distance: 0.4146264033093998
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 4.6719, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 9, internal_epoch   1,  Average loss: 0.0310, Accuracy: 137/263 (52.0913%), train_poison_data_count: 263
Global model norm: 13.939288790058704.
Norm before scaling: 13.95548473537264. Distance: 0.7225230326165651
Total norm for 9 adversaries is: 13.95548473537264. distance: 0.7225230326165651
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 5.2254, Accuracy: 1677/8991 (18.6520%)
time spent on training: 37.14684844017029
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 36: Average loss: 2.4884, Accuracy: 2526/10000 (25.2600%), Attack Success Rate:18/10000(0.180)
___Test Target_Simple poisoned: True, epoch: 36: Average loss: 2.3328, Accuracy: 2526/8991 (28.0948%)
Done in 98.2140462398529 sec.
Server Epoch:37 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  37, local model 0, internal_epoch   1,  Average loss: 0.0172, Accuracy: 265/300 (88.3333%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 6.3367, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:8/10000(0.080)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 1, internal_epoch   1,  Average loss: 0.0462, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.941382171105571.
Norm before scaling: 13.940088963929378. Distance: 0.1266637511908627
Total norm for 9 adversaries is: 13.940088963929378. distance: 0.1266637511908627
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 2.2976, Accuracy: 2904/8991 (32.2990%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 2, internal_epoch   1,  Average loss: 0.0327, Accuracy: 75/119 (63.0252%), train_poison_data_count: 119
Global model norm: 13.941382171105571.
Norm before scaling: 13.946851937088818. Distance: 0.19683446126188595
Total norm for 9 adversaries is: 13.946851937088818. distance: 0.19683446126188595
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 2.9844, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 3, internal_epoch   1,  Average loss: 0.0222, Accuracy: 638/1010 (63.1683%), train_poison_data_count: 1010
Global model norm: 13.941382171105571.
Norm before scaling: 13.94590061347414. Distance: 1.2712723281234837
Total norm for 9 adversaries is: 13.94590061347414. distance: 1.2712723281234837
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 4.2827, Accuracy: 2111/8991 (23.4790%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 4, internal_epoch   1,  Average loss: 0.0136, Accuracy: 355/463 (76.6739%), train_poison_data_count: 463
Global model norm: 13.941382171105571.
Norm before scaling: 13.984130038881073. Distance: 1.2813454569171259
Total norm for 9 adversaries is: 13.984130038881073. distance: 1.2813454569171259
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 16.1598, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 5, internal_epoch   1,  Average loss: 0.0140, Accuracy: 885/1046 (84.6080%), train_poison_data_count: 1046
Global model norm: 13.941382171105571.
Norm before scaling: 13.931012341477501. Distance: 1.6564433866637416
Total norm for 9 adversaries is: 13.931012341477501. distance: 1.6564433866637416
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 6.0388, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 6, internal_epoch   1,  Average loss: 0.0105, Accuracy: 1652/1982 (83.3502%), train_poison_data_count: 1982
Global model norm: 13.941382171105571.
Norm before scaling: 13.94453888785577. Distance: 1.7484977268622013
Total norm for 9 adversaries is: 13.94453888785577. distance: 1.7484977268622013
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 8.8784, Accuracy: 2264/8991 (25.1807%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 7, internal_epoch   1,  Average loss: 0.0424, Accuracy: 49/86 (56.9767%), train_poison_data_count: 86
Global model norm: 13.941382171105571.
Norm before scaling: 13.940621475530545. Distance: 0.16438726229854614
Total norm for 9 adversaries is: 13.940621475530545. distance: 0.16438726229854614
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 2.4921, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 8, internal_epoch   1,  Average loss: 0.0238, Accuracy: 131/171 (76.6082%), train_poison_data_count: 171
Global model norm: 13.941382171105571.
Norm before scaling: 13.952062004581528. Distance: 0.4168873818258754
Total norm for 9 adversaries is: 13.952062004581528. distance: 0.4168873818258754
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 4.8355, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 9, internal_epoch   1,  Average loss: 0.0289, Accuracy: 152/263 (57.7947%), train_poison_data_count: 263
Global model norm: 13.941382171105571.
Norm before scaling: 13.958817537174587. Distance: 0.735744092922108
Total norm for 9 adversaries is: 13.958817537174587. distance: 0.735744092922108
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 5.5228, Accuracy: 1140/8991 (12.6793%)
time spent on training: 37.14327096939087
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.90283124 0.         1.         0.90283124 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 37: Average loss: 2.4975, Accuracy: 2522/10000 (25.2200%), Attack Success Rate:19/10000(0.190)
___Test Target_Simple poisoned: True, epoch: 37: Average loss: 2.3368, Accuracy: 2522/8991 (28.0503%)
Done in 98.2627055644989 sec.
Server Epoch:38 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  38, local model 0, internal_epoch   1,  Average loss: 0.0142, Accuracy: 266/300 (88.6667%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 6.7120, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:11/10000(0.110)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 1, internal_epoch   1,  Average loss: 0.0461, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.943317106016965.
Norm before scaling: 13.941891649752465. Distance: 0.13069397166340377
Total norm for 9 adversaries is: 13.941891649752465. distance: 0.13069397166340377
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 2.2952, Accuracy: 2992/8991 (33.2777%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 2, internal_epoch   1,  Average loss: 0.0324, Accuracy: 71/119 (59.6639%), train_poison_data_count: 119
Global model norm: 13.943317106016965.
Norm before scaling: 13.948766969721229. Distance: 0.1946443860702036
Total norm for 9 adversaries is: 13.948766969721229. distance: 0.1946443860702036
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 2.9943, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 3, internal_epoch   1,  Average loss: 0.0221, Accuracy: 652/1010 (64.5545%), train_poison_data_count: 1010
Global model norm: 13.943317106016965.
Norm before scaling: 13.952686469522522. Distance: 1.2880654843133064
Total norm for 9 adversaries is: 13.952686469522522. distance: 1.2880654843133064
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 4.2839, Accuracy: 2539/8991 (28.2394%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 4, internal_epoch   1,  Average loss: 0.0170, Accuracy: 354/463 (76.4579%), train_poison_data_count: 463
Global model norm: 13.943317106016965.
Norm before scaling: 13.980975712902358. Distance: 1.2823812561388253
Total norm for 9 adversaries is: 13.980975712902358. distance: 1.2823812561388253
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 13.9278, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 5, internal_epoch   1,  Average loss: 0.0133, Accuracy: 880/1046 (84.1300%), train_poison_data_count: 1046
Global model norm: 13.943317106016965.
Norm before scaling: 13.923293190252037. Distance: 1.6140132102567504
Total norm for 9 adversaries is: 13.923293190252037. distance: 1.6140132102567504
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 4.4995, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 6, internal_epoch   1,  Average loss: 0.0103, Accuracy: 1633/1982 (82.3915%), train_poison_data_count: 1982
Global model norm: 13.943317106016965.
Norm before scaling: 13.946033551036676. Distance: 1.7688357436893558
Total norm for 9 adversaries is: 13.946033551036676. distance: 1.7688357436893558
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 7.2876, Accuracy: 2682/8991 (29.8298%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 7, internal_epoch   1,  Average loss: 0.0434, Accuracy: 44/86 (51.1628%), train_poison_data_count: 86
Global model norm: 13.943317106016965.
Norm before scaling: 13.942742563442447. Distance: 0.1714171955800632
Total norm for 9 adversaries is: 13.942742563442447. distance: 0.1714171955800632
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 2.5293, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 8, internal_epoch   1,  Average loss: 0.0218, Accuracy: 125/171 (73.0994%), train_poison_data_count: 171
Global model norm: 13.943317106016965.
Norm before scaling: 13.953818309343012. Distance: 0.4196203169233255
Total norm for 9 adversaries is: 13.953818309343012. distance: 0.4196203169233255
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 4.9264, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 9, internal_epoch   1,  Average loss: 0.0292, Accuracy: 146/263 (55.5133%), train_poison_data_count: 263
Global model norm: 13.943317106016965.
Norm before scaling: 13.961126034855956. Distance: 0.7540102081569067
Total norm for 9 adversaries is: 13.961126034855956. distance: 0.7540102081569067
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 5.5208, Accuracy: 1634/8991 (18.1737%)
time spent on training: 37.34663391113281
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 38: Average loss: 2.5084, Accuracy: 2540/10000 (25.4000%), Attack Success Rate:8/10000(0.080)
___Test Target_Simple poisoned: True, epoch: 38: Average loss: 2.3414, Accuracy: 2540/8991 (28.2505%)
Done in 98.00508546829224 sec.
Server Epoch:39 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  39, local model 0, internal_epoch   1,  Average loss: 0.0147, Accuracy: 269/300 (89.6667%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 6.6237, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:9/10000(0.090)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 1, internal_epoch   1,  Average loss: 0.0463, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.945589326734165.
Norm before scaling: 13.944212798026307. Distance: 0.13294415399983991
Total norm for 9 adversaries is: 13.944212798026307. distance: 0.13294415399983991
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 2.2939, Accuracy: 2956/8991 (32.8773%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 2, internal_epoch   1,  Average loss: 0.0311, Accuracy: 82/119 (68.9076%), train_poison_data_count: 119
Global model norm: 13.945589326734165.
Norm before scaling: 13.951265798586611. Distance: 0.1961395586316499
Total norm for 9 adversaries is: 13.951265798586611. distance: 0.1961395586316499
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 3.0565, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 3, internal_epoch   1,  Average loss: 0.0218, Accuracy: 641/1010 (63.4653%), train_poison_data_count: 1010
Global model norm: 13.945589326734165.
Norm before scaling: 13.949147647536513. Distance: 1.2678597582630835
Total norm for 9 adversaries is: 13.949147647536513. distance: 1.2678597582630835
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 3.8107, Accuracy: 2500/8991 (27.8056%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 4, internal_epoch   1,  Average loss: 0.0146, Accuracy: 358/463 (77.3218%), train_poison_data_count: 463
Global model norm: 13.945589326734165.
Norm before scaling: 13.990669956267116. Distance: 1.327534847412781
Total norm for 9 adversaries is: 13.990669956267116. distance: 1.327534847412781
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 16.5127, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 5, internal_epoch   1,  Average loss: 0.0134, Accuracy: 877/1046 (83.8432%), train_poison_data_count: 1046
Global model norm: 13.945589326734165.
Norm before scaling: 13.934628588569097. Distance: 1.667133273929413
Total norm for 9 adversaries is: 13.934628588569097. distance: 1.667133273929413
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 5.8671, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 6, internal_epoch   1,  Average loss: 0.0106, Accuracy: 1622/1982 (81.8365%), train_poison_data_count: 1982
Global model norm: 13.945589326734165.
Norm before scaling: 13.943958924154776. Distance: 1.7548695660888833
Total norm for 9 adversaries is: 13.943958924154776. distance: 1.7548695660888833
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 6.1184, Accuracy: 2039/8991 (22.6782%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 7, internal_epoch   1,  Average loss: 0.0429, Accuracy: 48/86 (55.8140%), train_poison_data_count: 86
Global model norm: 13.945589326734165.
Norm before scaling: 13.944899985145218. Distance: 0.1743084667972938
Total norm for 9 adversaries is: 13.944899985145218. distance: 0.1743084667972938
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 2.5434, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 8, internal_epoch   1,  Average loss: 0.0252, Accuracy: 128/171 (74.8538%), train_poison_data_count: 171
Global model norm: 13.945589326734165.
Norm before scaling: 13.955109697523767. Distance: 0.4123492695221086
Total norm for 9 adversaries is: 13.955109697523767. distance: 0.4123492695221086
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 4.7585, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 9, internal_epoch   1,  Average loss: 0.0283, Accuracy: 152/263 (57.7947%), train_poison_data_count: 263
Global model norm: 13.945589326734165.
Norm before scaling: 13.963297554262288. Distance: 0.7577097714983598
Total norm for 9 adversaries is: 13.963297554262288. distance: 0.7577097714983598
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 5.6020, Accuracy: 1500/8991 (16.6834%)
time spent on training: 37.062880754470825
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.97534962 0.         1.         0.97534962 0.         0.
 0.94425926 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 39: Average loss: 2.5130, Accuracy: 2482/10000 (24.8200%), Attack Success Rate:11/10000(0.110)
___Test Target_Simple poisoned: True, epoch: 39: Average loss: 2.3421, Accuracy: 2482/8991 (27.6054%)
Done in 103.24239873886108 sec.
Server Epoch:40 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  40, local model 0, internal_epoch   1,  Average loss: 0.0151, Accuracy: 265/300 (88.3333%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 6.3325, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:14/10000(0.140)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 1, internal_epoch   1,  Average loss: 0.0461, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.9474514728638.
Norm before scaling: 13.945978844374258. Distance: 0.1355268430611256
Total norm for 9 adversaries is: 13.945978844374258. distance: 0.1355268430611256
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 2.2870, Accuracy: 3018/8991 (33.5669%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 2, internal_epoch   1,  Average loss: 0.0308, Accuracy: 71/119 (59.6639%), train_poison_data_count: 119
Global model norm: 13.9474514728638.
Norm before scaling: 13.953024390734702. Distance: 0.19197174149668952
Total norm for 9 adversaries is: 13.953024390734702. distance: 0.19197174149668952
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 3.0341, Accuracy: 1034/8991 (11.5004%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 3, internal_epoch   1,  Average loss: 0.0210, Accuracy: 673/1010 (66.6337%), train_poison_data_count: 1010
Global model norm: 13.9474514728638.
Norm before scaling: 13.958809885269085. Distance: 1.284116701387252
Total norm for 9 adversaries is: 13.958809885269085. distance: 1.284116701387252
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 4.8248, Accuracy: 2042/8991 (22.7116%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 4, internal_epoch   1,  Average loss: 0.0204, Accuracy: 354/463 (76.4579%), train_poison_data_count: 463
Global model norm: 13.9474514728638.
Norm before scaling: 13.983876889697326. Distance: 1.3047399910058493
Total norm for 9 adversaries is: 13.983876889697326. distance: 1.3047399910058493
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 13.2604, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 5, internal_epoch   1,  Average loss: 0.0141, Accuracy: 878/1046 (83.9388%), train_poison_data_count: 1046
Global model norm: 13.9474514728638.
Norm before scaling: 13.941854985423221. Distance: 1.7141861404155967
Total norm for 9 adversaries is: 13.941854985423221. distance: 1.7141861404155967
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 6.6191, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 6, internal_epoch   1,  Average loss: 0.0094, Accuracy: 1669/1982 (84.2079%), train_poison_data_count: 1982
Global model norm: 13.9474514728638.
Norm before scaling: 13.951802258306373. Distance: 1.7485327700652176
Total norm for 9 adversaries is: 13.951802258306373. distance: 1.7485327700652176
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 9.8755, Accuracy: 2709/8991 (30.1301%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 7, internal_epoch   1,  Average loss: 0.0425, Accuracy: 37/86 (43.0233%), train_poison_data_count: 86
Global model norm: 13.9474514728638.
Norm before scaling: 13.94645587924749. Distance: 0.17634757261309117
Total norm for 9 adversaries is: 13.94645587924749. distance: 0.17634757261309117
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 2.5356, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 8, internal_epoch   1,  Average loss: 0.0261, Accuracy: 125/171 (73.0994%), train_poison_data_count: 171
Global model norm: 13.9474514728638.
Norm before scaling: 13.95595160514245. Distance: 0.4072305692846104
Total norm for 9 adversaries is: 13.95595160514245. distance: 0.4072305692846104
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 4.6339, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 9, internal_epoch   1,  Average loss: 0.0280, Accuracy: 154/263 (58.5551%), train_poison_data_count: 263
Global model norm: 13.9474514728638.
Norm before scaling: 13.965835301336705. Distance: 0.7696943933113981
Total norm for 9 adversaries is: 13.965835301336705. distance: 0.7696943933113981
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 5.7890, Accuracy: 931/8991 (10.3548%)
time spent on training: 41.91538143157959
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.97853747 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 40: Average loss: 2.5228, Accuracy: 2494/10000 (24.9400%), Attack Success Rate:5/10000(0.050)
___Test Target_Simple poisoned: True, epoch: 40: Average loss: 2.3455, Accuracy: 2494/8991 (27.7388%)
Done in 103.10708928108215 sec.
Server Epoch:41 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  41, local model 0, internal_epoch   1,  Average loss: 0.0143, Accuracy: 270/300 (90.0000%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 6.4078, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:11/10000(0.110)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 1, internal_epoch   1,  Average loss: 0.0459, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.949669968724283.
Norm before scaling: 13.94822164158896. Distance: 0.13799465054055296
Total norm for 9 adversaries is: 13.94822164158896. distance: 0.13799465054055296
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 2.2865, Accuracy: 3117/8991 (34.6680%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 2, internal_epoch   1,  Average loss: 0.0294, Accuracy: 83/119 (69.7479%), train_poison_data_count: 119
Global model norm: 13.949669968724283.
Norm before scaling: 13.955433892639668. Distance: 0.1914318515238197
Total norm for 9 adversaries is: 13.955433892639668. distance: 0.1914318515238197
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 3.1070, Accuracy: 1032/8991 (11.4781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 3, internal_epoch   1,  Average loss: 0.0199, Accuracy: 682/1010 (67.5248%), train_poison_data_count: 1010
Global model norm: 13.949669968724283.
Norm before scaling: 13.962965892098508. Distance: 1.2629325862087986
Total norm for 9 adversaries is: 13.962965892098508. distance: 1.2629325862087986
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 4.1485, Accuracy: 2722/8991 (30.2747%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 4, internal_epoch   1,  Average loss: 0.0140, Accuracy: 358/463 (77.3218%), train_poison_data_count: 463
Global model norm: 13.949669968724283.
Norm before scaling: 13.989474563384084. Distance: 1.3179006725156444
Total norm for 9 adversaries is: 13.989474563384084. distance: 1.3179006725156444
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 14.7948, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 5, internal_epoch   1,  Average loss: 0.0133, Accuracy: 879/1046 (84.0344%), train_poison_data_count: 1046
Global model norm: 13.949669968724283.
Norm before scaling: 13.933231264558831. Distance: 1.6680091299131894
Total norm for 9 adversaries is: 13.933231264558831. distance: 1.6680091299131894
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 5.0742, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 6, internal_epoch   1,  Average loss: 0.0105, Accuracy: 1655/1982 (83.5015%), train_poison_data_count: 1982
Global model norm: 13.949669968724283.
Norm before scaling: 13.959496353814075. Distance: 1.8258994485760778
Total norm for 9 adversaries is: 13.959496353814075. distance: 1.8258994485760778
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 4.7674, Accuracy: 2481/8991 (27.5943%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 7, internal_epoch   1,  Average loss: 0.0437, Accuracy: 38/86 (44.1860%), train_poison_data_count: 86
Global model norm: 13.949669968724283.
Norm before scaling: 13.948792129782522. Distance: 0.1793129583388142
Total norm for 9 adversaries is: 13.948792129782522. distance: 0.1793129583388142
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 2.5682, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 8, internal_epoch   1,  Average loss: 0.0220, Accuracy: 128/171 (74.8538%), train_poison_data_count: 171
Global model norm: 13.949669968724283.
Norm before scaling: 13.959628068838814. Distance: 0.417872533686529
Total norm for 9 adversaries is: 13.959628068838814. distance: 0.417872533686529
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 4.9992, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 9, internal_epoch   1,  Average loss: 0.0276, Accuracy: 160/263 (60.8365%), train_poison_data_count: 263
Global model norm: 13.949669968724283.
Norm before scaling: 13.968717775585034. Distance: 0.7743823127924696
Total norm for 9 adversaries is: 13.968717775585034. distance: 0.7743823127924696
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 5.7978, Accuracy: 1595/8991 (17.7400%)
time spent on training: 37.5180447101593
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 41: Average loss: 2.5247, Accuracy: 2453/10000 (24.5300%), Attack Success Rate:17/10000(0.170)
___Test Target_Simple poisoned: True, epoch: 41: Average loss: 2.3432, Accuracy: 2453/8991 (27.2828%)
Done in 98.00311946868896 sec.
Server Epoch:42 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  42, local model 0, internal_epoch   1,  Average loss: 0.0129, Accuracy: 272/300 (90.6667%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 6.8273, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:15/10000(0.150)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 1, internal_epoch   1,  Average loss: 0.0455, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.951854754785574.
Norm before scaling: 13.95036290288071. Distance: 0.14229049148977227
Total norm for 9 adversaries is: 13.95036290288071. distance: 0.14229049148977227
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 2.2779, Accuracy: 3374/8991 (37.5264%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 2, internal_epoch   1,  Average loss: 0.0304, Accuracy: 71/119 (59.6639%), train_poison_data_count: 119
Global model norm: 13.951854754785574.
Norm before scaling: 13.957257008214736. Distance: 0.1856694368836205
Total norm for 9 adversaries is: 13.957257008214736. distance: 0.1856694368836205
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 3.0523, Accuracy: 1036/8991 (11.5226%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 3, internal_epoch   1,  Average loss: 0.0210, Accuracy: 641/1010 (63.4653%), train_poison_data_count: 1010
Global model norm: 13.951854754785574.
Norm before scaling: 13.96090033920628. Distance: 1.3169957321144183
Total norm for 9 adversaries is: 13.96090033920628. distance: 1.3169957321144183
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 3.6245, Accuracy: 2577/8991 (28.6620%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 4, internal_epoch   1,  Average loss: 0.0168, Accuracy: 358/463 (77.3218%), train_poison_data_count: 463
Global model norm: 13.951854754785574.
Norm before scaling: 13.994086515291412. Distance: 1.3410286960248134
Total norm for 9 adversaries is: 13.994086515291412. distance: 1.3410286960248134
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 15.4677, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 5, internal_epoch   1,  Average loss: 0.0137, Accuracy: 877/1046 (83.8432%), train_poison_data_count: 1046
Global model norm: 13.951854754785574.
Norm before scaling: 13.9453125. Distance: 1.7254036168582425
Total norm for 9 adversaries is: 13.9453125. distance: 1.7254036168582425
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 5.8650, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 6, internal_epoch   1,  Average loss: 0.0091, Accuracy: 1670/1982 (84.2583%), train_poison_data_count: 1982
Global model norm: 13.951854754785574.
Norm before scaling: 13.965621154060782. Distance: 1.7834910299269677
Total norm for 9 adversaries is: 13.965621154060782. distance: 1.7834910299269677
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 10.7428, Accuracy: 2675/8991 (29.7520%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 7, internal_epoch   1,  Average loss: 0.0419, Accuracy: 42/86 (48.8372%), train_poison_data_count: 86
Global model norm: 13.951854754785574.
Norm before scaling: 13.950620488412648. Distance: 0.1815348799341432
Total norm for 9 adversaries is: 13.950620488412648. distance: 0.1815348799341432
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 2.5449, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 8, internal_epoch   1,  Average loss: 0.0232, Accuracy: 120/171 (70.1754%), train_poison_data_count: 171
Global model norm: 13.951854754785574.
Norm before scaling: 13.960764810767442. Distance: 0.4151589254193283
Total norm for 9 adversaries is: 13.960764810767442. distance: 0.4151589254193283
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 4.8716, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 9, internal_epoch   1,  Average loss: 0.0271, Accuracy: 162/263 (61.5970%), train_poison_data_count: 263
Global model norm: 13.951854754785574.
Norm before scaling: 13.970428297704014. Distance: 0.7828004710478187
Total norm for 9 adversaries is: 13.970428297704014. distance: 0.7828004710478187
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 5.8076, Accuracy: 1622/8991 (18.0403%)
time spent on training: 37.35464310646057
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.84437655 0.         1.         0.84437655 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 42: Average loss: 2.5291, Accuracy: 2561/10000 (25.6100%), Attack Success Rate:10/10000(0.100)
___Test Target_Simple poisoned: True, epoch: 42: Average loss: 2.3427, Accuracy: 2561/8991 (28.4840%)
Done in 98.73237419128418 sec.
Server Epoch:43 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  43, local model 0, internal_epoch   1,  Average loss: 0.0133, Accuracy: 271/300 (90.3333%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 6.2375, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:13/10000(0.130)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 1, internal_epoch   1,  Average loss: 0.0451, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.95389048152208.
Norm before scaling: 13.952405955891901. Distance: 0.14384391738373015
Total norm for 9 adversaries is: 13.952405955891901. distance: 0.14384391738373015
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 2.2759, Accuracy: 3499/8991 (38.9167%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 2, internal_epoch   1,  Average loss: 0.0294, Accuracy: 75/119 (63.0252%), train_poison_data_count: 119
Global model norm: 13.95389048152208.
Norm before scaling: 13.959537344100202. Distance: 0.18615900757985115
Total norm for 9 adversaries is: 13.959537344100202. distance: 0.18615900757985115
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 3.0795, Accuracy: 1036/8991 (11.5226%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 3, internal_epoch   1,  Average loss: 0.0199, Accuracy: 671/1010 (66.4356%), train_poison_data_count: 1010
Global model norm: 13.95389048152208.
Norm before scaling: 13.968854319206388. Distance: 1.285757834211674
Total norm for 9 adversaries is: 13.968854319206388. distance: 1.285757834211674
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 4.3784, Accuracy: 2672/8991 (29.7186%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 4, internal_epoch   1,  Average loss: 0.0149, Accuracy: 357/463 (77.1058%), train_poison_data_count: 463
Global model norm: 13.95389048152208.
Norm before scaling: 13.991860884832574. Distance: 1.3304526184143428
Total norm for 9 adversaries is: 13.991860884832574. distance: 1.3304526184143428
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 13.7689, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 5, internal_epoch   1,  Average loss: 0.0142, Accuracy: 878/1046 (83.9388%), train_poison_data_count: 1046
Global model norm: 13.95389048152208.
Norm before scaling: 13.94405358025504. Distance: 1.7446164019414399
Total norm for 9 adversaries is: 13.94405358025504. distance: 1.7446164019414399
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 4.9379, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 6, internal_epoch   1,  Average loss: 0.0092, Accuracy: 1690/1982 (85.2674%), train_poison_data_count: 1982
Global model norm: 13.95389048152208.
Norm before scaling: 13.962129871786777. Distance: 1.766439469441407
Total norm for 9 adversaries is: 13.962129871786777. distance: 1.766439469441407
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 10.5228, Accuracy: 2496/8991 (27.7611%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 7, internal_epoch   1,  Average loss: 0.0413, Accuracy: 42/86 (48.8372%), train_poison_data_count: 86
Global model norm: 13.95389048152208.
Norm before scaling: 13.952616478345446. Distance: 0.1802368887472605
Total norm for 9 adversaries is: 13.952616478345446. distance: 0.1802368887472605
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 2.5598, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 8, internal_epoch   1,  Average loss: 0.0249, Accuracy: 126/171 (73.6842%), train_poison_data_count: 171
Global model norm: 13.95389048152208.
Norm before scaling: 13.962037523989435. Distance: 0.4030370017415706
Total norm for 9 adversaries is: 13.962037523989435. distance: 0.4030370017415706
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 4.7151, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 9, internal_epoch   1,  Average loss: 0.0266, Accuracy: 163/263 (61.9772%), train_poison_data_count: 263
Global model norm: 13.95389048152208.
Norm before scaling: 13.974339538144324. Distance: 0.8011062706805355
Total norm for 9 adversaries is: 13.974339538144324. distance: 0.8011062706805355
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 6.2208, Accuracy: 894/8991 (9.9433%)
time spent on training: 37.494789600372314
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 43: Average loss: 2.5354, Accuracy: 2630/10000 (26.3000%), Attack Success Rate:12/10000(0.120)
___Test Target_Simple poisoned: True, epoch: 43: Average loss: 2.3433, Accuracy: 2630/8991 (29.2515%)
Done in 99.10821747779846 sec.
Server Epoch:44 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  44, local model 0, internal_epoch   1,  Average loss: 0.0128, Accuracy: 272/300 (90.6667%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 6.5551, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:7/10000(0.070)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 1, internal_epoch   1,  Average loss: 0.0448, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.956103033785915.
Norm before scaling: 13.954686537761695. Distance: 0.1467637195977216
Total norm for 9 adversaries is: 13.954686537761695. distance: 0.1467637195977216
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 2.2739, Accuracy: 3678/8991 (40.9076%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 2, internal_epoch   1,  Average loss: 0.0291, Accuracy: 71/119 (59.6639%), train_poison_data_count: 119
Global model norm: 13.956103033785915.
Norm before scaling: 13.96168670607928. Distance: 0.1838813922777154
Total norm for 9 adversaries is: 13.96168670607928. distance: 0.1838813922777154
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 3.0824, Accuracy: 1203/8991 (13.3800%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 3, internal_epoch   1,  Average loss: 0.0195, Accuracy: 711/1010 (70.3960%), train_poison_data_count: 1010
Global model norm: 13.956103033785915.
Norm before scaling: 13.964983609439507. Distance: 1.2647174359797106
Total norm for 9 adversaries is: 13.964983609439507. distance: 1.2647174359797106
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 3.6734, Accuracy: 2857/8991 (31.7762%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 4, internal_epoch   1,  Average loss: 0.0147, Accuracy: 359/463 (77.5378%), train_poison_data_count: 463
Global model norm: 13.956103033785915.
Norm before scaling: 13.992666776234692. Distance: 1.3191888305061663
Total norm for 9 adversaries is: 13.992666776234692. distance: 1.3191888305061663
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 13.9501, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 5, internal_epoch   1,  Average loss: 0.0125, Accuracy: 889/1046 (84.9904%), train_poison_data_count: 1046
Global model norm: 13.956103033785915.
Norm before scaling: 13.940092247722037. Distance: 1.6867618359164183
Total norm for 9 adversaries is: 13.940092247722037. distance: 1.6867618359164183
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 5.0576, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 6, internal_epoch   1,  Average loss: 0.0090, Accuracy: 1669/1982 (84.2079%), train_poison_data_count: 1982
Global model norm: 13.956103033785915.
Norm before scaling: 13.9562090875254. Distance: 1.7234363822207108
Total norm for 9 adversaries is: 13.9562090875254. distance: 1.7234363822207108
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 9.4798, Accuracy: 2667/8991 (29.6630%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 7, internal_epoch   1,  Average loss: 0.0419, Accuracy: 47/86 (54.6512%), train_poison_data_count: 86
Global model norm: 13.956103033785915.
Norm before scaling: 13.955013476276076. Distance: 0.18410932910189864
Total norm for 9 adversaries is: 13.955013476276076. distance: 0.18410932910189864
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 2.5993, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 8, internal_epoch   1,  Average loss: 0.0207, Accuracy: 125/171 (73.0994%), train_poison_data_count: 171
Global model norm: 13.956103033785915.
Norm before scaling: 13.965150783338045. Distance: 0.4073437126578141
Total norm for 9 adversaries is: 13.965150783338045. distance: 0.4073437126578141
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 5.0167, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 9, internal_epoch   1,  Average loss: 0.0267, Accuracy: 167/263 (63.4981%), train_poison_data_count: 263
Global model norm: 13.956103033785915.
Norm before scaling: 13.975080928670526. Distance: 0.7931296274637872
Total norm for 9 adversaries is: 13.975080928670526. distance: 0.7931296274637872
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 5.9358, Accuracy: 1698/8991 (18.8856%)
time spent on training: 38.88033127784729
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 44: Average loss: 2.5366, Accuracy: 2717/10000 (27.1700%), Attack Success Rate:10/10000(0.100)
___Test Target_Simple poisoned: True, epoch: 44: Average loss: 2.3394, Accuracy: 2717/8991 (30.2191%)
Done in 102.510751247406 sec.
Server Epoch:45 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  45, local model 0, internal_epoch   1,  Average loss: 0.0131, Accuracy: 273/300 (91.0000%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 6.3591, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:16/10000(0.160)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 1, internal_epoch   1,  Average loss: 0.0446, Accuracy: 22/84 (26.1905%), train_poison_data_count: 84
Global model norm: 13.958337098685748.
Norm before scaling: 13.95687491166288. Distance: 0.1523049623066687
Total norm for 9 adversaries is: 13.95687491166288. distance: 0.1523049623066687
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 2.2709, Accuracy: 3837/8991 (42.6760%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 2, internal_epoch   1,  Average loss: 0.0300, Accuracy: 81/119 (68.0672%), train_poison_data_count: 119
Global model norm: 13.958337098685748.
Norm before scaling: 13.963609538991767. Distance: 0.17659620938017095
Total norm for 9 adversaries is: 13.963609538991767. distance: 0.17659620938017095
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 3.0466, Accuracy: 1206/8991 (13.4134%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 3, internal_epoch   1,  Average loss: 0.0190, Accuracy: 702/1010 (69.5050%), train_poison_data_count: 1010
Global model norm: 13.958337098685748.
Norm before scaling: 13.974419793656406. Distance: 1.2872489888210774
Total norm for 9 adversaries is: 13.974419793656406. distance: 1.2872489888210774
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 4.0089, Accuracy: 2726/8991 (30.3192%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 4, internal_epoch   1,  Average loss: 0.0142, Accuracy: 361/463 (77.9698%), train_poison_data_count: 463
Global model norm: 13.958337098685748.
Norm before scaling: 13.995401444641725. Distance: 1.3132223230651972
Total norm for 9 adversaries is: 13.995401444641725. distance: 1.3132223230651972
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 14.3128, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 5, internal_epoch   1,  Average loss: 0.0138, Accuracy: 887/1046 (84.7992%), train_poison_data_count: 1046
Global model norm: 13.958337098685748.
Norm before scaling: 13.95342244923714. Distance: 1.7948024573050625
Total norm for 9 adversaries is: 13.95342244923714. distance: 1.7948024573050625
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 5.0957, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 6, internal_epoch   1,  Average loss: 0.0088, Accuracy: 1700/1982 (85.7719%), train_poison_data_count: 1982
Global model norm: 13.958337098685748.
Norm before scaling: 13.955208104931762. Distance: 1.698566460648577
Total norm for 9 adversaries is: 13.955208104931762. distance: 1.698566460648577
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 10.0607, Accuracy: 2675/8991 (29.7520%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 7, internal_epoch   1,  Average loss: 0.0419, Accuracy: 51/86 (59.3023%), train_poison_data_count: 86
Global model norm: 13.958337098685748.
Norm before scaling: 13.957365786293014. Distance: 0.18308350494897907
Total norm for 9 adversaries is: 13.957365786293014. distance: 0.18308350494897907
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 2.6173, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 8, internal_epoch   1,  Average loss: 0.0209, Accuracy: 135/171 (78.9474%), train_poison_data_count: 171
Global model norm: 13.958337098685748.
Norm before scaling: 13.966985194201326. Distance: 0.39948965910154993
Total norm for 9 adversaries is: 13.966985194201326. distance: 0.39948965910154993
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 4.9287, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 9, internal_epoch   1,  Average loss: 0.0261, Accuracy: 164/263 (62.3574%), train_poison_data_count: 263
Global model norm: 13.958337098685748.
Norm before scaling: 13.97742549477242. Distance: 0.7867651629276217
Total norm for 9 adversaries is: 13.97742549477242. distance: 0.7867651629276217
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 6.0323, Accuracy: 1495/8991 (16.6277%)
time spent on training: 39.23260164260864
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.       0.       1.       1.       0.       0.       0.886256 0.
 0.       0.      ]
___Test Target_Simple poisoned: False, epoch: 45: Average loss: 2.5358, Accuracy: 2688/10000 (26.8800%), Attack Success Rate:11/10000(0.110)
___Test Target_Simple poisoned: True, epoch: 45: Average loss: 2.3332, Accuracy: 2688/8991 (29.8966%)
Done in 103.06624913215637 sec.
Server Epoch:46 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  46, local model 0, internal_epoch   1,  Average loss: 0.0114, Accuracy: 272/300 (90.6667%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 6.3071, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:8/10000(0.080)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 1, internal_epoch   1,  Average loss: 0.0443, Accuracy: 22/84 (26.1905%), train_poison_data_count: 84
Global model norm: 13.960383356727597.
Norm before scaling: 13.959018671472139. Distance: 0.1529657065699564
Total norm for 9 adversaries is: 13.959018671472139. distance: 0.1529657065699564
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 2.2668, Accuracy: 3866/8991 (42.9986%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 2, internal_epoch   1,  Average loss: 0.0269, Accuracy: 86/119 (72.2689%), train_poison_data_count: 119
Global model norm: 13.960383356727597.
Norm before scaling: 13.966455326590511. Distance: 0.1845370065823187
Total norm for 9 adversaries is: 13.966455326590511. distance: 0.1845370065823187
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 3.1749, Accuracy: 1037/8991 (11.5338%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 3, internal_epoch   1,  Average loss: 0.0187, Accuracy: 739/1010 (73.1683%), train_poison_data_count: 1010
Global model norm: 13.960383356727597.
Norm before scaling: 13.976017710525479. Distance: 1.2528212181467362
Total norm for 9 adversaries is: 13.976017710525479. distance: 1.2528212181467362
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 4.3587, Accuracy: 2516/8991 (27.9835%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 4, internal_epoch   1,  Average loss: 0.0149, Accuracy: 359/463 (77.5378%), train_poison_data_count: 463
Global model norm: 13.960383356727597.
Norm before scaling: 14.000380374645742. Distance: 1.3406195882763596
Total norm for 9 adversaries is: 14.000380374645742. distance: 1.3406195882763596
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 15.0114, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 5, internal_epoch   1,  Average loss: 0.0130, Accuracy: 887/1046 (84.7992%), train_poison_data_count: 1046
Global model norm: 13.960383356727597.
Norm before scaling: 13.944940471228042. Distance: 1.702433524493457
Total norm for 9 adversaries is: 13.944940471228042. distance: 1.702433524493457
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 4.9704, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 6, internal_epoch   1,  Average loss: 0.0088, Accuracy: 1689/1982 (85.2170%), train_poison_data_count: 1982
Global model norm: 13.960383356727597.
Norm before scaling: 13.975866497657723. Distance: 1.7684299839990514
Total norm for 9 adversaries is: 13.975866497657723. distance: 1.7684299839990514
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 9.8912, Accuracy: 2571/8991 (28.5953%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 7, internal_epoch   1,  Average loss: 0.0409, Accuracy: 49/86 (56.9767%), train_poison_data_count: 86
Global model norm: 13.960383356727597.
Norm before scaling: 13.959060756271018. Distance: 0.18980843368573455
Total norm for 9 adversaries is: 13.959060756271018. distance: 0.18980843368573455
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 2.6107, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 8, internal_epoch   1,  Average loss: 0.0204, Accuracy: 130/171 (76.0234%), train_poison_data_count: 171
Global model norm: 13.960383356727597.
Norm before scaling: 13.969589447127252. Distance: 0.4112766403914972
Total norm for 9 adversaries is: 13.969589447127252. distance: 0.4112766403914972
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 5.1225, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 9, internal_epoch   1,  Average loss: 0.0258, Accuracy: 171/263 (65.0190%), train_poison_data_count: 263
Global model norm: 13.960383356727597.
Norm before scaling: 13.980133129353709. Distance: 0.798478476710218
Total norm for 9 adversaries is: 13.980133129353709. distance: 0.798478476710218
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 6.0875, Accuracy: 1720/8991 (19.1302%)
time spent on training: 39.2173171043396
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.71336405 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 46: Average loss: 2.5464, Accuracy: 2584/10000 (25.8400%), Attack Success Rate:10/10000(0.100)
___Test Target_Simple poisoned: True, epoch: 46: Average loss: 2.3394, Accuracy: 2584/8991 (28.7399%)
Done in 101.81386113166809 sec.
Server Epoch:47 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  47, local model 0, internal_epoch   1,  Average loss: 0.0123, Accuracy: 270/300 (90.0000%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 5.8742, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:6/10000(0.060)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 1, internal_epoch   1,  Average loss: 0.0439, Accuracy: 22/84 (26.1905%), train_poison_data_count: 84
Global model norm: 13.962241344053947.
Norm before scaling: 13.96082000597593. Distance: 0.15534954485063818
Total norm for 9 adversaries is: 13.96082000597593. distance: 0.15534954485063818
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 2.2624, Accuracy: 3896/8991 (43.3322%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 2, internal_epoch   1,  Average loss: 0.0277, Accuracy: 74/119 (62.1849%), train_poison_data_count: 119
Global model norm: 13.962241344053947.
Norm before scaling: 13.967766848791094. Distance: 0.17508288574895367
Total norm for 9 adversaries is: 13.967766848791094. distance: 0.17508288574895367
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 3.0879, Accuracy: 1331/8991 (14.8037%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 3, internal_epoch   1,  Average loss: 0.0181, Accuracy: 715/1010 (70.7921%), train_poison_data_count: 1010
Global model norm: 13.962241344053947.
Norm before scaling: 13.976234427920122. Distance: 1.245783608804075
Total norm for 9 adversaries is: 13.976234427920122. distance: 1.245783608804075
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 4.0715, Accuracy: 2819/8991 (31.3536%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 4, internal_epoch   1,  Average loss: 0.0162, Accuracy: 371/463 (80.1296%), train_poison_data_count: 463
Global model norm: 13.962241344053947.
Norm before scaling: 13.99799114528637. Distance: 1.354889451827672
Total norm for 9 adversaries is: 13.99799114528637. distance: 1.354889451827672
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 12.9275, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 5, internal_epoch   1,  Average loss: 0.0132, Accuracy: 885/1046 (84.6080%), train_poison_data_count: 1046
Global model norm: 13.962241344053947.
Norm before scaling: 13.958277520974393. Distance: 1.7651982424660064
Total norm for 9 adversaries is: 13.958277520974393. distance: 1.7651982424660064
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 6.1965, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 6, internal_epoch   1,  Average loss: 0.0088, Accuracy: 1670/1982 (84.2583%), train_poison_data_count: 1982
Global model norm: 13.962241344053947.
Norm before scaling: 13.973087055666488. Distance: 1.7756179647229098
Total norm for 9 adversaries is: 13.973087055666488. distance: 1.7756179647229098
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 8.5991, Accuracy: 2713/8991 (30.1746%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 7, internal_epoch   1,  Average loss: 0.0404, Accuracy: 46/86 (53.4884%), train_poison_data_count: 86
Global model norm: 13.962241344053947.
Norm before scaling: 13.960463692470572. Distance: 0.18899805925397153
Total norm for 9 adversaries is: 13.960463692470572. distance: 0.18899805925397153
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 2.5790, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 8, internal_epoch   1,  Average loss: 0.0202, Accuracy: 126/171 (73.6842%), train_poison_data_count: 171
Global model norm: 13.962241344053947.
Norm before scaling: 13.970663123151526. Distance: 0.4044852808312484
Total norm for 9 adversaries is: 13.970663123151526. distance: 0.4044852808312484
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 5.0155, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 9, internal_epoch   1,  Average loss: 0.0274, Accuracy: 167/263 (63.4981%), train_poison_data_count: 263
Global model norm: 13.962241344053947.
Norm before scaling: 13.980361788847608. Distance: 0.802309801076195
Total norm for 9 adversaries is: 13.980361788847608. distance: 0.802309801076195
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 5.7768, Accuracy: 1842/8991 (20.4872%)
time spent on training: 38.58983588218689
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 47: Average loss: 2.5435, Accuracy: 2661/10000 (26.6100%), Attack Success Rate:9/10000(0.090)
___Test Target_Simple poisoned: True, epoch: 47: Average loss: 2.3322, Accuracy: 2661/8991 (29.5963%)
Done in 102.63294053077698 sec.
Server Epoch:48 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  48, local model 0, internal_epoch   1,  Average loss: 0.0110, Accuracy: 277/300 (92.3333%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 6.7615, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:10/10000(0.100)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 1, internal_epoch   1,  Average loss: 0.0438, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.96451540260841.
Norm before scaling: 13.96330028620786. Distance: 0.15777243162185373
Total norm for 9 adversaries is: 13.96330028620786. distance: 0.15777243162185373
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 2.2592, Accuracy: 3954/8991 (43.9773%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 2, internal_epoch   1,  Average loss: 0.0255, Accuracy: 82/119 (68.9076%), train_poison_data_count: 119
Global model norm: 13.96451540260841.
Norm before scaling: 13.970600321383607. Distance: 0.1783081476714614
Total norm for 9 adversaries is: 13.970600321383607. distance: 0.1783081476714614
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 3.1702, Accuracy: 1094/8991 (12.1677%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 3, internal_epoch   1,  Average loss: 0.0185, Accuracy: 701/1010 (69.4059%), train_poison_data_count: 1010
Global model norm: 13.96451540260841.
Norm before scaling: 13.981547047337575. Distance: 1.2570278492485025
Total norm for 9 adversaries is: 13.981547047337575. distance: 1.2570278492485025
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 4.1005, Accuracy: 2775/8991 (30.8642%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 4, internal_epoch   1,  Average loss: 0.0164, Accuracy: 377/463 (81.4255%), train_poison_data_count: 463
Global model norm: 13.96451540260841.
Norm before scaling: 13.998925849034197. Distance: 1.3390076811885667
Total norm for 9 adversaries is: 13.998925849034197. distance: 1.3390076811885667
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 12.7322, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 5, internal_epoch   1,  Average loss: 0.0144, Accuracy: 895/1046 (85.5641%), train_poison_data_count: 1046
Global model norm: 13.96451540260841.
Norm before scaling: 13.957449965731506. Distance: 1.7653305348295367
Total norm for 9 adversaries is: 13.957449965731506. distance: 1.7653305348295367
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 5.7255, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 6, internal_epoch   1,  Average loss: 0.0087, Accuracy: 1698/1982 (85.6710%), train_poison_data_count: 1982
Global model norm: 13.96451540260841.
Norm before scaling: 13.966665091017557. Distance: 1.7400121407797806
Total norm for 9 adversaries is: 13.966665091017557. distance: 1.7400121407797806
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 7.8044, Accuracy: 2696/8991 (29.9855%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 7, internal_epoch   1,  Average loss: 0.0424, Accuracy: 46/86 (53.4884%), train_poison_data_count: 86
Global model norm: 13.96451540260841.
Norm before scaling: 13.963396996736739. Distance: 0.1914551633500462
Total norm for 9 adversaries is: 13.963396996736739. distance: 0.1914551633500462
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 2.6427, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 8, internal_epoch   1,  Average loss: 0.0179, Accuracy: 136/171 (79.5322%), train_poison_data_count: 171
Global model norm: 13.96451540260841.
Norm before scaling: 13.974739719212181. Distance: 0.4152792022709707
Total norm for 9 adversaries is: 13.974739719212181. distance: 0.4152792022709707
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 5.3660, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 9, internal_epoch   1,  Average loss: 0.0249, Accuracy: 165/263 (62.7376%), train_poison_data_count: 263
Global model norm: 13.96451540260841.
Norm before scaling: 13.984168229092866. Distance: 0.8051552015164857
Total norm for 9 adversaries is: 13.984168229092866. distance: 0.8051552015164857
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 6.0419, Accuracy: 1843/8991 (20.4983%)
time spent on training: 39.45157599449158
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.95466376 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 48: Average loss: 2.5510, Accuracy: 2679/10000 (26.7900%), Attack Success Rate:13/10000(0.130)
___Test Target_Simple poisoned: True, epoch: 48: Average loss: 2.3338, Accuracy: 2679/8991 (29.7965%)
Done in 103.78599143028259 sec.
Server Epoch:49 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  49, local model 0, internal_epoch   1,  Average loss: 0.0118, Accuracy: 271/300 (90.3333%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 6.0998, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:9/10000(0.090)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 1, internal_epoch   1,  Average loss: 0.0437, Accuracy: 20/84 (23.8095%), train_poison_data_count: 84
Global model norm: 13.966964436879428.
Norm before scaling: 13.965683978219333. Distance: 0.15968259108663066
Total norm for 9 adversaries is: 13.965683978219333. distance: 0.15968259108663066
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 2.2562, Accuracy: 3994/8991 (44.4222%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 2, internal_epoch   1,  Average loss: 0.0261, Accuracy: 88/119 (73.9496%), train_poison_data_count: 119
Global model norm: 13.966964436879428.
Norm before scaling: 13.972931988997178. Distance: 0.17666889293485522
Total norm for 9 adversaries is: 13.972931988997178. distance: 0.17666889293485522
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 3.1887, Accuracy: 1072/8991 (11.9230%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 3, internal_epoch   1,  Average loss: 0.0185, Accuracy: 704/1010 (69.7030%), train_poison_data_count: 1010
Global model norm: 13.966964436879428.
Norm before scaling: 13.983629191879215. Distance: 1.2912553573305234
Total norm for 9 adversaries is: 13.983629191879215. distance: 1.2912553573305234
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 4.2190, Accuracy: 2408/8991 (26.7823%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 4, internal_epoch   1,  Average loss: 0.0118, Accuracy: 377/463 (81.4255%), train_poison_data_count: 463
Global model norm: 13.966964436879428.
Norm before scaling: 14.011207454255036. Distance: 1.3625663478690775
Total norm for 9 adversaries is: 14.011207454255036. distance: 1.3625663478690775
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 17.0350, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 5, internal_epoch   1,  Average loss: 0.0123, Accuracy: 887/1046 (84.7992%), train_poison_data_count: 1046
Global model norm: 13.966964436879428.
Norm before scaling: 13.953433384750015. Distance: 1.7348608075464351
Total norm for 9 adversaries is: 13.953433384750015. distance: 1.7348608075464351
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 4.8626, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 6, internal_epoch   1,  Average loss: 0.0081, Accuracy: 1713/1982 (86.4279%), train_poison_data_count: 1982
Global model norm: 13.966964436879428.
Norm before scaling: 13.962317844114498. Distance: 1.6929205971679326
Total norm for 9 adversaries is: 13.962317844114498. distance: 1.6929205971679326
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 9.9360, Accuracy: 2659/8991 (29.5740%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 7, internal_epoch   1,  Average loss: 0.0422, Accuracy: 46/86 (53.4884%), train_poison_data_count: 86
Global model norm: 13.966964436879428.
Norm before scaling: 13.965653385620907. Distance: 0.1930162004672081
Total norm for 9 adversaries is: 13.965653385620907. distance: 0.1930162004672081
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 2.6506, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 8, internal_epoch   1,  Average loss: 0.0188, Accuracy: 131/171 (76.6082%), train_poison_data_count: 171
Global model norm: 13.966964436879428.
Norm before scaling: 13.97534570146964. Distance: 0.39827304138727804
Total norm for 9 adversaries is: 13.97534570146964. distance: 0.39827304138727804
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 5.0966, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 9, internal_epoch   1,  Average loss: 0.0245, Accuracy: 171/263 (65.0190%), train_poison_data_count: 263
Global model norm: 13.966964436879428.
Norm before scaling: 13.98689364976107. Distance: 0.8082317703060261
Total norm for 9 adversaries is: 13.98689364976107. distance: 0.8082317703060261
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 6.3295, Accuracy: 1466/8991 (16.3052%)
time spent on training: 39.05372142791748
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.73596186 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 49: Average loss: 2.5630, Accuracy: 2574/10000 (25.7400%), Attack Success Rate:13/10000(0.130)
___Test Target_Simple poisoned: True, epoch: 49: Average loss: 2.3402, Accuracy: 2574/8991 (28.6286%)
Done in 102.49326539039612 sec.
Server Epoch:50 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  50, local model 0, internal_epoch   1,  Average loss: 0.0103, Accuracy: 272/300 (90.6667%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 6.5345, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:10/10000(0.100)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 1, internal_epoch   1,  Average loss: 0.0433, Accuracy: 22/84 (26.1905%), train_poison_data_count: 84
Global model norm: 13.968956452962606.
Norm before scaling: 13.967612815498283. Distance: 0.1634374644697016
Total norm for 9 adversaries is: 13.967612815498283. distance: 0.1634374644697016
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 2.2545, Accuracy: 4001/8991 (44.5001%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 2, internal_epoch   1,  Average loss: 0.0247, Accuracy: 86/119 (72.2689%), train_poison_data_count: 119
Global model norm: 13.968956452962606.
Norm before scaling: 13.975139342894593. Distance: 0.1767088100309163
Total norm for 9 adversaries is: 13.975139342894593. distance: 0.1767088100309163
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 3.2247, Accuracy: 1085/8991 (12.0676%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 3, internal_epoch   1,  Average loss: 0.0177, Accuracy: 740/1010 (73.2673%), train_poison_data_count: 1010
Global model norm: 13.968956452962606.
Norm before scaling: 13.98024227516339. Distance: 1.2608364551620679
Total norm for 9 adversaries is: 13.98024227516339. distance: 1.2608364551620679
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 4.0843, Accuracy: 2109/8991 (23.4568%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 4, internal_epoch   1,  Average loss: 0.0117, Accuracy: 385/463 (83.1533%), train_poison_data_count: 463
Global model norm: 13.968956452962606.
Norm before scaling: 14.009611917330856. Distance: 1.3560308340865517
Total norm for 9 adversaries is: 14.009611917330856. distance: 1.3560308340865517
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 15.6848, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 5, internal_epoch   1,  Average loss: 0.0122, Accuracy: 892/1046 (85.2772%), train_poison_data_count: 1046
Global model norm: 13.968956452962606.
Norm before scaling: 13.960893781408885. Distance: 1.7580709987880994
Total norm for 9 adversaries is: 13.960893781408885. distance: 1.7580709987880994
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 5.4997, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 6, internal_epoch   1,  Average loss: 0.0082, Accuracy: 1712/1982 (86.3774%), train_poison_data_count: 1982
Global model norm: 13.968956452962606.
Norm before scaling: 13.969374265098578. Distance: 1.7179631599588596
Total norm for 9 adversaries is: 13.969374265098578. distance: 1.7179631599588596
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 8.9431, Accuracy: 2647/8991 (29.4406%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 7, internal_epoch   1,  Average loss: 0.0409, Accuracy: 44/86 (51.1628%), train_poison_data_count: 86
Global model norm: 13.968956452962606.
Norm before scaling: 13.967108645004778. Distance: 0.20272547604943278
Total norm for 9 adversaries is: 13.967108645004778. distance: 0.20272547604943278
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 2.6450, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 8, internal_epoch   1,  Average loss: 0.0217, Accuracy: 124/171 (72.5146%), train_poison_data_count: 171
Global model norm: 13.968956452962606.
Norm before scaling: 13.975288925869242. Distance: 0.39515259414858145
Total norm for 9 adversaries is: 13.975288925869242. distance: 0.39515259414858145
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 4.8019, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 9, internal_epoch   1,  Average loss: 0.0249, Accuracy: 165/263 (62.7376%), train_poison_data_count: 263
Global model norm: 13.968956452962606.
Norm before scaling: 13.988873556295497. Distance: 0.8337478123511763
Total norm for 9 adversaries is: 13.988873556295497. distance: 0.8337478123511763
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 6.2006, Accuracy: 1812/8991 (20.1535%)
time spent on training: 39.331310987472534
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.69101462 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 50: Average loss: 2.5795, Accuracy: 2473/10000 (24.7300%), Attack Success Rate:16/10000(0.160)
___Test Target_Simple poisoned: True, epoch: 50: Average loss: 2.3514, Accuracy: 2473/8991 (27.5053%)
Done in 102.8976719379425 sec.
Server Epoch:51 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  51, local model 0, internal_epoch   1,  Average loss: 0.0114, Accuracy: 271/300 (90.3333%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 5.6354, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:5/10000(0.050)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 1, internal_epoch   1,  Average loss: 0.0433, Accuracy: 21/84 (25.0000%), train_poison_data_count: 84
Global model norm: 13.970948185018674.
Norm before scaling: 13.96948950258708. Distance: 0.16915526602018588
Total norm for 9 adversaries is: 13.96948950258708. distance: 0.16915526602018588
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 2.2523, Accuracy: 3998/8991 (44.4667%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 2, internal_epoch   1,  Average loss: 0.0258, Accuracy: 75/119 (63.0252%), train_poison_data_count: 119
Global model norm: 13.970948185018674.
Norm before scaling: 13.97649535775516. Distance: 0.1692699719676085
Total norm for 9 adversaries is: 13.97649535775516. distance: 0.1692699719676085
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 3.1013, Accuracy: 1676/8991 (18.6409%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 3, internal_epoch   1,  Average loss: 0.0169, Accuracy: 751/1010 (74.3564%), train_poison_data_count: 1010
Global model norm: 13.970948185018674.
Norm before scaling: 13.98855613559845. Distance: 1.24511666092207
Total norm for 9 adversaries is: 13.98855613559845. distance: 1.24511666092207
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 4.0655, Accuracy: 2804/8991 (31.1867%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 4, internal_epoch   1,  Average loss: 0.0161, Accuracy: 381/463 (82.2894%), train_poison_data_count: 463
Global model norm: 13.970948185018674.
Norm before scaling: 14.003680154206897. Distance: 1.3509153459485352
Total norm for 9 adversaries is: 14.003680154206897. distance: 1.3509153459485352
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 12.6273, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 5, internal_epoch   1,  Average loss: 0.0129, Accuracy: 895/1046 (85.5641%), train_poison_data_count: 1046
Global model norm: 13.970948185018674.
Norm before scaling: 13.963897476680993. Distance: 1.7762196098374818
Total norm for 9 adversaries is: 13.963897476680993. distance: 1.7762196098374818
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 5.5105, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 6, internal_epoch   1,  Average loss: 0.0085, Accuracy: 1701/1982 (85.8224%), train_poison_data_count: 1982
Global model norm: 13.970948185018674.
Norm before scaling: 13.972653519883714. Distance: 1.7548487792114111
Total norm for 9 adversaries is: 13.972653519883714. distance: 1.7548487792114111
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 7.5145, Accuracy: 2713/8991 (30.1746%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 7, internal_epoch   1,  Average loss: 0.0437, Accuracy: 37/86 (43.0233%), train_poison_data_count: 86
Global model norm: 13.970948185018674.
Norm before scaling: 13.969427787841797. Distance: 0.20622007232336867
Total norm for 9 adversaries is: 13.969427787841797. distance: 0.20622007232336867
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 2.6867, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 8, internal_epoch   1,  Average loss: 0.0173, Accuracy: 125/171 (73.0994%), train_poison_data_count: 171
Global model norm: 13.970948185018674.
Norm before scaling: 13.979392552528715. Distance: 0.4182620579132337
Total norm for 9 adversaries is: 13.979392552528715. distance: 0.4182620579132337
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 5.2972, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 9, internal_epoch   1,  Average loss: 0.0248, Accuracy: 168/263 (63.8783%), train_poison_data_count: 263
Global model norm: 13.970948185018674.
Norm before scaling: 13.991195089736348. Distance: 0.8520020566633412
Total norm for 9 adversaries is: 13.991195089736348. distance: 0.8520020566633412
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 6.2207, Accuracy: 1826/8991 (20.3092%)
time spent on training: 39.34577822685242
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 51: Average loss: 2.5704, Accuracy: 2575/10000 (25.7500%), Attack Success Rate:9/10000(0.090)
___Test Target_Simple poisoned: True, epoch: 51: Average loss: 2.3389, Accuracy: 2575/8991 (28.6398%)
Done in 102.41628575325012 sec.
Server Epoch:52 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  52, local model 0, internal_epoch   1,  Average loss: 0.0103, Accuracy: 270/300 (90.0000%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 5.7836, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:10/10000(0.100)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 1, internal_epoch   1,  Average loss: 0.0427, Accuracy: 23/84 (27.3810%), train_poison_data_count: 84
Global model norm: 13.97318424446223.
Norm before scaling: 13.9718579412709. Distance: 0.16866387646444997
Total norm for 9 adversaries is: 13.9718579412709. distance: 0.16866387646444997
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 2.2449, Accuracy: 4021/8991 (44.7225%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 2, internal_epoch   1,  Average loss: 0.0246, Accuracy: 81/119 (68.0672%), train_poison_data_count: 119
Global model norm: 13.97318424446223.
Norm before scaling: 13.978955391861591. Distance: 0.1688479490261066
Total norm for 9 adversaries is: 13.978955391861591. distance: 0.1688479490261066
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 3.1238, Accuracy: 1685/8991 (18.7410%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 3, internal_epoch   1,  Average loss: 0.0180, Accuracy: 714/1010 (70.6931%), train_poison_data_count: 1010
Global model norm: 13.97318424446223.
Norm before scaling: 13.988972271573196. Distance: 1.2785247569307283
Total norm for 9 adversaries is: 13.988972271573196. distance: 1.2785247569307283
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 3.9234, Accuracy: 2747/8991 (30.5528%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 4, internal_epoch   1,  Average loss: 0.0140, Accuracy: 383/463 (82.7214%), train_poison_data_count: 463
Global model norm: 13.97318424446223.
Norm before scaling: 14.010436391521122. Distance: 1.3552539226459028
Total norm for 9 adversaries is: 14.010436391521122. distance: 1.3552539226459028
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 14.2784, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 5, internal_epoch   1,  Average loss: 0.0116, Accuracy: 889/1046 (84.9904%), train_poison_data_count: 1046
Global model norm: 13.97318424446223.
Norm before scaling: 13.958921930609245. Distance: 1.7010045982132735
Total norm for 9 adversaries is: 13.958921930609245. distance: 1.7010045982132735
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 5.5654, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 6, internal_epoch   1,  Average loss: 0.0079, Accuracy: 1714/1982 (86.4783%), train_poison_data_count: 1982
Global model norm: 13.97318424446223.
Norm before scaling: 13.975103311719817. Distance: 1.7262205587938464
Total norm for 9 adversaries is: 13.975103311719817. distance: 1.7262205587938464
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 10.4824, Accuracy: 2691/8991 (29.9299%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 7, internal_epoch   1,  Average loss: 0.0426, Accuracy: 42/86 (48.8372%), train_poison_data_count: 86
Global model norm: 13.97318424446223.
Norm before scaling: 13.97145057874858. Distance: 0.21009106706480463
Total norm for 9 adversaries is: 13.97145057874858. distance: 0.21009106706480463
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 2.6999, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 8, internal_epoch   1,  Average loss: 0.0197, Accuracy: 127/171 (74.2690%), train_poison_data_count: 171
Global model norm: 13.97318424446223.
Norm before scaling: 13.980222628980533. Distance: 0.4058271371412806
Total norm for 9 adversaries is: 13.980222628980533. distance: 0.4058271371412806
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 5.0222, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 9, internal_epoch   1,  Average loss: 0.0240, Accuracy: 168/263 (63.8783%), train_poison_data_count: 263
Global model norm: 13.97318424446223.
Norm before scaling: 13.993222367160357. Distance: 0.831518633178933
Total norm for 9 adversaries is: 13.993222367160357. distance: 0.831518633178933
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 6.2981, Accuracy: 1832/8991 (20.3759%)
time spent on training: 39.290403842926025
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 52: Average loss: 2.5630, Accuracy: 2690/10000 (26.9000%), Attack Success Rate:5/10000(0.050)
___Test Target_Simple poisoned: True, epoch: 52: Average loss: 2.3267, Accuracy: 2690/8991 (29.9188%)
Done in 103.090900182724 sec.
Server Epoch:53 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  53, local model 0, internal_epoch   1,  Average loss: 0.0111, Accuracy: 267/300 (89.0000%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 5.0392, Accuracy: 1152/10000 (11.5200%), Attack Success Rate:9/10000(0.090)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 1, internal_epoch   1,  Average loss: 0.0420, Accuracy: 22/84 (26.1905%), train_poison_data_count: 84
Global model norm: 13.97546416520083.
Norm before scaling: 13.974168106459079. Distance: 0.1708725882463264
Total norm for 9 adversaries is: 13.974168106459079. distance: 0.1708725882463264
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 2.2442, Accuracy: 4003/8991 (44.5223%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 2, internal_epoch   1,  Average loss: 0.0238, Accuracy: 82/119 (68.9076%), train_poison_data_count: 119
Global model norm: 13.97546416520083.
Norm before scaling: 13.981446096914922. Distance: 0.16984712666661705
Total norm for 9 adversaries is: 13.981446096914922. distance: 0.16984712666661705
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 3.1559, Accuracy: 1657/8991 (18.4295%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 3, internal_epoch   1,  Average loss: 0.0151, Accuracy: 783/1010 (77.5248%), train_poison_data_count: 1010
Global model norm: 13.97546416520083.
Norm before scaling: 13.996763672740455. Distance: 1.1865065585219188
Total norm for 9 adversaries is: 13.996763672740455. distance: 1.1865065585219188
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 4.6955, Accuracy: 2924/8991 (32.5214%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 4, internal_epoch   1,  Average loss: 0.0130, Accuracy: 387/463 (83.5853%), train_poison_data_count: 463
Global model norm: 13.97546416520083.
Norm before scaling: 14.013677183143594. Distance: 1.3460654779920143
Total norm for 9 adversaries is: 14.013677183143594. distance: 1.3460654779920143
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 15.3999, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 5, internal_epoch   1,  Average loss: 0.0124, Accuracy: 909/1046 (86.9025%), train_poison_data_count: 1046
Global model norm: 13.97546416520083.
Norm before scaling: 13.967836764051459. Distance: 1.7512821541447579
Total norm for 9 adversaries is: 13.967836764051459. distance: 1.7512821541447579
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 6.2265, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 6, internal_epoch   1,  Average loss: 0.0079, Accuracy: 1719/1982 (86.7306%), train_poison_data_count: 1982
Global model norm: 13.97546416520083.
Norm before scaling: 13.975474537553445. Distance: 1.7123585552080611
Total norm for 9 adversaries is: 13.975474537553445. distance: 1.7123585552080611
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 11.7638, Accuracy: 2573/8991 (28.6175%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 7, internal_epoch   1,  Average loss: 0.0413, Accuracy: 43/86 (50.0000%), train_poison_data_count: 86
Global model norm: 13.97546416520083.
Norm before scaling: 13.973508566225972. Distance: 0.20268705730936862
Total norm for 9 adversaries is: 13.973508566225972. distance: 0.20268705730936862
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 2.6703, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 8, internal_epoch   1,  Average loss: 0.0185, Accuracy: 131/171 (76.6082%), train_poison_data_count: 171
Global model norm: 13.97546416520083.
Norm before scaling: 13.98274257231928. Distance: 0.39099111565938
Total norm for 9 adversaries is: 13.98274257231928. distance: 0.39099111565938
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 5.0224, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 9, internal_epoch   1,  Average loss: 0.0255, Accuracy: 175/263 (66.5399%), train_poison_data_count: 263
Global model norm: 13.97546416520083.
Norm before scaling: 13.994103416079284. Distance: 0.8326530461349024
Total norm for 9 adversaries is: 13.994103416079284. distance: 0.8326530461349024
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 6.1531, Accuracy: 1837/8991 (20.4315%)
time spent on training: 39.21168231964111
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.63730903 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 53: Average loss: 2.5770, Accuracy: 2681/10000 (26.8100%), Attack Success Rate:14/10000(0.140)
___Test Target_Simple poisoned: True, epoch: 53: Average loss: 2.3373, Accuracy: 2681/8991 (29.8187%)
Done in 102.94252896308899 sec.
Server Epoch:54 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  54, local model 0, internal_epoch   1,  Average loss: 0.0093, Accuracy: 277/300 (92.3333%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 5.8429, Accuracy: 1138/10000 (11.3800%), Attack Success Rate:15/10000(0.150)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 1, internal_epoch   1,  Average loss: 0.0426, Accuracy: 24/84 (28.5714%), train_poison_data_count: 84
Global model norm: 13.977374731849013.
Norm before scaling: 13.975963667125237. Distance: 0.17720169898568436
Total norm for 9 adversaries is: 13.975963667125237. distance: 0.17720169898568436
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 2.2357, Accuracy: 4013/8991 (44.6335%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 2, internal_epoch   1,  Average loss: 0.0243, Accuracy: 87/119 (73.1092%), train_poison_data_count: 119
Global model norm: 13.977374731849013.
Norm before scaling: 13.982987557744556. Distance: 0.16048152387082879
Total norm for 9 adversaries is: 13.982987557744556. distance: 0.16048152387082879
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 3.1234, Accuracy: 1582/8991 (17.5954%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 3, internal_epoch   1,  Average loss: 0.0176, Accuracy: 720/1010 (71.2871%), train_poison_data_count: 1010
Global model norm: 13.977374731849013.
Norm before scaling: 13.990104447820878. Distance: 1.2435314657404617
Total norm for 9 adversaries is: 13.990104447820878. distance: 1.2435314657404617
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 3.9139, Accuracy: 2701/8991 (30.0412%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 4, internal_epoch   1,  Average loss: 0.0122, Accuracy: 387/463 (83.5853%), train_poison_data_count: 463
Global model norm: 13.977374731849013.
Norm before scaling: 14.015467682192625. Distance: 1.3765157234826393
Total norm for 9 adversaries is: 14.015467682192625. distance: 1.3765157234826393
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 15.0251, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 5, internal_epoch   1,  Average loss: 0.0120, Accuracy: 899/1046 (85.9465%), train_poison_data_count: 1046
Global model norm: 13.977374731849013.
Norm before scaling: 13.96906677842712. Distance: 1.7742732427267107
Total norm for 9 adversaries is: 13.96906677842712. distance: 1.7742732427267107
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 5.3687, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 6, internal_epoch   1,  Average loss: 0.0078, Accuracy: 1709/1982 (86.2260%), train_poison_data_count: 1982
Global model norm: 13.977374731849013.
Norm before scaling: 13.986313260404403. Distance: 1.7540491806277592
Total norm for 9 adversaries is: 13.986313260404403. distance: 1.7540491806277592
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 8.8266, Accuracy: 2458/8991 (27.3384%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 7, internal_epoch   1,  Average loss: 0.0394, Accuracy: 51/86 (59.3023%), train_poison_data_count: 86
Global model norm: 13.977374731849013.
Norm before scaling: 13.974989212386825. Distance: 0.20836155322795386
Total norm for 9 adversaries is: 13.974989212386825. distance: 0.20836155322795386
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 2.6637, Accuracy: 1010/8991 (11.2335%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 8, internal_epoch   1,  Average loss: 0.0188, Accuracy: 127/171 (74.2690%), train_poison_data_count: 171
Global model norm: 13.977374731849013.
Norm before scaling: 13.984109307008136. Distance: 0.4018453640785614
Total norm for 9 adversaries is: 13.984109307008136. distance: 0.4018453640785614
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 5.1029, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 9, internal_epoch   1,  Average loss: 0.0229, Accuracy: 171/263 (65.0190%), train_poison_data_count: 263
Global model norm: 13.977374731849013.
Norm before scaling: 13.998510553965811. Distance: 0.8608060539135536
Total norm for 9 adversaries is: 13.998510553965811. distance: 0.8608060539135536
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 6.7677, Accuracy: 1078/8991 (11.9898%)
time spent on training: 39.101258277893066
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.98126821 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 54: Average loss: 2.5701, Accuracy: 2687/10000 (26.8700%), Attack Success Rate:14/10000(0.140)
___Test Target_Simple poisoned: True, epoch: 54: Average loss: 2.3253, Accuracy: 2687/8991 (29.8854%)
Done in 103.59295511245728 sec.
Server Epoch:55 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  55, local model 0, internal_epoch   1,  Average loss: 0.0104, Accuracy: 276/300 (92.0000%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 5.6152, Accuracy: 1139/10000 (11.3900%), Attack Success Rate:13/10000(0.130)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 1, internal_epoch   1,  Average loss: 0.0428, Accuracy: 22/84 (26.1905%), train_poison_data_count: 84
Global model norm: 13.979678527890549.
Norm before scaling: 13.978565155747445. Distance: 0.17352138737295314
Total norm for 9 adversaries is: 13.978565155747445. distance: 0.17352138737295314
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 2.2357, Accuracy: 4018/8991 (44.6891%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 2, internal_epoch   1,  Average loss: 0.0243, Accuracy: 81/119 (68.0672%), train_poison_data_count: 119
Global model norm: 13.979678527890549.
Norm before scaling: 13.985250059912453. Distance: 0.16052170669900634
Total norm for 9 adversaries is: 13.985250059912453. distance: 0.16052170669900634
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 3.0622, Accuracy: 1859/8991 (20.6762%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 3, internal_epoch   1,  Average loss: 0.0159, Accuracy: 764/1010 (75.6436%), train_poison_data_count: 1010
Global model norm: 13.979678527890549.
Norm before scaling: 13.994999128629896. Distance: 1.217341611848309
Total norm for 9 adversaries is: 13.994999128629896. distance: 1.217341611848309
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 4.6158, Accuracy: 2341/8991 (26.0371%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 4, internal_epoch   1,  Average loss: 0.0124, Accuracy: 393/463 (84.8812%), train_poison_data_count: 463
Global model norm: 13.979678527890549.
Norm before scaling: 14.018965273125602. Distance: 1.3757852566177107
Total norm for 9 adversaries is: 14.018965273125602. distance: 1.3757852566177107
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 15.4708, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 5, internal_epoch   1,  Average loss: 0.0119, Accuracy: 909/1046 (86.9025%), train_poison_data_count: 1046
Global model norm: 13.979678527890549.
Norm before scaling: 13.965869717556922. Distance: 1.7310715566177093
Total norm for 9 adversaries is: 13.965869717556922. distance: 1.7310715566177093
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 5.2183, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 6, internal_epoch   1,  Average loss: 0.0076, Accuracy: 1718/1982 (86.6801%), train_poison_data_count: 1982
Global model norm: 13.979678527890549.
Norm before scaling: 13.97719514970474. Distance: 1.6949779690236284
Total norm for 9 adversaries is: 13.97719514970474. distance: 1.6949779690236284
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 10.2666, Accuracy: 2592/8991 (28.8288%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 7, internal_epoch   1,  Average loss: 0.0418, Accuracy: 45/86 (52.3256%), train_poison_data_count: 86
Global model norm: 13.979678527890549.
Norm before scaling: 13.977767184492206. Distance: 0.20847264142322208
Total norm for 9 adversaries is: 13.977767184492206. distance: 0.20847264142322208
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 2.7031, Accuracy: 1011/8991 (11.2446%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 8, internal_epoch   1,  Average loss: 0.0170, Accuracy: 135/171 (78.9474%), train_poison_data_count: 171
Global model norm: 13.979678527890549.
Norm before scaling: 13.987710190626382. Distance: 0.40244877009422453
Total norm for 9 adversaries is: 13.987710190626382. distance: 0.40244877009422453
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 5.2874, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 9, internal_epoch   1,  Average loss: 0.0237, Accuracy: 168/263 (63.8783%), train_poison_data_count: 263
Global model norm: 13.979678527890549.
Norm before scaling: 14.000385824064145. Distance: 0.8464114282261962
Total norm for 9 adversaries is: 14.000385824064145. distance: 0.8464114282261962
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 6.3179, Accuracy: 1844/8991 (20.5094%)
time spent on training: 38.387479305267334
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.93743248 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 55: Average loss: 2.5699, Accuracy: 2809/10000 (28.0900%), Attack Success Rate:8/10000(0.080)
___Test Target_Simple poisoned: True, epoch: 55: Average loss: 2.3211, Accuracy: 2809/8991 (31.2424%)
Done in 102.57106876373291 sec.
Server Epoch:56 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  56, local model 0, internal_epoch   1,  Average loss: 0.0097, Accuracy: 272/300 (90.6667%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 5.2898, Accuracy: 1154/10000 (11.5400%), Attack Success Rate:11/10000(0.110)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 1, internal_epoch   1,  Average loss: 0.0418, Accuracy: 21/84 (25.0000%), train_poison_data_count: 84
Global model norm: 13.98198194433811.
Norm before scaling: 13.980910774655104. Distance: 0.17507886429391856
Total norm for 9 adversaries is: 13.980910774655104. distance: 0.17507886429391856
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 2.2315, Accuracy: 4060/8991 (45.1563%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 2, internal_epoch   1,  Average loss: 0.0230, Accuracy: 91/119 (76.4706%), train_poison_data_count: 119
Global model norm: 13.98198194433811.
Norm before scaling: 13.988028721366197. Distance: 0.16404814316738728
Total norm for 9 adversaries is: 13.988028721366197. distance: 0.16404814316738728
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 3.2252, Accuracy: 1257/8991 (13.9806%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 3, internal_epoch   1,  Average loss: 0.0159, Accuracy: 754/1010 (74.6535%), train_poison_data_count: 1010
Global model norm: 13.98198194433811.
Norm before scaling: 13.998493658498806. Distance: 1.2186695952668953
Total norm for 9 adversaries is: 13.998493658498806. distance: 1.2186695952668953
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 4.3471, Accuracy: 2686/8991 (29.8743%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 4, internal_epoch   1,  Average loss: 0.0128, Accuracy: 389/463 (84.0173%), train_poison_data_count: 463
Global model norm: 13.98198194433811.
Norm before scaling: 14.017145284917202. Distance: 1.363561038624486
Total norm for 9 adversaries is: 14.017145284917202. distance: 1.363561038624486
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 14.4929, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 5, internal_epoch   1,  Average loss: 0.0122, Accuracy: 907/1046 (86.7113%), train_poison_data_count: 1046
Global model norm: 13.98198194433811.
Norm before scaling: 13.970947638928703. Distance: 1.7693314934289521
Total norm for 9 adversaries is: 13.970947638928703. distance: 1.7693314934289521
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 5.3255, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 6, internal_epoch   1,  Average loss: 0.0074, Accuracy: 1736/1982 (87.5883%), train_poison_data_count: 1982
Global model norm: 13.98198194433811.
Norm before scaling: 13.980588807461592. Distance: 1.6823382376099305
Total norm for 9 adversaries is: 13.980588807461592. distance: 1.6823382376099305
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 12.3966, Accuracy: 2501/8991 (27.8167%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 7, internal_epoch   1,  Average loss: 0.0389, Accuracy: 54/86 (62.7907%), train_poison_data_count: 86
Global model norm: 13.98198194433811.
Norm before scaling: 13.979668704406444. Distance: 0.20529414107922764
Total norm for 9 adversaries is: 13.979668704406444. distance: 0.20529414107922764
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 2.6760, Accuracy: 1017/8991 (11.3113%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 8, internal_epoch   1,  Average loss: 0.0183, Accuracy: 134/171 (78.3626%), train_poison_data_count: 171
Global model norm: 13.98198194433811.
Norm before scaling: 13.98820761901174. Distance: 0.3758944136804482
Total norm for 9 adversaries is: 13.98820761901174. distance: 0.3758944136804482
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 4.8820, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 9, internal_epoch   1,  Average loss: 0.0229, Accuracy: 172/263 (65.3992%), train_poison_data_count: 263
Global model norm: 13.98198194433811.
Norm before scaling: 14.001881064337168. Distance: 0.8474693268032988
Total norm for 9 adversaries is: 14.001881064337168. distance: 0.8474693268032988
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 6.3252, Accuracy: 1829/8991 (20.3426%)
time spent on training: 39.01781368255615
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 56: Average loss: 2.5749, Accuracy: 2796/10000 (27.9600%), Attack Success Rate:8/10000(0.080)
___Test Target_Simple poisoned: True, epoch: 56: Average loss: 2.3211, Accuracy: 2796/8991 (31.0978%)
Done in 103.19732642173767 sec.
Server Epoch:57 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  57, local model 0, internal_epoch   1,  Average loss: 0.0089, Accuracy: 281/300 (93.6667%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 5.7940, Accuracy: 1143/10000 (11.4300%), Attack Success Rate:15/10000(0.150)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 1, internal_epoch   1,  Average loss: 0.0418, Accuracy: 24/84 (28.5714%), train_poison_data_count: 84
Global model norm: 13.984320988897094.
Norm before scaling: 13.983300194380863. Distance: 0.17781051639663933
Total norm for 9 adversaries is: 13.983300194380863. distance: 0.17781051639663933
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 2.2308, Accuracy: 4037/8991 (44.9005%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 2, internal_epoch   1,  Average loss: 0.0217, Accuracy: 92/119 (77.3109%), train_poison_data_count: 119
Global model norm: 13.984320988897094.
Norm before scaling: 13.990668865626732. Distance: 0.16948829889067707
Total norm for 9 adversaries is: 13.990668865626732. distance: 0.16948829889067707
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 3.3839, Accuracy: 1036/8991 (11.5226%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 3, internal_epoch   1,  Average loss: 0.0153, Accuracy: 774/1010 (76.6337%), train_poison_data_count: 1010
Global model norm: 13.984320988897094.
Norm before scaling: 13.995937848001368. Distance: 1.1883236387819507
Total norm for 9 adversaries is: 13.995937848001368. distance: 1.1883236387819507
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 4.0222, Accuracy: 2681/8991 (29.8187%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 4, internal_epoch   1,  Average loss: 0.0118, Accuracy: 390/463 (84.2333%), train_poison_data_count: 463
Global model norm: 13.984320988897094.
Norm before scaling: 14.018462405271407. Distance: 1.3554297889584765
Total norm for 9 adversaries is: 14.018462405271407. distance: 1.3554297889584765
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 13.8523, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 5, internal_epoch   1,  Average loss: 0.0126, Accuracy: 911/1046 (87.0937%), train_poison_data_count: 1046
Global model norm: 13.984320988897094.
Norm before scaling: 13.975238701107386. Distance: 1.7799022327319292
Total norm for 9 adversaries is: 13.975238701107386. distance: 1.7799022327319292
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 5.7430, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 6, internal_epoch   1,  Average loss: 0.0073, Accuracy: 1745/1982 (88.0424%), train_poison_data_count: 1982
Global model norm: 13.984320988897094.
Norm before scaling: 13.986301805108946. Distance: 1.711641837289433
Total norm for 9 adversaries is: 13.986301805108946. distance: 1.711641837289433
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 12.3227, Accuracy: 2624/8991 (29.1847%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 7, internal_epoch   1,  Average loss: 0.0393, Accuracy: 52/86 (60.4651%), train_poison_data_count: 86
Global model norm: 13.984320988897094.
Norm before scaling: 13.98184662024689. Distance: 0.20804239263228977
Total norm for 9 adversaries is: 13.98184662024689. distance: 0.20804239263228977
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 2.6921, Accuracy: 1026/8991 (11.4114%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 8, internal_epoch   1,  Average loss: 0.0175, Accuracy: 135/171 (78.9474%), train_poison_data_count: 171
Global model norm: 13.984320988897094.
Norm before scaling: 13.990584886061825. Distance: 0.3780508512511329
Total norm for 9 adversaries is: 13.990584886061825. distance: 0.3780508512511329
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 5.0101, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 9, internal_epoch   1,  Average loss: 0.0245, Accuracy: 173/263 (65.7795%), train_poison_data_count: 263
Global model norm: 13.984320988897094.
Norm before scaling: 14.003289517451616. Distance: 0.8345708281490662
Total norm for 9 adversaries is: 14.003289517451616. distance: 0.8345708281490662
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 6.3727, Accuracy: 1579/8991 (17.5620%)
time spent on training: 39.52780771255493
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 57: Average loss: 2.5830, Accuracy: 2731/10000 (27.3100%), Attack Success Rate:11/10000(0.110)
___Test Target_Simple poisoned: True, epoch: 57: Average loss: 2.3231, Accuracy: 2731/8991 (30.3748%)
Done in 104.25717616081238 sec.
Server Epoch:58 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  58, local model 0, internal_epoch   1,  Average loss: 0.0086, Accuracy: 280/300 (93.3333%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 5.7967, Accuracy: 1139/10000 (11.3900%), Attack Success Rate:11/10000(0.110)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 1, internal_epoch   1,  Average loss: 0.0408, Accuracy: 26/84 (30.9524%), train_poison_data_count: 84
Global model norm: 13.986668369910104.
Norm before scaling: 13.985672840439415. Distance: 0.18315410730956724
Total norm for 9 adversaries is: 13.985672840439415. distance: 0.18315410730956724
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 2.2418, Accuracy: 3900/8991 (43.3767%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 2, internal_epoch   1,  Average loss: 0.0214, Accuracy: 91/119 (76.4706%), train_poison_data_count: 119
Global model norm: 13.986668369910104.
Norm before scaling: 13.992800905210206. Distance: 0.16133154549101503
Total norm for 9 adversaries is: 13.992800905210206. distance: 0.16133154549101503
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 3.1844, Accuracy: 1623/8991 (18.0514%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 3, internal_epoch   1,  Average loss: 0.0154, Accuracy: 778/1010 (77.0297%), train_poison_data_count: 1010
Global model norm: 13.986668369910104.
Norm before scaling: 14.001831479847166. Distance: 1.2478333292005324
Total norm for 9 adversaries is: 14.001831479847166. distance: 1.2478333292005324
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 3.9453, Accuracy: 2514/8991 (27.9613%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 4, internal_epoch   1,  Average loss: 0.0152, Accuracy: 391/463 (84.4492%), train_poison_data_count: 463
Global model norm: 13.986668369910104.
Norm before scaling: 14.017736915857263. Distance: 1.3640094113151084
Total norm for 9 adversaries is: 14.017736915857263. distance: 1.3640094113151084
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 12.0870, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 5, internal_epoch   1,  Average loss: 0.0120, Accuracy: 917/1046 (87.6673%), train_poison_data_count: 1046
Global model norm: 13.986668369910104.
Norm before scaling: 13.981664367183276. Distance: 1.7613744970305643
Total norm for 9 adversaries is: 13.981664367183276. distance: 1.7613744970305643
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 6.4891, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 6, internal_epoch   1,  Average loss: 0.0072, Accuracy: 1729/1982 (87.2351%), train_poison_data_count: 1982
Global model norm: 13.986668369910104.
Norm before scaling: 13.978178729391763. Distance: 1.6649960330537845
Total norm for 9 adversaries is: 13.978178729391763. distance: 1.6649960330537845
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 9.7350, Accuracy: 2655/8991 (29.5295%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 7, internal_epoch   1,  Average loss: 0.0393, Accuracy: 54/86 (62.7907%), train_poison_data_count: 86
Global model norm: 13.986668369910104.
Norm before scaling: 13.98404929351848. Distance: 0.21689363846129237
Total norm for 9 adversaries is: 13.98404929351848. distance: 0.21689363846129237
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 2.6972, Accuracy: 1043/8991 (11.6005%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 8, internal_epoch   1,  Average loss: 0.0166, Accuracy: 132/171 (77.1930%), train_poison_data_count: 171
Global model norm: 13.986668369910104.
Norm before scaling: 13.992770917136218. Distance: 0.3829541236328691
Total norm for 9 adversaries is: 13.992770917136218. distance: 0.3829541236328691
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 5.0121, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 9, internal_epoch   1,  Average loss: 0.0214, Accuracy: 184/263 (69.9620%), train_poison_data_count: 263
Global model norm: 13.986668369910104.
Norm before scaling: 14.007791258524051. Distance: 0.8497436417344297
Total norm for 9 adversaries is: 14.007791258524051. distance: 0.8497436417344297
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 6.6397, Accuracy: 1835/8991 (20.4093%)
time spent on training: 39.2823691368103
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.        0.        1.        1.        0.        0.        0.5602213
 0.        0.        0.       ]
___Test Target_Simple poisoned: False, epoch: 58: Average loss: 2.5971, Accuracy: 2672/10000 (26.7200%), Attack Success Rate:10/10000(0.100)
___Test Target_Simple poisoned: True, epoch: 58: Average loss: 2.3329, Accuracy: 2672/8991 (29.7186%)
Done in 102.22396850585938 sec.
Server Epoch:59 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  59, local model 0, internal_epoch   1,  Average loss: 0.0089, Accuracy: 275/300 (91.6667%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 5.0684, Accuracy: 1184/10000 (11.8400%), Attack Success Rate:9/10000(0.090)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 1, internal_epoch   1,  Average loss: 0.0408, Accuracy: 23/84 (27.3810%), train_poison_data_count: 84
Global model norm: 13.988516866557962.
Norm before scaling: 13.987464742471204. Distance: 0.18395391604915168
Total norm for 9 adversaries is: 13.987464742471204. distance: 0.18395391604915168
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 2.2319, Accuracy: 3923/8991 (43.6325%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 2, internal_epoch   1,  Average loss: 0.0235, Accuracy: 79/119 (66.3866%), train_poison_data_count: 119
Global model norm: 13.988516866557962.
Norm before scaling: 13.99356476157266. Distance: 0.15876969973667482
Total norm for 9 adversaries is: 13.99356476157266. distance: 0.15876969973667482
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 3.0058, Accuracy: 1835/8991 (20.4093%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 3, internal_epoch   1,  Average loss: 0.0153, Accuracy: 785/1010 (77.7228%), train_poison_data_count: 1010
Global model norm: 13.988516866557962.
Norm before scaling: 13.99716539296746. Distance: 1.1696940153991746
Total norm for 9 adversaries is: 13.99716539296746. distance: 1.1696940153991746
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 3.7391, Accuracy: 2730/8991 (30.3637%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 4, internal_epoch   1,  Average loss: 0.0115, Accuracy: 396/463 (85.5292%), train_poison_data_count: 463
Global model norm: 13.988516866557962.
Norm before scaling: 14.02517017934436. Distance: 1.3906362297376198
Total norm for 9 adversaries is: 14.02517017934436. distance: 1.3906362297376198
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 14.1370, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 5, internal_epoch   1,  Average loss: 0.0121, Accuracy: 919/1046 (87.8585%), train_poison_data_count: 1046
Global model norm: 13.988516866557962.
Norm before scaling: 13.978912275399697. Distance: 1.8075370585334625
Total norm for 9 adversaries is: 13.978912275399697. distance: 1.8075370585334625
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 4.8428, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 6, internal_epoch   1,  Average loss: 0.0074, Accuracy: 1738/1982 (87.6892%), train_poison_data_count: 1982
Global model norm: 13.988516866557962.
Norm before scaling: 13.978757273349679. Distance: 1.673005123183027
Total norm for 9 adversaries is: 13.978757273349679. distance: 1.673005123183027
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 10.1284, Accuracy: 2556/8991 (28.4284%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 7, internal_epoch   1,  Average loss: 0.0431, Accuracy: 46/86 (53.4884%), train_poison_data_count: 86
Global model norm: 13.988516866557962.
Norm before scaling: 13.98618888812309. Distance: 0.22144575842009856
Total norm for 9 adversaries is: 13.98618888812309. distance: 0.22144575842009856
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 2.7573, Accuracy: 1047/8991 (11.6450%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 8, internal_epoch   1,  Average loss: 0.0191, Accuracy: 125/171 (73.0994%), train_poison_data_count: 171
Global model norm: 13.988516866557962.
Norm before scaling: 13.993167299761035. Distance: 0.3940228500808084
Total norm for 9 adversaries is: 13.993167299761035. distance: 0.3940228500808084
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 4.9307, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 9, internal_epoch   1,  Average loss: 0.0215, Accuracy: 191/263 (72.6236%), train_poison_data_count: 263
Global model norm: 13.988516866557962.
Norm before scaling: 14.010195153433969. Distance: 0.8644280045173782
Total norm for 9 adversaries is: 14.010195153433969. distance: 0.8644280045173782
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 6.7577, Accuracy: 1781/8991 (19.8087%)
time spent on training: 38.88578534126282
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 59: Average loss: 2.5769, Accuracy: 2814/10000 (28.1400%), Attack Success Rate:6/10000(0.060)
___Test Target_Simple poisoned: True, epoch: 59: Average loss: 2.3087, Accuracy: 2816/8991 (31.3202%)
Done in 102.30396914482117 sec.
Server Epoch:60 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  60, local model 0, internal_epoch   1,  Average loss: 0.0079, Accuracy: 275/300 (91.6667%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 5.1108, Accuracy: 1186/10000 (11.8600%), Attack Success Rate:12/10000(0.120)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 1, internal_epoch   1,  Average loss: 0.0397, Accuracy: 28/84 (33.3333%), train_poison_data_count: 84
Global model norm: 13.99075339000448.
Norm before scaling: 13.989800688910107. Distance: 0.18530921773914624
Total norm for 9 adversaries is: 13.989800688910107. distance: 0.18530921773914624
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 2.2403, Accuracy: 3874/8991 (43.0875%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 2, internal_epoch   1,  Average loss: 0.0221, Accuracy: 93/119 (78.1513%), train_poison_data_count: 119
Global model norm: 13.99075339000448.
Norm before scaling: 13.996486222867297. Distance: 0.15794538176984543
Total norm for 9 adversaries is: 13.996486222867297. distance: 0.15794538176984543
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 3.1496, Accuracy: 1613/8991 (17.9402%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 3, internal_epoch   1,  Average loss: 0.0153, Accuracy: 766/1010 (75.8416%), train_poison_data_count: 1010
Global model norm: 13.99075339000448.
Norm before scaling: 14.000148772402888. Distance: 1.2082004254789191
Total norm for 9 adversaries is: 14.000148772402888. distance: 1.2082004254789191
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 4.3020, Accuracy: 2237/8991 (24.8804%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 4, internal_epoch   1,  Average loss: 0.0120, Accuracy: 397/463 (85.7451%), train_poison_data_count: 463
Global model norm: 13.99075339000448.
Norm before scaling: 14.025125573015993. Distance: 1.373426534112024
Total norm for 9 adversaries is: 14.025125573015993. distance: 1.373426534112024
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 14.3094, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 5, internal_epoch   1,  Average loss: 0.0119, Accuracy: 914/1046 (87.3805%), train_poison_data_count: 1046
Global model norm: 13.99075339000448.
Norm before scaling: 13.977548307534233. Distance: 1.7698469743474468
Total norm for 9 adversaries is: 13.977548307534233. distance: 1.7698469743474468
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 5.2239, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 6, internal_epoch   1,  Average loss: 0.0077, Accuracy: 1714/1982 (86.4783%), train_poison_data_count: 1982
Global model norm: 13.99075339000448.
Norm before scaling: 13.976349062966438. Distance: 1.6795612376463172
Total norm for 9 adversaries is: 13.976349062966438. distance: 1.6795612376463172
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 6.0102, Accuracy: 2724/8991 (30.2970%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 7, internal_epoch   1,  Average loss: 0.0413, Accuracy: 51/86 (59.3023%), train_poison_data_count: 86
Global model norm: 13.99075339000448.
Norm before scaling: 13.988545772945695. Distance: 0.2153341591658518
Total norm for 9 adversaries is: 13.988545772945695. distance: 0.2153341591658518
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 2.7602, Accuracy: 1075/8991 (11.9564%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 8, internal_epoch   1,  Average loss: 0.0207, Accuracy: 131/171 (76.6082%), train_poison_data_count: 171
Global model norm: 13.99075339000448.
Norm before scaling: 13.995189385204274. Distance: 0.3704932926371364
Total norm for 9 adversaries is: 13.995189385204274. distance: 0.3704932926371364
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 4.7539, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 9, internal_epoch   1,  Average loss: 0.0212, Accuracy: 179/263 (68.0608%), train_poison_data_count: 263
Global model norm: 13.99075339000448.
Norm before scaling: 14.01174543052241. Distance: 0.8538128577532422
Total norm for 9 adversaries is: 14.01174543052241. distance: 0.8538128577532422
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 6.6662, Accuracy: 1824/8991 (20.2870%)
time spent on training: 38.977898597717285
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.49110915 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 60: Average loss: 2.5910, Accuracy: 2740/10000 (27.4000%), Attack Success Rate:13/10000(0.130)
___Test Target_Simple poisoned: True, epoch: 60: Average loss: 2.3198, Accuracy: 2740/8991 (30.4749%)
Done in 102.45065641403198 sec.
Server Epoch:61 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  61, local model 0, internal_epoch   1,  Average loss: 0.0074, Accuracy: 278/300 (92.6667%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 5.4478, Accuracy: 1176/10000 (11.7600%), Attack Success Rate:20/10000(0.200)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 1, internal_epoch   1,  Average loss: 0.0399, Accuracy: 27/84 (32.1429%), train_poison_data_count: 84
Global model norm: 13.992391426138193.
Norm before scaling: 13.991297605704993. Distance: 0.1881049549633254
Total norm for 9 adversaries is: 13.991297605704993. distance: 0.1881049549633254
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 2.2297, Accuracy: 3883/8991 (43.1876%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 2, internal_epoch   1,  Average loss: 0.0230, Accuracy: 96/119 (80.6723%), train_poison_data_count: 119
Global model norm: 13.992391426138193.
Norm before scaling: 13.998131218570023. Distance: 0.15756936346348266
Total norm for 9 adversaries is: 13.998131218570023. distance: 0.15756936346348266
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 3.1838, Accuracy: 1406/8991 (15.6379%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 3, internal_epoch   1,  Average loss: 0.0138, Accuracy: 801/1010 (79.3069%), train_poison_data_count: 1010
Global model norm: 13.992391426138193.
Norm before scaling: 14.005621190320614. Distance: 1.1181782417564403
Total norm for 9 adversaries is: 14.005621190320614. distance: 1.1181782417564403
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 4.7485, Accuracy: 2703/8991 (30.0634%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 4, internal_epoch   1,  Average loss: 0.0114, Accuracy: 399/463 (86.1771%), train_poison_data_count: 463
Global model norm: 13.992391426138193.
Norm before scaling: 14.027547708939096. Distance: 1.3897377355411473
Total norm for 9 adversaries is: 14.027547708939096. distance: 1.3897377355411473
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 13.8015, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 5, internal_epoch   1,  Average loss: 0.0119, Accuracy: 911/1046 (87.0937%), train_poison_data_count: 1046
Global model norm: 13.992391426138193.
Norm before scaling: 13.979025251163124. Distance: 1.7795359077228534
Total norm for 9 adversaries is: 13.979025251163124. distance: 1.7795359077228534
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 5.2615, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 6, internal_epoch   1,  Average loss: 0.0070, Accuracy: 1760/1982 (88.7992%), train_poison_data_count: 1982
Global model norm: 13.992391426138193.
Norm before scaling: 13.981637629258543. Distance: 1.6685349086485377
Total norm for 9 adversaries is: 13.981637629258543. distance: 1.6685349086485377
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 10.0262, Accuracy: 2540/8991 (28.2505%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 7, internal_epoch   1,  Average loss: 0.0409, Accuracy: 52/86 (60.4651%), train_poison_data_count: 86
Global model norm: 13.992391426138193.
Norm before scaling: 13.989826865880245. Distance: 0.21694648151439225
Total norm for 9 adversaries is: 13.989826865880245. distance: 0.21694648151439225
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 2.7256, Accuracy: 1169/8991 (13.0019%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 8, internal_epoch   1,  Average loss: 0.0186, Accuracy: 133/171 (77.7778%), train_poison_data_count: 171
Global model norm: 13.992391426138193.
Norm before scaling: 13.997625422051224. Distance: 0.378739408747829
Total norm for 9 adversaries is: 13.997625422051224. distance: 0.378739408747829
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 4.8800, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 9, internal_epoch   1,  Average loss: 0.0212, Accuracy: 193/263 (73.3840%), train_poison_data_count: 263
Global model norm: 13.992391426138193.
Norm before scaling: 14.012898633937233. Distance: 0.8726592430124892
Total norm for 9 adversaries is: 14.012898633937233. distance: 0.8726592430124892
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 6.7884, Accuracy: 1761/8991 (19.5863%)
time spent on training: 39.42222857475281
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.60310441 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 61: Average loss: 2.5981, Accuracy: 2697/10000 (26.9700%), Attack Success Rate:9/10000(0.090)
___Test Target_Simple poisoned: True, epoch: 61: Average loss: 2.3223, Accuracy: 2699/8991 (30.0189%)
Done in 103.91681718826294 sec.
Server Epoch:62 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  62, local model 0, internal_epoch   1,  Average loss: 0.0084, Accuracy: 276/300 (92.0000%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 5.0551, Accuracy: 1195/10000 (11.9500%), Attack Success Rate:14/10000(0.140)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 1, internal_epoch   1,  Average loss: 0.0397, Accuracy: 28/84 (33.3333%), train_poison_data_count: 84
Global model norm: 13.994338389434771.
Norm before scaling: 13.993096420611252. Distance: 0.19350966960689334
Total norm for 9 adversaries is: 13.993096420611252. distance: 0.19350966960689334
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 2.2297, Accuracy: 3788/8991 (42.1310%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 2, internal_epoch   1,  Average loss: 0.0216, Accuracy: 93/119 (78.1513%), train_poison_data_count: 119
Global model norm: 13.994338389434771.
Norm before scaling: 13.9999792916281. Distance: 0.15670300618558108
Total norm for 9 adversaries is: 13.9999792916281. distance: 0.15670300618558108
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 3.1438, Accuracy: 1677/8991 (18.6520%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 3, internal_epoch   1,  Average loss: 0.0130, Accuracy: 812/1010 (80.3960%), train_poison_data_count: 1010
Global model norm: 13.994338389434771.
Norm before scaling: 14.011911502019618. Distance: 1.0951453980713566
Total norm for 9 adversaries is: 14.011911502019618. distance: 1.0951453980713566
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 5.7955, Accuracy: 2481/8991 (27.5943%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 4, internal_epoch   1,  Average loss: 0.0130, Accuracy: 393/463 (84.8812%), train_poison_data_count: 463
Global model norm: 13.994338389434771.
Norm before scaling: 14.026779176190704. Distance: 1.412542464031528
Total norm for 9 adversaries is: 14.026779176190704. distance: 1.412542464031528
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 12.6150, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 5, internal_epoch   1,  Average loss: 0.0126, Accuracy: 920/1046 (87.9541%), train_poison_data_count: 1046
Global model norm: 13.994338389434771.
Norm before scaling: 13.99263842360371. Distance: 1.8514585827988645
Total norm for 9 adversaries is: 13.99263842360371. distance: 1.8514585827988645
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 6.0381, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 6, internal_epoch   1,  Average loss: 0.0080, Accuracy: 1731/1982 (87.3360%), train_poison_data_count: 1982
Global model norm: 13.994338389434771.
Norm before scaling: 13.986537455012543. Distance: 1.7436228770744193
Total norm for 9 adversaries is: 13.986537455012543. distance: 1.7436228770744193
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 5.3672, Accuracy: 2672/8991 (29.7186%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 7, internal_epoch   1,  Average loss: 0.0397, Accuracy: 48/86 (55.8140%), train_poison_data_count: 86
Global model norm: 13.994338389434771.
Norm before scaling: 13.991130744223396. Distance: 0.2289803905654498
Total norm for 9 adversaries is: 13.991130744223396. distance: 0.2289803905654498
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 2.7105, Accuracy: 1304/8991 (14.5034%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 8, internal_epoch   1,  Average loss: 0.0177, Accuracy: 131/171 (76.6082%), train_poison_data_count: 171
Global model norm: 13.994338389434771.
Norm before scaling: 13.999305707881886. Distance: 0.3838218888471679
Total norm for 9 adversaries is: 13.999305707881886. distance: 0.3838218888471679
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 4.8934, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 9, internal_epoch   1,  Average loss: 0.0215, Accuracy: 179/263 (68.0608%), train_poison_data_count: 263
Global model norm: 13.994338389434771.
Norm before scaling: 14.015301108471869. Distance: 0.8746351094312478
Total norm for 9 adversaries is: 14.015301108471869. distance: 0.8746351094312478
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 6.6618, Accuracy: 1844/8991 (20.5094%)
time spent on training: 39.01910400390625
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 62: Average loss: 2.5951, Accuracy: 2709/10000 (27.0900%), Attack Success Rate:6/10000(0.060)
___Test Target_Simple poisoned: True, epoch: 62: Average loss: 2.3149, Accuracy: 2711/8991 (30.1524%)
Done in 103.40522336959839 sec.
Server Epoch:63 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  63, local model 0, internal_epoch   1,  Average loss: 0.0081, Accuracy: 276/300 (92.0000%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 4.9370, Accuracy: 1210/10000 (12.1000%), Attack Success Rate:12/10000(0.120)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 1, internal_epoch   1,  Average loss: 0.0393, Accuracy: 28/84 (33.3333%), train_poison_data_count: 84
Global model norm: 13.996720611136414.
Norm before scaling: 13.995671829392638. Distance: 0.1938681123255281
Total norm for 9 adversaries is: 13.995671829392638. distance: 0.1938681123255281
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 2.2316, Accuracy: 3743/8991 (41.6305%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 2, internal_epoch   1,  Average loss: 0.0218, Accuracy: 92/119 (77.3109%), train_poison_data_count: 119
Global model norm: 13.996720611136414.
Norm before scaling: 14.002221612408789. Distance: 0.15566955279117511
Total norm for 9 adversaries is: 14.002221612408789. distance: 0.15566955279117511
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 3.0609, Accuracy: 2119/8991 (23.5680%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 3, internal_epoch   1,  Average loss: 0.0137, Accuracy: 797/1010 (78.9109%), train_poison_data_count: 1010
Global model norm: 13.996720611136414.
Norm before scaling: 14.006206226748589. Distance: 1.1256002308409454
Total norm for 9 adversaries is: 14.006206226748589. distance: 1.1256002308409454
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 4.3860, Accuracy: 2549/8991 (28.3506%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 4, internal_epoch   1,  Average loss: 0.0117, Accuracy: 397/463 (85.7451%), train_poison_data_count: 463
Global model norm: 13.996720611136414.
Norm before scaling: 14.02911619006054. Distance: 1.3700732484434779
Total norm for 9 adversaries is: 14.02911619006054. distance: 1.3700732484434779
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 13.6628, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 5, internal_epoch   1,  Average loss: 0.0113, Accuracy: 922/1046 (88.1453%), train_poison_data_count: 1046
Global model norm: 13.996720611136414.
Norm before scaling: 13.986192161092031. Distance: 1.7739338453315883
Total norm for 9 adversaries is: 13.986192161092031. distance: 1.7739338453315883
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 5.2398, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 6, internal_epoch   1,  Average loss: 0.0067, Accuracy: 1752/1982 (88.3956%), train_poison_data_count: 1982
Global model norm: 13.996720611136414.
Norm before scaling: 13.984777076098284. Distance: 1.6670835053204587
Total norm for 9 adversaries is: 13.984777076098284. distance: 1.6670835053204587
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 13.0552, Accuracy: 2679/8991 (29.7965%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 7, internal_epoch   1,  Average loss: 0.0406, Accuracy: 50/86 (58.1395%), train_poison_data_count: 86
Global model norm: 13.996720611136414.
Norm before scaling: 13.993637273963959. Distance: 0.22466488857059713
Total norm for 9 adversaries is: 13.993637273963959. distance: 0.22466488857059713
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 2.7007, Accuracy: 1345/8991 (14.9594%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 8, internal_epoch   1,  Average loss: 0.0165, Accuracy: 134/171 (78.3626%), train_poison_data_count: 171
Global model norm: 13.996720611136414.
Norm before scaling: 14.002723428952468. Distance: 0.3853017296256483
Total norm for 9 adversaries is: 14.002723428952468. distance: 0.3853017296256483
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 4.9790, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 9, internal_epoch   1,  Average loss: 0.0204, Accuracy: 189/263 (71.8631%), train_poison_data_count: 263
Global model norm: 13.996720611136414.
Norm before scaling: 14.0183339642694. Distance: 0.8862824900257887
Total norm for 9 adversaries is: 14.0183339642694. distance: 0.8862824900257887
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 6.9147, Accuracy: 1761/8991 (19.5863%)
time spent on training: 38.860297203063965
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.36321254 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 63: Average loss: 2.6013, Accuracy: 2641/10000 (26.4100%), Attack Success Rate:14/10000(0.140)
___Test Target_Simple poisoned: True, epoch: 63: Average loss: 2.3193, Accuracy: 2642/8991 (29.3849%)
Done in 102.57815480232239 sec.
Server Epoch:64 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  64, local model 0, internal_epoch   1,  Average loss: 0.0074, Accuracy: 277/300 (92.3333%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 5.0376, Accuracy: 1235/10000 (12.3500%), Attack Success Rate:17/10000(0.170)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 1, internal_epoch   1,  Average loss: 0.0396, Accuracy: 28/84 (33.3333%), train_poison_data_count: 84
Global model norm: 13.99809415651461.
Norm before scaling: 13.996963171607753. Distance: 0.1982801992871016
Total norm for 9 adversaries is: 13.996963171607753. distance: 0.1982801992871016
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 2.2242, Accuracy: 3729/8991 (41.4748%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 2, internal_epoch   1,  Average loss: 0.0203, Accuracy: 93/119 (78.1513%), train_poison_data_count: 119
Global model norm: 13.99809415651461.
Norm before scaling: 14.004050622512425. Distance: 0.1591266180867905
Total norm for 9 adversaries is: 14.004050622512425. distance: 0.1591266180867905
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 3.2018, Accuracy: 1710/8991 (19.0190%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 3, internal_epoch   1,  Average loss: 0.0128, Accuracy: 818/1010 (80.9901%), train_poison_data_count: 1010
Global model norm: 13.99809415651461.
Norm before scaling: 14.012523499332158. Distance: 1.0687537990747935
Total norm for 9 adversaries is: 14.012523499332158. distance: 1.0687537990747935
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 5.3529, Accuracy: 2508/8991 (27.8946%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 4, internal_epoch   1,  Average loss: 0.0131, Accuracy: 398/463 (85.9611%), train_poison_data_count: 463
Global model norm: 13.99809415651461.
Norm before scaling: 14.0293190355961. Distance: 1.4043840532473668
Total norm for 9 adversaries is: 14.0293190355961. distance: 1.4043840532473668
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 12.2926, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 5, internal_epoch   1,  Average loss: 0.0117, Accuracy: 919/1046 (87.8585%), train_poison_data_count: 1046
Global model norm: 13.99809415651461.
Norm before scaling: 13.98710365313404. Distance: 1.8055702461557956
Total norm for 9 adversaries is: 13.98710365313404. distance: 1.8055702461557956
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 5.1520, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 6, internal_epoch   1,  Average loss: 0.0067, Accuracy: 1734/1982 (87.4874%), train_poison_data_count: 1982
Global model norm: 13.99809415651461.
Norm before scaling: 14.001374313474217. Distance: 1.746920396354843
Total norm for 9 adversaries is: 14.001374313474217. distance: 1.746920396354843
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 11.1445, Accuracy: 2684/8991 (29.8521%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 7, internal_epoch   1,  Average loss: 0.0416, Accuracy: 44/86 (51.1628%), train_poison_data_count: 86
Global model norm: 13.99809415651461.
Norm before scaling: 13.994963148585759. Distance: 0.2340686862723928
Total norm for 9 adversaries is: 13.994963148585759. distance: 0.2340686862723928
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 2.7402, Accuracy: 1324/8991 (14.7258%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 8, internal_epoch   1,  Average loss: 0.0199, Accuracy: 131/171 (76.6082%), train_poison_data_count: 171
Global model norm: 13.99809415651461.
Norm before scaling: 14.001711604530545. Distance: 0.3864192380777775
Total norm for 9 adversaries is: 14.001711604530545. distance: 0.3864192380777775
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 4.7345, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 9, internal_epoch   1,  Average loss: 0.0204, Accuracy: 181/263 (68.8213%), train_poison_data_count: 263
Global model norm: 13.99809415651461.
Norm before scaling: 14.019551385294818. Distance: 0.8754884854947824
Total norm for 9 adversaries is: 14.019551385294818. distance: 0.8754884854947824
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 6.8233, Accuracy: 1811/8991 (20.1424%)
time spent on training: 38.97240090370178
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.43794748 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 64: Average loss: 2.6313, Accuracy: 2534/10000 (25.3400%), Attack Success Rate:13/10000(0.130)
___Test Target_Simple poisoned: True, epoch: 64: Average loss: 2.3440, Accuracy: 2534/8991 (28.1837%)
Done in 102.18823671340942 sec.
Server Epoch:65 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  65, local model 0, internal_epoch   1,  Average loss: 0.0064, Accuracy: 282/300 (94.0000%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 5.1687, Accuracy: 1200/10000 (12.0000%), Attack Success Rate:15/10000(0.150)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 1, internal_epoch   1,  Average loss: 0.0393, Accuracy: 27/84 (32.1429%), train_poison_data_count: 84
Global model norm: 13.999979836585647.
Norm before scaling: 13.9985737755324. Distance: 0.2039865963952597
Total norm for 9 adversaries is: 13.9985737755324. distance: 0.2039865963952597
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 2.2275, Accuracy: 3655/8991 (40.6518%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 2, internal_epoch   1,  Average loss: 0.0203, Accuracy: 92/119 (77.3109%), train_poison_data_count: 119
Global model norm: 13.999979836585647.
Norm before scaling: 14.005679477168806. Distance: 0.1577153161576226
Total norm for 9 adversaries is: 14.005679477168806. distance: 0.1577153161576226
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 3.0957, Accuracy: 2327/8991 (25.8814%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 3, internal_epoch   1,  Average loss: 0.0134, Accuracy: 809/1010 (80.0990%), train_poison_data_count: 1010
Global model norm: 13.999979836585647.
Norm before scaling: 14.008011841512454. Distance: 1.094016342431558
Total norm for 9 adversaries is: 14.008011841512454. distance: 1.094016342431558
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 4.0600, Accuracy: 2886/8991 (32.0988%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 4, internal_epoch   1,  Average loss: 0.0108, Accuracy: 399/463 (86.1771%), train_poison_data_count: 463
Global model norm: 13.999979836585647.
Norm before scaling: 14.03544869929101. Distance: 1.3979467457900323
Total norm for 9 adversaries is: 14.03544869929101. distance: 1.3979467457900323
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 14.6247, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 5, internal_epoch   1,  Average loss: 0.0115, Accuracy: 920/1046 (87.9541%), train_poison_data_count: 1046
Global model norm: 13.999979836585647.
Norm before scaling: 13.985897045313518. Distance: 1.774029670695142
Total norm for 9 adversaries is: 13.985897045313518. distance: 1.774029670695142
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 4.9175, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 6, internal_epoch   1,  Average loss: 0.0066, Accuracy: 1763/1982 (88.9506%), train_poison_data_count: 1982
Global model norm: 13.999979836585647.
Norm before scaling: 13.99082046382472. Distance: 1.726983204674352
Total norm for 9 adversaries is: 13.99082046382472. distance: 1.726983204674352
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 11.6059, Accuracy: 2454/8991 (27.2940%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 7, internal_epoch   1,  Average loss: 0.0418, Accuracy: 41/86 (47.6744%), train_poison_data_count: 86
Global model norm: 13.999979836585647.
Norm before scaling: 13.996332505638698. Distance: 0.24126772656071116
Total norm for 9 adversaries is: 13.996332505638698. distance: 0.24126772656071116
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 2.7245, Accuracy: 1470/8991 (16.3497%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 8, internal_epoch   1,  Average loss: 0.0188, Accuracy: 121/171 (70.7602%), train_poison_data_count: 171
Global model norm: 13.999979836585647.
Norm before scaling: 14.003855038260614. Distance: 0.42110399152371847
Total norm for 9 adversaries is: 14.003855038260614. distance: 0.42110399152371847
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 5.0405, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 9, internal_epoch   1,  Average loss: 0.0212, Accuracy: 192/263 (73.0038%), train_poison_data_count: 263
Global model norm: 13.999979836585647.
Norm before scaling: 14.020692519472279. Distance: 0.9021378980055224
Total norm for 9 adversaries is: 14.020692519472279. distance: 0.9021378980055224
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 6.5006, Accuracy: 1789/8991 (19.8977%)
time spent on training: 38.85690689086914
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.41223537 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 65: Average loss: 2.6430, Accuracy: 2519/10000 (25.1900%), Attack Success Rate:18/10000(0.180)
___Test Target_Simple poisoned: True, epoch: 65: Average loss: 2.3517, Accuracy: 2519/8991 (28.0169%)
Done in 103.03120541572571 sec.
Server Epoch:66 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  66, local model 0, internal_epoch   1,  Average loss: 0.0065, Accuracy: 280/300 (93.3333%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 4.6587, Accuracy: 1286/10000 (12.8600%), Attack Success Rate:14/10000(0.140)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 1, internal_epoch   1,  Average loss: 0.0393, Accuracy: 29/84 (34.5238%), train_poison_data_count: 84
Global model norm: 14.00167128260247.
Norm before scaling: 14.0001607613189. Distance: 0.2077529492059877
Total norm for 9 adversaries is: 14.0001607613189. distance: 0.2077529492059877
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 2.2260, Accuracy: 3618/8991 (40.2402%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 2, internal_epoch   1,  Average loss: 0.0197, Accuracy: 86/119 (72.2689%), train_poison_data_count: 119
Global model norm: 14.00167128260247.
Norm before scaling: 14.007173062998717. Distance: 0.1612291914798599
Total norm for 9 adversaries is: 14.007173062998717. distance: 0.1612291914798599
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 3.0752, Accuracy: 2313/8991 (25.7257%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 3, internal_epoch   1,  Average loss: 0.0136, Accuracy: 789/1010 (78.1188%), train_poison_data_count: 1010
Global model norm: 14.00167128260247.
Norm before scaling: 14.01210425138772. Distance: 1.089293364870957
Total norm for 9 adversaries is: 14.01210425138772. distance: 1.089293364870957
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 4.3383, Accuracy: 2820/8991 (31.3647%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 4, internal_epoch   1,  Average loss: 0.0121, Accuracy: 400/463 (86.3931%), train_poison_data_count: 463
Global model norm: 14.00167128260247.
Norm before scaling: 14.033276383985884. Distance: 1.418353404266557
Total norm for 9 adversaries is: 14.033276383985884. distance: 1.418353404266557
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 12.3728, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 5, internal_epoch   1,  Average loss: 0.0118, Accuracy: 919/1046 (87.8585%), train_poison_data_count: 1046
Global model norm: 14.00167128260247.
Norm before scaling: 14.002278278804143. Distance: 1.8736134806772677
Total norm for 9 adversaries is: 14.002278278804143. distance: 1.8736134806772677
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 6.3577, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 6, internal_epoch   1,  Average loss: 0.0071, Accuracy: 1724/1982 (86.9828%), train_poison_data_count: 1982
Global model norm: 14.00167128260247.
Norm before scaling: 13.994257702973265. Distance: 1.756857107988064
Total norm for 9 adversaries is: 13.994257702973265. distance: 1.756857107988064
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 8.4380, Accuracy: 2657/8991 (29.5518%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 7, internal_epoch   1,  Average loss: 0.0413, Accuracy: 43/86 (50.0000%), train_poison_data_count: 86
Global model norm: 14.00167128260247.
Norm before scaling: 13.997942092054103. Distance: 0.24626316566660017
Total norm for 9 adversaries is: 13.997942092054103. distance: 0.24626316566660017
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 2.7427, Accuracy: 1482/8991 (16.4831%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 8, internal_epoch   1,  Average loss: 0.0203, Accuracy: 121/171 (70.7602%), train_poison_data_count: 171
Global model norm: 14.00167128260247.
Norm before scaling: 14.003750979787746. Distance: 0.41083818693305246
Total norm for 9 adversaries is: 14.003750979787746. distance: 0.41083818693305246
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 4.7385, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 9, internal_epoch   1,  Average loss: 0.0210, Accuracy: 194/263 (73.7643%), train_poison_data_count: 263
Global model norm: 14.00167128260247.
Norm before scaling: 14.021034787201202. Distance: 0.901151389495603
Total norm for 9 adversaries is: 14.021034787201202. distance: 0.901151389495603
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 6.5102, Accuracy: 1806/8991 (20.0868%)
time spent on training: 38.73018026351929
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.53700936 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 66: Average loss: 2.6383, Accuracy: 2546/10000 (25.4600%), Attack Success Rate:12/10000(0.120)
___Test Target_Simple poisoned: True, epoch: 66: Average loss: 2.3439, Accuracy: 2547/8991 (28.3283%)
Done in 102.28558683395386 sec.
Server Epoch:67 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  67, local model 0, internal_epoch   1,  Average loss: 0.0064, Accuracy: 281/300 (93.6667%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 4.9002, Accuracy: 1210/10000 (12.1000%), Attack Success Rate:13/10000(0.130)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 1, internal_epoch   1,  Average loss: 0.0396, Accuracy: 29/84 (34.5238%), train_poison_data_count: 84
Global model norm: 14.003431172206566.
Norm before scaling: 14.001936097466631. Distance: 0.20728446662002387
Total norm for 9 adversaries is: 14.001936097466631. distance: 0.20728446662002387
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 2.2243, Accuracy: 3647/8991 (40.5628%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 2, internal_epoch   1,  Average loss: 0.0190, Accuracy: 89/119 (74.7899%), train_poison_data_count: 119
Global model norm: 14.003431172206566.
Norm before scaling: 14.008961125696976. Distance: 0.1562643402194789
Total norm for 9 adversaries is: 14.008961125696976. distance: 0.1562643402194789
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 3.0920, Accuracy: 2389/8991 (26.5710%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 3, internal_epoch   1,  Average loss: 0.0133, Accuracy: 823/1010 (81.4851%), train_poison_data_count: 1010
Global model norm: 14.003431172206566.
Norm before scaling: 14.010388470967602. Distance: 1.1043040472012955
Total norm for 9 adversaries is: 14.010388470967602. distance: 1.1043040472012955
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 3.8932, Accuracy: 2932/8991 (32.6104%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 4, internal_epoch   1,  Average loss: 0.0122, Accuracy: 399/463 (86.1771%), train_poison_data_count: 463
Global model norm: 14.003431172206566.
Norm before scaling: 14.03803644692363. Distance: 1.4533969255556864
Total norm for 9 adversaries is: 14.03803644692363. distance: 1.4533969255556864
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 13.3580, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 5, internal_epoch   1,  Average loss: 0.0115, Accuracy: 922/1046 (88.1453%), train_poison_data_count: 1046
Global model norm: 14.003431172206566.
Norm before scaling: 14.00397380562506. Distance: 1.8933671343947214
Total norm for 9 adversaries is: 14.00397380562506. distance: 1.8933671343947214
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 6.3514, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 6, internal_epoch   1,  Average loss: 0.0068, Accuracy: 1731/1982 (87.3360%), train_poison_data_count: 1982
Global model norm: 14.003431172206566.
Norm before scaling: 13.989805597095739. Distance: 1.7103845408214724
Total norm for 9 adversaries is: 13.989805597095739. distance: 1.7103845408214724
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 10.0516, Accuracy: 2547/8991 (28.3283%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 7, internal_epoch   1,  Average loss: 0.0407, Accuracy: 45/86 (52.3256%), train_poison_data_count: 86
Global model norm: 14.003431172206566.
Norm before scaling: 13.999574382306848. Distance: 0.24624174451544587
Total norm for 9 adversaries is: 13.999574382306848. distance: 0.24624174451544587
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 2.7284, Accuracy: 1569/8991 (17.4508%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 8, internal_epoch   1,  Average loss: 0.0166, Accuracy: 124/171 (72.5146%), train_poison_data_count: 171
Global model norm: 14.003431172206566.
Norm before scaling: 14.007485159832571. Distance: 0.41462347428964325
Total norm for 9 adversaries is: 14.007485159832571. distance: 0.41462347428964325
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 5.0532, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 9, internal_epoch   1,  Average loss: 0.0205, Accuracy: 196/263 (74.5247%), train_poison_data_count: 263
Global model norm: 14.003431172206566.
Norm before scaling: 14.024092516039586. Distance: 0.9017673980223259
Total norm for 9 adversaries is: 14.024092516039586. distance: 0.9017673980223259
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 6.6697, Accuracy: 1793/8991 (19.9422%)
time spent on training: 39.16258192062378
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.58685151 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 67: Average loss: 2.6468, Accuracy: 2569/10000 (25.6900%), Attack Success Rate:15/10000(0.150)
___Test Target_Simple poisoned: True, epoch: 67: Average loss: 2.3489, Accuracy: 2570/8991 (28.5841%)
Done in 102.73710989952087 sec.
Server Epoch:68 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  68, local model 0, internal_epoch   1,  Average loss: 0.0054, Accuracy: 287/300 (95.6667%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 5.2123, Accuracy: 1209/10000 (12.0900%), Attack Success Rate:19/10000(0.190)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 1, internal_epoch   1,  Average loss: 0.0387, Accuracy: 29/84 (34.5238%), train_poison_data_count: 84
Global model norm: 14.005274187895251.
Norm before scaling: 14.003856127874041. Distance: 0.20902927308552807
Total norm for 9 adversaries is: 14.003856127874041. distance: 0.20902927308552807
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 2.2261, Accuracy: 3607/8991 (40.1179%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 2, internal_epoch   1,  Average loss: 0.0197, Accuracy: 88/119 (73.9496%), train_poison_data_count: 119
Global model norm: 14.005274187895251.
Norm before scaling: 14.010599755812672. Distance: 0.1672896585565647
Total norm for 9 adversaries is: 14.010599755812672. distance: 0.1672896585565647
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 3.0622, Accuracy: 1991/8991 (22.1444%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 3, internal_epoch   1,  Average loss: 0.0135, Accuracy: 802/1010 (79.4059%), train_poison_data_count: 1010
Global model norm: 14.005274187895251.
Norm before scaling: 14.01434626534956. Distance: 1.1159208893748152
Total norm for 9 adversaries is: 14.01434626534956. distance: 1.1159208893748152
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 4.6624, Accuracy: 2483/8991 (27.6165%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 4, internal_epoch   1,  Average loss: 0.0108, Accuracy: 400/463 (86.3931%), train_poison_data_count: 463
Global model norm: 14.005274187895251.
Norm before scaling: 14.042721007898152. Distance: 1.4560295527519138
Total norm for 9 adversaries is: 14.042721007898152. distance: 1.4560295527519138
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 14.0474, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 5, internal_epoch   1,  Average loss: 0.0122, Accuracy: 923/1046 (88.2409%), train_poison_data_count: 1046
Global model norm: 14.005274187895251.
Norm before scaling: 14.00192411007072. Distance: 1.9166302953945613
Total norm for 9 adversaries is: 14.00192411007072. distance: 1.9166302953945613
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 5.5624, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 6, internal_epoch   1,  Average loss: 0.0067, Accuracy: 1755/1982 (88.5469%), train_poison_data_count: 1982
Global model norm: 14.005274187895251.
Norm before scaling: 13.999064822979024. Distance: 1.7543200576055704
Total norm for 9 adversaries is: 13.999064822979024. distance: 1.7543200576055704
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 11.0319, Accuracy: 2560/8991 (28.4729%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 7, internal_epoch   1,  Average loss: 0.0409, Accuracy: 46/86 (53.4884%), train_poison_data_count: 86
Global model norm: 14.005274187895251.
Norm before scaling: 14.001122020991021. Distance: 0.24774021807047156
Total norm for 9 adversaries is: 14.001122020991021. distance: 0.24774021807047156
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 2.7284, Accuracy: 1634/8991 (18.1737%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 8, internal_epoch   1,  Average loss: 0.0169, Accuracy: 132/171 (77.1930%), train_poison_data_count: 171
Global model norm: 14.005274187895251.
Norm before scaling: 14.01017228188733. Distance: 0.41680589574974886
Total norm for 9 adversaries is: 14.01017228188733. distance: 0.41680589574974886
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 5.2799, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 9, internal_epoch   1,  Average loss: 0.0203, Accuracy: 192/263 (73.0038%), train_poison_data_count: 263
Global model norm: 14.005274187895251.
Norm before scaling: 14.027015233900272. Distance: 0.9254773763924067
Total norm for 9 adversaries is: 14.027015233900272. distance: 0.9254773763924067
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 6.8205, Accuracy: 1834/8991 (20.3982%)
time spent on training: 39.02884078025818
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 68: Average loss: 2.6087, Accuracy: 2822/10000 (28.2200%), Attack Success Rate:9/10000(0.090)
___Test Target_Simple poisoned: True, epoch: 68: Average loss: 2.3071, Accuracy: 2824/8991 (31.4092%)
Done in 104.45777750015259 sec.
Server Epoch:69 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  69, local model 0, internal_epoch   1,  Average loss: 0.0069, Accuracy: 283/300 (94.3333%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 4.7292, Accuracy: 1314/10000 (13.1400%), Attack Success Rate:16/10000(0.160)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 1, internal_epoch   1,  Average loss: 0.0385, Accuracy: 26/84 (30.9524%), train_poison_data_count: 84
Global model norm: 14.007605530400708.
Norm before scaling: 14.006744939799317. Distance: 0.20796480764067257
Total norm for 9 adversaries is: 14.006744939799317. distance: 0.20796480764067257
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 2.2436, Accuracy: 3624/8991 (40.3070%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 2, internal_epoch   1,  Average loss: 0.0188, Accuracy: 94/119 (78.9916%), train_poison_data_count: 119
Global model norm: 14.007605530400708.
Norm before scaling: 14.01345941149916. Distance: 0.15527130821255558
Total norm for 9 adversaries is: 14.01345941149916. distance: 0.15527130821255558
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 3.1144, Accuracy: 2444/8991 (27.1827%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 3, internal_epoch   1,  Average loss: 0.0128, Accuracy: 810/1010 (80.1980%), train_poison_data_count: 1010
Global model norm: 14.007605530400708.
Norm before scaling: 14.008555386742685. Distance: 1.0523127629872855
Total norm for 9 adversaries is: 14.008555386742685. distance: 1.0523127629872855
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 4.0177, Accuracy: 2801/8991 (31.1534%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 4, internal_epoch   1,  Average loss: 0.0121, Accuracy: 402/463 (86.8251%), train_poison_data_count: 463
Global model norm: 14.007605530400708.
Norm before scaling: 14.036104241919801. Distance: 1.397353663349103
Total norm for 9 adversaries is: 14.036104241919801. distance: 1.397353663349103
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 11.9622, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 5, internal_epoch   1,  Average loss: 0.0121, Accuracy: 919/1046 (87.8585%), train_poison_data_count: 1046
Global model norm: 14.007605530400708.
Norm before scaling: 14.007255853761448. Distance: 1.8619717969059426
Total norm for 9 adversaries is: 14.007255853761448. distance: 1.8619717969059426
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 6.7713, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 6, internal_epoch   1,  Average loss: 0.0065, Accuracy: 1751/1982 (88.3451%), train_poison_data_count: 1982
Global model norm: 14.007605530400708.
Norm before scaling: 13.987723826508718. Distance: 1.6673064513883422
Total norm for 9 adversaries is: 13.987723826508718. distance: 1.6673064513883422
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 10.1809, Accuracy: 2736/8991 (30.4304%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 7, internal_epoch   1,  Average loss: 0.0428, Accuracy: 48/86 (55.8140%), train_poison_data_count: 86
Global model norm: 14.007605530400708.
Norm before scaling: 14.00459704537479. Distance: 0.22889041325074155
Total norm for 9 adversaries is: 14.00459704537479. distance: 0.22889041325074155
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 2.7902, Accuracy: 1647/8991 (18.3183%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 8, internal_epoch   1,  Average loss: 0.0152, Accuracy: 136/171 (79.5322%), train_poison_data_count: 171
Global model norm: 14.007605530400708.
Norm before scaling: 14.01269881748031. Distance: 0.38329201463526724
Total norm for 9 adversaries is: 14.01269881748031. distance: 0.38329201463526724
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 5.1291, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 9, internal_epoch   1,  Average loss: 0.0219, Accuracy: 192/263 (73.0038%), train_poison_data_count: 263
Global model norm: 14.007605530400708.
Norm before scaling: 14.028889956727465. Distance: 0.9149848978953792
Total norm for 9 adversaries is: 14.028889956727465. distance: 0.9149848978953792
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 6.8740, Accuracy: 1841/8991 (20.4760%)
time spent on training: 39.50284814834595
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.36277515 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 69: Average loss: 2.6222, Accuracy: 2785/10000 (27.8500%), Attack Success Rate:9/10000(0.090)
___Test Target_Simple poisoned: True, epoch: 69: Average loss: 2.3182, Accuracy: 2788/8991 (31.0088%)
Done in 103.58955550193787 sec.
Server Epoch:70 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  70, local model 0, internal_epoch   1,  Average loss: 0.0051, Accuracy: 287/300 (95.6667%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 4.8524, Accuracy: 1258/10000 (12.5800%), Attack Success Rate:16/10000(0.160)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 1, internal_epoch   1,  Average loss: 0.0381, Accuracy: 31/84 (36.9048%), train_poison_data_count: 84
Global model norm: 14.009029201551472.
Norm before scaling: 14.0079856985249. Distance: 0.21277150487468538
Total norm for 9 adversaries is: 14.0079856985249. distance: 0.21277150487468538
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 2.2419, Accuracy: 3556/8991 (39.5507%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 2, internal_epoch   1,  Average loss: 0.0184, Accuracy: 97/119 (81.5126%), train_poison_data_count: 119
Global model norm: 14.009029201551472.
Norm before scaling: 14.014899363705924. Distance: 0.1537685463252504
Total norm for 9 adversaries is: 14.014899363705924. distance: 0.1537685463252504
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 3.1611, Accuracy: 2410/8991 (26.8046%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 3, internal_epoch   1,  Average loss: 0.0126, Accuracy: 818/1010 (80.9901%), train_poison_data_count: 1010
Global model norm: 14.009029201551472.
Norm before scaling: 14.01274291890521. Distance: 1.0641850405137192
Total norm for 9 adversaries is: 14.01274291890521. distance: 1.0641850405137192
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 4.1050, Accuracy: 2862/8991 (31.8318%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 4, internal_epoch   1,  Average loss: 0.0123, Accuracy: 400/463 (86.3931%), train_poison_data_count: 463
Global model norm: 14.009029201551472.
Norm before scaling: 14.03698422986687. Distance: 1.417564733867198
Total norm for 9 adversaries is: 14.03698422986687. distance: 1.417564733867198
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 11.8539, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 5, internal_epoch   1,  Average loss: 0.0107, Accuracy: 920/1046 (87.9541%), train_poison_data_count: 1046
Global model norm: 14.009029201551472.
Norm before scaling: 13.994137762778841. Distance: 1.767612857371985
Total norm for 9 adversaries is: 13.994137762778841. distance: 1.767612857371985
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 5.0563, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 6, internal_epoch   1,  Average loss: 0.0064, Accuracy: 1765/1982 (89.0515%), train_poison_data_count: 1982
Global model norm: 14.009029201551472.
Norm before scaling: 13.991541350763224. Distance: 1.6786663411215623
Total norm for 9 adversaries is: 13.991541350763224. distance: 1.6786663411215623
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 10.7592, Accuracy: 2707/8991 (30.1079%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 7, internal_epoch   1,  Average loss: 0.0410, Accuracy: 50/86 (58.1395%), train_poison_data_count: 86
Global model norm: 14.009029201551472.
Norm before scaling: 14.005629906126423. Distance: 0.2363701223463239
Total norm for 9 adversaries is: 14.005629906126423. distance: 0.2363701223463239
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 2.7850, Accuracy: 1689/8991 (18.7855%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 8, internal_epoch   1,  Average loss: 0.0145, Accuracy: 137/171 (80.1170%), train_poison_data_count: 171
Global model norm: 14.009029201551472.
Norm before scaling: 14.014392539178695. Distance: 0.3890862867445196
Total norm for 9 adversaries is: 14.014392539178695. distance: 0.3890862867445196
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 5.1824, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 9, internal_epoch   1,  Average loss: 0.0202, Accuracy: 195/263 (74.1445%), train_poison_data_count: 263
Global model norm: 14.009029201551472.
Norm before scaling: 14.029339156843218. Distance: 0.899360646868305
Total norm for 9 adversaries is: 14.029339156843218. distance: 0.899360646868305
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 6.9441, Accuracy: 1822/8991 (20.2647%)
time spent on training: 39.026246547698975
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.12981973 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 70: Average loss: 2.6514, Accuracy: 2722/10000 (27.2200%), Attack Success Rate:11/10000(0.110)
___Test Target_Simple poisoned: True, epoch: 70: Average loss: 2.3444, Accuracy: 2723/8991 (30.2858%)
Done in 103.99405789375305 sec.
Server Epoch:71 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  71, local model 0, internal_epoch   1,  Average loss: 0.0055, Accuracy: 285/300 (95.0000%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 4.6545, Accuracy: 1335/10000 (13.3500%), Attack Success Rate:20/10000(0.200)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 1, internal_epoch   1,  Average loss: 0.0389, Accuracy: 30/84 (35.7143%), train_poison_data_count: 84
Global model norm: 14.010352530444898.
Norm before scaling: 14.008970384032622. Distance: 0.21918698498752678
Total norm for 9 adversaries is: 14.008970384032622. distance: 0.21918698498752678
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 2.2322, Accuracy: 3541/8991 (39.3838%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 2, internal_epoch   1,  Average loss: 0.0186, Accuracy: 93/119 (78.1513%), train_poison_data_count: 119
Global model norm: 14.010352530444898.
Norm before scaling: 14.01591078042675. Distance: 0.15277636675171016
Total norm for 9 adversaries is: 14.01591078042675. distance: 0.15277636675171016
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 3.0885, Accuracy: 2559/8991 (28.4618%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 3, internal_epoch   1,  Average loss: 0.0126, Accuracy: 818/1010 (80.9901%), train_poison_data_count: 1010
Global model norm: 14.010352530444898.
Norm before scaling: 14.013003168932062. Distance: 1.0406670478825804
Total norm for 9 adversaries is: 14.013003168932062. distance: 1.0406670478825804
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 3.9676, Accuracy: 2783/8991 (30.9532%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 4, internal_epoch   1,  Average loss: 0.0138, Accuracy: 401/463 (86.6091%), train_poison_data_count: 463
Global model norm: 14.010352530444898.
Norm before scaling: 14.040662840930812. Distance: 1.4289909291817053
Total norm for 9 adversaries is: 14.040662840930812. distance: 1.4289909291817053
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 12.2218, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 5, internal_epoch   1,  Average loss: 0.0110, Accuracy: 920/1046 (87.9541%), train_poison_data_count: 1046
Global model norm: 14.010352530444898.
Norm before scaling: 13.99734853431931. Distance: 1.8282874923611223
Total norm for 9 adversaries is: 13.99734853431931. distance: 1.8282874923611223
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 5.0137, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 6, internal_epoch   1,  Average loss: 0.0065, Accuracy: 1753/1982 (88.4460%), train_poison_data_count: 1982
Global model norm: 14.010352530444898.
Norm before scaling: 14.002423212964281. Distance: 1.751811112141569
Total norm for 9 adversaries is: 14.002423212964281. distance: 1.751811112141569
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 12.8679, Accuracy: 2650/8991 (29.4739%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 7, internal_epoch   1,  Average loss: 0.0433, Accuracy: 44/86 (51.1628%), train_poison_data_count: 86
Global model norm: 14.010352530444898.
Norm before scaling: 14.006847886649107. Distance: 0.2502440513052432
Total norm for 9 adversaries is: 14.006847886649107. distance: 0.2502440513052432
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 2.8687, Accuracy: 1648/8991 (18.3294%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 8, internal_epoch   1,  Average loss: 0.0174, Accuracy: 129/171 (75.4386%), train_poison_data_count: 171
Global model norm: 14.010352530444898.
Norm before scaling: 14.013598241313517. Distance: 0.408696693012494
Total norm for 9 adversaries is: 14.013598241313517. distance: 0.408696693012494
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 5.1041, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 9, internal_epoch   1,  Average loss: 0.0201, Accuracy: 189/263 (71.8631%), train_poison_data_count: 263
Global model norm: 14.010352530444898.
Norm before scaling: 14.031352223319168. Distance: 0.9296342850529572
Total norm for 9 adversaries is: 14.031352223319168. distance: 0.9296342850529572
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 6.8280, Accuracy: 1826/8991 (20.3092%)
time spent on training: 39.15464186668396
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 71: Average loss: 2.6794, Accuracy: 2613/10000 (26.1300%), Attack Success Rate:12/10000(0.120)
___Test Target_Simple poisoned: True, epoch: 71: Average loss: 2.3715, Accuracy: 2613/8991 (29.0624%)
Done in 103.34465646743774 sec.
Server Epoch:72 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  72, local model 0, internal_epoch   1,  Average loss: 0.0049, Accuracy: 285/300 (95.0000%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 4.6260, Accuracy: 1353/10000 (13.5300%), Attack Success Rate:18/10000(0.180)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 1, internal_epoch   1,  Average loss: 0.0392, Accuracy: 28/84 (33.3333%), train_poison_data_count: 84
Global model norm: 14.011355018627135.
Norm before scaling: 14.009517159592685. Distance: 0.2212693117221279
Total norm for 9 adversaries is: 14.009517159592685. distance: 0.2212693117221279
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 2.2075, Accuracy: 3614/8991 (40.1958%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 2, internal_epoch   1,  Average loss: 0.0190, Accuracy: 93/119 (78.1513%), train_poison_data_count: 119
Global model norm: 14.011355018627135.
Norm before scaling: 14.016587376379727. Distance: 0.14936643352444948
Total norm for 9 adversaries is: 14.016587376379727. distance: 0.14936643352444948
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 3.0361, Accuracy: 2597/8991 (28.8844%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 3, internal_epoch   1,  Average loss: 0.0119, Accuracy: 817/1010 (80.8911%), train_poison_data_count: 1010
Global model norm: 14.011355018627135.
Norm before scaling: 14.014169334593895. Distance: 0.9995941888416658
Total norm for 9 adversaries is: 14.014169334593895. distance: 0.9995941888416658
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 4.6377, Accuracy: 2647/8991 (29.4406%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 4, internal_epoch   1,  Average loss: 0.0121, Accuracy: 401/463 (86.6091%), train_poison_data_count: 463
Global model norm: 14.011355018627135.
Norm before scaling: 14.044559954182994. Distance: 1.4595397954195877
Total norm for 9 adversaries is: 14.044559954182994. distance: 1.4595397954195877
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 13.3624, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 5, internal_epoch   1,  Average loss: 0.0119, Accuracy: 924/1046 (88.3365%), train_poison_data_count: 1046
Global model norm: 14.011355018627135.
Norm before scaling: 14.012928578937325. Distance: 1.9231638114813896
Total norm for 9 adversaries is: 14.012928578937325. distance: 1.9231638114813896
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 6.1688, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 6, internal_epoch   1,  Average loss: 0.0074, Accuracy: 1699/1982 (85.7215%), train_poison_data_count: 1982
Global model norm: 14.011355018627135.
Norm before scaling: 13.99543633329021. Distance: 1.8029432578697595
Total norm for 9 adversaries is: 13.99543633329021. distance: 1.8029432578697595
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 7.0247, Accuracy: 2622/8991 (29.1625%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 7, internal_epoch   1,  Average loss: 0.0410, Accuracy: 46/86 (53.4884%), train_poison_data_count: 86
Global model norm: 14.011355018627135.
Norm before scaling: 14.006732411824155. Distance: 0.25865087598467595
Total norm for 9 adversaries is: 14.006732411824155. distance: 0.25865087598467595
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 2.7803, Accuracy: 1751/8991 (19.4750%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 8, internal_epoch   1,  Average loss: 0.0167, Accuracy: 127/171 (74.2690%), train_poison_data_count: 171
Global model norm: 14.011355018627135.
Norm before scaling: 14.014281481732082. Distance: 0.41568990501771447
Total norm for 9 adversaries is: 14.014281481732082. distance: 0.41568990501771447
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 4.9831, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 9, internal_epoch   1,  Average loss: 0.0207, Accuracy: 187/263 (71.1027%), train_poison_data_count: 263
Global model norm: 14.011355018627135.
Norm before scaling: 14.032373871854048. Distance: 0.9664729645012091
Total norm for 9 adversaries is: 14.032373871854048. distance: 0.9664729645012091
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 6.7201, Accuracy: 1776/8991 (19.7531%)
time spent on training: 39.000274896621704
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.        0.        1.        1.        0.        0.        0.4256304
 0.        0.        0.       ]
___Test Target_Simple poisoned: False, epoch: 72: Average loss: 2.6914, Accuracy: 2584/10000 (25.8400%), Attack Success Rate:13/10000(0.130)
___Test Target_Simple poisoned: True, epoch: 72: Average loss: 2.3808, Accuracy: 2584/8991 (28.7399%)
Done in 103.56084895133972 sec.
Server Epoch:73 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  73, local model 0, internal_epoch   1,  Average loss: 0.0053, Accuracy: 281/300 (93.6667%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 4.2400, Accuracy: 1447/10000 (14.4700%), Attack Success Rate:20/10000(0.200)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 1, internal_epoch   1,  Average loss: 0.0395, Accuracy: 29/84 (34.5238%), train_poison_data_count: 84
Global model norm: 14.012832754711784.
Norm before scaling: 14.01096895209473. Distance: 0.22626004090078974
Total norm for 9 adversaries is: 14.01096895209473. distance: 0.22626004090078974
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 2.2131, Accuracy: 3559/8991 (39.5840%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 2, internal_epoch   1,  Average loss: 0.0174, Accuracy: 91/119 (76.4706%), train_poison_data_count: 119
Global model norm: 14.012832754711784.
Norm before scaling: 14.018078167242816. Distance: 0.15673397925821975
Total norm for 9 adversaries is: 14.018078167242816. distance: 0.15673397925821975
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 3.0344, Accuracy: 2451/8991 (27.2606%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 3, internal_epoch   1,  Average loss: 0.0123, Accuracy: 823/1010 (81.4851%), train_poison_data_count: 1010
Global model norm: 14.012832754711784.
Norm before scaling: 14.018027551533306. Distance: 1.0232271750015645
Total norm for 9 adversaries is: 14.018027551533306. distance: 1.0232271750015645
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 4.1341, Accuracy: 2714/8991 (30.1857%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 4, internal_epoch   1,  Average loss: 0.0155, Accuracy: 399/463 (86.1771%), train_poison_data_count: 463
Global model norm: 14.012832754711784.
Norm before scaling: 14.042287448702657. Distance: 1.4810894392208174
Total norm for 9 adversaries is: 14.042287448702657. distance: 1.4810894392208174
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 11.8770, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 5, internal_epoch   1,  Average loss: 0.0114, Accuracy: 922/1046 (88.1453%), train_poison_data_count: 1046
Global model norm: 14.012832754711784.
Norm before scaling: 14.008304312859558. Distance: 1.9081712015345595
Total norm for 9 adversaries is: 14.008304312859558. distance: 1.9081712015345595
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 5.7412, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 6, internal_epoch   1,  Average loss: 0.0070, Accuracy: 1720/1982 (86.7810%), train_poison_data_count: 1982
Global model norm: 14.012832754711784.
Norm before scaling: 14.01385139802258. Distance: 1.8464754295253485
Total norm for 9 adversaries is: 14.01385139802258. distance: 1.8464754295253485
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 7.7668, Accuracy: 2735/8991 (30.4193%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 7, internal_epoch   1,  Average loss: 0.0416, Accuracy: 40/86 (46.5116%), train_poison_data_count: 86
Global model norm: 14.012832754711784.
Norm before scaling: 14.008004761124809. Distance: 0.26724251353659123
Total norm for 9 adversaries is: 14.008004761124809. distance: 0.26724251353659123
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 2.8133, Accuracy: 1735/8991 (19.2971%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 8, internal_epoch   1,  Average loss: 0.0185, Accuracy: 128/171 (74.8538%), train_poison_data_count: 171
Global model norm: 14.012832754711784.
Norm before scaling: 14.015630443491139. Distance: 0.4062214437865401
Total norm for 9 adversaries is: 14.015630443491139. distance: 0.4062214437865401
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 4.8142, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 9, internal_epoch   1,  Average loss: 0.0236, Accuracy: 186/263 (70.7224%), train_poison_data_count: 263
Global model norm: 14.012832754711784.
Norm before scaling: 14.032252082639557. Distance: 0.9537225319842907
Total norm for 9 adversaries is: 14.032252082639557. distance: 0.9537225319842907
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 6.4218, Accuracy: 1573/8991 (17.4953%)
time spent on training: 39.49829459190369
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.88917717 0.09007758 0.09007758 0.        ]
___Test Target_Simple poisoned: False, epoch: 73: Average loss: 2.6500, Accuracy: 2802/10000 (28.0200%), Attack Success Rate:9/10000(0.090)
___Test Target_Simple poisoned: True, epoch: 73: Average loss: 2.3368, Accuracy: 2802/8991 (31.1645%)
Done in 103.33246970176697 sec.
Server Epoch:74 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  74, local model 0, internal_epoch   1,  Average loss: 0.0050, Accuracy: 281/300 (93.6667%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 4.4092, Accuracy: 1383/10000 (13.8300%), Attack Success Rate:20/10000(0.200)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 1, internal_epoch   1,  Average loss: 0.0386, Accuracy: 28/84 (33.3333%), train_poison_data_count: 84
Global model norm: 14.014910795626742.
Norm before scaling: 14.013542709552818. Distance: 0.2239490588433908
Total norm for 9 adversaries is: 14.013542709552818. distance: 0.2239490588433908
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 2.2318, Accuracy: 3517/8991 (39.1169%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 2, internal_epoch   1,  Average loss: 0.0176, Accuracy: 99/119 (83.1933%), train_poison_data_count: 119
Global model norm: 14.014910795626742.
Norm before scaling: 14.020744213862075. Distance: 0.14992477671611532
Total norm for 9 adversaries is: 14.020744213862075. distance: 0.14992477671611532
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 3.1907, Accuracy: 2364/8991 (26.2930%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 3, internal_epoch   1,  Average loss: 0.0114, Accuracy: 830/1010 (82.1782%), train_poison_data_count: 1010
Global model norm: 14.014910795626742.
Norm before scaling: 14.018729079864851. Distance: 1.0042173148608367
Total norm for 9 adversaries is: 14.018729079864851. distance: 1.0042173148608367
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 4.3924, Accuracy: 2838/8991 (31.5649%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 4, internal_epoch   1,  Average loss: 0.0119, Accuracy: 401/463 (86.6091%), train_poison_data_count: 463
Global model norm: 14.014910795626742.
Norm before scaling: 14.046066243924344. Distance: 1.453333439797797
Total norm for 9 adversaries is: 14.046066243924344. distance: 1.453333439797797
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 12.7789, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 5, internal_epoch   1,  Average loss: 0.0113, Accuracy: 921/1046 (88.0497%), train_poison_data_count: 1046
Global model norm: 14.014910795626742.
Norm before scaling: 14.00616101530747. Distance: 1.859981726382331
Total norm for 9 adversaries is: 14.00616101530747. distance: 1.859981726382331
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 5.1807, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 6, internal_epoch   1,  Average loss: 0.0062, Accuracy: 1753/1982 (88.4460%), train_poison_data_count: 1982
Global model norm: 14.014910795626742.
Norm before scaling: 14.002486961725094. Distance: 1.7572287713512154
Total norm for 9 adversaries is: 14.002486961725094. distance: 1.7572287713512154
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 12.0769, Accuracy: 2616/8991 (29.0958%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 7, internal_epoch   1,  Average loss: 0.0402, Accuracy: 48/86 (55.8140%), train_poison_data_count: 86
Global model norm: 14.014910795626742.
Norm before scaling: 14.0107413366579. Distance: 0.25362755078348626
Total norm for 9 adversaries is: 14.0107413366579. distance: 0.25362755078348626
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 2.8096, Accuracy: 1782/8991 (19.8198%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 8, internal_epoch   1,  Average loss: 0.0150, Accuracy: 131/171 (76.6082%), train_poison_data_count: 171
Global model norm: 14.014910795626742.
Norm before scaling: 14.017614455200587. Distance: 0.38266765033878497
Total norm for 9 adversaries is: 14.017614455200587. distance: 0.38266765033878497
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 4.8365, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 9, internal_epoch   1,  Average loss: 0.0202, Accuracy: 187/263 (71.1027%), train_poison_data_count: 263
Global model norm: 14.014910795626742.
Norm before scaling: 14.036113482351627. Distance: 0.9477373973699817
Total norm for 9 adversaries is: 14.036113482351627. distance: 0.9477373973699817
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 6.8803, Accuracy: 1815/8991 (20.1869%)
time spent on training: 39.895174980163574
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.45453705 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 74: Average loss: 2.6758, Accuracy: 2750/10000 (27.5000%), Attack Success Rate:9/10000(0.090)
___Test Target_Simple poisoned: True, epoch: 74: Average loss: 2.3585, Accuracy: 2751/8991 (30.5973%)
Done in 103.76506876945496 sec.
Server Epoch:75 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  75, local model 0, internal_epoch   1,  Average loss: 0.0057, Accuracy: 280/300 (93.3333%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 4.1142, Accuracy: 1463/10000 (14.6300%), Attack Success Rate:26/10000(0.260)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 1, internal_epoch   1,  Average loss: 0.0384, Accuracy: 32/84 (38.0952%), train_poison_data_count: 84
Global model norm: 14.016552540378376.
Norm before scaling: 14.014941280703336. Distance: 0.22983923298840137
Total norm for 9 adversaries is: 14.014941280703336. distance: 0.22983923298840137
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 2.2401, Accuracy: 3469/8991 (38.5830%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 2, internal_epoch   1,  Average loss: 0.0178, Accuracy: 93/119 (78.1513%), train_poison_data_count: 119
Global model norm: 14.016552540378376.
Norm before scaling: 14.02164965100565. Distance: 0.14922180771815496
Total norm for 9 adversaries is: 14.02164965100565. distance: 0.14922180771815496
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 3.0263, Accuracy: 2644/8991 (29.4072%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 3, internal_epoch   1,  Average loss: 0.0126, Accuracy: 821/1010 (81.2871%), train_poison_data_count: 1010
Global model norm: 14.016552540378376.
Norm before scaling: 14.01896799422293. Distance: 1.054508787484813
Total norm for 9 adversaries is: 14.01896799422293. distance: 1.054508787484813
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 3.6871, Accuracy: 2898/8991 (32.2322%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 4, internal_epoch   1,  Average loss: 0.0117, Accuracy: 402/463 (86.8251%), train_poison_data_count: 463
Global model norm: 14.016552540378376.
Norm before scaling: 14.047912355675287. Distance: 1.4670783736623525
Total norm for 9 adversaries is: 14.047912355675287. distance: 1.4670783736623525
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 12.6261, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 5, internal_epoch   1,  Average loss: 0.0114, Accuracy: 923/1046 (88.2409%), train_poison_data_count: 1046
Global model norm: 14.016552540378376.
Norm before scaling: 14.01076910811739. Distance: 1.8878699792687703
Total norm for 9 adversaries is: 14.01076910811739. distance: 1.8878699792687703
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 5.6815, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 6, internal_epoch   1,  Average loss: 0.0063, Accuracy: 1766/1982 (89.1019%), train_poison_data_count: 1982
Global model norm: 14.016552540378376.
Norm before scaling: 13.997294573277143. Distance: 1.7325993977006333
Total norm for 9 adversaries is: 13.997294573277143. distance: 1.7325993977006333
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 10.3893, Accuracy: 2623/8991 (29.1736%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 7, internal_epoch   1,  Average loss: 0.0403, Accuracy: 46/86 (53.4884%), train_poison_data_count: 86
Global model norm: 14.016552540378376.
Norm before scaling: 14.011840717687722. Distance: 0.2533500742138817
Total norm for 9 adversaries is: 14.011840717687722. distance: 0.2533500742138817
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 2.7465, Accuracy: 1879/8991 (20.8987%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 8, internal_epoch   1,  Average loss: 0.0154, Accuracy: 131/171 (76.6082%), train_poison_data_count: 171
Global model norm: 14.016552540378376.
Norm before scaling: 14.01994102476507. Distance: 0.38885396018109214
Total norm for 9 adversaries is: 14.01994102476507. distance: 0.38885396018109214
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 4.8537, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 9, internal_epoch   1,  Average loss: 0.0205, Accuracy: 195/263 (74.1445%), train_poison_data_count: 263
Global model norm: 14.016552540378376.
Norm before scaling: 14.036849979558548. Distance: 0.9497364971228244
Total norm for 9 adversaries is: 14.036849979558548. distance: 0.9497364971228244
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 6.7678, Accuracy: 1824/8991 (20.2870%)
time spent on training: 39.06429123878479
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.43182626 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 75: Average loss: 2.6821, Accuracy: 2758/10000 (27.5800%), Attack Success Rate:8/10000(0.080)
___Test Target_Simple poisoned: True, epoch: 75: Average loss: 2.3629, Accuracy: 2759/8991 (30.6862%)
Done in 102.85501337051392 sec.
Server Epoch:76 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  76, local model 0, internal_epoch   1,  Average loss: 0.0049, Accuracy: 283/300 (94.3333%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 4.4612, Accuracy: 1425/10000 (14.2500%), Attack Success Rate:26/10000(0.260)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 1, internal_epoch   1,  Average loss: 0.0381, Accuracy: 30/84 (35.7143%), train_poison_data_count: 84
Global model norm: 14.017984010991805.
Norm before scaling: 14.016583566196296. Distance: 0.23010909579621378
Total norm for 9 adversaries is: 14.016583566196296. distance: 0.23010909579621378
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 2.2343, Accuracy: 3483/8991 (38.7387%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 2, internal_epoch   1,  Average loss: 0.0179, Accuracy: 90/119 (75.6303%), train_poison_data_count: 119
Global model norm: 14.017984010991805.
Norm before scaling: 14.022853726533063. Distance: 0.15725393234765547
Total norm for 9 adversaries is: 14.022853726533063. distance: 0.15725393234765547
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 2.9695, Accuracy: 2332/8991 (25.9370%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 3, internal_epoch   1,  Average loss: 0.0125, Accuracy: 827/1010 (81.8812%), train_poison_data_count: 1010
Global model norm: 14.017984010991805.
Norm before scaling: 14.013314047043073. Distance: 1.04180311580887
Total norm for 9 adversaries is: 14.013314047043073. distance: 1.04180311580887
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 3.5125, Accuracy: 2834/8991 (31.5204%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 4, internal_epoch   1,  Average loss: 0.0122, Accuracy: 400/463 (86.3931%), train_poison_data_count: 463
Global model norm: 14.017984010991805.
Norm before scaling: 14.050075891907467. Distance: 1.456913183915541
Total norm for 9 adversaries is: 14.050075891907467. distance: 1.456913183915541
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 13.4514, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 5, internal_epoch   1,  Average loss: 0.0116, Accuracy: 921/1046 (88.0497%), train_poison_data_count: 1046
Global model norm: 14.017984010991805.
Norm before scaling: 14.009746428651633. Distance: 1.9134415845564154
Total norm for 9 adversaries is: 14.009746428651633. distance: 1.9134415845564154
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 5.3191, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 6, internal_epoch   1,  Average loss: 0.0074, Accuracy: 1733/1982 (87.4369%), train_poison_data_count: 1982
Global model norm: 14.017984010991805.
Norm before scaling: 13.988339609100548. Distance: 1.7451294832911821
Total norm for 9 adversaries is: 13.988339609100548. distance: 1.7451294832911821
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 5.4441, Accuracy: 2479/8991 (27.5720%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 7, internal_epoch   1,  Average loss: 0.0411, Accuracy: 44/86 (51.1628%), train_poison_data_count: 86
Global model norm: 14.017984010991805.
Norm before scaling: 14.012960157231735. Distance: 0.2610315010793897
Total norm for 9 adversaries is: 14.012960157231735. distance: 0.2610315010793897
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 2.7659, Accuracy: 1875/8991 (20.8542%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 8, internal_epoch   1,  Average loss: 0.0164, Accuracy: 128/171 (74.8538%), train_poison_data_count: 171
Global model norm: 14.017984010991805.
Norm before scaling: 14.020410101493555. Distance: 0.4095531025237287
Total norm for 9 adversaries is: 14.020410101493555. distance: 0.4095531025237287
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 4.8914, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 9, internal_epoch   1,  Average loss: 0.0197, Accuracy: 198/263 (75.2852%), train_poison_data_count: 263
Global model norm: 14.017984010991805.
Norm before scaling: 14.038730453954484. Distance: 0.9482172639598365
Total norm for 9 adversaries is: 14.038730453954484. distance: 0.9482172639598365
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 6.9829, Accuracy: 1825/8991 (20.2981%)
time spent on training: 38.98639416694641
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.77136513 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 76: Average loss: 2.6310, Accuracy: 2979/10000 (29.7900%), Attack Success Rate:4/10000(0.040)
___Test Target_Simple poisoned: True, epoch: 76: Average loss: 2.3127, Accuracy: 2981/8991 (33.1554%)
Done in 103.42533993721008 sec.
Server Epoch:77 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  77, local model 0, internal_epoch   1,  Average loss: 0.0054, Accuracy: 287/300 (95.6667%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 4.2748, Accuracy: 1511/10000 (15.1100%), Attack Success Rate:25/10000(0.250)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 1, internal_epoch   1,  Average loss: 0.0378, Accuracy: 33/84 (39.2857%), train_poison_data_count: 84
Global model norm: 14.019432749897774.
Norm before scaling: 14.01822402654482. Distance: 0.22455929736946656
Total norm for 9 adversaries is: 14.01822402654482. distance: 0.22455929736946656
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 2.2200, Accuracy: 3572/8991 (39.7286%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 2, internal_epoch   1,  Average loss: 0.0169, Accuracy: 97/119 (81.5126%), train_poison_data_count: 119
Global model norm: 14.019432749897774.
Norm before scaling: 14.02497108170899. Distance: 0.1495329004055134
Total norm for 9 adversaries is: 14.02497108170899. distance: 0.1495329004055134
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 3.0124, Accuracy: 2659/8991 (29.5740%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 3, internal_epoch   1,  Average loss: 0.0121, Accuracy: 820/1010 (81.1881%), train_poison_data_count: 1010
Global model norm: 14.019432749897774.
Norm before scaling: 14.020573349573878. Distance: 1.009534857406512
Total norm for 9 adversaries is: 14.020573349573878. distance: 1.009534857406512
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 3.9488, Accuracy: 2943/8991 (32.7327%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 4, internal_epoch   1,  Average loss: 0.0118, Accuracy: 399/463 (86.1771%), train_poison_data_count: 463
Global model norm: 14.019432749897774.
Norm before scaling: 14.049795150621025. Distance: 1.458569652846651
Total norm for 9 adversaries is: 14.049795150621025. distance: 1.458569652846651
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 12.6471, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 5, internal_epoch   1,  Average loss: 0.0114, Accuracy: 924/1046 (88.3365%), train_poison_data_count: 1046
Global model norm: 14.019432749897774.
Norm before scaling: 14.017208966723613. Distance: 1.8969848475316102
Total norm for 9 adversaries is: 14.017208966723613. distance: 1.8969848475316102
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 5.4110, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 6, internal_epoch   1,  Average loss: 0.0068, Accuracy: 1753/1982 (88.4460%), train_poison_data_count: 1982
Global model norm: 14.019432749897774.
Norm before scaling: 13.994859023997437. Distance: 1.668408516794479
Total norm for 9 adversaries is: 13.994859023997437. distance: 1.668408516794479
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 9.8141, Accuracy: 2270/8991 (25.2475%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 7, internal_epoch   1,  Average loss: 0.0390, Accuracy: 50/86 (58.1395%), train_poison_data_count: 86
Global model norm: 14.019432749897774.
Norm before scaling: 14.014560756870257. Distance: 0.2543640997142223
Total norm for 9 adversaries is: 14.014560756870257. distance: 0.2543640997142223
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 2.7418, Accuracy: 1895/8991 (21.0766%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 8, internal_epoch   1,  Average loss: 0.0142, Accuracy: 130/171 (76.0234%), train_poison_data_count: 171
Global model norm: 14.019432749897774.
Norm before scaling: 14.023443484504295. Distance: 0.403643683971302
Total norm for 9 adversaries is: 14.023443484504295. distance: 0.403643683971302
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 5.2087, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 9, internal_epoch   1,  Average loss: 0.0190, Accuracy: 194/263 (73.7643%), train_poison_data_count: 263
Global model norm: 14.019432749897774.
Norm before scaling: 14.040398756488754. Distance: 0.9347075518029481
Total norm for 9 adversaries is: 14.040398756488754. distance: 0.9347075518029481
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 7.0789, Accuracy: 1834/8991 (20.3982%)
time spent on training: 39.2562735080719
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.59257553 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 77: Average loss: 2.6253, Accuracy: 3059/10000 (30.5900%), Attack Success Rate:4/10000(0.040)
___Test Target_Simple poisoned: True, epoch: 77: Average loss: 2.3053, Accuracy: 3061/8991 (34.0452%)
Done in 103.94875025749207 sec.
Server Epoch:78 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  78, local model 0, internal_epoch   1,  Average loss: 0.0045, Accuracy: 285/300 (95.0000%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 4.3339, Accuracy: 1424/10000 (14.2400%), Attack Success Rate:17/10000(0.170)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 1, internal_epoch   1,  Average loss: 0.0377, Accuracy: 28/84 (33.3333%), train_poison_data_count: 84
Global model norm: 14.021073965168243.
Norm before scaling: 14.019827290340512. Distance: 0.22363006390210968
Total norm for 9 adversaries is: 14.019827290340512. distance: 0.22363006390210968
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 2.2112, Accuracy: 3625/8991 (40.3181%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 2, internal_epoch   1,  Average loss: 0.0168, Accuracy: 97/119 (81.5126%), train_poison_data_count: 119
Global model norm: 14.021073965168243.
Norm before scaling: 14.026701395937009. Distance: 0.1448422578263605
Total norm for 9 adversaries is: 14.026701395937009. distance: 0.1448422578263605
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 3.1410, Accuracy: 2451/8991 (27.2606%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 3, internal_epoch   1,  Average loss: 0.0118, Accuracy: 838/1010 (82.9703%), train_poison_data_count: 1010
Global model norm: 14.021073965168243.
Norm before scaling: 14.020076525339196. Distance: 1.0154360081820255
Total norm for 9 adversaries is: 14.020076525339196. distance: 1.0154360081820255
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 3.8045, Accuracy: 2913/8991 (32.3991%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 4, internal_epoch   1,  Average loss: 0.0141, Accuracy: 400/463 (86.3931%), train_poison_data_count: 463
Global model norm: 14.021073965168243.
Norm before scaling: 14.048118188347829. Distance: 1.433936470497253
Total norm for 9 adversaries is: 14.048118188347829. distance: 1.433936470497253
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 11.7108, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 5, internal_epoch   1,  Average loss: 0.0109, Accuracy: 920/1046 (87.9541%), train_poison_data_count: 1046
Global model norm: 14.021073965168243.
Norm before scaling: 14.014563478822776. Distance: 1.8870620573156571
Total norm for 9 adversaries is: 14.014563478822776. distance: 1.8870620573156571
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 4.9264, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 6, internal_epoch   1,  Average loss: 0.0068, Accuracy: 1732/1982 (87.3865%), train_poison_data_count: 1982
Global model norm: 14.021073965168243.
Norm before scaling: 14.004563813885369. Distance: 1.7396381011686655
Total norm for 9 adversaries is: 14.004563813885369. distance: 1.7396381011686655
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 7.7459, Accuracy: 2689/8991 (29.9077%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 7, internal_epoch   1,  Average loss: 0.0412, Accuracy: 50/86 (58.1395%), train_poison_data_count: 86
Global model norm: 14.021073965168243.
Norm before scaling: 14.017047856636374. Distance: 0.24609647476867674
Total norm for 9 adversaries is: 14.017047856636374. distance: 0.24609647476867674
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 2.7841, Accuracy: 1876/8991 (20.8653%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 8, internal_epoch   1,  Average loss: 0.0148, Accuracy: 136/171 (79.5322%), train_poison_data_count: 171
Global model norm: 14.021073965168243.
Norm before scaling: 14.024167046656963. Distance: 0.3876269301828047
Total norm for 9 adversaries is: 14.024167046656963. distance: 0.3876269301828047
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 4.8805, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 9, internal_epoch   1,  Average loss: 0.0218, Accuracy: 194/263 (73.7643%), train_poison_data_count: 263
Global model norm: 14.021073965168243.
Norm before scaling: 14.041614807817968. Distance: 0.9401897944431448
Total norm for 9 adversaries is: 14.041614807817968. distance: 0.9401897944431448
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 6.8337, Accuracy: 1843/8991 (20.4983%)
time spent on training: 38.68266296386719
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.35933228 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 78: Average loss: 2.6506, Accuracy: 3003/10000 (30.0300%), Attack Success Rate:7/10000(0.070)
___Test Target_Simple poisoned: True, epoch: 78: Average loss: 2.3273, Accuracy: 3007/8991 (33.4446%)
Done in 102.75649809837341 sec.
Server Epoch:79 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  79, local model 0, internal_epoch   1,  Average loss: 0.0041, Accuracy: 286/300 (95.3333%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 4.3175, Accuracy: 1420/10000 (14.2000%), Attack Success Rate:20/10000(0.200)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 1, internal_epoch   1,  Average loss: 0.0379, Accuracy: 35/84 (41.6667%), train_poison_data_count: 84
Global model norm: 14.022564823125261.
Norm before scaling: 14.020977652469698. Distance: 0.23110703804753904
Total norm for 9 adversaries is: 14.020977652469698. distance: 0.23110703804753904
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 2.2133, Accuracy: 3539/8991 (39.3616%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 2, internal_epoch   1,  Average loss: 0.0170, Accuracy: 98/119 (82.3529%), train_poison_data_count: 119
Global model norm: 14.022564823125261.
Norm before scaling: 14.02803339122043. Distance: 0.15042048938042107
Total norm for 9 adversaries is: 14.02803339122043. distance: 0.15042048938042107
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 2.9654, Accuracy: 2622/8991 (29.1625%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 3, internal_epoch   1,  Average loss: 0.0113, Accuracy: 838/1010 (82.9703%), train_poison_data_count: 1010
Global model norm: 14.022564823125261.
Norm before scaling: 14.011879376867151. Distance: 0.9748458422543451
Total norm for 9 adversaries is: 14.011879376867151. distance: 0.9748458422543451
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 3.8551, Accuracy: 2791/8991 (31.0422%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 4, internal_epoch   1,  Average loss: 0.0137, Accuracy: 404/463 (87.2570%), train_poison_data_count: 463
Global model norm: 14.022564823125261.
Norm before scaling: 14.05271686608534. Distance: 1.4670366886130335
Total norm for 9 adversaries is: 14.05271686608534. distance: 1.4670366886130335
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 12.7783, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 5, internal_epoch   1,  Average loss: 0.0123, Accuracy: 920/1046 (87.9541%), train_poison_data_count: 1046
Global model norm: 14.022564823125261.
Norm before scaling: 14.021423841325314. Distance: 1.9640929226578967
Total norm for 9 adversaries is: 14.021423841325314. distance: 1.9640929226578967
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 5.2691, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 6, internal_epoch   1,  Average loss: 0.0070, Accuracy: 1737/1982 (87.6387%), train_poison_data_count: 1982
Global model norm: 14.022564823125261.
Norm before scaling: 13.99559987267064. Distance: 1.7424022046179437
Total norm for 9 adversaries is: 13.99559987267064. distance: 1.7424022046179437
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 6.6404, Accuracy: 2712/8991 (30.1635%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 7, internal_epoch   1,  Average loss: 0.0413, Accuracy: 46/86 (53.4884%), train_poison_data_count: 86
Global model norm: 14.022564823125261.
Norm before scaling: 14.017944824388822. Distance: 0.2588375549947494
Total norm for 9 adversaries is: 14.017944824388822. distance: 0.2588375549947494
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 2.7797, Accuracy: 1926/8991 (21.4214%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 8, internal_epoch   1,  Average loss: 0.0143, Accuracy: 132/171 (77.1930%), train_poison_data_count: 171
Global model norm: 14.022564823125261.
Norm before scaling: 14.025429110838786. Distance: 0.3894357698451402
Total norm for 9 adversaries is: 14.025429110838786. distance: 0.3894357698451402
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 4.8859, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 9, internal_epoch   1,  Average loss: 0.0199, Accuracy: 195/263 (74.1445%), train_poison_data_count: 263
Global model norm: 14.022564823125261.
Norm before scaling: 14.041643604897295. Distance: 0.9450618316968925
Total norm for 9 adversaries is: 14.041643604897295. distance: 0.9450618316968925
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 6.6558, Accuracy: 1819/8991 (20.2313%)
time spent on training: 38.96282148361206
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.56425038 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 79: Average loss: 2.6327, Accuracy: 3112/10000 (31.1200%), Attack Success Rate:3/10000(0.030)
___Test Target_Simple poisoned: True, epoch: 79: Average loss: 2.3085, Accuracy: 3115/8991 (34.6458%)
Done in 103.13310742378235 sec.
Server Epoch:80 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  80, local model 0, internal_epoch   1,  Average loss: 0.0042, Accuracy: 291/300 (97.0000%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 4.1017, Accuracy: 1540/10000 (15.4000%), Attack Success Rate:24/10000(0.240)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 1, internal_epoch   1,  Average loss: 0.0373, Accuracy: 34/84 (40.4762%), train_poison_data_count: 84
Global model norm: 14.024017441002663.
Norm before scaling: 14.022797143283492. Distance: 0.22963898204707084
Total norm for 9 adversaries is: 14.022797143283492. distance: 0.22963898204707084
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 2.2157, Accuracy: 3556/8991 (39.5507%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 2, internal_epoch   1,  Average loss: 0.0164, Accuracy: 99/119 (83.1933%), train_poison_data_count: 119
Global model norm: 14.024017441002663.
Norm before scaling: 14.029465321843055. Distance: 0.14707039912855782
Total norm for 9 adversaries is: 14.029465321843055. distance: 0.14707039912855782
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 2.9902, Accuracy: 2755/8991 (30.6418%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 3, internal_epoch   1,  Average loss: 0.0109, Accuracy: 841/1010 (83.2673%), train_poison_data_count: 1010
Global model norm: 14.024017441002663.
Norm before scaling: 14.02624014473074. Distance: 0.9316606499461164
Total norm for 9 adversaries is: 14.02624014473074. distance: 0.9316606499461164
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 4.8249, Accuracy: 2774/8991 (30.8531%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 4, internal_epoch   1,  Average loss: 0.0131, Accuracy: 401/463 (86.6091%), train_poison_data_count: 463
Global model norm: 14.024017441002663.
Norm before scaling: 14.054104481723591. Distance: 1.4399741069796959
Total norm for 9 adversaries is: 14.054104481723591. distance: 1.4399741069796959
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 12.6732, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 5, internal_epoch   1,  Average loss: 0.0121, Accuracy: 921/1046 (88.0497%), train_poison_data_count: 1046
Global model norm: 14.024017441002663.
Norm before scaling: 14.017538256918712. Distance: 1.947241198540535
Total norm for 9 adversaries is: 14.017538256918712. distance: 1.947241198540535
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 4.3777, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 6, internal_epoch   1,  Average loss: 0.0059, Accuracy: 1784/1982 (90.0101%), train_poison_data_count: 1982
Global model norm: 14.024017441002663.
Norm before scaling: 14.006530328589701. Distance: 1.711224536246529
Total norm for 9 adversaries is: 14.006530328589701. distance: 1.711224536246529
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 11.2684, Accuracy: 2689/8991 (29.9077%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 7, internal_epoch   1,  Average loss: 0.0417, Accuracy: 49/86 (56.9767%), train_poison_data_count: 86
Global model norm: 14.024017441002663.
Norm before scaling: 14.019744029626574. Distance: 0.2505543642081531
Total norm for 9 adversaries is: 14.019744029626574. distance: 0.2505543642081531
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 2.7742, Accuracy: 1932/8991 (21.4882%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 8, internal_epoch   1,  Average loss: 0.0164, Accuracy: 133/171 (77.7778%), train_poison_data_count: 171
Global model norm: 14.024017441002663.
Norm before scaling: 14.025658663754385. Distance: 0.38605033059167165
Total norm for 9 adversaries is: 14.025658663754385. distance: 0.38605033059167165
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 4.7475, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 9, internal_epoch   1,  Average loss: 0.0187, Accuracy: 197/263 (74.9049%), train_poison_data_count: 263
Global model norm: 14.024017441002663.
Norm before scaling: 14.044447505591123. Distance: 0.9296540646992026
Total norm for 9 adversaries is: 14.044447505591123. distance: 0.9296540646992026
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 7.0064, Accuracy: 1844/8991 (20.5094%)
time spent on training: 38.90682101249695
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.01365476 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 80: Average loss: 2.6622, Accuracy: 3103/10000 (31.0300%), Attack Success Rate:3/10000(0.030)
___Test Target_Simple poisoned: True, epoch: 80: Average loss: 2.3346, Accuracy: 3107/8991 (34.5568%)
Done in 104.55677485466003 sec.
Server Epoch:81 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  81, local model 0, internal_epoch   1,  Average loss: 0.0044, Accuracy: 283/300 (94.3333%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 4.0577, Accuracy: 1490/10000 (14.9000%), Attack Success Rate:24/10000(0.240)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 1, internal_epoch   1,  Average loss: 0.0383, Accuracy: 34/84 (40.4762%), train_poison_data_count: 84
Global model norm: 14.025281150570175.
Norm before scaling: 14.023557189600647. Distance: 0.23829820447544262
Total norm for 9 adversaries is: 14.023557189600647. distance: 0.23829820447544262
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 2.2176, Accuracy: 3511/8991 (39.0502%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 2, internal_epoch   1,  Average loss: 0.0162, Accuracy: 96/119 (80.6723%), train_poison_data_count: 119
Global model norm: 14.025281150570175.
Norm before scaling: 14.0305741111223. Distance: 0.15075299956965574
Total norm for 9 adversaries is: 14.0305741111223. distance: 0.15075299956965574
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 2.9651, Accuracy: 2681/8991 (29.8187%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 3, internal_epoch   1,  Average loss: 0.0117, Accuracy: 840/1010 (83.1683%), train_poison_data_count: 1010
Global model norm: 14.025281150570175.
Norm before scaling: 14.010773464419767. Distance: 0.9899968872599362
Total norm for 9 adversaries is: 14.010773464419767. distance: 0.9899968872599362
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 2.9595, Accuracy: 2950/8991 (32.8106%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 4, internal_epoch   1,  Average loss: 0.0110, Accuracy: 398/463 (85.9611%), train_poison_data_count: 463
Global model norm: 14.025281150570175.
Norm before scaling: 14.057503452616062. Distance: 1.4608758107588917
Total norm for 9 adversaries is: 14.057503452616062. distance: 1.4608758107588917
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 13.9111, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 5, internal_epoch   1,  Average loss: 0.0110, Accuracy: 924/1046 (88.3365%), train_poison_data_count: 1046
Global model norm: 14.025281150570175.
Norm before scaling: 14.021973939992476. Distance: 1.9135845599682297
Total norm for 9 adversaries is: 14.021973939992476. distance: 1.9135845599682297
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 5.1976, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 6, internal_epoch   1,  Average loss: 0.0061, Accuracy: 1759/1982 (88.7487%), train_poison_data_count: 1982
Global model norm: 14.025281150570175.
Norm before scaling: 14.016348965764163. Distance: 1.784187838865137
Total norm for 9 adversaries is: 14.016348965764163. distance: 1.784187838865137
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 11.5150, Accuracy: 2597/8991 (28.8844%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 7, internal_epoch   1,  Average loss: 0.0408, Accuracy: 51/86 (59.3023%), train_poison_data_count: 86
Global model norm: 14.025281150570175.
Norm before scaling: 14.020506418090845. Distance: 0.2536105267797811
Total norm for 9 adversaries is: 14.020506418090845. distance: 0.2536105267797811
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 2.7327, Accuracy: 1968/8991 (21.8886%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 8, internal_epoch   1,  Average loss: 0.0144, Accuracy: 134/171 (78.3626%), train_poison_data_count: 171
Global model norm: 14.025281150570175.
Norm before scaling: 14.027324169785834. Distance: 0.3932699115014404
Total norm for 9 adversaries is: 14.027324169785834. distance: 0.3932699115014404
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 4.8970, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 9, internal_epoch   1,  Average loss: 0.0226, Accuracy: 194/263 (73.7643%), train_poison_data_count: 263
Global model norm: 14.025281150570175.
Norm before scaling: 14.044175886921007. Distance: 0.9570117247789017
Total norm for 9 adversaries is: 14.044175886921007. distance: 0.9570117247789017
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 6.5206, Accuracy: 1794/8991 (19.9533%)
time spent on training: 39.477933406829834
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.       0.       1.       1.       0.       0.       0.587368 0.
 0.       0.      ]
___Test Target_Simple poisoned: False, epoch: 81: Average loss: 2.6291, Accuracy: 3267/10000 (32.6700%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 81: Average loss: 2.3017, Accuracy: 3269/8991 (36.3586%)
Done in 103.07337260246277 sec.
Server Epoch:82 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  82, local model 0, internal_epoch   1,  Average loss: 0.0040, Accuracy: 287/300 (95.6667%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 4.2420, Accuracy: 1471/10000 (14.7100%), Attack Success Rate:22/10000(0.220)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 1, internal_epoch   1,  Average loss: 0.0382, Accuracy: 29/84 (34.5238%), train_poison_data_count: 84
Global model norm: 14.026660601925235.
Norm before scaling: 14.025408983982205. Distance: 0.2318316988730274
Total norm for 9 adversaries is: 14.025408983982205. distance: 0.2318316988730274
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 2.2020, Accuracy: 3634/8991 (40.4182%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 2, internal_epoch   1,  Average loss: 0.0161, Accuracy: 99/119 (83.1933%), train_poison_data_count: 119
Global model norm: 14.026660601925235.
Norm before scaling: 14.031851910635039. Distance: 0.14386528176488533
Total norm for 9 adversaries is: 14.031851910635039. distance: 0.14386528176488533
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 3.0227, Accuracy: 2790/8991 (31.0310%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 3, internal_epoch   1,  Average loss: 0.0115, Accuracy: 840/1010 (83.1683%), train_poison_data_count: 1010
Global model norm: 14.026660601925235.
Norm before scaling: 14.02286732824171. Distance: 0.9724587236093059
Total norm for 9 adversaries is: 14.02286732824171. distance: 0.9724587236093059
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 3.9617, Accuracy: 2932/8991 (32.6104%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 4, internal_epoch   1,  Average loss: 0.0109, Accuracy: 400/463 (86.3931%), train_poison_data_count: 463
Global model norm: 14.026660601925235.
Norm before scaling: 14.058070048768919. Distance: 1.4454548533675409
Total norm for 9 adversaries is: 14.058070048768919. distance: 1.4454548533675409
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 13.0311, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 5, internal_epoch   1,  Average loss: 0.0113, Accuracy: 928/1046 (88.7189%), train_poison_data_count: 1046
Global model norm: 14.026660601925235.
Norm before scaling: 14.017477297994981. Distance: 1.9070265392103072
Total norm for 9 adversaries is: 14.017477297994981. distance: 1.9070265392103072
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 4.0645, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 6, internal_epoch   1,  Average loss: 0.0063, Accuracy: 1756/1982 (88.5974%), train_poison_data_count: 1982
Global model norm: 14.026660601925235.
Norm before scaling: 14.002061964504103. Distance: 1.663980544673452
Total norm for 9 adversaries is: 14.002061964504103. distance: 1.663980544673452
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 9.6179, Accuracy: 2434/8991 (27.0715%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 7, internal_epoch   1,  Average loss: 0.0403, Accuracy: 49/86 (56.9767%), train_poison_data_count: 86
Global model norm: 14.026660601925235.
Norm before scaling: 14.021887971495003. Distance: 0.2560987444815941
Total norm for 9 adversaries is: 14.021887971495003. distance: 0.2560987444815941
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 2.7891, Accuracy: 1949/8991 (21.6772%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 8, internal_epoch   1,  Average loss: 0.0144, Accuracy: 132/171 (77.1930%), train_poison_data_count: 171
Global model norm: 14.026660601925235.
Norm before scaling: 14.028653930563532. Distance: 0.3797597808482388
Total norm for 9 adversaries is: 14.028653930563532. distance: 0.3797597808482388
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 4.7974, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 9, internal_epoch   1,  Average loss: 0.0201, Accuracy: 189/263 (71.8631%), train_poison_data_count: 263
Global model norm: 14.026660601925235.
Norm before scaling: 14.04483699759675. Distance: 0.9578274587237893
Total norm for 9 adversaries is: 14.04483699759675. distance: 0.9578274587237893
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 6.6621, Accuracy: 1724/8991 (19.1747%)
time spent on training: 38.90388751029968
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.38109254 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 82: Average loss: 2.6424, Accuracy: 3275/10000 (32.7500%), Attack Success Rate:3/10000(0.030)
___Test Target_Simple poisoned: True, epoch: 82: Average loss: 2.3122, Accuracy: 3279/8991 (36.4698%)
Done in 103.16703915596008 sec.
Server Epoch:83 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  83, local model 0, internal_epoch   1,  Average loss: 0.0040, Accuracy: 289/300 (96.3333%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 4.0914, Accuracy: 1528/10000 (15.2800%), Attack Success Rate:21/10000(0.210)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 1, internal_epoch   1,  Average loss: 0.0375, Accuracy: 33/84 (39.2857%), train_poison_data_count: 84
Global model norm: 14.028145427523276.
Norm before scaling: 14.026642652522467. Distance: 0.2337682419941438
Total norm for 9 adversaries is: 14.026642652522467. distance: 0.2337682419941438
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 2.1994, Accuracy: 3603/8991 (40.0734%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 2, internal_epoch   1,  Average loss: 0.0152, Accuracy: 102/119 (85.7143%), train_poison_data_count: 119
Global model norm: 14.028145427523276.
Norm before scaling: 14.03348732423599. Distance: 0.1469489550569263
Total norm for 9 adversaries is: 14.03348732423599. distance: 0.1469489550569263
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 3.0107, Accuracy: 2827/8991 (31.4426%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 3, internal_epoch   1,  Average loss: 0.0114, Accuracy: 834/1010 (82.5743%), train_poison_data_count: 1010
Global model norm: 14.028145427523276.
Norm before scaling: 14.018672479967066. Distance: 0.9934880601197145
Total norm for 9 adversaries is: 14.018672479967066. distance: 0.9934880601197145
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 3.5947, Accuracy: 2948/8991 (32.7883%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 4, internal_epoch   1,  Average loss: 0.0111, Accuracy: 404/463 (87.2570%), train_poison_data_count: 463
Global model norm: 14.028145427523276.
Norm before scaling: 14.059628613099324. Distance: 1.4680880414355284
Total norm for 9 adversaries is: 14.059628613099324. distance: 1.4680880414355284
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 12.8290, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 5, internal_epoch   1,  Average loss: 0.0113, Accuracy: 915/1046 (87.4761%), train_poison_data_count: 1046
Global model norm: 14.028145427523276.
Norm before scaling: 14.019516012460373. Distance: 1.9081184110705771
Total norm for 9 adversaries is: 14.019516012460373. distance: 1.9081184110705771
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 4.6567, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 6, internal_epoch   1,  Average loss: 0.0069, Accuracy: 1746/1982 (88.0928%), train_poison_data_count: 1982
Global model norm: 14.028145427523276.
Norm before scaling: 14.015268446725845. Distance: 1.7863561825328713
Total norm for 9 adversaries is: 14.015268446725845. distance: 1.7863561825328713
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 6.3609, Accuracy: 2728/8991 (30.3415%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 7, internal_epoch   1,  Average loss: 0.0398, Accuracy: 52/86 (60.4651%), train_poison_data_count: 86
Global model norm: 14.028145427523276.
Norm before scaling: 14.023399416731019. Distance: 0.25675387213646284
Total norm for 9 adversaries is: 14.023399416731019. distance: 0.25675387213646284
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 2.7847, Accuracy: 1963/8991 (21.8329%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 8, internal_epoch   1,  Average loss: 0.0190, Accuracy: 135/171 (78.9474%), train_poison_data_count: 171
Global model norm: 14.028145427523276.
Norm before scaling: 14.029264109882734. Distance: 0.37794455171279795
Total norm for 9 adversaries is: 14.029264109882734. distance: 0.37794455171279795
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 4.4835, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 9, internal_epoch   1,  Average loss: 0.0191, Accuracy: 188/263 (71.4829%), train_poison_data_count: 263
Global model norm: 14.028145427523276.
Norm before scaling: 14.048506492434303. Distance: 0.9612305667237295
Total norm for 9 adversaries is: 14.048506492434303. distance: 0.9612305667237295
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 7.1018, Accuracy: 1802/8991 (20.0423%)
time spent on training: 39.74291181564331
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.42438718 0.30645156 0.30645156 0.        ]
___Test Target_Simple poisoned: False, epoch: 83: Average loss: 2.6037, Accuracy: 3423/10000 (34.2300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 83: Average loss: 2.2734, Accuracy: 3421/8991 (38.0492%)
Done in 104.79818797111511 sec.
Server Epoch:84 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  84, local model 0, internal_epoch   1,  Average loss: 0.0042, Accuracy: 289/300 (96.3333%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 4.0624, Accuracy: 1584/10000 (15.8400%), Attack Success Rate:21/10000(0.210)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 1, internal_epoch   1,  Average loss: 0.0379, Accuracy: 31/84 (36.9048%), train_poison_data_count: 84
Global model norm: 14.029417466287022.
Norm before scaling: 14.028280848850253. Distance: 0.2375381169349734
Total norm for 9 adversaries is: 14.028280848850253. distance: 0.2375381169349734
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 2.2091, Accuracy: 3579/8991 (39.8065%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 2, internal_epoch   1,  Average loss: 0.0150, Accuracy: 103/119 (86.5546%), train_poison_data_count: 119
Global model norm: 14.029417466287022.
Norm before scaling: 14.035131244759246. Distance: 0.14439339120157593
Total norm for 9 adversaries is: 14.035131244759246. distance: 0.14439339120157593
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 3.0504, Accuracy: 2824/8991 (31.4092%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 3, internal_epoch   1,  Average loss: 0.0109, Accuracy: 829/1010 (82.0792%), train_poison_data_count: 1010
Global model norm: 14.029417466287022.
Norm before scaling: 14.019110578984005. Distance: 0.9223691618021581
Total norm for 9 adversaries is: 14.019110578984005. distance: 0.9223691618021581
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 3.4983, Accuracy: 3230/8991 (35.9248%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 4, internal_epoch   1,  Average loss: 0.0113, Accuracy: 400/463 (86.3931%), train_poison_data_count: 463
Global model norm: 14.029417466287022.
Norm before scaling: 14.05877500577792. Distance: 1.4634197179775787
Total norm for 9 adversaries is: 14.05877500577792. distance: 1.4634197179775787
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 12.3740, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 5, internal_epoch   1,  Average loss: 0.0129, Accuracy: 922/1046 (88.1453%), train_poison_data_count: 1046
Global model norm: 14.029417466287022.
Norm before scaling: 14.031771983609199. Distance: 1.9759657490460705
Total norm for 9 adversaries is: 14.031771983609199. distance: 1.9759657490460705
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 6.1115, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 6, internal_epoch   1,  Average loss: 0.0057, Accuracy: 1777/1982 (89.6569%), train_poison_data_count: 1982
Global model norm: 14.029417466287022.
Norm before scaling: 13.999944414300924. Distance: 1.660748257267589
Total norm for 9 adversaries is: 13.999944414300924. distance: 1.660748257267589
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 12.6201, Accuracy: 2739/8991 (30.4638%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 7, internal_epoch   1,  Average loss: 0.0399, Accuracy: 53/86 (61.6279%), train_poison_data_count: 86
Global model norm: 14.029417466287022.
Norm before scaling: 14.02485684408473. Distance: 0.24074624741037123
Total norm for 9 adversaries is: 14.02485684408473. distance: 0.24074624741037123
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 2.7195, Accuracy: 2006/8991 (22.3112%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 8, internal_epoch   1,  Average loss: 0.0148, Accuracy: 138/171 (80.7018%), train_poison_data_count: 171
Global model norm: 14.029417466287022.
Norm before scaling: 14.031680637879324. Distance: 0.37181036171015336
Total norm for 9 adversaries is: 14.031680637879324. distance: 0.37181036171015336
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 4.7581, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 9, internal_epoch   1,  Average loss: 0.0188, Accuracy: 192/263 (73.0038%), train_poison_data_count: 263
Global model norm: 14.029417466287022.
Norm before scaling: 14.050239881320755. Distance: 0.931165914131581
Total norm for 9 adversaries is: 14.050239881320755. distance: 0.931165914131581
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 7.1062, Accuracy: 1829/8991 (20.3426%)
time spent on training: 39.52488613128662
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.23232331 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 84: Average loss: 2.6331, Accuracy: 3361/10000 (33.6100%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 84: Average loss: 2.3002, Accuracy: 3364/8991 (37.4152%)
Done in 104.6591477394104 sec.
Server Epoch:85 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  85, local model 0, internal_epoch   1,  Average loss: 0.0044, Accuracy: 285/300 (95.0000%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 4.0486, Accuracy: 1557/10000 (15.5700%), Attack Success Rate:19/10000(0.190)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 1, internal_epoch   1,  Average loss: 0.0377, Accuracy: 33/84 (39.2857%), train_poison_data_count: 84
Global model norm: 14.030715490410728.
Norm before scaling: 14.029370698199545. Distance: 0.23891145197791616
Total norm for 9 adversaries is: 14.029370698199545. distance: 0.23891145197791616
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 2.2001, Accuracy: 3584/8991 (39.8621%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 2, internal_epoch   1,  Average loss: 0.0154, Accuracy: 101/119 (84.8739%), train_poison_data_count: 119
Global model norm: 14.030715490410728.
Norm before scaling: 14.03615207467761. Distance: 0.14465798801021643
Total norm for 9 adversaries is: 14.03615207467761. distance: 0.14465798801021643
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 2.9588, Accuracy: 2841/8991 (31.5983%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 3, internal_epoch   1,  Average loss: 0.0099, Accuracy: 854/1010 (84.5545%), train_poison_data_count: 1010
Global model norm: 14.030715490410728.
Norm before scaling: 14.02450106952199. Distance: 0.8713327943712167
Total norm for 9 adversaries is: 14.02450106952199. distance: 0.8713327943712167
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 4.7441, Accuracy: 2787/8991 (30.9977%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 4, internal_epoch   1,  Average loss: 0.0130, Accuracy: 402/463 (86.8251%), train_poison_data_count: 463
Global model norm: 14.030715490410728.
Norm before scaling: 14.061363886398187. Distance: 1.4746622442405661
Total norm for 9 adversaries is: 14.061363886398187. distance: 1.4746622442405661
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 12.5550, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 5, internal_epoch   1,  Average loss: 0.0115, Accuracy: 916/1046 (87.5717%), train_poison_data_count: 1046
Global model norm: 14.030715490410728.
Norm before scaling: 14.026988582422325. Distance: 1.921409178315365
Total norm for 9 adversaries is: 14.026988582422325. distance: 1.921409178315365
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 5.2702, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 6, internal_epoch   1,  Average loss: 0.0068, Accuracy: 1751/1982 (88.3451%), train_poison_data_count: 1982
Global model norm: 14.030715490410728.
Norm before scaling: 13.995551356187146. Distance: 1.685818293390144
Total norm for 9 adversaries is: 13.995551356187146. distance: 1.685818293390144
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 7.1319, Accuracy: 2550/8991 (28.3617%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 7, internal_epoch   1,  Average loss: 0.0401, Accuracy: 51/86 (59.3023%), train_poison_data_count: 86
Global model norm: 14.030715490410728.
Norm before scaling: 14.02614713115211. Distance: 0.2469819102999013
Total norm for 9 adversaries is: 14.02614713115211. distance: 0.2469819102999013
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 2.7442, Accuracy: 2004/8991 (22.2890%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 8, internal_epoch   1,  Average loss: 0.0129, Accuracy: 137/171 (80.1170%), train_poison_data_count: 171
Global model norm: 14.030715490410728.
Norm before scaling: 14.033458510419727. Distance: 0.36673891789777796
Total norm for 9 adversaries is: 14.033458510419727. distance: 0.36673891789777796
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 4.7820, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 9, internal_epoch   1,  Average loss: 0.0211, Accuracy: 196/263 (74.5247%), train_poison_data_count: 263
Global model norm: 14.030715490410728.
Norm before scaling: 14.048857857651354. Distance: 0.9507482944566513
Total norm for 9 adversaries is: 14.048857857651354. distance: 0.9507482944566513
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 6.6325, Accuracy: 1789/8991 (19.8977%)
time spent on training: 39.35257053375244
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.        0.        1.        1.        0.        0.        0.9954908
 0.        0.        0.       ]
___Test Target_Simple poisoned: False, epoch: 85: Average loss: 2.6011, Accuracy: 3531/10000 (35.3100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 85: Average loss: 2.2658, Accuracy: 3520/8991 (39.1503%)
Done in 103.2244005203247 sec.
Server Epoch:86 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  86, local model 0, internal_epoch   1,  Average loss: 0.0042, Accuracy: 284/300 (94.6667%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 3.8756, Accuracy: 1631/10000 (16.3100%), Attack Success Rate:23/10000(0.230)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 1, internal_epoch   1,  Average loss: 0.0365, Accuracy: 36/84 (42.8571%), train_poison_data_count: 84
Global model norm: 14.032665835443341.
Norm before scaling: 14.031758390532294. Distance: 0.23031141276989323
Total norm for 9 adversaries is: 14.031758390532294. distance: 0.23031141276989323
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 2.1919, Accuracy: 3703/8991 (41.1856%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 2, internal_epoch   1,  Average loss: 0.0156, Accuracy: 100/119 (84.0336%), train_poison_data_count: 119
Global model norm: 14.032665835443341.
Norm before scaling: 14.037896771823306. Distance: 0.13832541961851028
Total norm for 9 adversaries is: 14.037896771823306. distance: 0.13832541961851028
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 2.9607, Accuracy: 3021/8991 (33.6003%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 3, internal_epoch   1,  Average loss: 0.0115, Accuracy: 837/1010 (82.8713%), train_poison_data_count: 1010
Global model norm: 14.032665835443341.
Norm before scaling: 14.028569090695667. Distance: 1.000983648507693
Total norm for 9 adversaries is: 14.028569090695667. distance: 1.000983648507693
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 3.7050, Accuracy: 2852/8991 (31.7206%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 4, internal_epoch   1,  Average loss: 0.0127, Accuracy: 401/463 (86.6091%), train_poison_data_count: 463
Global model norm: 14.032665835443341.
Norm before scaling: 14.06291394790051. Distance: 1.459583409721655
Total norm for 9 adversaries is: 14.06291394790051. distance: 1.459583409721655
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 12.9058, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 5, internal_epoch   1,  Average loss: 0.0121, Accuracy: 926/1046 (88.5277%), train_poison_data_count: 1046
Global model norm: 14.032665835443341.
Norm before scaling: 14.026564871511718. Distance: 1.8701387329454053
Total norm for 9 adversaries is: 14.026564871511718. distance: 1.8701387329454053
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 5.6768, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 6, internal_epoch   1,  Average loss: 0.0058, Accuracy: 1777/1982 (89.6569%), train_poison_data_count: 1982
Global model norm: 14.032665835443341.
Norm before scaling: 14.001364505212072. Distance: 1.6388600619882563
Total norm for 9 adversaries is: 14.001364505212072. distance: 1.6388600619882563
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 11.1882, Accuracy: 2609/8991 (29.0179%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 7, internal_epoch   1,  Average loss: 0.0388, Accuracy: 58/86 (67.4419%), train_poison_data_count: 86
Global model norm: 14.032665835443341.
Norm before scaling: 14.02805732137968. Distance: 0.24004464294303662
Total norm for 9 adversaries is: 14.02805732137968. distance: 0.24004464294303662
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 2.7226, Accuracy: 2055/8991 (22.8562%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 8, internal_epoch   1,  Average loss: 0.0138, Accuracy: 141/171 (82.4561%), train_poison_data_count: 171
Global model norm: 14.032665835443341.
Norm before scaling: 14.035185603921432. Distance: 0.33255093240003536
Total norm for 9 adversaries is: 14.035185603921432. distance: 0.33255093240003536
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 4.3391, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 9, internal_epoch   1,  Average loss: 0.0190, Accuracy: 193/263 (73.3840%), train_poison_data_count: 263
Global model norm: 14.032665835443341.
Norm before scaling: 14.052018663367374. Distance: 0.9420232689791948
Total norm for 9 adversaries is: 14.052018663367374. distance: 0.9420232689791948
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 7.0391, Accuracy: 1838/8991 (20.4427%)
time spent on training: 40.05970597267151
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.31764445 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 86: Average loss: 2.6124, Accuracy: 3521/10000 (35.2100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 86: Average loss: 2.2751, Accuracy: 3510/8991 (39.0390%)
Done in 104.01194739341736 sec.
Server Epoch:87 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  87, local model 0, internal_epoch   1,  Average loss: 0.0036, Accuracy: 291/300 (97.0000%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 3.8773, Accuracy: 1689/10000 (16.8900%), Attack Success Rate:32/10000(0.320)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 1, internal_epoch   1,  Average loss: 0.0364, Accuracy: 35/84 (41.6667%), train_poison_data_count: 84
Global model norm: 14.033967364584912.
Norm before scaling: 14.032974103254706. Distance: 0.2348396622485388
Total norm for 9 adversaries is: 14.032974103254706. distance: 0.2348396622485388
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 2.1962, Accuracy: 3673/8991 (40.8520%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 2, internal_epoch   1,  Average loss: 0.0142, Accuracy: 103/119 (86.5546%), train_poison_data_count: 119
Global model norm: 14.033967364584912.
Norm before scaling: 14.039297264314238. Distance: 0.14472541782889162
Total norm for 9 adversaries is: 14.039297264314238. distance: 0.14472541782889162
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 3.0079, Accuracy: 2926/8991 (32.5437%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 3, internal_epoch   1,  Average loss: 0.0119, Accuracy: 834/1010 (82.5743%), train_poison_data_count: 1010
Global model norm: 14.033967364584912.
Norm before scaling: 14.024139845747614. Distance: 0.9941336101291984
Total norm for 9 adversaries is: 14.024139845747614. distance: 0.9941336101291984
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 3.4780, Accuracy: 2912/8991 (32.3879%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 4, internal_epoch   1,  Average loss: 0.0125, Accuracy: 396/463 (85.5292%), train_poison_data_count: 463
Global model norm: 14.033967364584912.
Norm before scaling: 14.062086039914039. Distance: 1.4602519992317682
Total norm for 9 adversaries is: 14.062086039914039. distance: 1.4602519992317682
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 12.4451, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 5, internal_epoch   1,  Average loss: 0.0105, Accuracy: 922/1046 (88.1453%), train_poison_data_count: 1046
Global model norm: 14.033967364584912.
Norm before scaling: 14.028007829414317. Distance: 1.8853653185967065
Total norm for 9 adversaries is: 14.028007829414317. distance: 1.8853653185967065
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 5.1105, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 6, internal_epoch   1,  Average loss: 0.0057, Accuracy: 1781/1982 (89.8587%), train_poison_data_count: 1982
Global model norm: 14.033967364584912.
Norm before scaling: 14.015092071982004. Distance: 1.683964310156863
Total norm for 9 adversaries is: 14.015092071982004. distance: 1.683964310156863
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 12.5681, Accuracy: 2573/8991 (28.6175%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 7, internal_epoch   1,  Average loss: 0.0398, Accuracy: 56/86 (65.1163%), train_poison_data_count: 86
Global model norm: 14.033967364584912.
Norm before scaling: 14.029147731918156. Distance: 0.23688524169974684
Total norm for 9 adversaries is: 14.029147731918156. distance: 0.23688524169974684
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 2.6654, Accuracy: 2094/8991 (23.2900%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 8, internal_epoch   1,  Average loss: 0.0151, Accuracy: 139/171 (81.2865%), train_poison_data_count: 171
Global model norm: 14.033967364584912.
Norm before scaling: 14.035918344881452. Distance: 0.35510438542887557
Total norm for 9 adversaries is: 14.035918344881452. distance: 0.35510438542887557
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 4.5901, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 9, internal_epoch   1,  Average loss: 0.0185, Accuracy: 202/263 (76.8061%), train_poison_data_count: 263
Global model norm: 14.033967364584912.
Norm before scaling: 14.054500220229452. Distance: 0.9777600689269329
Total norm for 9 adversaries is: 14.054500220229452. distance: 0.9777600689269329
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 7.0588, Accuracy: 1836/8991 (20.4204%)
time spent on training: 39.029871702194214
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.5326325  0.10149983 0.10149983 0.        ]
___Test Target_Simple poisoned: False, epoch: 87: Average loss: 2.6089, Accuracy: 3583/10000 (35.8300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 87: Average loss: 2.2682, Accuracy: 3576/8991 (39.7731%)
Done in 102.74287867546082 sec.
Server Epoch:88 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  88, local model 0, internal_epoch   1,  Average loss: 0.0038, Accuracy: 288/300 (96.0000%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 4.0891, Accuracy: 1600/10000 (16.0000%), Attack Success Rate:28/10000(0.280)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 1, internal_epoch   1,  Average loss: 0.0366, Accuracy: 31/84 (36.9048%), train_poison_data_count: 84
Global model norm: 14.035596008800825.
Norm before scaling: 14.034470764118833. Distance: 0.24172139692182676
Total norm for 9 adversaries is: 14.034470764118833. distance: 0.24172139692182676
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 2.2207, Accuracy: 3575/8991 (39.7620%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 2, internal_epoch   1,  Average loss: 0.0142, Accuracy: 104/119 (87.3950%), train_poison_data_count: 119
Global model norm: 14.035596008800825.
Norm before scaling: 14.041035593644516. Distance: 0.14111743247714106
Total norm for 9 adversaries is: 14.041035593644516. distance: 0.14111743247714106
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 3.0315, Accuracy: 2992/8991 (33.2777%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 3, internal_epoch   1,  Average loss: 0.0102, Accuracy: 866/1010 (85.7426%), train_poison_data_count: 1010
Global model norm: 14.035596008800825.
Norm before scaling: 14.020965137211713. Distance: 0.8671921051178049
Total norm for 9 adversaries is: 14.020965137211713. distance: 0.8671921051178049
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 3.7014, Accuracy: 3133/8991 (34.8460%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 4, internal_epoch   1,  Average loss: 0.0104, Accuracy: 403/463 (87.0410%), train_poison_data_count: 463
Global model norm: 14.035596008800825.
Norm before scaling: 14.070857976308805. Distance: 1.4823771634602765
Total norm for 9 adversaries is: 14.070857976308805. distance: 1.4823771634602765
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 14.1524, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 5, internal_epoch   1,  Average loss: 0.0115, Accuracy: 925/1046 (88.4321%), train_poison_data_count: 1046
Global model norm: 14.035596008800825.
Norm before scaling: 14.028651755188713. Distance: 1.9049989941611851
Total norm for 9 adversaries is: 14.028651755188713. distance: 1.9049989941611851
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 5.7842, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 6, internal_epoch   1,  Average loss: 0.0056, Accuracy: 1780/1982 (89.8083%), train_poison_data_count: 1982
Global model norm: 14.035596008800825.
Norm before scaling: 14.004855812471794. Distance: 1.6148096561754548
Total norm for 9 adversaries is: 14.004855812471794. distance: 1.6148096561754548
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 10.4953, Accuracy: 2522/8991 (28.0503%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 7, internal_epoch   1,  Average loss: 0.0387, Accuracy: 57/86 (66.2791%), train_poison_data_count: 86
Global model norm: 14.035596008800825.
Norm before scaling: 14.030489282865426. Distance: 0.2392102330446406
Total norm for 9 adversaries is: 14.030489282865426. distance: 0.2392102330446406
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 2.6829, Accuracy: 2108/8991 (23.4457%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 8, internal_epoch   1,  Average loss: 0.0165, Accuracy: 134/171 (78.3626%), train_poison_data_count: 171
Global model norm: 14.035596008800825.
Norm before scaling: 14.035990638466705. Distance: 0.3441057531764405
Total norm for 9 adversaries is: 14.035990638466705. distance: 0.3441057531764405
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 4.2726, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 9, internal_epoch   1,  Average loss: 0.0190, Accuracy: 198/263 (75.2852%), train_poison_data_count: 263
Global model norm: 14.035596008800825.
Norm before scaling: 14.057492598060696. Distance: 0.9666657329971364
Total norm for 9 adversaries is: 14.057492598060696. distance: 0.9666657329971364
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 7.1958, Accuracy: 1813/8991 (20.1646%)
time spent on training: 39.06432890892029
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.36168565 0.42827221 0.39526511 0.        ]
___Test Target_Simple poisoned: False, epoch: 88: Average loss: 2.5834, Accuracy: 3684/10000 (36.8400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 88: Average loss: 2.2414, Accuracy: 3666/8991 (40.7741%)
Done in 102.29926466941833 sec.
Server Epoch:89 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  89, local model 0, internal_epoch   1,  Average loss: 0.0039, Accuracy: 288/300 (96.0000%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 3.8877, Accuracy: 1710/10000 (17.1000%), Attack Success Rate:31/10000(0.310)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 1, internal_epoch   1,  Average loss: 0.0363, Accuracy: 32/84 (38.0952%), train_poison_data_count: 84
Global model norm: 14.036792909200493.
Norm before scaling: 14.035843876663709. Distance: 0.23728565249609782
Total norm for 9 adversaries is: 14.035843876663709. distance: 0.23728565249609782
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 2.2056, Accuracy: 3650/8991 (40.5962%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 2, internal_epoch   1,  Average loss: 0.0134, Accuracy: 108/119 (90.7563%), train_poison_data_count: 119
Global model norm: 14.036792909200493.
Norm before scaling: 14.042467285031213. Distance: 0.14496625698796947
Total norm for 9 adversaries is: 14.042467285031213. distance: 0.14496625698796947
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 3.2199, Accuracy: 2622/8991 (29.1625%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 3, internal_epoch   1,  Average loss: 0.0107, Accuracy: 846/1010 (83.7624%), train_poison_data_count: 1010
Global model norm: 14.036792909200493.
Norm before scaling: 14.022777012649255. Distance: 0.9266246704035108
Total norm for 9 adversaries is: 14.022777012649255. distance: 0.9266246704035108
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 3.8236, Accuracy: 2909/8991 (32.3546%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 4, internal_epoch   1,  Average loss: 0.0122, Accuracy: 401/463 (86.6091%), train_poison_data_count: 463
Global model norm: 14.036792909200493.
Norm before scaling: 14.064648815860158. Distance: 1.4685360367132596
Total norm for 9 adversaries is: 14.064648815860158. distance: 1.4685360367132596
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 12.6093, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 5, internal_epoch   1,  Average loss: 0.0112, Accuracy: 924/1046 (88.3365%), train_poison_data_count: 1046
Global model norm: 14.036792909200493.
Norm before scaling: 14.021719841707576. Distance: 1.8778769356256055
Total norm for 9 adversaries is: 14.021719841707576. distance: 1.8778769356256055
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 4.5154, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 6, internal_epoch   1,  Average loss: 0.0063, Accuracy: 1758/1982 (88.6983%), train_poison_data_count: 1982
Global model norm: 14.036792909200493.
Norm before scaling: 14.00108333210885. Distance: 1.6646184574602183
Total norm for 9 adversaries is: 14.00108333210885. distance: 1.6646184574602183
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 8.2361, Accuracy: 2686/8991 (29.8743%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 7, internal_epoch   1,  Average loss: 0.0391, Accuracy: 58/86 (67.4419%), train_poison_data_count: 86
Global model norm: 14.036792909200493.
Norm before scaling: 14.032141166542383. Distance: 0.22592843877790963
Total norm for 9 adversaries is: 14.032141166542383. distance: 0.22592843877790963
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 2.6616, Accuracy: 2115/8991 (23.5235%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 8, internal_epoch   1,  Average loss: 0.0111, Accuracy: 140/171 (81.8713%), train_poison_data_count: 171
Global model norm: 14.036792909200493.
Norm before scaling: 14.040229761574862. Distance: 0.3355310665043779
Total norm for 9 adversaries is: 14.040229761574862. distance: 0.3355310665043779
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 4.7882, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 9, internal_epoch   1,  Average loss: 0.0179, Accuracy: 195/263 (74.1445%), train_poison_data_count: 263
Global model norm: 14.036792909200493.
Norm before scaling: 14.057267906882169. Distance: 0.9525613212370414
Total norm for 9 adversaries is: 14.057267906882169. distance: 0.9525613212370414
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 7.1839, Accuracy: 1836/8991 (20.4204%)
time spent on training: 39.45072913169861
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.18335199 0.10880951 0.10880951 0.        ]
___Test Target_Simple poisoned: False, epoch: 89: Average loss: 2.6168, Accuracy: 3581/10000 (35.8100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 89: Average loss: 2.2727, Accuracy: 3573/8991 (39.7397%)
Done in 103.31616449356079 sec.
Server Epoch:90 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  90, local model 0, internal_epoch   1,  Average loss: 0.0036, Accuracy: 288/300 (96.0000%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 3.7282, Accuracy: 1806/10000 (18.0600%), Attack Success Rate:29/10000(0.290)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 1, internal_epoch   1,  Average loss: 0.0364, Accuracy: 31/84 (36.9048%), train_poison_data_count: 84
Global model norm: 14.03791035895634.
Norm before scaling: 14.036886939285685. Distance: 0.24020667032662565
Total norm for 9 adversaries is: 14.036886939285685. distance: 0.24020667032662565
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 2.2034, Accuracy: 3653/8991 (40.6295%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 2, internal_epoch   1,  Average loss: 0.0139, Accuracy: 104/119 (87.3950%), train_poison_data_count: 119
Global model norm: 14.03791035895634.
Norm before scaling: 14.043083383572453. Distance: 0.1385324341224061
Total norm for 9 adversaries is: 14.043083383572453. distance: 0.1385324341224061
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 2.9532, Accuracy: 3055/8991 (33.9784%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 3, internal_epoch   1,  Average loss: 0.0118, Accuracy: 833/1010 (82.4752%), train_poison_data_count: 1010
Global model norm: 14.03791035895634.
Norm before scaling: 14.026975528618731. Distance: 0.9278623151399031
Total norm for 9 adversaries is: 14.026975528618731. distance: 0.9278623151399031
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 3.5577, Accuracy: 2956/8991 (32.8773%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 4, internal_epoch   1,  Average loss: 0.0127, Accuracy: 399/463 (86.1771%), train_poison_data_count: 463
Global model norm: 14.03791035895634.
Norm before scaling: 14.067425352732016. Distance: 1.490305007720563
Total norm for 9 adversaries is: 14.067425352732016. distance: 1.490305007720563
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 12.5763, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 5, internal_epoch   1,  Average loss: 0.0118, Accuracy: 923/1046 (88.2409%), train_poison_data_count: 1046
Global model norm: 14.03791035895634.
Norm before scaling: 14.026432697196546. Distance: 1.8497993669744517
Total norm for 9 adversaries is: 14.026432697196546. distance: 1.8497993669744517
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 5.9150, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 6, internal_epoch   1,  Average loss: 0.0061, Accuracy: 1777/1982 (89.6569%), train_poison_data_count: 1982
Global model norm: 14.03791035895634.
Norm before scaling: 14.004325743368268. Distance: 1.6885437739659346
Total norm for 9 adversaries is: 14.004325743368268. distance: 1.6885437739659346
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 8.7106, Accuracy: 2506/8991 (27.8723%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 7, internal_epoch   1,  Average loss: 0.0396, Accuracy: 53/86 (61.6279%), train_poison_data_count: 86
Global model norm: 14.03791035895634.
Norm before scaling: 14.033291062920366. Distance: 0.24689351416831673
Total norm for 9 adversaries is: 14.033291062920366. distance: 0.24689351416831673
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 2.7874, Accuracy: 2032/8991 (22.6004%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 8, internal_epoch   1,  Average loss: 0.0137, Accuracy: 138/171 (80.7018%), train_poison_data_count: 171
Global model norm: 14.03791035895634.
Norm before scaling: 14.039239117037345. Distance: 0.3323299635021527
Total norm for 9 adversaries is: 14.039239117037345. distance: 0.3323299635021527
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 4.3379, Accuracy: 1011/8991 (11.2446%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 9, internal_epoch   1,  Average loss: 0.0186, Accuracy: 186/263 (70.7224%), train_poison_data_count: 263
Global model norm: 14.03791035895634.
Norm before scaling: 14.060102877287985. Distance: 0.9872735355341318
Total norm for 9 adversaries is: 14.060102877287985. distance: 0.9872735355341318
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 7.3851, Accuracy: 1767/8991 (19.6530%)
time spent on training: 39.03034853935242
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.630849   0.22727894 0.22727894 0.        ]
___Test Target_Simple poisoned: False, epoch: 90: Average loss: 2.5912, Accuracy: 3688/10000 (36.8800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 90: Average loss: 2.2448, Accuracy: 3677/8991 (40.8965%)
Done in 102.66132974624634 sec.
Server Epoch:91 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  91, local model 0, internal_epoch   1,  Average loss: 0.0032, Accuracy: 295/300 (98.3333%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 4.1379, Accuracy: 1656/10000 (16.5600%), Attack Success Rate:26/10000(0.260)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 1, internal_epoch   1,  Average loss: 0.0357, Accuracy: 40/84 (47.6190%), train_poison_data_count: 84
Global model norm: 14.039447793996443.
Norm before scaling: 14.038214163816553. Distance: 0.23872651256749639
Total norm for 9 adversaries is: 14.038214163816553. distance: 0.23872651256749639
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 2.2001, Accuracy: 3668/8991 (40.7964%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 2, internal_epoch   1,  Average loss: 0.0139, Accuracy: 107/119 (89.9160%), train_poison_data_count: 119
Global model norm: 14.039447793996443.
Norm before scaling: 14.04485709661219. Distance: 0.13870152304264535
Total norm for 9 adversaries is: 14.04485709661219. distance: 0.13870152304264535
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 3.0960, Accuracy: 2947/8991 (32.7772%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 3, internal_epoch   1,  Average loss: 0.0109, Accuracy: 823/1010 (81.4851%), train_poison_data_count: 1010
Global model norm: 14.039447793996443.
Norm before scaling: 14.03604010228418. Distance: 0.9269422823870219
Total norm for 9 adversaries is: 14.03604010228418. distance: 0.9269422823870219
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 4.3038, Accuracy: 2848/8991 (31.6761%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 4, internal_epoch   1,  Average loss: 0.0150, Accuracy: 402/463 (86.8251%), train_poison_data_count: 463
Global model norm: 14.039447793996443.
Norm before scaling: 14.06674198172657. Distance: 1.439036916035263
Total norm for 9 adversaries is: 14.06674198172657. distance: 1.439036916035263
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 12.1776, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 5, internal_epoch   1,  Average loss: 0.0108, Accuracy: 924/1046 (88.3365%), train_poison_data_count: 1046
Global model norm: 14.039447793996443.
Norm before scaling: 14.022206269940469. Distance: 1.8219510672705566
Total norm for 9 adversaries is: 14.022206269940469. distance: 1.8219510672705566
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 5.3127, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 6, internal_epoch   1,  Average loss: 0.0059, Accuracy: 1774/1982 (89.5055%), train_poison_data_count: 1982
Global model norm: 14.039447793996443.
Norm before scaling: 14.0017960622468. Distance: 1.6233686915364878
Total norm for 9 adversaries is: 14.0017960622468. distance: 1.6233686915364878
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 9.7143, Accuracy: 2599/8991 (28.9067%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 7, internal_epoch   1,  Average loss: 0.0379, Accuracy: 62/86 (72.0930%), train_poison_data_count: 86
Global model norm: 14.039447793996443.
Norm before scaling: 14.035200824449117. Distance: 0.22754815701495035
Total norm for 9 adversaries is: 14.035200824449117. distance: 0.22754815701495035
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 2.6793, Accuracy: 2146/8991 (23.8683%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 8, internal_epoch   1,  Average loss: 0.0121, Accuracy: 141/171 (82.4561%), train_poison_data_count: 171
Global model norm: 14.039447793996443.
Norm before scaling: 14.041240440412263. Distance: 0.3255420703318253
Total norm for 9 adversaries is: 14.041240440412263. distance: 0.3255420703318253
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 4.5318, Accuracy: 1010/8991 (11.2335%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 9, internal_epoch   1,  Average loss: 0.0183, Accuracy: 191/263 (72.6236%), train_poison_data_count: 263
Global model norm: 14.039447793996443.
Norm before scaling: 14.05948643925328. Distance: 0.9663008833659983
Total norm for 9 adversaries is: 14.05948643925328. distance: 0.9663008833659983
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 7.2397, Accuracy: 1842/8991 (20.4872%)
time spent on training: 39.42018914222717
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.22113416 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 91: Average loss: 2.6216, Accuracy: 3630/10000 (36.3000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 91: Average loss: 2.2717, Accuracy: 3625/8991 (40.3181%)
Done in 104.70650696754456 sec.
Server Epoch:92 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  92, local model 0, internal_epoch   1,  Average loss: 0.0036, Accuracy: 289/300 (96.3333%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 3.8688, Accuracy: 1767/10000 (17.6700%), Attack Success Rate:36/10000(0.360)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 1, internal_epoch   1,  Average loss: 0.0365, Accuracy: 30/84 (35.7143%), train_poison_data_count: 84
Global model norm: 14.040783470443065.
Norm before scaling: 14.03968146503504. Distance: 0.24711290376877118
Total norm for 9 adversaries is: 14.03968146503504. distance: 0.24711290376877118
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 2.2242, Accuracy: 3620/8991 (40.2625%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 2, internal_epoch   1,  Average loss: 0.0129, Accuracy: 104/119 (87.3950%), train_poison_data_count: 119
Global model norm: 14.040783470443065.
Norm before scaling: 14.04598965681853. Distance: 0.13972612367581894
Total norm for 9 adversaries is: 14.04598965681853. distance: 0.13972612367581894
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 2.9537, Accuracy: 2997/8991 (33.3333%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 3, internal_epoch   1,  Average loss: 0.0101, Accuracy: 850/1010 (84.1584%), train_poison_data_count: 1010
Global model norm: 14.040783470443065.
Norm before scaling: 14.03060293086208. Distance: 0.8938511091007445
Total norm for 9 adversaries is: 14.03060293086208. distance: 0.8938511091007445
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 4.7389, Accuracy: 2575/8991 (28.6398%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 4, internal_epoch   1,  Average loss: 0.0116, Accuracy: 398/463 (85.9611%), train_poison_data_count: 463
Global model norm: 14.040783470443065.
Norm before scaling: 14.071988986047336. Distance: 1.4904716172867083
Total norm for 9 adversaries is: 14.071988986047336. distance: 1.4904716172867083
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 13.7324, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 5, internal_epoch   1,  Average loss: 0.0101, Accuracy: 928/1046 (88.7189%), train_poison_data_count: 1046
Global model norm: 14.040783470443065.
Norm before scaling: 14.03251523300967. Distance: 1.879709432954372
Total norm for 9 adversaries is: 14.03251523300967. distance: 1.879709432954372
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 5.1059, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 6, internal_epoch   1,  Average loss: 0.0058, Accuracy: 1770/1982 (89.3037%), train_poison_data_count: 1982
Global model norm: 14.040783470443065.
Norm before scaling: 14.003232310317456. Distance: 1.6439478330897646
Total norm for 9 adversaries is: 14.003232310317456. distance: 1.6439478330897646
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 10.4598, Accuracy: 2734/8991 (30.4082%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 7, internal_epoch   1,  Average loss: 0.0378, Accuracy: 59/86 (68.6047%), train_poison_data_count: 86
Global model norm: 14.040783470443065.
Norm before scaling: 14.035239962873085. Distance: 0.24057265244842663
Total norm for 9 adversaries is: 14.035239962873085. distance: 0.24057265244842663
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 2.6384, Accuracy: 2159/8991 (24.0129%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 8, internal_epoch   1,  Average loss: 0.0135, Accuracy: 139/171 (81.2865%), train_poison_data_count: 171
Global model norm: 14.040783470443065.
Norm before scaling: 14.041171977368801. Distance: 0.31466215306229844
Total norm for 9 adversaries is: 14.041171977368801. distance: 0.31466215306229844
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 4.1595, Accuracy: 1011/8991 (11.2446%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 9, internal_epoch   1,  Average loss: 0.0178, Accuracy: 200/263 (76.0456%), train_poison_data_count: 263
Global model norm: 14.040783470443065.
Norm before scaling: 14.061234209525036. Distance: 0.9612649189221634
Total norm for 9 adversaries is: 14.061234209525036. distance: 0.9612649189221634
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 7.3786, Accuracy: 1831/8991 (20.3648%)
time spent on training: 39.61418628692627
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.1505099  0.57327752 0.57327752 0.        ]
___Test Target_Simple poisoned: False, epoch: 92: Average loss: 2.5891, Accuracy: 3714/10000 (37.1400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 92: Average loss: 2.2381, Accuracy: 3710/8991 (41.2635%)
Done in 103.24990630149841 sec.
Server Epoch:93 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  93, local model 0, internal_epoch   1,  Average loss: 0.0032, Accuracy: 290/300 (96.6667%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 4.0379, Accuracy: 1681/10000 (16.8100%), Attack Success Rate:33/10000(0.330)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 1, internal_epoch   1,  Average loss: 0.0362, Accuracy: 41/84 (48.8095%), train_poison_data_count: 84
Global model norm: 14.041831599473365.
Norm before scaling: 14.04055253465887. Distance: 0.24407414866452043
Total norm for 9 adversaries is: 14.04055253465887. distance: 0.24407414866452043
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 2.2081, Accuracy: 3627/8991 (40.3403%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 2, internal_epoch   1,  Average loss: 0.0135, Accuracy: 110/119 (92.4370%), train_poison_data_count: 119
Global model norm: 14.041831599473365.
Norm before scaling: 14.047393144295159. Distance: 0.1431045936941948
Total norm for 9 adversaries is: 14.047393144295159. distance: 0.1431045936941948
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 3.2821, Accuracy: 2577/8991 (28.6620%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 3, internal_epoch   1,  Average loss: 0.0099, Accuracy: 859/1010 (85.0495%), train_poison_data_count: 1010
Global model norm: 14.041831599473365.
Norm before scaling: 14.027428053387718. Distance: 0.8662061207324504
Total norm for 9 adversaries is: 14.027428053387718. distance: 0.8662061207324504
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 4.1994, Accuracy: 2848/8991 (31.6761%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 4, internal_epoch   1,  Average loss: 0.0138, Accuracy: 401/463 (86.6091%), train_poison_data_count: 463
Global model norm: 14.041831599473365.
Norm before scaling: 14.063759166716915. Distance: 1.4090863763339168
Total norm for 9 adversaries is: 14.063759166716915. distance: 1.4090863763339168
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 11.1043, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 5, internal_epoch   1,  Average loss: 0.0111, Accuracy: 924/1046 (88.3365%), train_poison_data_count: 1046
Global model norm: 14.041831599473365.
Norm before scaling: 14.029456077032453. Distance: 1.888181573448945
Total norm for 9 adversaries is: 14.029456077032453. distance: 1.888181573448945
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 4.8235, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 6, internal_epoch   1,  Average loss: 0.0057, Accuracy: 1774/1982 (89.5055%), train_poison_data_count: 1982
Global model norm: 14.041831599473365.
Norm before scaling: 14.001318733231212. Distance: 1.5861143567923708
Total norm for 9 adversaries is: 14.001318733231212. distance: 1.5861143567923708
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 9.3851, Accuracy: 2723/8991 (30.2858%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 7, internal_epoch   1,  Average loss: 0.0379, Accuracy: 62/86 (72.0930%), train_poison_data_count: 86
Global model norm: 14.041831599473365.
Norm before scaling: 14.037220659474347. Distance: 0.22011517385866594
Total norm for 9 adversaries is: 14.037220659474347. distance: 0.22011517385866594
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 2.6477, Accuracy: 2157/8991 (23.9907%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 8, internal_epoch   1,  Average loss: 0.0156, Accuracy: 142/171 (83.0409%), train_poison_data_count: 171
Global model norm: 14.041831599473365.
Norm before scaling: 14.042231487079208. Distance: 0.29988485997723296
Total norm for 9 adversaries is: 14.042231487079208. distance: 0.29988485997723296
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 4.0489, Accuracy: 1051/8991 (11.6895%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 9, internal_epoch   1,  Average loss: 0.0178, Accuracy: 197/263 (74.9049%), train_poison_data_count: 263
Global model norm: 14.041831599473365.
Norm before scaling: 14.063456456188755. Distance: 0.9787714275484618
Total norm for 9 adversaries is: 14.063456456188755. distance: 0.9787714275484618
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 7.5565, Accuracy: 1829/8991 (20.3426%)
time spent on training: 39.479127645492554
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.30082602 1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 93: Average loss: 2.5346, Accuracy: 3814/10000 (38.1400%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 93: Average loss: 2.1837, Accuracy: 3802/8991 (42.2867%)
Done in 102.56652212142944 sec.
Server Epoch:94 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  94, local model 0, internal_epoch   1,  Average loss: 0.0030, Accuracy: 292/300 (97.3333%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 4.0590, Accuracy: 1709/10000 (17.0900%), Attack Success Rate:22/10000(0.220)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 1, internal_epoch   1,  Average loss: 0.0362, Accuracy: 35/84 (41.6667%), train_poison_data_count: 84
Global model norm: 14.04282912395816.
Norm before scaling: 14.042360252811012. Distance: 0.2439446005646676
Total norm for 9 adversaries is: 14.042360252811012. distance: 0.2439446005646676
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 2.2168, Accuracy: 3660/8991 (40.7074%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 2, internal_epoch   1,  Average loss: 0.0134, Accuracy: 107/119 (89.9160%), train_poison_data_count: 119
Global model norm: 14.04282912395816.
Norm before scaling: 14.04843969403414. Distance: 0.14506331017385887
Total norm for 9 adversaries is: 14.04843969403414. distance: 0.14506331017385887
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 3.1114, Accuracy: 2941/8991 (32.7105%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 3, internal_epoch   1,  Average loss: 0.0090, Accuracy: 856/1010 (84.7525%), train_poison_data_count: 1010
Global model norm: 14.04282912395816.
Norm before scaling: 14.035616121049369. Distance: 0.8278236560638627
Total norm for 9 adversaries is: 14.035616121049369. distance: 0.8278236560638627
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 5.1119, Accuracy: 2729/8991 (30.3526%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 4, internal_epoch   1,  Average loss: 0.0111, Accuracy: 400/463 (86.3931%), train_poison_data_count: 463
Global model norm: 14.04282912395816.
Norm before scaling: 14.067820174182105. Distance: 1.4048833776245084
Total norm for 9 adversaries is: 14.067820174182105. distance: 1.4048833776245084
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 13.3066, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 5, internal_epoch   1,  Average loss: 0.0114, Accuracy: 919/1046 (87.8585%), train_poison_data_count: 1046
Global model norm: 14.04282912395816.
Norm before scaling: 14.023342835683273. Distance: 1.8044334331864462
Total norm for 9 adversaries is: 14.023342835683273. distance: 1.8044334331864462
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 5.7521, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 6, internal_epoch   1,  Average loss: 0.0054, Accuracy: 1795/1982 (90.5651%), train_poison_data_count: 1982
Global model norm: 14.04282912395816.
Norm before scaling: 14.000427784514802. Distance: 1.570210847363765
Total norm for 9 adversaries is: 14.000427784514802. distance: 1.570210847363765
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 12.2112, Accuracy: 2529/8991 (28.1281%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 7, internal_epoch   1,  Average loss: 0.0360, Accuracy: 61/86 (70.9302%), train_poison_data_count: 86
Global model norm: 14.04282912395816.
Norm before scaling: 14.038186446651059. Distance: 0.2106989553687484
Total norm for 9 adversaries is: 14.038186446651059. distance: 0.2106989553687484
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 2.5844, Accuracy: 2212/8991 (24.6024%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 8, internal_epoch   1,  Average loss: 0.0117, Accuracy: 146/171 (85.3801%), train_poison_data_count: 171
Global model norm: 14.04282912395816.
Norm before scaling: 14.045565975922237. Distance: 0.27975620832363884
Total norm for 9 adversaries is: 14.045565975922237. distance: 0.27975620832363884
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 4.1396, Accuracy: 1054/8991 (11.7228%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 9, internal_epoch   1,  Average loss: 0.0171, Accuracy: 203/263 (77.1863%), train_poison_data_count: 263
Global model norm: 14.04282912395816.
Norm before scaling: 14.064799616661302. Distance: 0.9586582911370464
Total norm for 9 adversaries is: 14.064799616661302. distance: 0.9586582911370464
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 7.6455, Accuracy: 1834/8991 (20.3982%)
time spent on training: 39.11881184577942
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.07625073 0.66765384 0.07625073 0.        ]
___Test Target_Simple poisoned: False, epoch: 94: Average loss: 2.5287, Accuracy: 3813/10000 (38.1300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 94: Average loss: 2.1765, Accuracy: 3818/8991 (42.4647%)
Done in 102.56551790237427 sec.
Server Epoch:95 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  95, local model 0, internal_epoch   1,  Average loss: 0.0033, Accuracy: 288/300 (96.0000%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 3.7407, Accuracy: 1883/10000 (18.8300%), Attack Success Rate:23/10000(0.230)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 1, internal_epoch   1,  Average loss: 0.0355, Accuracy: 34/84 (40.4762%), train_poison_data_count: 84
Global model norm: 14.043782030518102.
Norm before scaling: 14.043133908973152. Distance: 0.2451585225667951
Total norm for 9 adversaries is: 14.043133908973152. distance: 0.2451585225667951
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 2.2029, Accuracy: 3649/8991 (40.5850%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 2, internal_epoch   1,  Average loss: 0.0132, Accuracy: 110/119 (92.4370%), train_poison_data_count: 119
Global model norm: 14.043782030518102.
Norm before scaling: 14.04909517354454. Distance: 0.14502640267992378
Total norm for 9 adversaries is: 14.04909517354454. distance: 0.14502640267992378
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 3.1193, Accuracy: 2924/8991 (32.5214%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 3, internal_epoch   1,  Average loss: 0.0108, Accuracy: 838/1010 (82.9703%), train_poison_data_count: 1010
Global model norm: 14.043782030518102.
Norm before scaling: 14.037191309808529. Distance: 0.9167811401733287
Total norm for 9 adversaries is: 14.037191309808529. distance: 0.9167811401733287
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 3.6855, Accuracy: 3042/8991 (33.8338%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 4, internal_epoch   1,  Average loss: 0.0107, Accuracy: 405/463 (87.4730%), train_poison_data_count: 463
Global model norm: 14.043782030518102.
Norm before scaling: 14.070021317607507. Distance: 1.4066827743897672
Total norm for 9 adversaries is: 14.070021317607507. distance: 1.4066827743897672
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 13.4245, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 5, internal_epoch   1,  Average loss: 0.0115, Accuracy: 927/1046 (88.6233%), train_poison_data_count: 1046
Global model norm: 14.043782030518102.
Norm before scaling: 14.034028251881544. Distance: 1.8718830267681552
Total norm for 9 adversaries is: 14.034028251881544. distance: 1.8718830267681552
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 5.2270, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 6, internal_epoch   1,  Average loss: 0.0064, Accuracy: 1754/1982 (88.4965%), train_poison_data_count: 1982
Global model norm: 14.043782030518102.
Norm before scaling: 14.004789895412513. Distance: 1.5905428012676002
Total norm for 9 adversaries is: 14.004789895412513. distance: 1.5905428012676002
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 6.3767, Accuracy: 2656/8991 (29.5407%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 7, internal_epoch   1,  Average loss: 0.0343, Accuracy: 60/86 (69.7674%), train_poison_data_count: 86
Global model norm: 14.043782030518102.
Norm before scaling: 14.038366878982265. Distance: 0.20596378364183815
Total norm for 9 adversaries is: 14.038366878982265. distance: 0.20596378364183815
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 2.4864, Accuracy: 2282/8991 (25.3809%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 8, internal_epoch   1,  Average loss: 0.0140, Accuracy: 147/171 (85.9649%), train_poison_data_count: 171
Global model norm: 14.043782030518102.
Norm before scaling: 14.04474410717877. Distance: 0.24741455643058993
Total norm for 9 adversaries is: 14.04474410717877. distance: 0.24741455643058993
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 3.5716, Accuracy: 1353/8991 (15.0484%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 9, internal_epoch   1,  Average loss: 0.0181, Accuracy: 205/263 (77.9468%), train_poison_data_count: 263
Global model norm: 14.043782030518102.
Norm before scaling: 14.063723362585597. Distance: 0.9606081080145952
Total norm for 9 adversaries is: 14.063723362585597. distance: 0.9606081080145952
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 7.4972, Accuracy: 1843/8991 (20.4983%)
time spent on training: 39.55059552192688
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.86538174 1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 95: Average loss: 2.4688, Accuracy: 3987/10000 (39.8700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 95: Average loss: 2.1149, Accuracy: 3947/8991 (43.8995%)
Done in 103.84520077705383 sec.
Server Epoch:96 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  96, local model 0, internal_epoch   1,  Average loss: 0.0037, Accuracy: 287/300 (95.6667%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 3.8998, Accuracy: 1800/10000 (18.0000%), Attack Success Rate:21/10000(0.210)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 1, internal_epoch   1,  Average loss: 0.0339, Accuracy: 37/84 (44.0476%), train_poison_data_count: 84
Global model norm: 14.045634960734075.
Norm before scaling: 14.04568602014039. Distance: 0.23668137466174338
Total norm for 9 adversaries is: 14.04568602014039. distance: 0.23668137466174338
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 2.2038, Accuracy: 3702/8991 (41.1745%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 2, internal_epoch   1,  Average loss: 0.0143, Accuracy: 103/119 (86.5546%), train_poison_data_count: 119
Global model norm: 14.045634960734075.
Norm before scaling: 14.050436448890009. Distance: 0.14225447513097747
Total norm for 9 adversaries is: 14.050436448890009. distance: 0.14225447513097747
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 2.9280, Accuracy: 3154/8991 (35.0795%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 3, internal_epoch   1,  Average loss: 0.0101, Accuracy: 849/1010 (84.0594%), train_poison_data_count: 1010
Global model norm: 14.045634960734075.
Norm before scaling: 14.034945878433122. Distance: 0.8635445447873024
Total norm for 9 adversaries is: 14.034945878433122. distance: 0.8635445447873024
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 4.4486, Accuracy: 2924/8991 (32.5214%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 4, internal_epoch   1,  Average loss: 0.0127, Accuracy: 403/463 (87.0410%), train_poison_data_count: 463
Global model norm: 14.045634960734075.
Norm before scaling: 14.065720659840506. Distance: 1.3740694191510996
Total norm for 9 adversaries is: 14.065720659840506. distance: 1.3740694191510996
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 12.2473, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 5, internal_epoch   1,  Average loss: 0.0113, Accuracy: 920/1046 (87.9541%), train_poison_data_count: 1046
Global model norm: 14.045634960734075.
Norm before scaling: 14.030124406759215. Distance: 1.8215737618886645
Total norm for 9 adversaries is: 14.030124406759215. distance: 1.8215737618886645
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 4.9514, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 6, internal_epoch   1,  Average loss: 0.0058, Accuracy: 1780/1982 (89.8083%), train_poison_data_count: 1982
Global model norm: 14.045634960734075.
Norm before scaling: 13.9941061420109. Distance: 1.497171596378139
Total norm for 9 adversaries is: 13.9941061420109. distance: 1.497171596378139
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 7.5491, Accuracy: 2709/8991 (30.1301%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 7, internal_epoch   1,  Average loss: 0.0341, Accuracy: 63/86 (73.2558%), train_poison_data_count: 86
Global model norm: 14.045634960734075.
Norm before scaling: 14.04125402430977. Distance: 0.18552323240934745
Total norm for 9 adversaries is: 14.04125402430977. distance: 0.18552323240934745
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 2.4488, Accuracy: 2357/8991 (26.2151%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 8, internal_epoch   1,  Average loss: 0.0144, Accuracy: 143/171 (83.6257%), train_poison_data_count: 171
Global model norm: 14.045634960734075.
Norm before scaling: 14.044921195982809. Distance: 0.21736970606637265
Total norm for 9 adversaries is: 14.044921195982809. distance: 0.21736970606637265
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 3.2553, Accuracy: 1651/8991 (18.3628%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 9, internal_epoch   1,  Average loss: 0.0170, Accuracy: 199/263 (75.6654%), train_poison_data_count: 263
Global model norm: 14.045634960734075.
Norm before scaling: 14.066213702340864. Distance: 0.9105514847005829
Total norm for 9 adversaries is: 14.066213702340864. distance: 0.9105514847005829
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 7.5917, Accuracy: 1841/8991 (20.4760%)
time spent on training: 39.45581817626953
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.80676109 1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 96: Average loss: 2.4210, Accuracy: 4124/10000 (41.2400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 96: Average loss: 2.0658, Accuracy: 4047/8991 (45.0117%)
Done in 103.0789122581482 sec.
Server Epoch:97 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  97, local model 0, internal_epoch   1,  Average loss: 0.0031, Accuracy: 290/300 (96.6667%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 4.1940, Accuracy: 1727/10000 (17.2700%), Attack Success Rate:29/10000(0.290)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 1, internal_epoch   1,  Average loss: 0.0340, Accuracy: 39/84 (46.4286%), train_poison_data_count: 84
Global model norm: 14.047157429029458.
Norm before scaling: 14.047490362112116. Distance: 0.22936968679017214
Total norm for 9 adversaries is: 14.047490362112116. distance: 0.22936968679017214
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 2.1751, Accuracy: 3827/8991 (42.5648%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 2, internal_epoch   1,  Average loss: 0.0140, Accuracy: 98/119 (82.3529%), train_poison_data_count: 119
Global model norm: 14.047157429029458.
Norm before scaling: 14.05194210870395. Distance: 0.15603926872499924
Total norm for 9 adversaries is: 14.05194210870395. distance: 0.15603926872499924
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 3.0269, Accuracy: 2916/8991 (32.4324%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 3, internal_epoch   1,  Average loss: 0.0084, Accuracy: 876/1010 (86.7327%), train_poison_data_count: 1010
Global model norm: 14.047157429029458.
Norm before scaling: 14.050696543739667. Distance: 0.9077377603725318
Total norm for 9 adversaries is: 14.050696543739667. distance: 0.9077377603725318
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 5.5019, Accuracy: 3310/8991 (36.8146%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 4, internal_epoch   1,  Average loss: 0.0106, Accuracy: 404/463 (87.2570%), train_poison_data_count: 463
Global model norm: 14.047157429029458.
Norm before scaling: 14.07197488964935. Distance: 1.3435727823189352
Total norm for 9 adversaries is: 14.07197488964935. distance: 1.3435727823189352
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 13.7118, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 5, internal_epoch   1,  Average loss: 0.0109, Accuracy: 925/1046 (88.4321%), train_poison_data_count: 1046
Global model norm: 14.047157429029458.
Norm before scaling: 14.030581723889505. Distance: 1.812463694241718
Total norm for 9 adversaries is: 14.030581723889505. distance: 1.812463694241718
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 5.1766, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 6, internal_epoch   1,  Average loss: 0.0055, Accuracy: 1803/1982 (90.9687%), train_poison_data_count: 1982
Global model norm: 14.047157429029458.
Norm before scaling: 13.989686709448344. Distance: 1.3723004022627838
Total norm for 9 adversaries is: 13.989686709448344. distance: 1.3723004022627838
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 8.6363, Accuracy: 2652/8991 (29.4962%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 7, internal_epoch   1,  Average loss: 0.0322, Accuracy: 65/86 (75.5814%), train_poison_data_count: 86
Global model norm: 14.047157429029458.
Norm before scaling: 14.042860091721488. Distance: 0.17154558540475898
Total norm for 9 adversaries is: 14.042860091721488. distance: 0.17154558540475898
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 2.3595, Accuracy: 2506/8991 (27.8723%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 8, internal_epoch   1,  Average loss: 0.0112, Accuracy: 144/171 (84.2105%), train_poison_data_count: 171
Global model norm: 14.047157429029458.
Norm before scaling: 14.047741278731598. Distance: 0.19142805675924665
Total norm for 9 adversaries is: 14.047741278731598. distance: 0.19142805675924665
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 3.1752, Accuracy: 1707/8991 (18.9857%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 9, internal_epoch   1,  Average loss: 0.0169, Accuracy: 201/263 (76.4259%), train_poison_data_count: 263
Global model norm: 14.047157429029458.
Norm before scaling: 14.06731254456808. Distance: 0.900851315952002
Total norm for 9 adversaries is: 14.06731254456808. distance: 0.900851315952002
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 7.4298, Accuracy: 1817/8991 (20.2091%)
time spent on training: 39.1302752494812
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.68967865 1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 97: Average loss: 2.3952, Accuracy: 4122/10000 (41.2200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 97: Average loss: 2.0383, Accuracy: 4061/8991 (45.1674%)
Done in 103.92974400520325 sec.
Server Epoch:98 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  98, local model 0, internal_epoch   1,  Average loss: 0.0031, Accuracy: 291/300 (97.0000%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 4.1618, Accuracy: 1775/10000 (17.7500%), Attack Success Rate:32/10000(0.320)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 1, internal_epoch   1,  Average loss: 0.0323, Accuracy: 44/84 (52.3810%), train_poison_data_count: 84
Global model norm: 14.048805180582194.
Norm before scaling: 14.049368869276655. Distance: 0.23092293840526515
Total norm for 9 adversaries is: 14.049368869276655. distance: 0.23092293840526515
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 2.1864, Accuracy: 3773/8991 (41.9642%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 2, internal_epoch   1,  Average loss: 0.0155, Accuracy: 96/119 (80.6723%), train_poison_data_count: 119
Global model norm: 14.048805180582194.
Norm before scaling: 14.05259525317688. Distance: 0.15231566292488416
Total norm for 9 adversaries is: 14.05259525317688. distance: 0.15231566292488416
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 2.8943, Accuracy: 3024/8991 (33.6336%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 3, internal_epoch   1,  Average loss: 0.0090, Accuracy: 862/1010 (85.3465%), train_poison_data_count: 1010
Global model norm: 14.048805180582194.
Norm before scaling: 14.047637545347929. Distance: 0.9197763056496616
Total norm for 9 adversaries is: 14.047637545347929. distance: 0.9197763056496616
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 6.1703, Accuracy: 2516/8991 (27.9835%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 4, internal_epoch   1,  Average loss: 0.0102, Accuracy: 401/463 (86.6091%), train_poison_data_count: 463
Global model norm: 14.048805180582194.
Norm before scaling: 14.068061508760112. Distance: 1.3036966730258956
Total norm for 9 adversaries is: 14.068061508760112. distance: 1.3036966730258956
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 11.8263, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 5, internal_epoch   1,  Average loss: 0.0103, Accuracy: 929/1046 (88.8145%), train_poison_data_count: 1046
Global model norm: 14.048805180582194.
Norm before scaling: 14.030170084764542. Distance: 1.6944260630974233
Total norm for 9 adversaries is: 14.030170084764542. distance: 1.6944260630974233
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 5.3761, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 6, internal_epoch   1,  Average loss: 0.0063, Accuracy: 1758/1982 (88.6983%), train_poison_data_count: 1982
Global model norm: 14.048805180582194.
Norm before scaling: 13.99907790280868. Distance: 1.4114241460997758
Total norm for 9 adversaries is: 13.99907790280868. distance: 1.4114241460997758
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 4.9899, Accuracy: 2674/8991 (29.7409%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 7, internal_epoch   1,  Average loss: 0.0304, Accuracy: 65/86 (75.5814%), train_poison_data_count: 86
Global model norm: 14.048805180582194.
Norm before scaling: 14.04410200573397. Distance: 0.1619861663111434
Total norm for 9 adversaries is: 14.04410200573397. distance: 0.1619861663111434
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 2.2490, Accuracy: 2676/8991 (29.7631%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 8, internal_epoch   1,  Average loss: 0.0098, Accuracy: 146/171 (85.3801%), train_poison_data_count: 171
Global model norm: 14.048805180582194.
Norm before scaling: 14.049309677595984. Distance: 0.1797527940954752
Total norm for 9 adversaries is: 14.049309677595984. distance: 0.1797527940954752
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 3.1405, Accuracy: 1766/8991 (19.6419%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 9, internal_epoch   1,  Average loss: 0.0175, Accuracy: 212/263 (80.6084%), train_poison_data_count: 263
Global model norm: 14.048805180582194.
Norm before scaling: 14.071485844330281. Distance: 0.8879651288024645
Total norm for 9 adversaries is: 14.071485844330281. distance: 0.8879651288024645
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 7.6438, Accuracy: 1833/8991 (20.3871%)
time spent on training: 40.079049825668335
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1.         0.         1.         1.         0.         0.
 0.99825823 1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 98: Average loss: 2.3757, Accuracy: 4103/10000 (41.0300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 98: Average loss: 2.0190, Accuracy: 4051/8991 (45.0562%)
Done in 103.47256350517273 sec.
Server Epoch:99 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch  99, local model 0, internal_epoch   1,  Average loss: 0.0032, Accuracy: 290/300 (96.6667%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 3.9185, Accuracy: 1889/10000 (18.8900%), Attack Success Rate:26/10000(0.260)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 1, internal_epoch   1,  Average loss: 0.0316, Accuracy: 44/84 (52.3810%), train_poison_data_count: 84
Global model norm: 14.050789937792699.
Norm before scaling: 14.051566930528603. Distance: 0.22944854970753384
Total norm for 9 adversaries is: 14.051566930528603. distance: 0.22944854970753384
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 2.1699, Accuracy: 3814/8991 (42.4202%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 2, internal_epoch   1,  Average loss: 0.0185, Accuracy: 85/119 (71.4286%), train_poison_data_count: 119
Global model norm: 14.050789937792699.
Norm before scaling: 14.053802106109767. Distance: 0.15703597275193903
Total norm for 9 adversaries is: 14.053802106109767. distance: 0.15703597275193903
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 2.7749, Accuracy: 3113/8991 (34.6235%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 3, internal_epoch   1,  Average loss: 0.0090, Accuracy: 849/1010 (84.0594%), train_poison_data_count: 1010
Global model norm: 14.050789937792699.
Norm before scaling: 14.048583065819363. Distance: 0.9436800078148873
Total norm for 9 adversaries is: 14.048583065819363. distance: 0.9436800078148873
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 4.9798, Accuracy: 3545/8991 (39.4283%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 4, internal_epoch   1,  Average loss: 0.0097, Accuracy: 401/463 (86.6091%), train_poison_data_count: 463
Global model norm: 14.050789937792699.
Norm before scaling: 14.071880551853225. Distance: 1.2802133320565194
Total norm for 9 adversaries is: 14.071880551853225. distance: 1.2802133320565194
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 14.2257, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 5, internal_epoch   1,  Average loss: 0.0098, Accuracy: 926/1046 (88.5277%), train_poison_data_count: 1046
Global model norm: 14.050789937792699.
Norm before scaling: 14.02560317974468. Distance: 1.6631465773130683
Total norm for 9 adversaries is: 14.02560317974468. distance: 1.6631465773130683
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 5.1669, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 6, internal_epoch   1,  Average loss: 0.0055, Accuracy: 1792/1982 (90.4137%), train_poison_data_count: 1982
Global model norm: 14.050789937792699.
Norm before scaling: 13.986855466990862. Distance: 1.326732623690742
Total norm for 9 adversaries is: 13.986855466990862. distance: 1.326732623690742
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 7.0953, Accuracy: 2743/8991 (30.5083%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 7, internal_epoch   1,  Average loss: 0.0304, Accuracy: 65/86 (75.5814%), train_poison_data_count: 86
Global model norm: 14.050789937792699.
Norm before scaling: 14.04663330141754. Distance: 0.14799347772596178
Total norm for 9 adversaries is: 14.04663330141754. distance: 0.14799347772596178
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 2.2139, Accuracy: 2756/8991 (30.6529%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 8, internal_epoch   1,  Average loss: 0.0100, Accuracy: 148/171 (86.5497%), train_poison_data_count: 171
Global model norm: 14.050789937792699.
Norm before scaling: 14.051415444750631. Distance: 0.16680953985012525
Total norm for 9 adversaries is: 14.051415444750631. distance: 0.16680953985012525
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 2.9218, Accuracy: 1883/8991 (20.9432%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 9, internal_epoch   1,  Average loss: 0.0154, Accuracy: 207/263 (78.7072%), train_poison_data_count: 263
Global model norm: 14.050789937792699.
Norm before scaling: 14.071872419254982. Distance: 0.8810591037768944
Total norm for 9 adversaries is: 14.071872419254982. distance: 0.8810591037768944
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 7.8107, Accuracy: 1847/8991 (20.5428%)
time spent on training: 39.55420231819153
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 1. 1. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 99: Average loss: 2.3552, Accuracy: 4067/10000 (40.6700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 99: Average loss: 1.9965, Accuracy: 4044/8991 (44.9783%)
Done in 103.0031373500824 sec.
Server Epoch:100 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].
___Train Local_Simple,  epoch 100, local model 0, internal_epoch   1,  Average loss: 0.0033, Accuracy: 288/300 (96.0000%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 4.0149, Accuracy: 1840/10000 (18.4000%), Attack Success Rate:26/10000(0.260)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 1, internal_epoch   1,  Average loss: 0.0307, Accuracy: 46/84 (54.7619%), train_poison_data_count: 84
Global model norm: 14.052675604680791.
Norm before scaling: 14.053927508635041. Distance: 0.22829630507709447
Total norm for 9 adversaries is: 14.053927508635041. distance: 0.22829630507709447
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 2.1668, Accuracy: 3837/8991 (42.6760%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 2, internal_epoch   1,  Average loss: 0.0152, Accuracy: 92/119 (77.3109%), train_poison_data_count: 119
Global model norm: 14.052675604680791.
Norm before scaling: 14.056470061360978. Distance: 0.19317712768556922
Total norm for 9 adversaries is: 14.056470061360978. distance: 0.19317712768556922
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 3.1903, Accuracy: 2296/8991 (25.5366%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 3, internal_epoch   1,  Average loss: 0.0087, Accuracy: 864/1010 (85.5446%), train_poison_data_count: 1010
Global model norm: 14.052675604680791.
Norm before scaling: 14.058187815409221. Distance: 0.9785155640866685
Total norm for 9 adversaries is: 14.058187815409221. distance: 0.9785155640866685
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 5.5419, Accuracy: 3388/8991 (37.6821%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 4, internal_epoch   1,  Average loss: 0.0107, Accuracy: 404/463 (87.2570%), train_poison_data_count: 463
Global model norm: 14.052675604680791.
Norm before scaling: 14.074104370025092. Distance: 1.2716600147354982
Total norm for 9 adversaries is: 14.074104370025092. distance: 1.2716600147354982
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 13.7282, Accuracy: 892/8991 (9.9210%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 5, internal_epoch   1,  Average loss: 0.0106, Accuracy: 933/1046 (89.1969%), train_poison_data_count: 1046
Global model norm: 14.052675604680791.
Norm before scaling: 14.026611105031638. Distance: 1.6777840408239175
Total norm for 9 adversaries is: 14.026611105031638. distance: 1.6777840408239175
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 4.8358, Accuracy: 892/8991 (9.9210%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 6, internal_epoch   1,  Average loss: 0.0053, Accuracy: 1799/1982 (90.7669%), train_poison_data_count: 1982
Global model norm: 14.052675604680791.
Norm before scaling: 13.975970217851547. Distance: 1.215960464672443
Total norm for 9 adversaries is: 13.975970217851547. distance: 1.215960464672443
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 6.7078, Accuracy: 2727/8991 (30.3303%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 7, internal_epoch   1,  Average loss: 0.0282, Accuracy: 65/86 (75.5814%), train_poison_data_count: 86
Global model norm: 14.052675604680791.
Norm before scaling: 14.04810569726896. Distance: 0.14920524890597214
Total norm for 9 adversaries is: 14.04810569726896. distance: 0.14920524890597214
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 2.1376, Accuracy: 2893/8991 (32.1766%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 8, internal_epoch   1,  Average loss: 0.0103, Accuracy: 149/171 (87.1345%), train_poison_data_count: 171
Global model norm: 14.052675604680791.
Norm before scaling: 14.052134851917852. Distance: 0.14379788901989018
Total norm for 9 adversaries is: 14.052134851917852. distance: 0.14379788901989018
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 2.6357, Accuracy: 2291/8991 (25.4810%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 9, internal_epoch   1,  Average loss: 0.0150, Accuracy: 210/263 (79.8479%), train_poison_data_count: 263
Global model norm: 14.052675604680791.
Norm before scaling: 14.071602956508722. Distance: 0.8409779541537095
Total norm for 9 adversaries is: 14.071602956508722. distance: 0.8409779541537095
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 7.4163, Accuracy: 1806/8991 (20.0868%)
time spent on training: 39.03319835662842
[foolsgold agg] training data poison_ratio: 0.945691527878349  data num: [300, 84, 119, 1010, 463, 1046, 1982, 86, 171, 263]
[foolsgold agg] considering poison per batch poison_fraction: 0.945691527878349
[foolsgold agg] wv: [0.68728061 0.         1.         0.68728061 0.         0.
 0.7466055  1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 100: Average loss: 2.3363, Accuracy: 4082/10000 (40.8200%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 100: Average loss: 1.9758, Accuracy: 4060/8991 (45.1563%)
Done in 102.14899897575378 sec.
Saving all the graphs.
This run has a label: Mar.06_13.55.44. Visdom environment: mnist_DBA
