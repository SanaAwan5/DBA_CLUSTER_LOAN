current path: saved_models/mnist_pretrain/model_mnist_Mar.06_21.14.36
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
create model done
Poisoned following participants: [1, 2, 3, 4, 5, 6.0, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33]
We use following environment for graphs:  mnist_DBA
Server Epoch:1 choose agents : [23, 72, 61, 11, 71, 42, 45, 37, 21, 35].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 23, internal_epoch   1,  Average loss: 0.0463, Accuracy: 110/588 (18.7075%), train_poison_data_count: 588
Global model norm: 13.898006576196178.
Norm before scaling: 13.863438093470334. Distance: 0.19793726579648066
Total norm for 3 adversaries is: 13.863438093470334. distance: 0.19793726579648066
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.2574, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch   1, local model 72, internal_epoch   1,  Average loss: 0.0477, Accuracy: 71/529 (13.4216%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.2881, Accuracy: 1597/10000 (15.9700%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch   1, local model 61, internal_epoch   1,  Average loss: 0.0470, Accuracy: 59/537 (10.9870%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.2863, Accuracy: 1539/10000 (15.3900%), Attack Success Rate:34/10000(0.340)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 11, internal_epoch   1,  Average loss: 0.0450, Accuracy: 133/644 (20.6522%), train_poison_data_count: 644
Global model norm: 13.898006576196178.
Norm before scaling: 13.86479402759862. Distance: 0.36561915075073803
Total norm for 3 adversaries is: 13.86479402759862. distance: 0.36561915075073803
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.3084, Accuracy: 1010/8991 (11.2335%)
___Train Local_Simple,  epoch   1, local model 71, internal_epoch   1,  Average loss: 0.0466, Accuracy: 110/638 (17.2414%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.2838, Accuracy: 1932/10000 (19.3200%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch   1, local model 42, internal_epoch   1,  Average loss: 0.0479, Accuracy: 113/665 (16.9925%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.2849, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch   1, local model 45, internal_epoch   1,  Average loss: 0.0455, Accuracy: 108/750 (14.4000%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.2862, Accuracy: 1601/10000 (16.0100%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch   1, local model 37, internal_epoch   1,  Average loss: 0.0464, Accuracy: 100/641 (15.6006%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.2833, Accuracy: 1486/10000 (14.8600%), Attack Success Rate:33/10000(0.330)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 21, internal_epoch   1,  Average loss: 0.0467, Accuracy: 135/625 (21.6000%), train_poison_data_count: 625
Global model norm: 13.898006576196178.
Norm before scaling: 13.861997268132711. Distance: 0.28612281339184004
Total norm for 3 adversaries is: 13.861997268132711. distance: 0.28612281339184004
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.2619, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch   1, local model 35, internal_epoch   1,  Average loss: 0.0465, Accuracy: 74/493 (15.0101%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.2891, Accuracy: 2008/10000 (20.0800%), Attack Success Rate:25/10000(0.250)
time spent on training: 30.024413108825684
[foolsgold agg] training data poison_ratio: 0.3039279869067103  data num: [588, 529, 537, 644, 638, 665, 750, 641, 625, 493]
[foolsgold agg] considering poison per batch poison_fraction: 0.3039279869067103
[foolsgold agg] wv: [0.         1.         1.         1.         1.         0.92003579
 1.         0.22586704 0.         0.22586704]
___Test Target_Simple poisoned: False, epoch: 1: Average loss: 2.2993, Accuracy: 1066/10000 (10.6600%), Attack Success Rate:11/10000(0.110)
___Test Target_Simple poisoned: True, epoch: 1: Average loss: 2.2978, Accuracy: 1039/8991 (11.5560%)
Done in 113.99070620536804 sec.
Server Epoch:2 choose agents : [11, 59, 62, 28, 65, 22, 78, 58, 41, 81].
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 11, internal_epoch   1,  Average loss: 0.0448, Accuracy: 129/644 (20.0311%), train_poison_data_count: 644
Global model norm: 13.89768213939491.
Norm before scaling: 13.865637017193913. Distance: 0.37023718506647585
Total norm for 3 adversaries is: 13.865637017193913. distance: 0.37023718506647585
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.3135, Accuracy: 1010/8991 (11.2335%)
___Train Local_Simple,  epoch   2, local model 59, internal_epoch   1,  Average loss: 0.0489, Accuracy: 110/652 (16.8712%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2795, Accuracy: 1398/10000 (13.9800%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch   2, local model 62, internal_epoch   1,  Average loss: 0.0481, Accuracy: 94/617 (15.2350%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2842, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:3/10000(0.030)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 28, internal_epoch   1,  Average loss: 0.0471, Accuracy: 166/665 (24.9624%), train_poison_data_count: 665
Global model norm: 13.89768213939491.
Norm before scaling: 13.858787068279325. Distance: 0.3345511128650389
Total norm for 3 adversaries is: 13.858787068279325. distance: 0.3345511128650389
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.2752, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch   2, local model 65, internal_epoch   1,  Average loss: 0.0480, Accuracy: 61/573 (10.6457%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2815, Accuracy: 1132/10000 (11.3200%), Attack Success Rate:7/10000(0.070)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 22, internal_epoch   1,  Average loss: 0.0472, Accuracy: 82/531 (15.4426%), train_poison_data_count: 531
Global model norm: 13.89768213939491.
Norm before scaling: 13.86728488082005. Distance: 0.18383460782832148
Total norm for 3 adversaries is: 13.86728488082005. distance: 0.18383460782832148
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.2542, Accuracy: 2450/8991 (27.2495%)
___Train Local_Simple,  epoch   2, local model 78, internal_epoch   1,  Average loss: 0.0478, Accuracy: 91/624 (14.5833%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2793, Accuracy: 1843/10000 (18.4300%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch   2, local model 58, internal_epoch   1,  Average loss: 0.0494, Accuracy: 62/510 (12.1569%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2828, Accuracy: 1746/10000 (17.4600%), Attack Success Rate:27/10000(0.270)
___Train Local_Simple,  epoch   2, local model 41, internal_epoch   1,  Average loss: 0.0490, Accuracy: 148/652 (22.6994%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2751, Accuracy: 3186/10000 (31.8600%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch   2, local model 81, internal_epoch   1,  Average loss: 0.0469, Accuracy: 99/586 (16.8942%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2828, Accuracy: 2004/10000 (20.0400%), Attack Success Rate:31/10000(0.310)
time spent on training: 39.28588914871216
[foolsgold agg] training data poison_ratio: 0.30393128510075984  data num: [644, 652, 617, 665, 573, 531, 624, 510, 652, 586]
[foolsgold agg] considering poison per batch poison_fraction: 0.30393128510075984
[foolsgold agg] wv: [1.         0.         0.5395466  0.19034354 1.         0.19034354
 0.15000204 0.         1.         0.15000204]
___Test Target_Simple poisoned: False, epoch: 2: Average loss: 2.2974, Accuracy: 1029/10000 (10.2900%), Attack Success Rate:7/10000(0.070)
___Test Target_Simple poisoned: True, epoch: 2: Average loss: 2.2948, Accuracy: 1002/8991 (11.1445%)
Done in 127.21202397346497 sec.
Server Epoch:3 choose agents : [54, 55, 61, 73, 18, 42, 87, 41, 50, 28].
___Train Local_Simple,  epoch   3, local model 54, internal_epoch   1,  Average loss: 0.0482, Accuracy: 68/523 (13.0019%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2807, Accuracy: 1341/10000 (13.4100%), Attack Success Rate:25/10000(0.250)
___Train Local_Simple,  epoch   3, local model 55, internal_epoch   1,  Average loss: 0.0464, Accuracy: 83/592 (14.0203%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2812, Accuracy: 1762/10000 (17.6200%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch   3, local model 61, internal_epoch   1,  Average loss: 0.0468, Accuracy: 64/537 (11.9181%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2810, Accuracy: 1825/10000 (18.2500%), Attack Success Rate:22/10000(0.220)
___Train Local_Simple,  epoch   3, local model 73, internal_epoch   1,  Average loss: 0.0473, Accuracy: 85/626 (13.5783%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2792, Accuracy: 987/10000 (9.8700%), Attack Success Rate:12/10000(0.120)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 18, internal_epoch   1,  Average loss: 0.0483, Accuracy: 81/516 (15.6977%), train_poison_data_count: 516
Global model norm: 13.897335735735746.
Norm before scaling: 13.867579769979974. Distance: 0.20894082230560485
Total norm for 2 adversaries is: 13.867579769979974. distance: 0.20894082230560485
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.2574, Accuracy: 1664/8991 (18.5074%)
___Train Local_Simple,  epoch   3, local model 42, internal_epoch   1,  Average loss: 0.0478, Accuracy: 110/665 (16.5414%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2812, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch   3, local model 87, internal_epoch   1,  Average loss: 0.0472, Accuracy: 119/575 (20.6957%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2838, Accuracy: 980/10000 (9.8000%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch   3, local model 41, internal_epoch   1,  Average loss: 0.0491, Accuracy: 142/652 (21.7791%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2721, Accuracy: 3620/10000 (36.2000%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   3, local model 50, internal_epoch   1,  Average loss: 0.0484, Accuracy: 59/474 (12.4473%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2824, Accuracy: 2763/10000 (27.6300%), Attack Success Rate:8/10000(0.080)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 28, internal_epoch   1,  Average loss: 0.0469, Accuracy: 165/665 (24.8120%), train_poison_data_count: 665
Global model norm: 13.897335735735746.
Norm before scaling: 13.859316097852567. Distance: 0.33972025414187296
Total norm for 2 adversaries is: 13.859316097852567. distance: 0.33972025414187296
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.2769, Accuracy: 982/8991 (10.9220%)
time spent on training: 37.04927635192871
[foolsgold agg] training data poison_ratio: 0.20274678111587982  data num: [523, 592, 537, 626, 516, 665, 575, 652, 474, 665]
[foolsgold agg] considering poison per batch poison_fraction: 0.20274678111587982
[foolsgold agg] wv: [1.         1.         1.         0.         0.28391302 0.14141364
 1.         0.         0.97410686 0.14141364]
___Test Target_Simple poisoned: False, epoch: 3: Average loss: 2.2947, Accuracy: 1047/10000 (10.4700%), Attack Success Rate:10/10000(0.100)
___Test Target_Simple poisoned: True, epoch: 3: Average loss: 2.2921, Accuracy: 1020/8991 (11.3447%)
Done in 124.373788356781 sec.
Server Epoch:4 choose agents : [37, 92, 95, 76, 13, 99, 94, 74, 45, 44].
___Train Local_Simple,  epoch   4, local model 37, internal_epoch   1,  Average loss: 0.0463, Accuracy: 85/641 (13.2605%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.2761, Accuracy: 1278/10000 (12.7800%), Attack Success Rate:15/10000(0.150)
___Train Local_Simple,  epoch   4, local model 92, internal_epoch   1,  Average loss: 0.0476, Accuracy: 82/571 (14.3608%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.2826, Accuracy: 1874/10000 (18.7400%), Attack Success Rate:30/10000(0.300)
___Train Local_Simple,  epoch   4, local model 95, internal_epoch   1,  Average loss: 0.0469, Accuracy: 78/532 (14.6617%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.2795, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch   4, local model 76, internal_epoch   1,  Average loss: 0.0485, Accuracy: 76/518 (14.6718%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.2766, Accuracy: 1558/10000 (15.5800%), Attack Success Rate:18/10000(0.180)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 13, internal_epoch   1,  Average loss: 0.0477, Accuracy: 106/521 (20.3455%), train_poison_data_count: 521
Global model norm: 13.89690971876285.
Norm before scaling: 13.868656942391436. Distance: 0.20935619113191423
Total norm for 1 adversaries is: 13.868656942391436. distance: 0.20935619113191423
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 2.2443, Accuracy: 1660/8991 (18.4629%)
___Train Local_Simple,  epoch   4, local model 99, internal_epoch   1,  Average loss: 0.0491, Accuracy: 97/410 (23.6585%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.3090, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch   4, local model 94, internal_epoch   1,  Average loss: 0.0492, Accuracy: 89/555 (16.0360%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.2776, Accuracy: 1332/10000 (13.3200%), Attack Success Rate:20/10000(0.200)
___Train Local_Simple,  epoch   4, local model 74, internal_epoch   1,  Average loss: 0.0475, Accuracy: 83/626 (13.2588%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.2778, Accuracy: 894/10000 (8.9400%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch   4, local model 45, internal_epoch   1,  Average loss: 0.0453, Accuracy: 160/750 (21.3333%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.2795, Accuracy: 1479/10000 (14.7900%), Attack Success Rate:29/10000(0.290)
___Train Local_Simple,  epoch   4, local model 44, internal_epoch   1,  Average loss: 0.0485, Accuracy: 66/518 (12.7413%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.2801, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:4/10000(0.040)
time spent on training: 34.88621163368225
[foolsgold agg] training data poison_ratio: 0.0923431407302375  data num: [641, 571, 532, 518, 521, 410, 555, 626, 750, 518]
[foolsgold agg] considering poison per batch poison_fraction: 0.0923431407302375
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.73398117 0.92436271 1.         0.92436271]
___Test Target_Simple poisoned: False, epoch: 4: Average loss: 2.2927, Accuracy: 1116/10000 (11.1600%), Attack Success Rate:12/10000(0.120)
___Test Target_Simple poisoned: True, epoch: 4: Average loss: 2.2906, Accuracy: 1090/8991 (12.1232%)
Done in 122.47269892692566 sec.
Server Epoch:5 choose agents : [60, 49, 65, 14, 36, 24, 7, 4, 76, 39].
___Train Local_Simple,  epoch   5, local model 60, internal_epoch   1,  Average loss: 0.0459, Accuracy: 90/644 (13.9752%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.2733, Accuracy: 1062/10000 (10.6200%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch   5, local model 49, internal_epoch   1,  Average loss: 0.0486, Accuracy: 81/516 (15.6977%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.2746, Accuracy: 1116/10000 (11.1600%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch   5, local model 65, internal_epoch   1,  Average loss: 0.0479, Accuracy: 61/573 (10.6457%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.2735, Accuracy: 1343/10000 (13.4300%), Attack Success Rate:23/10000(0.230)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 14, internal_epoch   1,  Average loss: 0.0461, Accuracy: 114/535 (21.3084%), train_poison_data_count: 535
Global model norm: 13.896448551649188.
Norm before scaling: 13.870186185460378. Distance: 0.24670683469018112
Total norm for 4 adversaries is: 13.870186185460378. distance: 0.24670683469018112
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.2611, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch   5, local model 36, internal_epoch   1,  Average loss: 0.0482, Accuracy: 99/520 (19.0385%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.2754, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:12/10000(0.120)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 24, internal_epoch   1,  Average loss: 0.0464, Accuracy: 129/578 (22.3183%), train_poison_data_count: 578
Global model norm: 13.896448551649188.
Norm before scaling: 13.86648820860054. Distance: 0.2726905429555767
Total norm for 4 adversaries is: 13.86648820860054. distance: 0.2726905429555767
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.2543, Accuracy: 982/8991 (10.9220%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 7, internal_epoch   1,  Average loss: 0.0451, Accuracy: 97/550 (17.6364%), train_poison_data_count: 550
Global model norm: 13.896448551649188.
Norm before scaling: 13.868756513349078. Distance: 0.21505245128947184
Total norm for 4 adversaries is: 13.868756513349078. distance: 0.21505245128947184
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.2567, Accuracy: 982/8991 (10.9220%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 4, internal_epoch   1,  Average loss: 0.0462, Accuracy: 104/587 (17.7172%), train_poison_data_count: 587
Global model norm: 13.896448551649188.
Norm before scaling: 13.863147518902746. Distance: 0.21329511485604152
Total norm for 4 adversaries is: 13.863147518902746. distance: 0.21329511485604152
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.2362, Accuracy: 1839/8991 (20.4538%)
___Train Local_Simple,  epoch   5, local model 76, internal_epoch   1,  Average loss: 0.0484, Accuracy: 72/518 (13.8996%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.2750, Accuracy: 1010/10000 (10.1000%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch   5, local model 39, internal_epoch   1,  Average loss: 0.0500, Accuracy: 77/503 (15.3082%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.2758, Accuracy: 1980/10000 (19.8000%), Attack Success Rate:33/10000(0.330)
time spent on training: 41.744818687438965
[foolsgold agg] training data poison_ratio: 0.4073135409123823  data num: [644, 516, 573, 535, 520, 578, 550, 587, 518, 503]
[foolsgold agg] considering poison per batch poison_fraction: 0.4073135409123823
[foolsgold agg] wv: [1.         1.         1.         1.         0.02780181 1.
 1.         1.         0.02780181 1.        ]
___Test Target_Simple poisoned: False, epoch: 5: Average loss: 2.2890, Accuracy: 1025/10000 (10.2500%), Attack Success Rate:7/10000(0.070)
___Test Target_Simple poisoned: True, epoch: 5: Average loss: 2.2837, Accuracy: 998/8991 (11.1000%)
Done in 129.929584980011 sec.
Server Epoch:6 choose agents : [26, 29, 4, 41, 99, 67, 91, 76, 8, 25].
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 26, internal_epoch   1,  Average loss: 0.0468, Accuracy: 115/526 (21.8631%), train_poison_data_count: 526
Global model norm: 13.896509492466759.
Norm before scaling: 13.871263155470748. Distance: 0.24907085490841488
Total norm for 5 adversaries is: 13.871263155470748. distance: 0.24907085490841488
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.2597, Accuracy: 982/8991 (10.9220%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 29, internal_epoch   1,  Average loss: 0.0484, Accuracy: 105/605 (17.3554%), train_poison_data_count: 605
Global model norm: 13.896509492466759.
Norm before scaling: 13.861381927338517. Distance: 0.2549344299198884
Total norm for 5 adversaries is: 13.861381927338517. distance: 0.2549344299198884
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.2216, Accuracy: 982/8991 (10.9220%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 4, internal_epoch   1,  Average loss: 0.0460, Accuracy: 103/587 (17.5468%), train_poison_data_count: 587
Global model norm: 13.896509492466759.
Norm before scaling: 13.86497176400304. Distance: 0.2315917859367997
Total norm for 5 adversaries is: 13.86497176400304. distance: 0.2315917859367997
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.2253, Accuracy: 1409/8991 (15.6712%)
___Train Local_Simple,  epoch   6, local model 41, internal_epoch   1,  Average loss: 0.0489, Accuracy: 106/652 (16.2577%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.2626, Accuracy: 3583/10000 (35.8300%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   6, local model 99, internal_epoch   1,  Average loss: 0.0486, Accuracy: 97/410 (23.6585%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.3124, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:11/10000(0.110)
___Train Local_Simple,  epoch   6, local model 67, internal_epoch   1,  Average loss: 0.0457, Accuracy: 97/643 (15.0855%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.2820, Accuracy: 1337/10000 (13.3700%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch   6, local model 91, internal_epoch   1,  Average loss: 0.0472, Accuracy: 88/627 (14.0351%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.2714, Accuracy: 1060/10000 (10.6000%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch   6, local model 76, internal_epoch   1,  Average loss: 0.0483, Accuracy: 81/518 (15.6371%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.2692, Accuracy: 1891/10000 (18.9100%), Attack Success Rate:32/10000(0.320)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 8, internal_epoch   1,  Average loss: 0.0456, Accuracy: 117/683 (17.1303%), train_poison_data_count: 683
Global model norm: 13.896509492466759.
Norm before scaling: 13.85960400036289. Distance: 0.31066382503224643
Total norm for 5 adversaries is: 13.85960400036289. distance: 0.31066382503224643
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.2193, Accuracy: 1779/8991 (19.7865%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 25, internal_epoch   1,  Average loss: 0.0465, Accuracy: 90/582 (15.4639%), train_poison_data_count: 582
Global model norm: 13.896509492466759.
Norm before scaling: 13.864494676925098. Distance: 0.21845948137351157
Total norm for 5 adversaries is: 13.864494676925098. distance: 0.21845948137351157
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.2289, Accuracy: 982/8991 (10.9220%)
time spent on training: 44.39565825462341
[foolsgold agg] training data poison_ratio: 0.511400651465798  data num: [526, 605, 587, 652, 410, 643, 627, 518, 683, 582]
[foolsgold agg] considering poison per batch poison_fraction: 0.511400651465798
[foolsgold agg] wv: [0.40313243 0.         0.00158234 1.         0.40313243 1.
 1.         1.         0.00158234 0.        ]
___Test Target_Simple poisoned: False, epoch: 6: Average loss: 2.2863, Accuracy: 1015/10000 (10.1500%), Attack Success Rate:4/10000(0.040)
___Test Target_Simple poisoned: True, epoch: 6: Average loss: 2.2813, Accuracy: 988/8991 (10.9888%)
Done in 132.06188583374023 sec.
Server Epoch:7 choose agents : [66, 68, 59, 62, 31, 10, 23, 7, 99, 45].
___Train Local_Simple,  epoch   7, local model 66, internal_epoch   1,  Average loss: 0.0468, Accuracy: 101/629 (16.0572%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.2759, Accuracy: 958/10000 (9.5800%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch   7, local model 68, internal_epoch   1,  Average loss: 0.0466, Accuracy: 91/632 (14.3987%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.2848, Accuracy: 892/10000 (8.9200%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch   7, local model 59, internal_epoch   1,  Average loss: 0.0483, Accuracy: 121/652 (18.5583%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.2693, Accuracy: 1100/10000 (11.0000%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch   7, local model 62, internal_epoch   1,  Average loss: 0.0478, Accuracy: 94/617 (15.2350%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.2760, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:7/10000(0.070)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 31, internal_epoch   1,  Average loss: 0.0480, Accuracy: 99/511 (19.3738%), train_poison_data_count: 511
Global model norm: 13.896268472716706.
Norm before scaling: 13.870895190954242. Distance: 0.23249287682819508
Total norm for 4 adversaries is: 13.870895190954242. distance: 0.23249287682819508
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.2413, Accuracy: 982/8991 (10.9220%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 10, internal_epoch   1,  Average loss: 0.0462, Accuracy: 140/572 (24.4755%), train_poison_data_count: 572
Global model norm: 13.896268472716706.
Norm before scaling: 13.870285745440007. Distance: 0.3235192739156092
Total norm for 4 adversaries is: 13.870285745440007. distance: 0.3235192739156092
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.2967, Accuracy: 982/8991 (10.9220%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 23, internal_epoch   1,  Average loss: 0.0458, Accuracy: 102/588 (17.3469%), train_poison_data_count: 588
Global model norm: 13.896268472716706.
Norm before scaling: 13.865525318515648. Distance: 0.22540600524205762
Total norm for 4 adversaries is: 13.865525318515648. distance: 0.22540600524205762
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.2284, Accuracy: 982/8991 (10.9220%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 7, internal_epoch   1,  Average loss: 0.0448, Accuracy: 97/550 (17.6364%), train_poison_data_count: 550
Global model norm: 13.896268472716706.
Norm before scaling: 13.87024174111725. Distance: 0.22210984360480748
Total norm for 4 adversaries is: 13.87024174111725. distance: 0.22210984360480748
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.2447, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch   7, local model 99, internal_epoch   1,  Average loss: 0.0484, Accuracy: 97/410 (23.6585%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.3121, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch   7, local model 45, internal_epoch   1,  Average loss: 0.0451, Accuracy: 106/750 (14.1333%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.2751, Accuracy: 1130/10000 (11.3000%), Attack Success Rate:9/10000(0.090)
time spent on training: 42.31513714790344
[foolsgold agg] training data poison_ratio: 0.3757401454914566  data num: [629, 632, 652, 617, 511, 572, 588, 550, 410, 750]
[foolsgold agg] considering poison per batch poison_fraction: 0.37574014549145657
[foolsgold agg] wv: [1.         1.         0.68141998 1.         0.61071375 0.75050347
 0.         0.         0.81150962 1.        ]
___Test Target_Simple poisoned: False, epoch: 7: Average loss: 2.2825, Accuracy: 1011/10000 (10.1100%), Attack Success Rate:9/10000(0.090)
___Test Target_Simple poisoned: True, epoch: 7: Average loss: 2.2757, Accuracy: 984/8991 (10.9443%)
Done in 130.05735111236572 sec.
Server Epoch:8 choose agents : [63, 55, 79, 9, 62, 56, 96, 12, 92, 86].
___Train Local_Simple,  epoch   8, local model 63, internal_epoch   1,  Average loss: 0.0479, Accuracy: 81/616 (13.1494%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.2688, Accuracy: 892/10000 (8.9200%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch   8, local model 55, internal_epoch   1,  Average loss: 0.0461, Accuracy: 65/592 (10.9797%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.2620, Accuracy: 929/10000 (9.2900%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch   8, local model 79, internal_epoch   1,  Average loss: 0.0462, Accuracy: 95/635 (14.9606%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.2693, Accuracy: 1264/10000 (12.6400%), Attack Success Rate:13/10000(0.130)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 9, internal_epoch   1,  Average loss: 0.0448, Accuracy: 104/548 (18.9781%), train_poison_data_count: 548
Global model norm: 13.896525413897589.
Norm before scaling: 13.871752109657844. Distance: 0.2377199221356839
Total norm for 2 adversaries is: 13.871752109657844. distance: 0.2377199221356839
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 2.2379, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch   8, local model 62, internal_epoch   1,  Average loss: 0.0476, Accuracy: 110/617 (17.8282%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.2723, Accuracy: 1667/10000 (16.6700%), Attack Success Rate:32/10000(0.320)
___Train Local_Simple,  epoch   8, local model 56, internal_epoch   1,  Average loss: 0.0471, Accuracy: 89/626 (14.2173%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.2638, Accuracy: 935/10000 (9.3500%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch   8, local model 96, internal_epoch   1,  Average loss: 0.0470, Accuracy: 136/608 (22.3684%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.3191, Accuracy: 1912/10000 (19.1200%), Attack Success Rate:24/10000(0.240)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 12, internal_epoch   1,  Average loss: 0.0445, Accuracy: 125/597 (20.9380%), train_poison_data_count: 597
Global model norm: 13.896525413897589.
Norm before scaling: 13.869080526600179. Distance: 0.30289773532726716
Total norm for 2 adversaries is: 13.869080526600179. distance: 0.30289773532726716
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 2.2573, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch   8, local model 92, internal_epoch   1,  Average loss: 0.0472, Accuracy: 114/571 (19.9650%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.2731, Accuracy: 2617/10000 (26.1700%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch   8, local model 86, internal_epoch   1,  Average loss: 0.0461, Accuracy: 128/587 (21.8058%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.2679, Accuracy: 2683/10000 (26.8300%), Attack Success Rate:13/10000(0.130)
time spent on training: 38.487987995147705
[foolsgold agg] training data poison_ratio: 0.19092879773219942  data num: [616, 592, 635, 548, 617, 626, 608, 597, 571, 587]
[foolsgold agg] considering poison per batch poison_fraction: 0.19092879773219942
[foolsgold agg] wv: [0. 0. 0. 1. 0. 0. 1. 0. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 8: Average loss: 2.2799, Accuracy: 1012/10000 (10.1200%), Attack Success Rate:9/10000(0.090)
___Test Target_Simple poisoned: True, epoch: 8: Average loss: 2.2721, Accuracy: 985/8991 (10.9554%)
Done in 125.97430801391602 sec.
Server Epoch:9 choose agents : [28, 63, 33, 71, 13, 32, 76, 97, 23, 25].
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 28, internal_epoch   1,  Average loss: 0.0459, Accuracy: 165/665 (24.8120%), train_poison_data_count: 665
Global model norm: 13.896498512159008.
Norm before scaling: 13.863995011035442. Distance: 0.36534461739280266
Total norm for 6 adversaries is: 13.863995011035442. distance: 0.36534461739280266
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.2728, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch   9, local model 63, internal_epoch   1,  Average loss: 0.0478, Accuracy: 92/616 (14.9351%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.2641, Accuracy: 892/10000 (8.9200%), Attack Success Rate:4/10000(0.040)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 33, internal_epoch   1,  Average loss: 0.0450, Accuracy: 114/638 (17.8683%), train_poison_data_count: 638
Global model norm: 13.896498512159008.
Norm before scaling: 13.865674433298741. Distance: 0.3154502838307626
Total norm for 6 adversaries is: 13.865674433298741. distance: 0.3154502838307626
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.2169, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch   9, local model 71, internal_epoch   1,  Average loss: 0.0459, Accuracy: 106/638 (16.6144%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.2535, Accuracy: 1985/10000 (19.8500%), Attack Success Rate:26/10000(0.260)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 13, internal_epoch   1,  Average loss: 0.0469, Accuracy: 116/521 (22.2649%), train_poison_data_count: 521
Global model norm: 13.896498512159008.
Norm before scaling: 13.872423087350427. Distance: 0.23915801789156071
Total norm for 6 adversaries is: 13.872423087350427. distance: 0.23915801789156071
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.2151, Accuracy: 1705/8991 (18.9634%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 32, internal_epoch   1,  Average loss: 0.0462, Accuracy: 159/609 (26.1084%), train_poison_data_count: 609
Global model norm: 13.896498512159008.
Norm before scaling: 13.87079068505165. Distance: 0.38083850118704754
Total norm for 6 adversaries is: 13.87079068505165. distance: 0.38083850118704754
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.3638, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch   9, local model 76, internal_epoch   1,  Average loss: 0.0480, Accuracy: 92/518 (17.7606%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.2580, Accuracy: 1378/10000 (13.7800%), Attack Success Rate:20/10000(0.200)
___Train Local_Simple,  epoch   9, local model 97, internal_epoch   1,  Average loss: 0.0456, Accuracy: 105/588 (17.8571%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.2881, Accuracy: 1010/10000 (10.1000%), Attack Success Rate:8/10000(0.080)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 23, internal_epoch   1,  Average loss: 0.0455, Accuracy: 102/588 (17.3469%), train_poison_data_count: 588
Global model norm: 13.896498512159008.
Norm before scaling: 13.867781677411271. Distance: 0.24218361605329392
Total norm for 6 adversaries is: 13.867781677411271. distance: 0.24218361605329392
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.2172, Accuracy: 982/8991 (10.9220%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 25, internal_epoch   1,  Average loss: 0.0462, Accuracy: 90/582 (15.4639%), train_poison_data_count: 582
Global model norm: 13.896498512159008.
Norm before scaling: 13.866238964038248. Distance: 0.23258821962058374
Total norm for 6 adversaries is: 13.866238964038248. distance: 0.23258821962058374
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.2093, Accuracy: 982/8991 (10.9220%)
time spent on training: 47.060566425323486
[foolsgold agg] training data poison_ratio: 0.6042260607076975  data num: [665, 616, 638, 638, 521, 609, 518, 588, 588, 582]
[foolsgold agg] considering poison per batch poison_fraction: 0.6042260607076975
[foolsgold agg] wv: [0.         1.         0.         1.         0.         0.93103374
 1.         1.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 9: Average loss: 2.2767, Accuracy: 1011/10000 (10.1100%), Attack Success Rate:10/10000(0.100)
___Test Target_Simple poisoned: True, epoch: 9: Average loss: 2.2683, Accuracy: 984/8991 (10.9443%)
Done in 135.13430953025818 sec.
Server Epoch:10 choose agents : [12, 56, 19, 11, 13, 78, 49, 34, 14, 99].
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 12, internal_epoch   1,  Average loss: 0.0443, Accuracy: 125/597 (20.9380%), train_poison_data_count: 597
Global model norm: 13.896551766570603.
Norm before scaling: 13.870766483572451. Distance: 0.3240329255870018
Total norm for 5 adversaries is: 13.870766483572451. distance: 0.3240329255870018
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.2656, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch  10, local model 56, internal_epoch   1,  Average loss: 0.0470, Accuracy: 87/626 (13.8978%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.2578, Accuracy: 934/10000 (9.3400%), Attack Success Rate:3/10000(0.030)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 19, internal_epoch   1,  Average loss: 0.0476, Accuracy: 169/552 (30.6159%), train_poison_data_count: 552
Global model norm: 13.896551766570603.
Norm before scaling: 13.874506761186538. Distance: 0.3638401244619399
Total norm for 5 adversaries is: 13.874506761186538. distance: 0.3638401244619399
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.3380, Accuracy: 982/8991 (10.9220%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 11, internal_epoch   1,  Average loss: 0.0435, Accuracy: 151/644 (23.4472%), train_poison_data_count: 644
Global model norm: 13.896551766570603.
Norm before scaling: 13.873542227931384. Distance: 0.43278672317150024
Total norm for 5 adversaries is: 13.873542227931384. distance: 0.43278672317150024
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.4261, Accuracy: 1010/8991 (11.2335%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 13, internal_epoch   1,  Average loss: 0.0469, Accuracy: 104/521 (19.9616%), train_poison_data_count: 521
Global model norm: 13.896551766570603.
Norm before scaling: 13.873263413636339. Distance: 0.2451115413790595
Total norm for 5 adversaries is: 13.873263413636339. distance: 0.2451115413790595
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.2094, Accuracy: 1797/8991 (19.9867%)
___Train Local_Simple,  epoch  10, local model 78, internal_epoch   1,  Average loss: 0.0472, Accuracy: 93/624 (14.9038%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.2465, Accuracy: 1669/10000 (16.6900%), Attack Success Rate:29/10000(0.290)
___Train Local_Simple,  epoch  10, local model 49, internal_epoch   1,  Average loss: 0.0481, Accuracy: 81/516 (15.6977%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.2539, Accuracy: 1331/10000 (13.3100%), Attack Success Rate:15/10000(0.150)
___Train Local_Simple,  epoch  10, local model 34, internal_epoch   1,  Average loss: 0.0472, Accuracy: 82/528 (15.5303%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.2513, Accuracy: 1409/10000 (14.0900%), Attack Success Rate:30/10000(0.300)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 14, internal_epoch   1,  Average loss: 0.0451, Accuracy: 114/535 (21.3084%), train_poison_data_count: 535
Global model norm: 13.896551766570603.
Norm before scaling: 13.875119870329613. Distance: 0.27732329225979807
Total norm for 5 adversaries is: 13.875119870329613. distance: 0.27732329225979807
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.2580, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch  10, local model 99, internal_epoch   1,  Average loss: 0.0477, Accuracy: 97/410 (23.6585%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.3406, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:6/10000(0.060)
time spent on training: 44.36827111244202
[foolsgold agg] training data poison_ratio: 0.5130560057626509  data num: [597, 626, 552, 644, 521, 624, 516, 528, 535, 410]
[foolsgold agg] considering poison per batch poison_fraction: 0.5130560057626509
[foolsgold agg] wv: [0.44921363 1.         0.44921363 1.         1.         1.
 0.6682912  0.6682912  1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 10: Average loss: 2.2720, Accuracy: 1015/10000 (10.1500%), Attack Success Rate:9/10000(0.090)
___Test Target_Simple poisoned: True, epoch: 10: Average loss: 2.2580, Accuracy: 988/8991 (10.9888%)
Done in 132.44264769554138 sec.
Server Epoch:11 choose agents : [53, 56, 51, 14, 36, 6, 46, 99, 88, 37].
___Train Local_Simple,  epoch  11, local model 53, internal_epoch   1,  Average loss: 0.0476, Accuracy: 66/617 (10.6969%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.2568, Accuracy: 980/10000 (9.8000%), Attack Success Rate:13/10000(0.130)
___Train Local_Simple,  epoch  11, local model 56, internal_epoch   1,  Average loss: 0.0468, Accuracy: 90/626 (14.3770%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.2483, Accuracy: 1167/10000 (11.6700%), Attack Success Rate:16/10000(0.160)
___Train Local_Simple,  epoch  11, local model 51, internal_epoch   1,  Average loss: 0.0447, Accuracy: 107/647 (16.5379%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.2552, Accuracy: 1363/10000 (13.6300%), Attack Success Rate:25/10000(0.250)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 14, internal_epoch   1,  Average loss: 0.0446, Accuracy: 115/535 (21.4953%), train_poison_data_count: 535
Global model norm: 13.897348362328199.
Norm before scaling: 13.877697381739544. Distance: 0.28595866349075366
Total norm for 2 adversaries is: 13.877697381739544. distance: 0.28595866349075366
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 2.2552, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch  11, local model 36, internal_epoch   1,  Average loss: 0.0476, Accuracy: 64/520 (12.3077%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.2517, Accuracy: 980/10000 (9.8000%), Attack Success Rate:7/10000(0.070)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 6, internal_epoch   1,  Average loss: 0.0466, Accuracy: 143/708 (20.1977%), train_poison_data_count: 708
Global model norm: 13.897348362328199.
Norm before scaling: 13.86090251499784. Distance: 0.34859991051921146
Total norm for 2 adversaries is: 13.86090251499784. distance: 0.34859991051921146
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 2.1603, Accuracy: 1563/8991 (17.3841%)
___Train Local_Simple,  epoch  11, local model 46, internal_epoch   1,  Average loss: 0.0473, Accuracy: 98/478 (20.5021%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.2479, Accuracy: 3150/10000 (31.5000%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  11, local model 99, internal_epoch   1,  Average loss: 0.0473, Accuracy: 97/410 (23.6585%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.3510, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  11, local model 88, internal_epoch   1,  Average loss: 0.0462, Accuracy: 95/679 (13.9912%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.2578, Accuracy: 992/10000 (9.9200%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  11, local model 37, internal_epoch   1,  Average loss: 0.0455, Accuracy: 132/641 (20.5928%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.2460, Accuracy: 1814/10000 (18.1400%), Attack Success Rate:33/10000(0.330)
time spent on training: 38.438257455825806
[foolsgold agg] training data poison_ratio: 0.21207984985497355  data num: [617, 626, 647, 535, 520, 708, 478, 410, 679, 641]
[foolsgold agg] considering poison per batch poison_fraction: 0.21207984985497355
[foolsgold agg] wv: [0.30850627 0.30850627 1.         0.16727968 0.         0.16727968
 0.         1.         0.8569357  0.34965506]
___Test Target_Simple poisoned: False, epoch: 11: Average loss: 2.2690, Accuracy: 1022/10000 (10.2200%), Attack Success Rate:6/10000(0.060)
___Test Target_Simple poisoned: True, epoch: 11: Average loss: 2.2532, Accuracy: 995/8991 (11.0666%)
Done in 125.86331748962402 sec.
Server Epoch:12 choose agents : [42, 17, 2, 64, 6, 38, 37, 44, 77, 4].
___Train Local_Simple,  epoch  12, local model 42, internal_epoch   1,  Average loss: 0.0468, Accuracy: 129/665 (19.3985%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.2481, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:4/10000(0.040)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 17, internal_epoch   1,  Average loss: 0.0443, Accuracy: 131/648 (20.2160%), train_poison_data_count: 648
Global model norm: 13.897523486492736.
Norm before scaling: 13.868546918402435. Distance: 0.3005796847024615
Total norm for 4 adversaries is: 13.868546918402435. distance: 0.3005796847024615
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 2.1586, Accuracy: 1069/8991 (11.8897%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 2, internal_epoch   1,  Average loss: 0.0454, Accuracy: 92/580 (15.8621%), train_poison_data_count: 580
Global model norm: 13.897523486492736.
Norm before scaling: 13.872935648443677. Distance: 0.28109628397386277
Total norm for 4 adversaries is: 13.872935648443677. distance: 0.28109628397386277
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 2.2018, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch  12, local model 64, internal_epoch   1,  Average loss: 0.0476, Accuracy: 118/566 (20.8481%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.2485, Accuracy: 2279/10000 (22.7900%), Attack Success Rate:22/10000(0.220)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 6, internal_epoch   1,  Average loss: 0.0464, Accuracy: 125/708 (17.6554%), train_poison_data_count: 708
Global model norm: 13.897523486492736.
Norm before scaling: 13.862165684018203. Distance: 0.3576573081144627
Total norm for 4 adversaries is: 13.862165684018203. distance: 0.3576573081144627
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 2.1545, Accuracy: 1795/8991 (19.9644%)
___Train Local_Simple,  epoch  12, local model 38, internal_epoch   1,  Average loss: 0.0460, Accuracy: 173/774 (22.3514%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.2265, Accuracy: 1769/10000 (17.6900%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch  12, local model 37, internal_epoch   1,  Average loss: 0.0454, Accuracy: 137/641 (21.3729%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.2450, Accuracy: 2087/10000 (20.8700%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch  12, local model 44, internal_epoch   1,  Average loss: 0.0479, Accuracy: 85/518 (16.4093%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.2481, Accuracy: 1920/10000 (19.2000%), Attack Success Rate:29/10000(0.290)
___Train Local_Simple,  epoch  12, local model 77, internal_epoch   1,  Average loss: 0.0480, Accuracy: 74/519 (14.2582%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.2426, Accuracy: 1513/10000 (15.1300%), Attack Success Rate:26/10000(0.260)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 4, internal_epoch   1,  Average loss: 0.0450, Accuracy: 123/587 (20.9540%), train_poison_data_count: 587
Global model norm: 13.897523486492736.
Norm before scaling: 13.872379089807492. Distance: 0.2727592366671185
Total norm for 4 adversaries is: 13.872379089807492. distance: 0.2727592366671185
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 2.1793, Accuracy: 1070/8991 (11.9008%)
time spent on training: 43.28273558616638
[foolsgold agg] training data poison_ratio: 0.40654205607476634  data num: [665, 648, 580, 566, 708, 774, 641, 518, 519, 587]
[foolsgold agg] considering poison per batch poison_fraction: 0.40654205607476634
[foolsgold agg] wv: [1.         0.06932654 1.         0.38243206 0.75146825 1.
 1.         0.38243206 1.         0.06932654]
___Test Target_Simple poisoned: False, epoch: 12: Average loss: 2.2630, Accuracy: 1125/10000 (11.2500%), Attack Success Rate:9/10000(0.090)
___Test Target_Simple poisoned: True, epoch: 12: Average loss: 2.2448, Accuracy: 1098/8991 (12.2122%)
Done in 131.56966614723206 sec.
Server Epoch:13 choose agents : [24, 38, 52, 10, 11, 76, 97, 7, 70, 14].
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 24, internal_epoch   1,  Average loss: 0.0447, Accuracy: 127/578 (21.9723%), train_poison_data_count: 578
Global model norm: 13.89823933160437.
Norm before scaling: 13.87787440313605. Distance: 0.3327774862219337
Total norm for 5 adversaries is: 13.87787440313605. distance: 0.3327774862219337
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 2.2492, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch  13, local model 38, internal_epoch   1,  Average loss: 0.0459, Accuracy: 149/774 (19.2506%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.2086, Accuracy: 2147/10000 (21.4700%), Attack Success Rate:20/10000(0.200)
___Train Local_Simple,  epoch  13, local model 52, internal_epoch   1,  Average loss: 0.0473, Accuracy: 89/618 (14.4013%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.2395, Accuracy: 1036/10000 (10.3600%), Attack Success Rate:9/10000(0.090)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 10, internal_epoch   1,  Average loss: 0.0445, Accuracy: 142/572 (24.8252%), train_poison_data_count: 572
Global model norm: 13.89823933160437.
Norm before scaling: 13.8798231385146. Distance: 0.36710409475207884
Total norm for 5 adversaries is: 13.8798231385146. distance: 0.36710409475207884
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 2.3764, Accuracy: 982/8991 (10.9220%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 11, internal_epoch   1,  Average loss: 0.0423, Accuracy: 166/644 (25.7764%), train_poison_data_count: 644
Global model norm: 13.89823933160437.
Norm before scaling: 13.8803106918521. Distance: 0.45298690993720253
Total norm for 5 adversaries is: 13.8803106918521. distance: 0.45298690993720253
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 2.5224, Accuracy: 1010/8991 (11.2335%)
___Train Local_Simple,  epoch  13, local model 76, internal_epoch   1,  Average loss: 0.0475, Accuracy: 100/518 (19.3050%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.2366, Accuracy: 1139/10000 (11.3900%), Attack Success Rate:14/10000(0.140)
___Train Local_Simple,  epoch  13, local model 97, internal_epoch   1,  Average loss: 0.0448, Accuracy: 105/588 (17.8571%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.2893, Accuracy: 1013/10000 (10.1300%), Attack Success Rate:8/10000(0.080)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 7, internal_epoch   1,  Average loss: 0.0437, Accuracy: 97/550 (17.6364%), train_poison_data_count: 550
Global model norm: 13.89823933160437.
Norm before scaling: 13.878237784704117. Distance: 0.2728410346062423
Total norm for 5 adversaries is: 13.878237784704117. distance: 0.2728410346062423
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 2.2256, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch  13, local model 70, internal_epoch   1,  Average loss: 0.0446, Accuracy: 90/549 (16.3934%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.2724, Accuracy: 1028/10000 (10.2800%), Attack Success Rate:13/10000(0.130)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 14, internal_epoch   1,  Average loss: 0.0444, Accuracy: 116/535 (21.6822%), train_poison_data_count: 535
Global model norm: 13.89823933160437.
Norm before scaling: 13.88073556935255. Distance: 0.30297952385918314
Total norm for 5 adversaries is: 13.88073556935255. distance: 0.30297952385918314
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 2.2607, Accuracy: 982/8991 (10.9220%)
time spent on training: 45.18528914451599
[foolsgold agg] training data poison_ratio: 0.4858251771852852  data num: [578, 774, 618, 572, 644, 518, 588, 550, 549, 535]
[foolsgold agg] considering poison per batch poison_fraction: 0.4858251771852851
[foolsgold agg] wv: [0.99311173 0.18815617 1.         0.         0.26305211 0.18815617
 1.         0.26305211 1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 13: Average loss: 2.2586, Accuracy: 1086/10000 (10.8600%), Attack Success Rate:13/10000(0.130)
___Test Target_Simple poisoned: True, epoch: 13: Average loss: 2.2395, Accuracy: 1059/8991 (11.7784%)
Done in 133.1176438331604 sec.
Server Epoch:14 choose agents : [95, 97, 12, 89, 25, 34, 55, 67, 56, 2].
___Train Local_Simple,  epoch  14, local model 95, internal_epoch   1,  Average loss: 0.0455, Accuracy: 102/532 (19.1729%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.2478, Accuracy: 1937/10000 (19.3700%), Attack Success Rate:38/10000(0.380)
___Train Local_Simple,  epoch  14, local model 97, internal_epoch   1,  Average loss: 0.0447, Accuracy: 112/588 (19.0476%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.2891, Accuracy: 1414/10000 (14.1400%), Attack Success Rate:22/10000(0.220)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 12, internal_epoch   1,  Average loss: 0.0435, Accuracy: 125/597 (20.9380%), train_poison_data_count: 597
Global model norm: 13.898680677854317.
Norm before scaling: 13.877158057292217. Distance: 0.3459636547053503
Total norm for 3 adversaries is: 13.877158057292217. distance: 0.3459636547053503
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 2.2688, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch  14, local model 89, internal_epoch   1,  Average loss: 0.0469, Accuracy: 120/664 (18.0723%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.2590, Accuracy: 1238/10000 (12.3800%), Attack Success Rate:13/10000(0.130)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 25, internal_epoch   1,  Average loss: 0.0452, Accuracy: 91/582 (15.6357%), train_poison_data_count: 582
Global model norm: 13.898680677854317.
Norm before scaling: 13.87413008428648. Distance: 0.27018647094925924
Total norm for 3 adversaries is: 13.87413008428648. distance: 0.27018647094925924
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 2.1611, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch  14, local model 34, internal_epoch   1,  Average loss: 0.0466, Accuracy: 100/528 (18.9394%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.2203, Accuracy: 1893/10000 (18.9300%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch  14, local model 55, internal_epoch   1,  Average loss: 0.0456, Accuracy: 161/592 (27.1959%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.2253, Accuracy: 3259/10000 (32.5900%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  14, local model 67, internal_epoch   1,  Average loss: 0.0448, Accuracy: 98/643 (15.2411%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.2738, Accuracy: 1202/10000 (12.0200%), Attack Success Rate:11/10000(0.110)
___Train Local_Simple,  epoch  14, local model 56, internal_epoch   1,  Average loss: 0.0465, Accuracy: 118/626 (18.8498%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.2259, Accuracy: 1092/10000 (10.9200%), Attack Success Rate:20/10000(0.200)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 2, internal_epoch   1,  Average loss: 0.0450, Accuracy: 92/580 (15.8621%), train_poison_data_count: 580
Global model norm: 13.898680677854317.
Norm before scaling: 13.876407036448986. Distance: 0.29429191609481475
Total norm for 3 adversaries is: 13.876407036448986. distance: 0.29429191609481475
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 2.1845, Accuracy: 1040/8991 (11.5671%)
time spent on training: 41.20438814163208
[foolsgold agg] training data poison_ratio: 0.2965273095077546  data num: [532, 588, 597, 664, 582, 528, 592, 643, 626, 580]
[foolsgold agg] considering poison per batch poison_fraction: 0.2965273095077546
[foolsgold agg] wv: [1. 1. 0. 0. 0. 1. 1. 1. 0. 1.]
___Test Target_Simple poisoned: False, epoch: 14: Average loss: 2.2529, Accuracy: 1087/10000 (10.8700%), Attack Success Rate:8/10000(0.080)
___Test Target_Simple poisoned: True, epoch: 14: Average loss: 2.2338, Accuracy: 1060/8991 (11.7896%)
Done in 129.5358533859253 sec.
Server Epoch:15 choose agents : [4, 1, 20, 48, 55, 98, 27, 42, 0, 44].
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 4, internal_epoch   1,  Average loss: 0.0443, Accuracy: 137/587 (23.3390%), train_poison_data_count: 587
Global model norm: 13.899337181919133.
Norm before scaling: 13.877568187680108. Distance: 0.2960150963986697
Total norm for 4 adversaries is: 13.877568187680108. distance: 0.2960150963986697
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 2.1536, Accuracy: 998/8991 (11.1000%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 1, internal_epoch   1,  Average loss: 0.0458, Accuracy: 126/606 (20.7921%), train_poison_data_count: 606
Global model norm: 13.899337181919133.
Norm before scaling: 13.876908454581516. Distance: 0.3966540833121533
Total norm for 4 adversaries is: 13.876908454581516. distance: 0.3966540833121533
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 2.2763, Accuracy: 974/8991 (10.8331%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 20, internal_epoch   1,  Average loss: 0.0472, Accuracy: 110/553 (19.8915%), train_poison_data_count: 553
Global model norm: 13.899337181919133.
Norm before scaling: 13.877645154498644. Distance: 0.308261680600608
Total norm for 4 adversaries is: 13.877645154498644. distance: 0.308261680600608
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 2.2038, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch  15, local model 48, internal_epoch   1,  Average loss: 0.0450, Accuracy: 99/589 (16.8081%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.2666, Accuracy: 982/10000 (9.8200%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch  15, local model 55, internal_epoch   1,  Average loss: 0.0454, Accuracy: 132/592 (22.2973%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.2161, Accuracy: 4253/10000 (42.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 98, internal_epoch   1,  Average loss: 0.0442, Accuracy: 136/568 (23.9437%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.4389, Accuracy: 980/10000 (9.8000%), Attack Success Rate:4/10000(0.040)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 27, internal_epoch   1,  Average loss: 0.0427, Accuracy: 136/650 (20.9231%), train_poison_data_count: 650
Global model norm: 13.899337181919133.
Norm before scaling: 13.876394940612334. Distance: 0.3630048253905143
Total norm for 4 adversaries is: 13.876394940612334. distance: 0.3630048253905143
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 2.2337, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch  15, local model 42, internal_epoch   1,  Average loss: 0.0462, Accuracy: 115/665 (17.2932%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.2306, Accuracy: 1252/10000 (12.5200%), Attack Success Rate:14/10000(0.140)
___Train Local_Simple,  epoch  15, local model 0, internal_epoch   1,  Average loss: 0.0474, Accuracy: 128/609 (21.0181%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.2344, Accuracy: 1954/10000 (19.5400%), Attack Success Rate:21/10000(0.210)
___Train Local_Simple,  epoch  15, local model 44, internal_epoch   1,  Average loss: 0.0475, Accuracy: 83/518 (16.0232%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.2287, Accuracy: 1865/10000 (18.6500%), Attack Success Rate:29/10000(0.290)
time spent on training: 43.76075458526611
[foolsgold agg] training data poison_ratio: 0.40357082701701197  data num: [587, 606, 553, 589, 592, 568, 650, 665, 609, 518]
[foolsgold agg] considering poison per batch poison_fraction: 0.40357082701701197
[foolsgold agg] wv: [1.         0.         0.         0.97134422 0.         1.
 0.         1.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 15: Average loss: 2.2465, Accuracy: 1353/10000 (13.5300%), Attack Success Rate:24/10000(0.240)
___Test Target_Simple poisoned: True, epoch: 15: Average loss: 2.2277, Accuracy: 1326/8991 (14.7481%)
Done in 131.37142324447632 sec.
Server Epoch:16 choose agents : [25, 8, 12, 99, 53, 26, 60, 63, 52, 90].
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 25, internal_epoch   1,  Average loss: 0.0450, Accuracy: 93/582 (15.9794%), train_poison_data_count: 582
Global model norm: 13.900114956387275.
Norm before scaling: 13.877572036031172. Distance: 0.292613449816295
Total norm for 4 adversaries is: 13.877572036031172. distance: 0.292613449816295
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 2.1474, Accuracy: 1126/8991 (12.5236%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 8, internal_epoch   1,  Average loss: 0.0437, Accuracy: 204/683 (29.8682%), train_poison_data_count: 683
Global model norm: 13.900114956387275.
Norm before scaling: 13.87755389379538. Distance: 0.4007547908920179
Total norm for 4 adversaries is: 13.87755389379538. distance: 0.4007547908920179
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 2.1353, Accuracy: 2633/8991 (29.2848%)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 12, internal_epoch   1,  Average loss: 0.0429, Accuracy: 128/597 (21.4405%), train_poison_data_count: 597
Global model norm: 13.900114956387275.
Norm before scaling: 13.880674009640673. Distance: 0.36032431067822485
Total norm for 4 adversaries is: 13.880674009640673. distance: 0.36032431067822485
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 2.2674, Accuracy: 1310/8991 (14.5701%)
___Train Local_Simple,  epoch  16, local model 99, internal_epoch   1,  Average loss: 0.0454, Accuracy: 101/410 (24.6341%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.4252, Accuracy: 1010/10000 (10.1000%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  16, local model 53, internal_epoch   1,  Average loss: 0.0468, Accuracy: 123/617 (19.9352%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.2296, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:11/10000(0.110)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 26, internal_epoch   1,  Average loss: 0.0446, Accuracy: 120/526 (22.8137%), train_poison_data_count: 526
Global model norm: 13.900114956387275.
Norm before scaling: 13.885026487957777. Distance: 0.3101034897867456
Total norm for 4 adversaries is: 13.885026487957777. distance: 0.3101034897867456
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 2.2450, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch  16, local model 60, internal_epoch   1,  Average loss: 0.0445, Accuracy: 136/644 (21.1180%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.2060, Accuracy: 3337/10000 (33.3700%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  16, local model 63, internal_epoch   1,  Average loss: 0.0471, Accuracy: 114/616 (18.5065%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.2317, Accuracy: 892/10000 (8.9200%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  16, local model 52, internal_epoch   1,  Average loss: 0.0469, Accuracy: 106/618 (17.1521%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.2208, Accuracy: 1109/10000 (11.0900%), Attack Success Rate:11/10000(0.110)
___Train Local_Simple,  epoch  16, local model 90, internal_epoch   1,  Average loss: 0.0460, Accuracy: 113/577 (19.5841%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.2295, Accuracy: 1638/10000 (16.3800%), Attack Success Rate:17/10000(0.170)
time spent on training: 43.51577281951904
[foolsgold agg] training data poison_ratio: 0.40681431005110735  data num: [582, 683, 597, 410, 617, 526, 644, 616, 618, 577]
[foolsgold agg] considering poison per batch poison_fraction: 0.4068143100511074
[foolsgold agg] wv: [0.         0.12680703 0.         1.         0.         0.64794497
 1.         0.         0.13617915 0.64135195]
___Test Target_Simple poisoned: False, epoch: 16: Average loss: 2.2432, Accuracy: 1445/10000 (14.4500%), Attack Success Rate:24/10000(0.240)
___Test Target_Simple poisoned: True, epoch: 16: Average loss: 2.2217, Accuracy: 1418/8991 (15.7713%)
Done in 131.05963110923767 sec.
Server Epoch:17 choose agents : [66, 33, 56, 97, 10, 13, 77, 37, 90, 59].
___Train Local_Simple,  epoch  17, local model 66, internal_epoch   1,  Average loss: 0.0455, Accuracy: 137/629 (21.7806%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 2.2521, Accuracy: 958/10000 (9.5800%), Attack Success Rate:3/10000(0.030)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 33, internal_epoch   1,  Average loss: 0.0432, Accuracy: 145/638 (22.7273%), train_poison_data_count: 638
Global model norm: 13.900539777415682.
Norm before scaling: 13.880892765235274. Distance: 0.38298254712704993
Total norm for 3 adversaries is: 13.880892765235274. distance: 0.38298254712704993
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 2.1763, Accuracy: 2006/8991 (22.3112%)
___Train Local_Simple,  epoch  17, local model 56, internal_epoch   1,  Average loss: 0.0460, Accuracy: 112/626 (17.8914%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 2.2061, Accuracy: 1241/10000 (12.4100%), Attack Success Rate:12/10000(0.120)
___Train Local_Simple,  epoch  17, local model 97, internal_epoch   1,  Average loss: 0.0442, Accuracy: 107/588 (18.1973%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 2.2921, Accuracy: 1243/10000 (12.4300%), Attack Success Rate:16/10000(0.160)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 10, internal_epoch   1,  Average loss: 0.0435, Accuracy: 147/572 (25.6993%), train_poison_data_count: 572
Global model norm: 13.900539777415682.
Norm before scaling: 13.88485670093389. Distance: 0.37954522359604265
Total norm for 3 adversaries is: 13.88485670093389. distance: 0.37954522359604265
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 2.3535, Accuracy: 982/8991 (10.9220%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 13, internal_epoch   1,  Average loss: 0.0452, Accuracy: 151/521 (28.9827%), train_poison_data_count: 521
Global model norm: 13.900539777415682.
Norm before scaling: 13.885750669491133. Distance: 0.297399146010905
Total norm for 3 adversaries is: 13.885750669491133. distance: 0.297399146010905
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 2.1508, Accuracy: 1935/8991 (21.5215%)
___Train Local_Simple,  epoch  17, local model 77, internal_epoch   1,  Average loss: 0.0472, Accuracy: 103/519 (19.8459%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 2.2050, Accuracy: 2964/10000 (29.6400%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  17, local model 37, internal_epoch   1,  Average loss: 0.0444, Accuracy: 157/641 (24.4930%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 2.2138, Accuracy: 1878/10000 (18.7800%), Attack Success Rate:32/10000(0.320)
___Train Local_Simple,  epoch  17, local model 90, internal_epoch   1,  Average loss: 0.0460, Accuracy: 133/577 (23.0503%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 2.2261, Accuracy: 1681/10000 (16.8100%), Attack Success Rate:30/10000(0.300)
___Train Local_Simple,  epoch  17, local model 59, internal_epoch   1,  Average loss: 0.0467, Accuracy: 122/652 (18.7117%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 2.2094, Accuracy: 2099/10000 (20.9900%), Attack Success Rate:29/10000(0.290)
time spent on training: 41.49269223213196
[foolsgold agg] training data poison_ratio: 0.29029012242159985  data num: [629, 638, 626, 588, 572, 521, 519, 641, 577, 652]
[foolsgold agg] considering poison per batch poison_fraction: 0.29029012242159985
[foolsgold agg] wv: [0.35862108 0.         0.23666002 1.         1.         0.
 0.23666002 0.35862108 0.54748617 1.        ]
___Test Target_Simple poisoned: False, epoch: 17: Average loss: 2.2370, Accuracy: 1439/10000 (14.3900%), Attack Success Rate:24/10000(0.240)
___Test Target_Simple poisoned: True, epoch: 17: Average loss: 2.2145, Accuracy: 1412/8991 (15.7046%)
Done in 129.97461223602295 sec.
Server Epoch:18 choose agents : [55, 58, 88, 23, 39, 75, 82, 61, 95, 93].
___Train Local_Simple,  epoch  18, local model 55, internal_epoch   1,  Average loss: 0.0449, Accuracy: 126/592 (21.2838%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.1903, Accuracy: 2729/10000 (27.2900%), Attack Success Rate:13/10000(0.130)
___Train Local_Simple,  epoch  18, local model 58, internal_epoch   1,  Average loss: 0.0477, Accuracy: 119/510 (23.3333%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.1889, Accuracy: 2554/10000 (25.5400%), Attack Success Rate:17/10000(0.170)
___Train Local_Simple,  epoch  18, local model 88, internal_epoch   1,  Average loss: 0.0453, Accuracy: 155/679 (22.8277%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.2166, Accuracy: 977/10000 (9.7700%), Attack Success Rate:9/10000(0.090)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 23, internal_epoch   1,  Average loss: 0.0439, Accuracy: 111/588 (18.8776%), train_poison_data_count: 588
Global model norm: 13.901350962901052.
Norm before scaling: 13.8823986775338. Distance: 0.30442031736444825
Total norm for 1 adversaries is: 13.8823986775338. distance: 0.30442031736444825
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 2.1285, Accuracy: 1761/8991 (19.5863%)
___Train Local_Simple,  epoch  18, local model 39, internal_epoch   1,  Average loss: 0.0485, Accuracy: 99/503 (19.6819%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.1974, Accuracy: 2558/10000 (25.5800%), Attack Success Rate:12/10000(0.120)
___Train Local_Simple,  epoch  18, local model 75, internal_epoch   1,  Average loss: 0.0478, Accuracy: 123/554 (22.2022%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.2347, Accuracy: 1342/10000 (13.4200%), Attack Success Rate:20/10000(0.200)
___Train Local_Simple,  epoch  18, local model 82, internal_epoch   1,  Average loss: 0.0459, Accuracy: 147/621 (23.6715%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.2107, Accuracy: 2701/10000 (27.0100%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch  18, local model 61, internal_epoch   1,  Average loss: 0.0455, Accuracy: 97/537 (18.0633%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.2015, Accuracy: 1988/10000 (19.8800%), Attack Success Rate:25/10000(0.250)
___Train Local_Simple,  epoch  18, local model 95, internal_epoch   1,  Average loss: 0.0449, Accuracy: 106/532 (19.9248%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.2294, Accuracy: 3135/10000 (31.3500%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch  18, local model 93, internal_epoch   1,  Average loss: 0.0457, Accuracy: 117/529 (22.1172%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.2296, Accuracy: 2086/10000 (20.8600%), Attack Success Rate:23/10000(0.230)
time spent on training: 37.30978465080261
[foolsgold agg] training data poison_ratio: 0.104162976085031  data num: [592, 510, 679, 588, 503, 554, 621, 537, 532, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.104162976085031
[foolsgold agg] wv: [0.         0.69631854 0.         1.         0.         0.54751379
 0.         0.85288561 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 18: Average loss: 2.2328, Accuracy: 1500/10000 (15.0000%), Attack Success Rate:32/10000(0.320)
___Test Target_Simple poisoned: True, epoch: 18: Average loss: 2.2098, Accuracy: 1473/8991 (16.3830%)
Done in 125.30860924720764 sec.
Server Epoch:19 choose agents : [37, 43, 50, 84, 25, 28, 8, 16, 6, 3].
___Train Local_Simple,  epoch  19, local model 37, internal_epoch   1,  Average loss: 0.0441, Accuracy: 156/641 (24.3370%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 2.2102, Accuracy: 1768/10000 (17.6800%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch  19, local model 43, internal_epoch   1,  Average loss: 0.0472, Accuracy: 109/518 (21.0425%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 2.1816, Accuracy: 3429/10000 (34.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 50, internal_epoch   1,  Average loss: 0.0468, Accuracy: 99/474 (20.8861%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 2.2035, Accuracy: 2722/10000 (27.2200%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch  19, local model 84, internal_epoch   1,  Average loss: 0.0469, Accuracy: 136/560 (24.2857%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 2.1842, Accuracy: 4205/10000 (42.0500%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 25, internal_epoch   1,  Average loss: 0.0446, Accuracy: 99/582 (17.0103%), train_poison_data_count: 582
Global model norm: 13.90145633670264.
Norm before scaling: 13.881315426455448. Distance: 0.30578379373169745
Total norm for 6 adversaries is: 13.881315426455448. distance: 0.30578379373169745
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 2.1156, Accuracy: 1936/8991 (21.5326%)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 28, internal_epoch   1,  Average loss: 0.0441, Accuracy: 167/665 (25.1128%), train_poison_data_count: 665
Global model norm: 13.90145633670264.
Norm before scaling: 13.878297156279938. Distance: 0.37854720339227654
Total norm for 6 adversaries is: 13.878297156279938. distance: 0.37854720339227654
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 2.1113, Accuracy: 1313/8991 (14.6035%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 8, internal_epoch   1,  Average loss: 0.0430, Accuracy: 175/683 (25.6223%), train_poison_data_count: 683
Global model norm: 13.90145633670264.
Norm before scaling: 13.883803865138148. Distance: 0.4295433322765534
Total norm for 6 adversaries is: 13.883803865138148. distance: 0.4295433322765534
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 2.1144, Accuracy: 2455/8991 (27.3051%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 16, internal_epoch   1,  Average loss: 0.0436, Accuracy: 131/581 (22.5473%), train_poison_data_count: 581
Global model norm: 13.90145633670264.
Norm before scaling: 13.885073192762052. Distance: 0.35467276689624067
Total norm for 6 adversaries is: 13.885073192762052. distance: 0.35467276689624067
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 2.2349, Accuracy: 982/8991 (10.9220%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 6, internal_epoch   1,  Average loss: 0.0452, Accuracy: 190/708 (26.8362%), train_poison_data_count: 708
Global model norm: 13.90145633670264.
Norm before scaling: 13.877790290766473. Distance: 0.42247630464819774
Total norm for 6 adversaries is: 13.877790290766473. distance: 0.42247630464819774
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 2.0507, Accuracy: 3017/8991 (33.5558%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 3, internal_epoch   1,  Average loss: 0.0470, Accuracy: 87/505 (17.2277%), train_poison_data_count: 505
Global model norm: 13.90145633670264.
Norm before scaling: 13.885122644736525. Distance: 0.31043858109422834
Total norm for 6 adversaries is: 13.885122644736525. distance: 0.31043858109422834
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 2.1712, Accuracy: 1004/8991 (11.1667%)
time spent on training: 47.72861886024475
[foolsgold agg] training data poison_ratio: 0.629372993070813  data num: [641, 518, 474, 560, 582, 665, 683, 581, 708, 505]
[foolsgold agg] considering poison per batch poison_fraction: 0.629372993070813
[foolsgold agg] wv: [0.68202333 1.         0.68202333 1.         0.         1.
 0.71936898 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 19: Average loss: 2.2248, Accuracy: 1681/10000 (16.8100%), Attack Success Rate:29/10000(0.290)
___Test Target_Simple poisoned: True, epoch: 19: Average loss: 2.1999, Accuracy: 1654/8991 (18.3962%)
Done in 135.87754321098328 sec.
Server Epoch:20 choose agents : [23, 43, 27, 82, 37, 35, 29, 47, 11, 42].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 23, internal_epoch   1,  Average loss: 0.0436, Accuracy: 111/588 (18.8776%), train_poison_data_count: 588
Global model norm: 13.902403018628931.
Norm before scaling: 13.885202316991606. Distance: 0.3145602499890668
Total norm for 4 adversaries is: 13.885202316991606. distance: 0.3145602499890668
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 2.0992, Accuracy: 1920/8991 (21.3547%)
___Train Local_Simple,  epoch  20, local model 43, internal_epoch   1,  Average loss: 0.0470, Accuracy: 84/518 (16.2162%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 2.1742, Accuracy: 3091/10000 (30.9100%), Attack Success Rate:1/10000(0.010)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 27, internal_epoch   1,  Average loss: 0.0422, Accuracy: 149/650 (22.9231%), train_poison_data_count: 650
Global model norm: 13.902403018628931.
Norm before scaling: 13.88466438302694. Distance: 0.39844333420016265
Total norm for 4 adversaries is: 13.88466438302694. distance: 0.39844333420016265
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 2.2226, Accuracy: 1799/8991 (20.0089%)
___Train Local_Simple,  epoch  20, local model 82, internal_epoch   1,  Average loss: 0.0455, Accuracy: 145/621 (23.3494%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 2.1947, Accuracy: 3192/10000 (31.9200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  20, local model 37, internal_epoch   1,  Average loss: 0.0439, Accuracy: 173/641 (26.9891%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 2.1948, Accuracy: 2003/10000 (20.0300%), Attack Success Rate:30/10000(0.300)
___Train Local_Simple,  epoch  20, local model 35, internal_epoch   1,  Average loss: 0.0445, Accuracy: 115/493 (23.3266%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 2.2085, Accuracy: 2329/10000 (23.2900%), Attack Success Rate:16/10000(0.160)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 29, internal_epoch   1,  Average loss: 0.0455, Accuracy: 119/605 (19.6694%), train_poison_data_count: 605
Global model norm: 13.902403018628931.
Norm before scaling: 13.885503968491182. Distance: 0.3646860545635589
Total norm for 4 adversaries is: 13.885503968491182. distance: 0.3646860545635589
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 2.0930, Accuracy: 1177/8991 (13.0909%)
___Train Local_Simple,  epoch  20, local model 47, internal_epoch   1,  Average loss: 0.0466, Accuracy: 143/602 (23.7542%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 2.2172, Accuracy: 958/10000 (9.5800%), Attack Success Rate:6/10000(0.060)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 11, internal_epoch   1,  Average loss: 0.0413, Accuracy: 169/644 (26.2422%), train_poison_data_count: 644
Global model norm: 13.902403018628931.
Norm before scaling: 13.888312474475503. Distance: 0.45201796097115404
Total norm for 4 adversaries is: 13.888312474475503. distance: 0.45201796097115404
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 2.3604, Accuracy: 1010/8991 (11.2335%)
___Train Local_Simple,  epoch  20, local model 42, internal_epoch   1,  Average loss: 0.0457, Accuracy: 175/665 (26.3158%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 2.1632, Accuracy: 3322/10000 (33.2200%), Attack Success Rate:2/10000(0.020)
time spent on training: 44.08285903930664
[foolsgold agg] training data poison_ratio: 0.41264310602289694  data num: [588, 518, 650, 621, 641, 493, 605, 602, 644, 665]
[foolsgold agg] considering poison per batch poison_fraction: 0.412643106022897
[foolsgold agg] wv: [0.65071998 1.         1.         1.         0.41439681 0.41439681
 0.65071998 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 20: Average loss: 2.2117, Accuracy: 1985/10000 (19.8500%), Attack Success Rate:24/10000(0.240)
___Test Target_Simple poisoned: True, epoch: 20: Average loss: 2.1809, Accuracy: 1959/8991 (21.7885%)
Done in 132.48913979530334 sec.
Server Epoch:21 choose agents : [33, 12, 93, 15, 41, 97, 20, 86, 54, 52].
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 33, internal_epoch   1,  Average loss: 0.0420, Accuracy: 175/638 (27.4295%), train_poison_data_count: 638
Global model norm: 13.904638578511253.
Norm before scaling: 13.893643886831905. Distance: 0.4271629383362531
Total norm for 4 adversaries is: 13.893643886831905. distance: 0.4271629383362531
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 2.1388, Accuracy: 1417/8991 (15.7602%)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 12, internal_epoch   1,  Average loss: 0.0421, Accuracy: 152/597 (25.4606%), train_poison_data_count: 597
Global model norm: 13.904638578511253.
Norm before scaling: 13.890947404687871. Distance: 0.38284048639876994
Total norm for 4 adversaries is: 13.890947404687871. distance: 0.38284048639876994
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 2.2374, Accuracy: 1802/8991 (20.0423%)
___Train Local_Simple,  epoch  21, local model 93, internal_epoch   1,  Average loss: 0.0447, Accuracy: 121/529 (22.8733%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 2.2058, Accuracy: 2117/10000 (21.1700%), Attack Success Rate:25/10000(0.250)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 15, internal_epoch   1,  Average loss: 0.0442, Accuracy: 120/572 (20.9790%), train_poison_data_count: 572
Global model norm: 13.904638578511253.
Norm before scaling: 13.889734640861743. Distance: 0.3379041194977375
Total norm for 4 adversaries is: 13.889734640861743. distance: 0.3379041194977375
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 2.1310, Accuracy: 982/8991 (10.9220%)
___Train Local_Simple,  epoch  21, local model 41, internal_epoch   1,  Average loss: 0.0458, Accuracy: 247/652 (37.8834%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 2.1491, Accuracy: 2377/10000 (23.7700%), Attack Success Rate:16/10000(0.160)
___Train Local_Simple,  epoch  21, local model 97, internal_epoch   1,  Average loss: 0.0431, Accuracy: 159/588 (27.0408%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 2.3044, Accuracy: 1908/10000 (19.0800%), Attack Success Rate:25/10000(0.250)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 20, internal_epoch   1,  Average loss: 0.0460, Accuracy: 119/553 (21.5190%), train_poison_data_count: 553
Global model norm: 13.904638578511253.
Norm before scaling: 13.889881298637306. Distance: 0.3430134511679005
Total norm for 4 adversaries is: 13.889881298637306. distance: 0.3430134511679005
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 2.1412, Accuracy: 1249/8991 (13.8917%)
___Train Local_Simple,  epoch  21, local model 86, internal_epoch   1,  Average loss: 0.0438, Accuracy: 203/587 (34.5826%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 2.2290, Accuracy: 2538/10000 (25.3800%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch  21, local model 54, internal_epoch   1,  Average loss: 0.0457, Accuracy: 120/523 (22.9446%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 2.1660, Accuracy: 1549/10000 (15.4900%), Attack Success Rate:27/10000(0.270)
___Train Local_Simple,  epoch  21, local model 52, internal_epoch   1,  Average loss: 0.0461, Accuracy: 138/618 (22.3301%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 2.1672, Accuracy: 1240/10000 (12.4000%), Attack Success Rate:24/10000(0.240)
time spent on training: 44.14198708534241
[foolsgold agg] training data poison_ratio: 0.40293665699163395  data num: [638, 597, 529, 572, 652, 588, 553, 587, 523, 618]
[foolsgold agg] considering poison per batch poison_fraction: 0.402936656991634
[foolsgold agg] wv: [0.64738875 0.26695332 0.29791529 0.64738875 1.         0.29791529
 0.26695332 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 21: Average loss: 2.1986, Accuracy: 2293/10000 (22.9300%), Attack Success Rate:25/10000(0.250)
___Test Target_Simple poisoned: True, epoch: 21: Average loss: 2.1653, Accuracy: 2269/8991 (25.2363%)
Done in 132.59040021896362 sec.
Server Epoch:22 choose agents : [24, 38, 42, 32, 60, 8, 35, 92, 27, 96].
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 24, internal_epoch   1,  Average loss: 0.0427, Accuracy: 151/578 (26.1246%), train_poison_data_count: 578
Global model norm: 13.906530896039458.
Norm before scaling: 13.897690922893675. Distance: 0.39076514591070377
Total norm for 4 adversaries is: 13.897690922893675. distance: 0.39076514591070377
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 2.1254, Accuracy: 2590/8991 (28.8066%)
___Train Local_Simple,  epoch  22, local model 38, internal_epoch   1,  Average loss: 0.0438, Accuracy: 242/774 (31.2661%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.0258, Accuracy: 3932/10000 (39.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  22, local model 42, internal_epoch   1,  Average loss: 0.0446, Accuracy: 256/665 (38.4962%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.1354, Accuracy: 2460/10000 (24.6000%), Attack Success Rate:20/10000(0.200)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 32, internal_epoch   1,  Average loss: 0.0430, Accuracy: 176/609 (28.8998%), train_poison_data_count: 609
Global model norm: 13.906530896039458.
Norm before scaling: 13.89325180361714. Distance: 0.4031748474706954
Total norm for 4 adversaries is: 13.89325180361714. distance: 0.4031748474706954
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 2.0858, Accuracy: 2759/8991 (30.6862%)
___Train Local_Simple,  epoch  22, local model 60, internal_epoch   1,  Average loss: 0.0431, Accuracy: 252/644 (39.1304%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.1126, Accuracy: 4203/10000 (42.0300%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 8, internal_epoch   1,  Average loss: 0.0421, Accuracy: 269/683 (39.3851%), train_poison_data_count: 683
Global model norm: 13.906530896039458.
Norm before scaling: 13.897743074803268. Distance: 0.4701424738094449
Total norm for 4 adversaries is: 13.897743074803268. distance: 0.4701424738094449
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 2.0381, Accuracy: 2457/8991 (27.3273%)
___Train Local_Simple,  epoch  22, local model 35, internal_epoch   1,  Average loss: 0.0436, Accuracy: 139/493 (28.1947%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.1793, Accuracy: 2387/10000 (23.8700%), Attack Success Rate:19/10000(0.190)
___Train Local_Simple,  epoch  22, local model 92, internal_epoch   1,  Average loss: 0.0445, Accuracy: 181/571 (31.6988%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.1955, Accuracy: 1782/10000 (17.8200%), Attack Success Rate:26/10000(0.260)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 27, internal_epoch   1,  Average loss: 0.0413, Accuracy: 177/650 (27.2308%), train_poison_data_count: 650
Global model norm: 13.906530896039458.
Norm before scaling: 13.892956910211172. Distance: 0.398832069698781
Total norm for 4 adversaries is: 13.892956910211172. distance: 0.398832069698781
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 2.0964, Accuracy: 2421/8991 (26.9269%)
___Train Local_Simple,  epoch  22, local model 96, internal_epoch   1,  Average loss: 0.0427, Accuracy: 235/608 (38.6513%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.3687, Accuracy: 1975/10000 (19.7500%), Attack Success Rate:27/10000(0.270)
time spent on training: 44.69953536987305
[foolsgold agg] training data poison_ratio: 0.401593625498008  data num: [578, 774, 665, 609, 644, 683, 493, 571, 650, 608]
[foolsgold agg] considering poison per batch poison_fraction: 0.401593625498008
[foolsgold agg] wv: [1.         0.         0.         0.44597369 0.50145585 0.44597369
 1.         0.63858504 0.70231439 1.        ]
___Test Target_Simple poisoned: False, epoch: 22: Average loss: 2.1863, Accuracy: 2445/10000 (24.4500%), Attack Success Rate:16/10000(0.160)
___Test Target_Simple poisoned: True, epoch: 22: Average loss: 2.1483, Accuracy: 2422/8991 (26.9380%)
Done in 132.86585545539856 sec.
Server Epoch:23 choose agents : [56, 82, 85, 17, 76, 61, 26, 86, 89, 75].
___Train Local_Simple,  epoch  23, local model 56, internal_epoch   1,  Average loss: 0.0447, Accuracy: 216/626 (34.5048%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 2.1041, Accuracy: 1514/10000 (15.1400%), Attack Success Rate:24/10000(0.240)
___Train Local_Simple,  epoch  23, local model 82, internal_epoch   1,  Average loss: 0.0441, Accuracy: 203/621 (32.6892%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 2.1237, Accuracy: 3305/10000 (33.0500%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch  23, local model 85, internal_epoch   1,  Average loss: 0.0453, Accuracy: 174/570 (30.5263%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 2.1207, Accuracy: 2797/10000 (27.9700%), Attack Success Rate:8/10000(0.080)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 17, internal_epoch   1,  Average loss: 0.0412, Accuracy: 226/648 (34.8765%), train_poison_data_count: 648
Global model norm: 13.90863030453546.
Norm before scaling: 13.901372367019144. Distance: 0.4096830817652873
Total norm for 2 adversaries is: 13.901372367019144. distance: 0.4096830817652873
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.9176, Accuracy: 4312/8991 (47.9591%)
___Train Local_Simple,  epoch  23, local model 76, internal_epoch   1,  Average loss: 0.0452, Accuracy: 208/518 (40.1544%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 2.1376, Accuracy: 2257/10000 (22.5700%), Attack Success Rate:22/10000(0.220)
___Train Local_Simple,  epoch  23, local model 61, internal_epoch   1,  Average loss: 0.0443, Accuracy: 145/537 (27.0019%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 2.1327, Accuracy: 1973/10000 (19.7300%), Attack Success Rate:22/10000(0.220)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 26, internal_epoch   1,  Average loss: 0.0425, Accuracy: 147/526 (27.9468%), train_poison_data_count: 526
Global model norm: 13.90863030453546.
Norm before scaling: 13.902218626509145. Distance: 0.34748762305948555
Total norm for 2 adversaries is: 13.902218626509145. distance: 0.34748762305948555
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 2.1169, Accuracy: 1509/8991 (16.7835%)
___Train Local_Simple,  epoch  23, local model 86, internal_epoch   1,  Average loss: 0.0431, Accuracy: 203/587 (34.5826%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 2.2092, Accuracy: 1983/10000 (19.8300%), Attack Success Rate:27/10000(0.270)
___Train Local_Simple,  epoch  23, local model 89, internal_epoch   1,  Average loss: 0.0449, Accuracy: 217/664 (32.6807%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 2.2016, Accuracy: 2590/10000 (25.9000%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch  23, local model 75, internal_epoch   1,  Average loss: 0.0460, Accuracy: 158/554 (28.5199%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 2.1813, Accuracy: 1681/10000 (16.8100%), Attack Success Rate:32/10000(0.320)
time spent on training: 39.9722204208374
[foolsgold agg] training data poison_ratio: 0.20064946163049052  data num: [626, 621, 570, 648, 518, 537, 526, 587, 664, 554]
[foolsgold agg] considering poison per batch poison_fraction: 0.2006494616304905
[foolsgold agg] wv: [0.92906485 1.         0.80305228 1.         0.80305228 1.
 1.         1.         0.92906485 1.        ]
___Test Target_Simple poisoned: False, epoch: 23: Average loss: 2.1616, Accuracy: 3213/10000 (32.1300%), Attack Success Rate:3/10000(0.030)
___Test Target_Simple poisoned: True, epoch: 23: Average loss: 2.1231, Accuracy: 3193/8991 (35.5133%)
Done in 127.84320592880249 sec.
Server Epoch:24 choose agents : [36, 65, 96, 83, 63, 30, 94, 25, 52, 50].
___Train Local_Simple,  epoch  24, local model 36, internal_epoch   1,  Average loss: 0.0436, Accuracy: 171/520 (32.8846%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.1126, Accuracy: 3306/10000 (33.0600%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  24, local model 65, internal_epoch   1,  Average loss: 0.0449, Accuracy: 220/573 (38.3944%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.0459, Accuracy: 3792/10000 (37.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 96, internal_epoch   1,  Average loss: 0.0410, Accuracy: 264/608 (43.4211%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.2964, Accuracy: 2960/10000 (29.6000%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  24, local model 83, internal_epoch   1,  Average loss: 0.0456, Accuracy: 235/555 (42.3423%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.0604, Accuracy: 2542/10000 (25.4200%), Attack Success Rate:16/10000(0.160)
___Train Local_Simple,  epoch  24, local model 63, internal_epoch   1,  Average loss: 0.0450, Accuracy: 154/616 (25.0000%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.0576, Accuracy: 2717/10000 (27.1700%), Attack Success Rate:6/10000(0.060)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 30, internal_epoch   1,  Average loss: 0.0420, Accuracy: 195/668 (29.1916%), train_poison_data_count: 668
Global model norm: 13.912488725217242.
Norm before scaling: 13.905906552992038. Distance: 0.46021613555495067
Total norm for 2 adversaries is: 13.905906552992038. distance: 0.46021613555495067
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.9591, Accuracy: 1581/8991 (17.5843%)
___Train Local_Simple,  epoch  24, local model 94, internal_epoch   1,  Average loss: 0.0434, Accuracy: 241/555 (43.4234%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.2300, Accuracy: 1100/10000 (11.0000%), Attack Success Rate:12/10000(0.120)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 25, internal_epoch   1,  Average loss: 0.0423, Accuracy: 202/582 (34.7079%), train_poison_data_count: 582
Global model norm: 13.912488725217242.
Norm before scaling: 13.906449700111052. Distance: 0.3734380658197306
Total norm for 2 adversaries is: 13.906449700111052. distance: 0.3734380658197306
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.9776, Accuracy: 2333/8991 (25.9482%)
___Train Local_Simple,  epoch  24, local model 52, internal_epoch   1,  Average loss: 0.0444, Accuracy: 181/618 (29.2880%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.0630, Accuracy: 2020/10000 (20.2000%), Attack Success Rate:29/10000(0.290)
___Train Local_Simple,  epoch  24, local model 50, internal_epoch   1,  Average loss: 0.0448, Accuracy: 162/474 (34.1772%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.1146, Accuracy: 3287/10000 (32.8700%), Attack Success Rate:1/10000(0.010)
time spent on training: 40.51461124420166
[foolsgold agg] training data poison_ratio: 0.21667533368001388  data num: [520, 573, 608, 555, 616, 668, 555, 582, 618, 474]
[foolsgold agg] considering poison per batch poison_fraction: 0.21667533368001388
[foolsgold agg] wv: [0.         0.15236394 1.         0.         0.         0.
 1.         0.         0.         0.21971335]
___Test Target_Simple poisoned: False, epoch: 24: Average loss: 2.1533, Accuracy: 3852/10000 (38.5200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 24: Average loss: 2.1147, Accuracy: 3829/8991 (42.5870%)
Done in 128.48614287376404 sec.
Server Epoch:25 choose agents : [45, 6, 35, 17, 20, 73, 43, 8, 74, 3].
___Train Local_Simple,  epoch  25, local model 45, internal_epoch   1,  Average loss: 0.0412, Accuracy: 276/750 (36.8000%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 2.0014, Accuracy: 3794/10000 (37.9400%), Attack Success Rate:2/10000(0.020)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 6, internal_epoch   1,  Average loss: 0.0423, Accuracy: 239/708 (33.7571%), train_poison_data_count: 708
Global model norm: 13.913494426219371.
Norm before scaling: 13.911577828580914. Distance: 0.5287882764863562
Total norm for 5 adversaries is: 13.911577828580914. distance: 0.5287882764863562
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.8035, Accuracy: 4174/8991 (46.4242%)
___Train Local_Simple,  epoch  25, local model 35, internal_epoch   1,  Average loss: 0.0424, Accuracy: 186/493 (37.7282%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 2.1451, Accuracy: 2430/10000 (24.3000%), Attack Success Rate:11/10000(0.110)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 17, internal_epoch   1,  Average loss: 0.0400, Accuracy: 299/648 (46.1420%), train_poison_data_count: 648
Global model norm: 13.913494426219371.
Norm before scaling: 13.914053726836089. Distance: 0.4536795182829906
Total norm for 5 adversaries is: 13.914053726836089. distance: 0.4536795182829906
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.8255, Accuracy: 4155/8991 (46.2129%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 20, internal_epoch   1,  Average loss: 0.0435, Accuracy: 148/553 (26.7631%), train_poison_data_count: 553
Global model norm: 13.913494426219371.
Norm before scaling: 13.908289110506917. Distance: 0.3912666772450688
Total norm for 5 adversaries is: 13.908289110506917. distance: 0.3912666772450688
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 2.0396, Accuracy: 2446/8991 (27.2050%)
___Train Local_Simple,  epoch  25, local model 73, internal_epoch   1,  Average loss: 0.0434, Accuracy: 194/626 (30.9904%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 2.0546, Accuracy: 3447/10000 (34.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  25, local model 43, internal_epoch   1,  Average loss: 0.0452, Accuracy: 240/518 (46.3320%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 2.0482, Accuracy: 4515/10000 (45.1500%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 8, internal_epoch   1,  Average loss: 0.0403, Accuracy: 277/683 (40.5564%), train_poison_data_count: 683
Global model norm: 13.913494426219371.
Norm before scaling: 13.91525340566064. Distance: 0.5289980055135038
Total norm for 5 adversaries is: 13.91525340566064. distance: 0.5289980055135038
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.8731, Accuracy: 4296/8991 (47.7811%)
___Train Local_Simple,  epoch  25, local model 74, internal_epoch   1,  Average loss: 0.0440, Accuracy: 200/626 (31.9489%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 2.0519, Accuracy: 3982/10000 (39.8200%), Attack Success Rate:0/10000(0.000)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 3, internal_epoch   1,  Average loss: 0.0448, Accuracy: 163/505 (32.2772%), train_poison_data_count: 505
Global model norm: 13.913494426219371.
Norm before scaling: 13.909205159144777. Distance: 0.3798301287601386
Total norm for 5 adversaries is: 13.909205159144777. distance: 0.3798301287601386
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 2.0759, Accuracy: 2236/8991 (24.8693%)
time spent on training: 46.30209994316101
[foolsgold agg] training data poison_ratio: 0.5068739770867431  data num: [750, 708, 493, 648, 553, 626, 518, 683, 626, 505]
[foolsgold agg] considering poison per batch poison_fraction: 0.5068739770867431
[foolsgold agg] wv: [1.         1.         1.         0.         1.         1.
 0.63250877 0.         0.63250877 1.        ]
___Test Target_Simple poisoned: False, epoch: 25: Average loss: 2.1314, Accuracy: 4453/10000 (44.5300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 25: Average loss: 2.0853, Accuracy: 4425/8991 (49.2159%)
Done in 134.63206005096436 sec.
Server Epoch:26 choose agents : [39, 14, 32, 4, 30, 63, 23, 3, 94, 84].
___Train Local_Simple,  epoch  26, local model 39, internal_epoch   1,  Average loss: 0.0455, Accuracy: 204/503 (40.5567%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 2.0000, Accuracy: 4382/10000 (43.8200%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 14, internal_epoch   1,  Average loss: 0.0405, Accuracy: 197/535 (36.8224%), train_poison_data_count: 535
Global model norm: 13.91720732287799.
Norm before scaling: 13.91706204947248. Distance: 0.3823801830348254
Total norm for 6 adversaries is: 13.91706204947248. distance: 0.3823801830348254
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.9857, Accuracy: 2391/8991 (26.5933%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 32, internal_epoch   1,  Average loss: 0.0406, Accuracy: 214/609 (35.1396%), train_poison_data_count: 609
Global model norm: 13.91720732287799.
Norm before scaling: 13.91602809758213. Distance: 0.4501403808179958
Total norm for 6 adversaries is: 13.91602809758213. distance: 0.4501403808179958
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.9116, Accuracy: 3338/8991 (37.1260%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 4, internal_epoch   1,  Average loss: 0.0401, Accuracy: 229/587 (39.0119%), train_poison_data_count: 587
Global model norm: 13.91720732287799.
Norm before scaling: 13.920171665580089. Distance: 0.41060597423563544
Total norm for 6 adversaries is: 13.920171665580089. distance: 0.41060597423563544
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.8243, Accuracy: 4084/8991 (45.4232%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 30, internal_epoch   1,  Average loss: 0.0410, Accuracy: 293/668 (43.8623%), train_poison_data_count: 668
Global model norm: 13.91720732287799.
Norm before scaling: 13.919073814184856. Distance: 0.486851238508276
Total norm for 6 adversaries is: 13.919073814184856. distance: 0.486851238508276
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.7838, Accuracy: 4905/8991 (54.5546%)
___Train Local_Simple,  epoch  26, local model 63, internal_epoch   1,  Average loss: 0.0440, Accuracy: 171/616 (27.7597%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.9954, Accuracy: 3580/10000 (35.8000%), Attack Success Rate:1/10000(0.010)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 23, internal_epoch   1,  Average loss: 0.0409, Accuracy: 184/588 (31.2925%), train_poison_data_count: 588
Global model norm: 13.91720732287799.
Norm before scaling: 13.915244633247559. Distance: 0.39237526733982375
Total norm for 6 adversaries is: 13.915244633247559. distance: 0.39237526733982375
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.8824, Accuracy: 2802/8991 (31.1645%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 3, internal_epoch   1,  Average loss: 0.0441, Accuracy: 179/505 (35.4455%), train_poison_data_count: 505
Global model norm: 13.91720732287799.
Norm before scaling: 13.91632305033233. Distance: 0.3936890214296246
Total norm for 6 adversaries is: 13.91632305033233. distance: 0.3936890214296246
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 2.0769, Accuracy: 3355/8991 (37.3151%)
___Train Local_Simple,  epoch  26, local model 94, internal_epoch   1,  Average loss: 0.0427, Accuracy: 249/555 (44.8649%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 2.0702, Accuracy: 4396/10000 (43.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  26, local model 84, internal_epoch   1,  Average loss: 0.0439, Accuracy: 286/560 (51.0714%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.9988, Accuracy: 4436/10000 (44.3600%), Attack Success Rate:0/10000(0.000)
time spent on training: 48.28677797317505
[foolsgold agg] training data poison_ratio: 0.6098498078938177  data num: [503, 535, 609, 587, 668, 616, 588, 505, 555, 560]
[foolsgold agg] considering poison per batch poison_fraction: 0.6098498078938177
[foolsgold agg] wv: [0.98925172 0.4352844  0.4352844  0.         0.         0.98925172
 0.6136043  1.         0.82366102 0.82366102]
___Test Target_Simple poisoned: False, epoch: 26: Average loss: 2.1103, Accuracy: 4853/10000 (48.5300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 26: Average loss: 2.0605, Accuracy: 4799/8991 (53.3756%)
Done in 136.45292472839355 sec.
Server Epoch:27 choose agents : [69, 2, 42, 25, 17, 37, 45, 54, 30, 0].
___Train Local_Simple,  epoch  27, local model 69, internal_epoch   1,  Average loss: 0.0402, Accuracy: 275/646 (42.5697%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 2.0145, Accuracy: 3921/10000 (39.2100%), Attack Success Rate:0/10000(0.000)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 2, internal_epoch   1,  Average loss: 0.0406, Accuracy: 244/580 (42.0690%), train_poison_data_count: 580
Global model norm: 13.920525173935216.
Norm before scaling: 13.923356753356929. Distance: 0.418819595361063
Total norm for 4 adversaries is: 13.923356753356929. distance: 0.418819595361063
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.9073, Accuracy: 2769/8991 (30.7975%)
___Train Local_Simple,  epoch  27, local model 42, internal_epoch   1,  Average loss: 0.0422, Accuracy: 326/665 (49.0226%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.8664, Accuracy: 3373/10000 (33.7300%), Attack Success Rate:2/10000(0.020)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 25, internal_epoch   1,  Average loss: 0.0409, Accuracy: 258/582 (44.3299%), train_poison_data_count: 582
Global model norm: 13.920525173935216.
Norm before scaling: 13.922033923405484. Distance: 0.3978481047250176
Total norm for 4 adversaries is: 13.922033923405484. distance: 0.3978481047250176
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.8043, Accuracy: 3164/8991 (35.1907%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 17, internal_epoch   1,  Average loss: 0.0383, Accuracy: 354/648 (54.6296%), train_poison_data_count: 648
Global model norm: 13.920525173935216.
Norm before scaling: 13.931375432294791. Distance: 0.4991899126824882
Total norm for 4 adversaries is: 13.931375432294791. distance: 0.4991899126824882
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.6655, Accuracy: 5355/8991 (59.5596%)
___Train Local_Simple,  epoch  27, local model 37, internal_epoch   1,  Average loss: 0.0401, Accuracy: 279/641 (43.5257%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.9451, Accuracy: 3711/10000 (37.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 45, internal_epoch   1,  Average loss: 0.0393, Accuracy: 317/750 (42.2667%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.8630, Accuracy: 4088/10000 (40.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 54, internal_epoch   1,  Average loss: 0.0426, Accuracy: 243/523 (46.4627%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.9832, Accuracy: 2296/10000 (22.9600%), Attack Success Rate:17/10000(0.170)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 30, internal_epoch   1,  Average loss: 0.0407, Accuracy: 233/668 (34.8802%), train_poison_data_count: 668
Global model norm: 13.920525173935216.
Norm before scaling: 13.92143712923217. Distance: 0.48228443365529927
Total norm for 4 adversaries is: 13.92143712923217. distance: 0.48228443365529927
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.7990, Accuracy: 4201/8991 (46.7245%)
___Train Local_Simple,  epoch  27, local model 0, internal_epoch   1,  Average loss: 0.0421, Accuracy: 244/609 (40.0657%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 2.0362, Accuracy: 3420/10000 (34.2000%), Attack Success Rate:1/10000(0.010)
time spent on training: 45.03570294380188
[foolsgold agg] training data poison_ratio: 0.3925855513307985  data num: [646, 580, 665, 582, 648, 641, 750, 523, 668, 609]
[foolsgold agg] considering poison per batch poison_fraction: 0.3925855513307985
[foolsgold agg] wv: [0.6788366  1.         0.         0.09196141 0.09196141 0.
 0.52607909 0.52607909 0.52559774 1.        ]
___Test Target_Simple poisoned: False, epoch: 27: Average loss: 2.0907, Accuracy: 5126/10000 (51.2600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 27: Average loss: 2.0374, Accuracy: 5062/8991 (56.3007%)
Done in 133.28973197937012 sec.
Server Epoch:28 choose agents : [33, 51, 17, 63, 6, 24, 82, 35, 80, 81].
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 33, internal_epoch   1,  Average loss: 0.0376, Accuracy: 335/638 (52.5078%), train_poison_data_count: 638
Global model norm: 13.923412644812851.
Norm before scaling: 13.93761112185943. Distance: 0.5224489014567179
Total norm for 4 adversaries is: 13.93761112185943. distance: 0.5224489014567179
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.7683, Accuracy: 4497/8991 (50.0167%)
___Train Local_Simple,  epoch  28, local model 51, internal_epoch   1,  Average loss: 0.0391, Accuracy: 328/647 (50.6955%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.8516, Accuracy: 3909/10000 (39.0900%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 17, internal_epoch   1,  Average loss: 0.0375, Accuracy: 369/648 (56.9444%), train_poison_data_count: 648
Global model norm: 13.923412644812851.
Norm before scaling: 13.941168195466867. Distance: 0.540967753251366
Total norm for 4 adversaries is: 13.941168195466867. distance: 0.540967753251366
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.6496, Accuracy: 4828/8991 (53.6981%)
___Train Local_Simple,  epoch  28, local model 63, internal_epoch   1,  Average loss: 0.0432, Accuracy: 203/616 (32.9545%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.8899, Accuracy: 4426/10000 (44.2600%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 6, internal_epoch   1,  Average loss: 0.0396, Accuracy: 328/708 (46.3277%), train_poison_data_count: 708
Global model norm: 13.923412644812851.
Norm before scaling: 13.939080803008945. Distance: 0.6007584238862702
Total norm for 4 adversaries is: 13.939080803008945. distance: 0.6007584238862702
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.5757, Accuracy: 4763/8991 (52.9752%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 24, internal_epoch   1,  Average loss: 0.0385, Accuracy: 295/578 (51.0381%), train_poison_data_count: 578
Global model norm: 13.923412644812851.
Norm before scaling: 13.935227555250096. Distance: 0.4868125494495229
Total norm for 4 adversaries is: 13.935227555250096. distance: 0.4868125494495229
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.9882, Accuracy: 2869/8991 (31.9097%)
___Train Local_Simple,  epoch  28, local model 82, internal_epoch   1,  Average loss: 0.0416, Accuracy: 248/621 (39.9356%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.8885, Accuracy: 3801/10000 (38.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 35, internal_epoch   1,  Average loss: 0.0409, Accuracy: 219/493 (44.4219%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 2.0568, Accuracy: 2641/10000 (26.4100%), Attack Success Rate:12/10000(0.120)
___Train Local_Simple,  epoch  28, local model 80, internal_epoch   1,  Average loss: 0.0408, Accuracy: 270/593 (45.5312%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.9248, Accuracy: 4195/10000 (41.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 81, internal_epoch   1,  Average loss: 0.0410, Accuracy: 261/586 (44.5392%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.8788, Accuracy: 3774/10000 (37.7400%), Attack Success Rate:1/10000(0.010)
time spent on training: 44.59936881065369
[foolsgold agg] training data poison_ratio: 0.4197127937336815  data num: [638, 647, 648, 616, 708, 578, 621, 493, 593, 586]
[foolsgold agg] considering poison per batch poison_fraction: 0.4197127937336815
[foolsgold agg] wv: [0.         0.         0.         0.         0.         1.
 0.         0.14467655 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 28: Average loss: 2.0866, Accuracy: 4993/10000 (49.9300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 28: Average loss: 2.0303, Accuracy: 4943/8991 (54.9772%)
Done in 132.41466212272644 sec.
Server Epoch:29 choose agents : [58, 90, 30, 72, 41, 25, 16, 91, 50, 57].
___Train Local_Simple,  epoch  29, local model 58, internal_epoch   1,  Average loss: 0.0434, Accuracy: 275/510 (53.9216%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.9129, Accuracy: 5277/10000 (52.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 90, internal_epoch   1,  Average loss: 0.0417, Accuracy: 250/577 (43.3276%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.9795, Accuracy: 3987/10000 (39.8700%), Attack Success Rate:1/10000(0.010)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 30, internal_epoch   1,  Average loss: 0.0394, Accuracy: 316/668 (47.3054%), train_poison_data_count: 668
Global model norm: 13.923719495867811.
Norm before scaling: 13.936020297888636. Distance: 0.5319845786889075
Total norm for 3 adversaries is: 13.936020297888636. distance: 0.5319845786889075
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.6795, Accuracy: 4857/8991 (54.0207%)
___Train Local_Simple,  epoch  29, local model 72, internal_epoch   1,  Average loss: 0.0422, Accuracy: 210/529 (39.6975%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.9276, Accuracy: 4414/10000 (44.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 41, internal_epoch   1,  Average loss: 0.0419, Accuracy: 331/652 (50.7669%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.7744, Accuracy: 4716/10000 (47.1600%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 25, internal_epoch   1,  Average loss: 0.0402, Accuracy: 267/582 (45.8763%), train_poison_data_count: 582
Global model norm: 13.923719495867811.
Norm before scaling: 13.928811688150045. Distance: 0.4157499799470329
Total norm for 3 adversaries is: 13.928811688150045. distance: 0.4157499799470329
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.7121, Accuracy: 4779/8991 (53.1532%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 16, internal_epoch   1,  Average loss: 0.0398, Accuracy: 187/581 (32.1859%), train_poison_data_count: 581
Global model norm: 13.923719495867811.
Norm before scaling: 13.926637530651691. Distance: 0.422489601605456
Total norm for 3 adversaries is: 13.926637530651691. distance: 0.422489601605456
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.8223, Accuracy: 2989/8991 (33.2444%)
___Train Local_Simple,  epoch  29, local model 91, internal_epoch   1,  Average loss: 0.0418, Accuracy: 187/627 (29.8246%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.8754, Accuracy: 5207/10000 (52.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 50, internal_epoch   1,  Average loss: 0.0424, Accuracy: 221/474 (46.6245%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 2.0274, Accuracy: 3744/10000 (37.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 57, internal_epoch   1,  Average loss: 0.0418, Accuracy: 205/568 (36.0915%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.8522, Accuracy: 4317/10000 (43.1700%), Attack Success Rate:0/10000(0.000)
time spent on training: 42.83935761451721
[foolsgold agg] training data poison_ratio: 0.31744105409153955  data num: [510, 577, 668, 529, 652, 582, 581, 627, 474, 568]
[foolsgold agg] considering poison per batch poison_fraction: 0.31744105409153955
[foolsgold agg] wv: [0.13620133 0.50507098 0.68856971 0.13620133 1.         1.
 0.68856971 0.47623365 0.85911128 0.50507098]
___Test Target_Simple poisoned: False, epoch: 29: Average loss: 2.0583, Accuracy: 5296/10000 (52.9600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 29: Average loss: 1.9958, Accuracy: 5169/8991 (57.4908%)
Done in 130.8113009929657 sec.
Server Epoch:30 choose agents : [50, 77, 73, 21, 10, 8, 40, 52, 45, 30].
___Train Local_Simple,  epoch  30, local model 50, internal_epoch   1,  Average loss: 0.0416, Accuracy: 232/474 (48.9451%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.9561, Accuracy: 4107/10000 (41.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 77, internal_epoch   1,  Average loss: 0.0425, Accuracy: 209/519 (40.2697%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.8730, Accuracy: 4260/10000 (42.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 73, internal_epoch   1,  Average loss: 0.0403, Accuracy: 285/626 (45.5272%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.8321, Accuracy: 4803/10000 (48.0300%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 21, internal_epoch   1,  Average loss: 0.0372, Accuracy: 313/625 (50.0800%), train_poison_data_count: 625
Global model norm: 13.927967044447332.
Norm before scaling: 13.944206232380955. Distance: 0.5185580208594016
Total norm for 4 adversaries is: 13.944206232380955. distance: 0.5185580208594016
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.6474, Accuracy: 4218/8991 (46.9136%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 10, internal_epoch   1,  Average loss: 0.0389, Accuracy: 241/572 (42.1329%), train_poison_data_count: 572
Global model norm: 13.927967044447332.
Norm before scaling: 13.935836898041973. Distance: 0.4531256248206731
Total norm for 4 adversaries is: 13.935836898041973. distance: 0.4531256248206731
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.7589, Accuracy: 3717/8991 (41.3413%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 8, internal_epoch   1,  Average loss: 0.0366, Accuracy: 395/683 (57.8331%), train_poison_data_count: 683
Global model norm: 13.927967044447332.
Norm before scaling: 13.954561883602123. Distance: 0.6330499556747889
Total norm for 4 adversaries is: 13.954561883602123. distance: 0.6330499556747889
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.5626, Accuracy: 5125/8991 (57.0014%)
___Train Local_Simple,  epoch  30, local model 40, internal_epoch   1,  Average loss: 0.0415, Accuracy: 257/563 (45.6483%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.9326, Accuracy: 3920/10000 (39.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 52, internal_epoch   1,  Average loss: 0.0418, Accuracy: 285/618 (46.1165%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.8419, Accuracy: 3347/10000 (33.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 45, internal_epoch   1,  Average loss: 0.0380, Accuracy: 358/750 (47.7333%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.6817, Accuracy: 4620/10000 (46.2000%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 30, internal_epoch   1,  Average loss: 0.0380, Accuracy: 349/668 (52.2455%), train_poison_data_count: 668
Global model norm: 13.927967044447332.
Norm before scaling: 13.949298603103838. Distance: 0.5811052316432445
Total norm for 4 adversaries is: 13.949298603103838. distance: 0.5811052316432445
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.6921, Accuracy: 3380/8991 (37.5931%)
time spent on training: 45.12372040748596
[foolsgold agg] training data poison_ratio: 0.4178419153820925  data num: [474, 519, 626, 625, 572, 683, 563, 618, 750, 668]
[foolsgold agg] considering poison per batch poison_fraction: 0.4178419153820925
[foolsgold agg] wv: [1.         1.         1.         1.         1.         1.
 0.98562364 1.         0.98562364 1.        ]
___Test Target_Simple poisoned: False, epoch: 30: Average loss: 2.0049, Accuracy: 5566/10000 (55.6600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 30: Average loss: 1.9254, Accuracy: 5395/8991 (60.0044%)
Done in 132.9057023525238 sec.
Server Epoch:31 choose agents : [74, 9, 99, 85, 4, 11, 24, 42, 23, 25].
___Train Local_Simple,  epoch  31, local model 74, internal_epoch   1,  Average loss: 0.0404, Accuracy: 318/626 (50.7987%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.6905, Accuracy: 4923/10000 (49.2300%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 9, internal_epoch   1,  Average loss: 0.0352, Accuracy: 273/548 (49.8175%), train_poison_data_count: 548
Global model norm: 13.936861716396312.
Norm before scaling: 13.95789053295242. Distance: 0.4550799914145773
Total norm for 6 adversaries is: 13.95789053295242. distance: 0.4550799914145773
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.6222, Accuracy: 4407/8991 (49.0157%)
___Train Local_Simple,  epoch  31, local model 99, internal_epoch   1,  Average loss: 0.0353, Accuracy: 235/410 (57.3171%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 2.6105, Accuracy: 3918/10000 (39.1800%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  31, local model 85, internal_epoch   1,  Average loss: 0.0398, Accuracy: 212/570 (37.1930%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.7187, Accuracy: 4938/10000 (49.3800%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 4, internal_epoch   1,  Average loss: 0.0360, Accuracy: 309/587 (52.6405%), train_poison_data_count: 587
Global model norm: 13.936861716396312.
Norm before scaling: 13.960031950730976. Distance: 0.4934767987315563
Total norm for 6 adversaries is: 13.960031950730976. distance: 0.4934767987315563
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.5206, Accuracy: 5148/8991 (57.2573%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 11, internal_epoch   1,  Average loss: 0.0354, Accuracy: 304/644 (47.2050%), train_poison_data_count: 644
Global model norm: 13.936861716396312.
Norm before scaling: 13.954239855202555. Distance: 0.5587629048779502
Total norm for 6 adversaries is: 13.954239855202555. distance: 0.5587629048779502
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.8107, Accuracy: 5532/8991 (61.5282%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 24, internal_epoch   1,  Average loss: 0.0366, Accuracy: 291/578 (50.3460%), train_poison_data_count: 578
Global model norm: 13.936861716396312.
Norm before scaling: 13.957709060297612. Distance: 0.5148828540822533
Total norm for 6 adversaries is: 13.957709060297612. distance: 0.5148828540822533
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.6664, Accuracy: 3938/8991 (43.7994%)
___Train Local_Simple,  epoch  31, local model 42, internal_epoch   1,  Average loss: 0.0384, Accuracy: 334/665 (50.2256%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.5952, Accuracy: 3862/10000 (38.6200%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 23, internal_epoch   1,  Average loss: 0.0369, Accuracy: 289/588 (49.1497%), train_poison_data_count: 588
Global model norm: 13.936861716396312.
Norm before scaling: 13.955945591696695. Distance: 0.47352850640478333
Total norm for 6 adversaries is: 13.955945591696695. distance: 0.47352850640478333
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.4987, Accuracy: 6415/8991 (71.3491%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 25, internal_epoch   1,  Average loss: 0.0375, Accuracy: 271/582 (46.5636%), train_poison_data_count: 582
Global model norm: 13.936861716396312.
Norm before scaling: 13.956254460786345. Distance: 0.46761456302170507
Total norm for 6 adversaries is: 13.956254460786345. distance: 0.46761456302170507
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.4965, Accuracy: 5978/8991 (66.4887%)
time spent on training: 48.49320077896118
[foolsgold agg] training data poison_ratio: 0.608313211452225  data num: [626, 548, 410, 570, 587, 644, 578, 665, 588, 582]
[foolsgold agg] considering poison per batch poison_fraction: 0.608313211452225
[foolsgold agg] wv: [0.00763543 0.         1.         0.19431562 0.         0.49645151
 0.79000654 0.00763543 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 31: Average loss: 1.9934, Accuracy: 5412/10000 (54.1200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 31: Average loss: 1.9060, Accuracy: 5216/8991 (58.0136%)
Done in 136.33853721618652 sec.
Server Epoch:32 choose agents : [93, 87, 55, 70, 15, 90, 91, 86, 67, 20].
___Train Local_Simple,  epoch  32, local model 93, internal_epoch   1,  Average loss: 0.0385, Accuracy: 232/529 (43.8563%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.9152, Accuracy: 4675/10000 (46.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 87, internal_epoch   1,  Average loss: 0.0367, Accuracy: 278/575 (48.3478%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.7139, Accuracy: 4246/10000 (42.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 55, internal_epoch   1,  Average loss: 0.0381, Accuracy: 315/592 (53.2095%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.6658, Accuracy: 5537/10000 (55.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 70, internal_epoch   1,  Average loss: 0.0382, Accuracy: 230/549 (41.8944%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.8369, Accuracy: 5611/10000 (56.1100%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 15, internal_epoch   1,  Average loss: 0.0380, Accuracy: 246/572 (43.0070%), train_poison_data_count: 572
Global model norm: 13.938749659328476.
Norm before scaling: 13.95739749029698. Distance: 0.4696413783755169
Total norm for 2 adversaries is: 13.95739749029698. distance: 0.4696413783755169
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.6892, Accuracy: 3118/8991 (34.6791%)
___Train Local_Simple,  epoch  32, local model 90, internal_epoch   1,  Average loss: 0.0387, Accuracy: 296/577 (51.2998%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.8157, Accuracy: 4890/10000 (48.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 91, internal_epoch   1,  Average loss: 0.0390, Accuracy: 288/627 (45.9330%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.6477, Accuracy: 5083/10000 (50.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 86, internal_epoch   1,  Average loss: 0.0375, Accuracy: 297/587 (50.5963%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.7552, Accuracy: 5245/10000 (52.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 67, internal_epoch   1,  Average loss: 0.0377, Accuracy: 287/643 (44.6345%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.6888, Accuracy: 3923/10000 (39.2300%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 20, internal_epoch   1,  Average loss: 0.0386, Accuracy: 248/553 (44.8463%), train_poison_data_count: 553
Global model norm: 13.938749659328476.
Norm before scaling: 13.957821661078098. Distance: 0.4693246021719563
Total norm for 2 adversaries is: 13.957821661078098. distance: 0.4693246021719563
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.5275, Accuracy: 4500/8991 (50.0501%)
time spent on training: 41.407243490219116
[foolsgold agg] training data poison_ratio: 0.19383184011026877  data num: [529, 575, 592, 549, 572, 577, 627, 587, 643, 553]
[foolsgold agg] considering poison per batch poison_fraction: 0.19383184011026877
[foolsgold agg] wv: [0.67154234 0.         0.         0.         1.         0.57233887
 0.         0.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 32: Average loss: 1.9760, Accuracy: 5377/10000 (53.7700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 32: Average loss: 1.8815, Accuracy: 5184/8991 (57.6577%)
Done in 129.0154435634613 sec.
Server Epoch:33 choose agents : [77, 57, 21, 67, 14, 97, 28, 22, 70, 93].
___Train Local_Simple,  epoch  33, local model 77, internal_epoch   1,  Average loss: 0.0404, Accuracy: 282/519 (54.3353%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.6507, Accuracy: 6834/10000 (68.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 57, internal_epoch   1,  Average loss: 0.0384, Accuracy: 278/568 (48.9437%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.6105, Accuracy: 5594/10000 (55.9400%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 21, internal_epoch   1,  Average loss: 0.0340, Accuracy: 358/625 (57.2800%), train_poison_data_count: 625
Global model norm: 13.94155728938917.
Norm before scaling: 13.975850666613061. Distance: 0.5878994963220553
Total norm for 4 adversaries is: 13.975850666613061. distance: 0.5878994963220553
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.4528, Accuracy: 4912/8991 (54.6324%)
___Train Local_Simple,  epoch  33, local model 67, internal_epoch   1,  Average loss: 0.0368, Accuracy: 306/643 (47.5894%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.6169, Accuracy: 5449/10000 (54.4900%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 14, internal_epoch   1,  Average loss: 0.0353, Accuracy: 247/535 (46.1682%), train_poison_data_count: 535
Global model norm: 13.94155728938917.
Norm before scaling: 13.96083312163695. Distance: 0.45535199679343924
Total norm for 4 adversaries is: 13.96083312163695. distance: 0.45535199679343924
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.6421, Accuracy: 5233/8991 (58.2026%)
___Train Local_Simple,  epoch  33, local model 97, internal_epoch   1,  Average loss: 0.0365, Accuracy: 264/588 (44.8980%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.8797, Accuracy: 4622/10000 (46.2200%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 28, internal_epoch   1,  Average loss: 0.0355, Accuracy: 311/665 (46.7669%), train_poison_data_count: 665
Global model norm: 13.94155728938917.
Norm before scaling: 13.971048119123884. Distance: 0.6037278774307429
Total norm for 4 adversaries is: 13.971048119123884. distance: 0.6037278774307429
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.4462, Accuracy: 5225/8991 (58.1137%)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 22, internal_epoch   1,  Average loss: 0.0363, Accuracy: 293/531 (55.1789%), train_poison_data_count: 531
Global model norm: 13.94155728938917.
Norm before scaling: 13.96508140094988. Distance: 0.4561492037802875
Total norm for 4 adversaries is: 13.96508140094988. distance: 0.4561492037802875
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.4761, Accuracy: 5549/8991 (61.7173%)
___Train Local_Simple,  epoch  33, local model 70, internal_epoch   1,  Average loss: 0.0373, Accuracy: 250/549 (45.5373%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.8045, Accuracy: 5047/10000 (50.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 93, internal_epoch   1,  Average loss: 0.0387, Accuracy: 244/529 (46.1248%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.9195, Accuracy: 2591/10000 (25.9100%), Attack Success Rate:15/10000(0.150)
time spent on training: 44.96019697189331
[foolsgold agg] training data poison_ratio: 0.4095966620305981  data num: [519, 568, 625, 643, 535, 588, 665, 531, 549, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.40959666203059814
[foolsgold agg] wv: [1.         0.37235922 0.         0.37235922 0.82474318 0.15721804
 0.80672237 0.         1.         0.15721804]
___Test Target_Simple poisoned: False, epoch: 33: Average loss: 1.9469, Accuracy: 5578/10000 (55.7800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 33: Average loss: 1.8441, Accuracy: 5404/8991 (60.1045%)
Done in 132.55490899085999 sec.
Server Epoch:34 choose agents : [37, 49, 41, 50, 71, 60, 42, 83, 26, 48].
___Train Local_Simple,  epoch  34, local model 37, internal_epoch   1,  Average loss: 0.0347, Accuracy: 370/641 (57.7223%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.4581, Accuracy: 5810/10000 (58.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 49, internal_epoch   1,  Average loss: 0.0383, Accuracy: 270/516 (52.3256%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.6421, Accuracy: 5843/10000 (58.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 41, internal_epoch   1,  Average loss: 0.0362, Accuracy: 371/652 (56.9018%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.5491, Accuracy: 5075/10000 (50.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 50, internal_epoch   1,  Average loss: 0.0383, Accuracy: 256/474 (54.0084%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.7640, Accuracy: 4153/10000 (41.5300%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  34, local model 71, internal_epoch   1,  Average loss: 0.0359, Accuracy: 343/638 (53.7618%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.5123, Accuracy: 5074/10000 (50.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 60, internal_epoch   1,  Average loss: 0.0358, Accuracy: 335/644 (52.0186%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.6799, Accuracy: 3516/10000 (35.1600%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  34, local model 42, internal_epoch   1,  Average loss: 0.0363, Accuracy: 340/665 (51.1278%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.3765, Accuracy: 5909/10000 (59.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 83, internal_epoch   1,  Average loss: 0.0395, Accuracy: 264/555 (47.5676%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.5670, Accuracy: 6139/10000 (61.3900%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 26, internal_epoch   1,  Average loss: 0.0349, Accuracy: 267/526 (50.7605%), train_poison_data_count: 526
Global model norm: 13.945822929209003.
Norm before scaling: 13.972065440402805. Distance: 0.46135597306454357
Total norm for 1 adversaries is: 13.972065440402805. distance: 0.46135597306454357
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.4633, Accuracy: 5407/8991 (60.1379%)
___Train Local_Simple,  epoch  34, local model 48, internal_epoch   1,  Average loss: 0.0360, Accuracy: 289/589 (49.0662%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.6732, Accuracy: 4881/10000 (48.8100%), Attack Success Rate:0/10000(0.000)
time spent on training: 40.054407596588135
[foolsgold agg] training data poison_ratio: 0.08915254237288135  data num: [641, 516, 652, 474, 638, 644, 665, 555, 526, 589]
[foolsgold agg] considering poison per batch poison_fraction: 0.08915254237288135
[foolsgold agg] wv: [0.84102981 0.93768222 0.82016572 1.         0.         1.
 0.         0.82016572 1.         0.84102981]
___Test Target_Simple poisoned: False, epoch: 34: Average loss: 1.8929, Accuracy: 5857/10000 (58.5700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 34: Average loss: 1.7797, Accuracy: 5687/8991 (63.2521%)
Done in 128.4219617843628 sec.
Server Epoch:35 choose agents : [50, 36, 53, 79, 33, 25, 15, 1, 65, 98].
___Train Local_Simple,  epoch  35, local model 50, internal_epoch   1,  Average loss: 0.0375, Accuracy: 235/474 (49.5781%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.6760, Accuracy: 4697/10000 (46.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 36, internal_epoch   1,  Average loss: 0.0351, Accuracy: 325/520 (62.5000%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.5925, Accuracy: 5980/10000 (59.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 53, internal_epoch   1,  Average loss: 0.0366, Accuracy: 339/617 (54.9433%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.5334, Accuracy: 4916/10000 (49.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 79, internal_epoch   1,  Average loss: 0.0338, Accuracy: 387/635 (60.9449%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.3490, Accuracy: 6623/10000 (66.2300%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 33, internal_epoch   1,  Average loss: 0.0312, Accuracy: 404/638 (63.3229%), train_poison_data_count: 638
Global model norm: 13.953970854645808.
Norm before scaling: 13.996627946475906. Distance: 0.6057292254888802
Total norm for 4 adversaries is: 13.996627946475906. distance: 0.6057292254888802
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.2107, Accuracy: 5566/8991 (61.9064%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 25, internal_epoch   1,  Average loss: 0.0346, Accuracy: 305/582 (52.4055%), train_poison_data_count: 582
Global model norm: 13.953970854645808.
Norm before scaling: 13.98465814570197. Distance: 0.5069641656683035
Total norm for 4 adversaries is: 13.98465814570197. distance: 0.5069641656683035
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.2642, Accuracy: 6525/8991 (72.5726%)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 15, internal_epoch   1,  Average loss: 0.0351, Accuracy: 273/572 (47.7273%), train_poison_data_count: 572
Global model norm: 13.953970854645808.
Norm before scaling: 13.983418590723744. Distance: 0.5021112986911066
Total norm for 4 adversaries is: 13.983418590723744. distance: 0.5021112986911066
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.4254, Accuracy: 5024/8991 (55.8781%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 1, internal_epoch   1,  Average loss: 0.0342, Accuracy: 308/606 (50.8251%), train_poison_data_count: 606
Global model norm: 13.953970854645808.
Norm before scaling: 13.988808109318532. Distance: 0.5732909251717334
Total norm for 4 adversaries is: 13.988808109318532. distance: 0.5732909251717334
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.2481, Accuracy: 5878/8991 (65.3765%)
___Train Local_Simple,  epoch  35, local model 65, internal_epoch   1,  Average loss: 0.0382, Accuracy: 284/573 (49.5637%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.4725, Accuracy: 6470/10000 (64.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 98, internal_epoch   1,  Average loss: 0.0296, Accuracy: 342/568 (60.2113%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 2.2696, Accuracy: 5773/10000 (57.7300%), Attack Success Rate:0/10000(0.000)
time spent on training: 45.21801471710205
[foolsgold agg] training data poison_ratio: 0.41452031114952465  data num: [474, 520, 617, 635, 638, 582, 572, 606, 573, 568]
[foolsgold agg] considering poison per batch poison_fraction: 0.4145203111495246
[foolsgold agg] wv: [1.         0.82775682 1.         0.82775682 0.09917936 0.09917936
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 35: Average loss: 1.8298, Accuracy: 6049/10000 (60.4900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 35: Average loss: 1.6995, Accuracy: 5908/8991 (65.7102%)
Done in 133.4971218109131 sec.
Server Epoch:36 choose agents : [82, 4, 79, 32, 47, 44, 89, 48, 70, 77].
___Train Local_Simple,  epoch  36, local model 82, internal_epoch   1,  Average loss: 0.0348, Accuracy: 341/621 (54.9114%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.3380, Accuracy: 6049/10000 (60.4900%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 4, internal_epoch   1,  Average loss: 0.0304, Accuracy: 384/587 (65.4174%), train_poison_data_count: 587
Global model norm: 13.963864148333906.
Norm before scaling: 14.009633700628338. Distance: 0.5614596654089399
Total norm for 2 adversaries is: 14.009633700628338. distance: 0.5614596654089399
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.1621, Accuracy: 5999/8991 (66.7223%)
___Train Local_Simple,  epoch  36, local model 79, internal_epoch   1,  Average loss: 0.0324, Accuracy: 400/635 (62.9921%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.3354, Accuracy: 6197/10000 (61.9700%), Attack Success Rate:0/10000(0.000)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 32, internal_epoch   1,  Average loss: 0.0316, Accuracy: 349/609 (57.3071%), train_poison_data_count: 609
Global model norm: 13.963864148333906.
Norm before scaling: 14.009230704142002. Distance: 0.6087689687370197
Total norm for 2 adversaries is: 14.009230704142002. distance: 0.6087689687370197
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.1099, Accuracy: 6872/8991 (76.4320%)
___Train Local_Simple,  epoch  36, local model 47, internal_epoch   1,  Average loss: 0.0342, Accuracy: 364/602 (60.4651%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.4549, Accuracy: 4777/10000 (47.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 44, internal_epoch   1,  Average loss: 0.0350, Accuracy: 314/518 (60.6178%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.4782, Accuracy: 4712/10000 (47.1200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 89, internal_epoch   1,  Average loss: 0.0341, Accuracy: 364/664 (54.8193%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.2278, Accuracy: 7076/10000 (70.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 48, internal_epoch   1,  Average loss: 0.0328, Accuracy: 331/589 (56.1969%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.4665, Accuracy: 5856/10000 (58.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 70, internal_epoch   1,  Average loss: 0.0333, Accuracy: 303/549 (55.1913%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.4899, Accuracy: 6154/10000 (61.5400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 77, internal_epoch   1,  Average loss: 0.0365, Accuracy: 296/519 (57.0328%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.4209, Accuracy: 6100/10000 (61.0000%), Attack Success Rate:0/10000(0.000)
time spent on training: 41.78736162185669
[foolsgold agg] training data poison_ratio: 0.20295265569319532  data num: [621, 587, 635, 609, 602, 518, 664, 589, 549, 519]
[foolsgold agg] considering poison per batch poison_fraction: 0.20295265569319532
[foolsgold agg] wv: [1.         1.         0.         1.         1.         0.94670097
 0.92215206 0.         0.38265328 0.38265328]
___Test Target_Simple poisoned: False, epoch: 36: Average loss: 1.7567, Accuracy: 6257/10000 (62.5700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 36: Average loss: 1.6279, Accuracy: 6131/8991 (68.1904%)
Done in 129.76257514953613 sec.
Server Epoch:37 choose agents : [27, 30, 33, 41, 5, 52, 84, 43, 62, 18].
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 27, internal_epoch   1,  Average loss: 0.0295, Accuracy: 359/650 (55.2308%), train_poison_data_count: 650
Global model norm: 13.972937995132602.
Norm before scaling: 14.014612473877712. Distance: 0.577291971034733
Total norm for 5 adversaries is: 14.014612473877712. distance: 0.577291971034733
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.1343, Accuracy: 6132/8991 (68.2015%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 30, internal_epoch   1,  Average loss: 0.0299, Accuracy: 430/668 (64.3713%), train_poison_data_count: 668
Global model norm: 13.972937995132602.
Norm before scaling: 14.032803387878403. Distance: 0.6964676081018641
Total norm for 5 adversaries is: 14.032803387878403. distance: 0.6964676081018641
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.2038, Accuracy: 5019/8991 (55.8225%)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 33, internal_epoch   1,  Average loss: 0.0278, Accuracy: 409/638 (64.1066%), train_poison_data_count: 638
Global model norm: 13.972937995132602.
Norm before scaling: 14.030293523392126. Distance: 0.6472033740665936
Total norm for 5 adversaries is: 14.030293523392126. distance: 0.6472033740665936
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.0524, Accuracy: 6185/8991 (68.7910%)
___Train Local_Simple,  epoch  37, local model 41, internal_epoch   1,  Average loss: 0.0321, Accuracy: 394/652 (60.4294%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.2280, Accuracy: 5582/10000 (55.8200%), Attack Success Rate:0/10000(0.000)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 5, internal_epoch   1,  Average loss: 0.0306, Accuracy: 322/512 (62.8906%), train_poison_data_count: 512
Global model norm: 13.972937995132602.
Norm before scaling: 14.01574856672815. Distance: 0.508438956382274
Total norm for 5 adversaries is: 14.01574856672815. distance: 0.508438956382274
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.2039, Accuracy: 5526/8991 (61.4615%)
___Train Local_Simple,  epoch  37, local model 52, internal_epoch   1,  Average loss: 0.0339, Accuracy: 350/618 (56.6343%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.2165, Accuracy: 6526/10000 (65.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 84, internal_epoch   1,  Average loss: 0.0319, Accuracy: 353/560 (63.0357%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.3375, Accuracy: 5673/10000 (56.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 43, internal_epoch   1,  Average loss: 0.0340, Accuracy: 328/518 (63.3205%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.3685, Accuracy: 6228/10000 (62.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 62, internal_epoch   1,  Average loss: 0.0337, Accuracy: 347/617 (56.2399%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.3267, Accuracy: 5558/10000 (55.5800%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 18, internal_epoch   1,  Average loss: 0.0329, Accuracy: 290/516 (56.2016%), train_poison_data_count: 516
Global model norm: 13.972937995132602.
Norm before scaling: 14.007051054666963. Distance: 0.4753953994598988
Total norm for 5 adversaries is: 14.007051054666963. distance: 0.4753953994598988
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.2406, Accuracy: 6358/8991 (70.7152%)
time spent on training: 47.49914002418518
[foolsgold agg] training data poison_ratio: 0.5015969070432006  data num: [650, 668, 638, 652, 512, 618, 560, 518, 617, 516]
[foolsgold agg] considering poison per batch poison_fraction: 0.5015969070432006
[foolsgold agg] wv: [0.         0.36628138 0.         0.79230688 1.         0.
 0.         0.         0.05956937 0.        ]
___Test Target_Simple poisoned: False, epoch: 37: Average loss: 1.7364, Accuracy: 6175/10000 (61.7500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 37: Average loss: 1.5988, Accuracy: 6037/8991 (67.1449%)
Done in 135.84538674354553 sec.
Server Epoch:38 choose agents : [39, 29, 87, 78, 53, 83, 19, 45, 52, 17].
___Train Local_Simple,  epoch  38, local model 39, internal_epoch   1,  Average loss: 0.0353, Accuracy: 301/503 (59.8410%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.3934, Accuracy: 5884/10000 (58.8400%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 29, internal_epoch   1,  Average loss: 0.0301, Accuracy: 421/605 (69.5868%), train_poison_data_count: 605
Global model norm: 13.97592054143371.
Norm before scaling: 14.037289685298383. Distance: 0.6625391147870576
Total norm for 3 adversaries is: 14.037289685298383. distance: 0.6625391147870576
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.1410, Accuracy: 5524/8991 (61.4392%)
___Train Local_Simple,  epoch  38, local model 87, internal_epoch   1,  Average loss: 0.0296, Accuracy: 346/575 (60.1739%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.2535, Accuracy: 5906/10000 (59.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 78, internal_epoch   1,  Average loss: 0.0326, Accuracy: 361/624 (57.8526%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.2207, Accuracy: 6004/10000 (60.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 53, internal_epoch   1,  Average loss: 0.0329, Accuracy: 358/617 (58.0227%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.2598, Accuracy: 6314/10000 (63.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 83, internal_epoch   1,  Average loss: 0.0336, Accuracy: 324/555 (58.3784%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.2615, Accuracy: 5819/10000 (58.1900%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 19, internal_epoch   1,  Average loss: 0.0305, Accuracy: 322/552 (58.3333%), train_poison_data_count: 552
Global model norm: 13.97592054143371.
Norm before scaling: 14.016069181924724. Distance: 0.546047947699633
Total norm for 3 adversaries is: 14.016069181924724. distance: 0.546047947699633
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.2576, Accuracy: 5109/8991 (56.8235%)
___Train Local_Simple,  epoch  38, local model 45, internal_epoch   1,  Average loss: 0.0292, Accuracy: 433/750 (57.7333%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0764, Accuracy: 7088/10000 (70.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 52, internal_epoch   1,  Average loss: 0.0332, Accuracy: 355/618 (57.4434%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.1033, Accuracy: 7348/10000 (73.4800%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 17, internal_epoch   1,  Average loss: 0.0269, Accuracy: 435/648 (67.1296%), train_poison_data_count: 648
Global model norm: 13.97592054143371.
Norm before scaling: 14.04309370598092. Distance: 0.6955467643853392
Total norm for 3 adversaries is: 14.04309370598092. distance: 0.6955467643853392
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 0.9927, Accuracy: 6533/8991 (72.6616%)
time spent on training: 44.640949010849
[foolsgold agg] training data poison_ratio: 0.298495121547875  data num: [503, 605, 575, 624, 617, 555, 552, 750, 618, 648]
[foolsgold agg] considering poison per batch poison_fraction: 0.298495121547875
[foolsgold agg] wv: [0.81973112 0.3228844  0.         0.         0.         0.
 1.         0.         0.         0.06232135]
___Test Target_Simple poisoned: False, epoch: 38: Average loss: 1.7122, Accuracy: 6161/10000 (61.6100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 38: Average loss: 1.5747, Accuracy: 6069/8991 (67.5008%)
Done in 132.32395482063293 sec.
Server Epoch:39 choose agents : [3, 34, 32, 5, 73, 14, 40, 88, 72, 13].
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 3, internal_epoch   1,  Average loss: 0.0327, Accuracy: 293/505 (58.0198%), train_poison_data_count: 505
Global model norm: 13.978191282958205.
Norm before scaling: 14.016809453853076. Distance: 0.5006790616280671
Total norm for 5 adversaries is: 14.016809453853076. distance: 0.5006790616280671
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.3952, Accuracy: 5299/8991 (58.9367%)
___Train Local_Simple,  epoch  39, local model 34, internal_epoch   1,  Average loss: 0.0317, Accuracy: 329/528 (62.3106%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.1824, Accuracy: 6988/10000 (69.8800%), Attack Success Rate:0/10000(0.000)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 32, internal_epoch   1,  Average loss: 0.0290, Accuracy: 356/609 (58.4565%), train_poison_data_count: 609
Global model norm: 13.978191282958205.
Norm before scaling: 14.02513862854142. Distance: 0.5972990576778319
Total norm for 5 adversaries is: 14.02513862854142. distance: 0.5972990576778319
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.0260, Accuracy: 6420/8991 (71.4047%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 5, internal_epoch   1,  Average loss: 0.0296, Accuracy: 338/512 (66.0156%), train_poison_data_count: 512
Global model norm: 13.978191282958205.
Norm before scaling: 14.025646152673323. Distance: 0.5274529520631115
Total norm for 5 adversaries is: 14.025646152673323. distance: 0.5274529520631115
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.1483, Accuracy: 6348/8991 (70.6039%)
___Train Local_Simple,  epoch  39, local model 73, internal_epoch   1,  Average loss: 0.0314, Accuracy: 362/626 (57.8275%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.2772, Accuracy: 5684/10000 (56.8400%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 14, internal_epoch   1,  Average loss: 0.0287, Accuracy: 336/535 (62.8037%), train_poison_data_count: 535
Global model norm: 13.978191282958205.
Norm before scaling: 14.01673597272566. Distance: 0.4900284748902557
Total norm for 5 adversaries is: 14.01673597272566. distance: 0.4900284748902557
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.2725, Accuracy: 5049/8991 (56.1562%)
___Train Local_Simple,  epoch  39, local model 40, internal_epoch   1,  Average loss: 0.0329, Accuracy: 305/563 (54.1741%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.3256, Accuracy: 5783/10000 (57.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 88, internal_epoch   1,  Average loss: 0.0310, Accuracy: 438/679 (64.5066%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.1260, Accuracy: 6861/10000 (68.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 72, internal_epoch   1,  Average loss: 0.0316, Accuracy: 332/529 (62.7599%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.2063, Accuracy: 6805/10000 (68.0500%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 13, internal_epoch   1,  Average loss: 0.0273, Accuracy: 363/521 (69.6737%), train_poison_data_count: 521
Global model norm: 13.978191282958205.
Norm before scaling: 14.029944956012836. Distance: 0.54882041409869
Total norm for 5 adversaries is: 14.029944956012836. distance: 0.54882041409869
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.1056, Accuracy: 5599/8991 (62.2734%)
time spent on training: 46.93910098075867
[foolsgold agg] training data poison_ratio: 0.478330658105939  data num: [505, 528, 609, 512, 626, 535, 563, 679, 529, 521]
[foolsgold agg] considering poison per batch poison_fraction: 0.478330658105939
[foolsgold agg] wv: [1.         0.         0.         1.         0.58507949 0.
 0.63220058 1.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 39: Average loss: 1.6683, Accuracy: 6172/10000 (61.7200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 39: Average loss: 1.5158, Accuracy: 6120/8991 (68.0681%)
Done in 135.4748797416687 sec.
Server Epoch:40 choose agents : [12, 23, 87, 98, 51, 83, 52, 90, 71, 11].
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 12, internal_epoch   1,  Average loss: 0.0281, Accuracy: 376/597 (62.9816%), train_poison_data_count: 597
Global model norm: 13.98568593279365.
Norm before scaling: 14.032802300512662. Distance: 0.5587255149101907
Total norm for 3 adversaries is: 14.032802300512662. distance: 0.5587255149101907
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.1640, Accuracy: 5542/8991 (61.6394%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 23, internal_epoch   1,  Average loss: 0.0279, Accuracy: 390/588 (66.3265%), train_poison_data_count: 588
Global model norm: 13.98568593279365.
Norm before scaling: 14.038007642444704. Distance: 0.5745455272686038
Total norm for 3 adversaries is: 14.038007642444704. distance: 0.5745455272686038
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.0165, Accuracy: 6432/8991 (71.5382%)
___Train Local_Simple,  epoch  40, local model 87, internal_epoch   1,  Average loss: 0.0282, Accuracy: 351/575 (61.0435%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.2071, Accuracy: 6401/10000 (64.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 98, internal_epoch   1,  Average loss: 0.0246, Accuracy: 384/568 (67.6056%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 2.1305, Accuracy: 6183/10000 (61.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 51, internal_epoch   1,  Average loss: 0.0283, Accuracy: 387/647 (59.8145%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0795, Accuracy: 6642/10000 (66.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 83, internal_epoch   1,  Average loss: 0.0319, Accuracy: 333/555 (60.0000%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.1622, Accuracy: 6545/10000 (65.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 52, internal_epoch   1,  Average loss: 0.0329, Accuracy: 321/618 (51.9417%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.2735, Accuracy: 5223/10000 (52.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 90, internal_epoch   1,  Average loss: 0.0318, Accuracy: 313/577 (54.2461%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.2394, Accuracy: 6813/10000 (68.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 71, internal_epoch   1,  Average loss: 0.0290, Accuracy: 406/638 (63.6364%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.1700, Accuracy: 5609/10000 (56.0900%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 11, internal_epoch   1,  Average loss: 0.0257, Accuracy: 434/644 (67.3913%), train_poison_data_count: 644
Global model norm: 13.98568593279365.
Norm before scaling: 14.039173904851527. Distance: 0.6306503941817123
Total norm for 3 adversaries is: 14.039173904851527. distance: 0.6306503941817123
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.0265, Accuracy: 6636/8991 (73.8071%)
time spent on training: 44.11213541030884
[foolsgold agg] training data poison_ratio: 0.30447810887298155  data num: [597, 588, 575, 568, 647, 555, 618, 577, 638, 644]
[foolsgold agg] considering poison per batch poison_fraction: 0.30447810887298155
[foolsgold agg] wv: [0.94324459 0.00453518 1.         1.         0.         1.
 0.64967835 0.64967835 0.         0.00453518]
___Test Target_Simple poisoned: False, epoch: 40: Average loss: 1.6105, Accuracy: 6207/10000 (62.0700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 40: Average loss: 1.4614, Accuracy: 6250/8991 (69.5140%)
Done in 132.1711449623108 sec.
Server Epoch:41 choose agents : [51, 28, 20, 95, 83, 18, 55, 42, 29, 46].
___Train Local_Simple,  epoch  41, local model 51, internal_epoch   1,  Average loss: 0.0268, Accuracy: 402/647 (62.1329%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0944, Accuracy: 7076/10000 (70.7600%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 28, internal_epoch   1,  Average loss: 0.0263, Accuracy: 428/665 (64.3609%), train_poison_data_count: 665
Global model norm: 13.993163483200577.
Norm before scaling: 14.059500005522011. Distance: 0.6896132804575915
Total norm for 4 adversaries is: 14.059500005522011. distance: 0.6896132804575915
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.8222, Accuracy: 7094/8991 (78.9011%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 20, internal_epoch   1,  Average loss: 0.0294, Accuracy: 364/553 (65.8228%), train_poison_data_count: 553
Global model norm: 13.993163483200577.
Norm before scaling: 14.046966790057438. Distance: 0.5868051843685905
Total norm for 4 adversaries is: 14.046966790057438. distance: 0.5868051843685905
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.1351, Accuracy: 6113/8991 (67.9902%)
___Train Local_Simple,  epoch  41, local model 95, internal_epoch   1,  Average loss: 0.0275, Accuracy: 373/532 (70.1128%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.4975, Accuracy: 6187/10000 (61.8700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 83, internal_epoch   1,  Average loss: 0.0311, Accuracy: 333/555 (60.0000%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.1315, Accuracy: 6665/10000 (66.6500%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 18, internal_epoch   1,  Average loss: 0.0298, Accuracy: 293/516 (56.7829%), train_poison_data_count: 516
Global model norm: 13.993163483200577.
Norm before scaling: 14.03267725289045. Distance: 0.4756786091652395
Total norm for 4 adversaries is: 14.03267725289045. distance: 0.4756786091652395
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.0427, Accuracy: 6209/8991 (69.0579%)
___Train Local_Simple,  epoch  41, local model 55, internal_epoch   1,  Average loss: 0.0287, Accuracy: 372/592 (62.8378%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.1235, Accuracy: 6341/10000 (63.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 42, internal_epoch   1,  Average loss: 0.0298, Accuracy: 402/665 (60.4511%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.1106, Accuracy: 6567/10000 (65.6700%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 29, internal_epoch   1,  Average loss: 0.0273, Accuracy: 416/605 (68.7603%), train_poison_data_count: 605
Global model norm: 13.993163483200577.
Norm before scaling: 14.060481625985915. Distance: 0.6645704234273423
Total norm for 4 adversaries is: 14.060481625985915. distance: 0.6645704234273423
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.0053, Accuracy: 5712/8991 (63.5302%)
___Train Local_Simple,  epoch  41, local model 46, internal_epoch   1,  Average loss: 0.0298, Accuracy: 291/478 (60.8787%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.1662, Accuracy: 6558/10000 (65.5800%), Attack Success Rate:0/10000(0.000)
time spent on training: 46.18817377090454
[foolsgold agg] training data poison_ratio: 0.4027203856749311  data num: [647, 665, 553, 532, 555, 516, 592, 665, 605, 478]
[foolsgold agg] considering poison per batch poison_fraction: 0.4027203856749311
[foolsgold agg] wv: [0.         0.83134624 0.02249197 0.0772111  1.         0.70531803
 0.         0.55080649 0.02249197 0.95760373]
___Test Target_Simple poisoned: False, epoch: 41: Average loss: 1.5739, Accuracy: 6082/10000 (60.8200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 41: Average loss: 1.4161, Accuracy: 6196/8991 (68.9134%)
Done in 134.3681721687317 sec.
Server Epoch:42 choose agents : [87, 73, 89, 48, 81, 10, 92, 62, 26, 29].
___Train Local_Simple,  epoch  42, local model 87, internal_epoch   1,  Average loss: 0.0263, Accuracy: 374/575 (65.0435%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0809, Accuracy: 6884/10000 (68.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 73, internal_epoch   1,  Average loss: 0.0292, Accuracy: 377/626 (60.2236%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.1838, Accuracy: 5991/10000 (59.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 89, internal_epoch   1,  Average loss: 0.0285, Accuracy: 403/664 (60.6928%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0049, Accuracy: 7143/10000 (71.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 48, internal_epoch   1,  Average loss: 0.0277, Accuracy: 363/589 (61.6299%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.1081, Accuracy: 6729/10000 (67.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 81, internal_epoch   1,  Average loss: 0.0286, Accuracy: 359/586 (61.2628%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0888, Accuracy: 6810/10000 (68.1000%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 10, internal_epoch   1,  Average loss: 0.0259, Accuracy: 371/572 (64.8601%), train_poison_data_count: 572
Global model norm: 13.998968358857901.
Norm before scaling: 14.047611476104889. Distance: 0.5602707132734559
Total norm for 3 adversaries is: 14.047611476104889. distance: 0.5602707132734559
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.2276, Accuracy: 5632/8991 (62.6404%)
___Train Local_Simple,  epoch  42, local model 92, internal_epoch   1,  Average loss: 0.0280, Accuracy: 358/571 (62.6970%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.2149, Accuracy: 5324/10000 (53.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 62, internal_epoch   1,  Average loss: 0.0295, Accuracy: 372/617 (60.2917%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.2580, Accuracy: 5488/10000 (54.8800%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 26, internal_epoch   1,  Average loss: 0.0253, Accuracy: 366/526 (69.5817%), train_poison_data_count: 526
Global model norm: 13.998968358857901.
Norm before scaling: 14.052051782631525. Distance: 0.5249529011353453
Total norm for 3 adversaries is: 14.052051782631525. distance: 0.5249529011353453
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.0311, Accuracy: 6041/8991 (67.1894%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 29, internal_epoch   1,  Average loss: 0.0256, Accuracy: 412/605 (68.0992%), train_poison_data_count: 605
Global model norm: 13.998968358857901.
Norm before scaling: 14.066429572495245. Distance: 0.6638116474941689
Total norm for 3 adversaries is: 14.066429572495245. distance: 0.6638116474941689
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.4367, Accuracy: 4619/8991 (51.3736%)
time spent on training: 44.3126335144043
[foolsgold agg] training data poison_ratio: 0.2871353903220368  data num: [575, 626, 664, 589, 586, 572, 571, 617, 526, 605]
[foolsgold agg] considering poison per batch poison_fraction: 0.2871353903220368
[foolsgold agg] wv: [0.1969166  1.         1.         0.1969166  1.         1.
 0.93568833 0.93568833 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 42: Average loss: 1.4902, Accuracy: 6377/10000 (63.7700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 42: Average loss: 1.3158, Accuracy: 6303/8991 (70.1034%)
Done in 132.19745302200317 sec.
Server Epoch:43 choose agents : [38, 78, 26, 18, 72, 75, 93, 39, 44, 90].
___Train Local_Simple,  epoch  43, local model 38, internal_epoch   1,  Average loss: 0.0261, Accuracy: 482/774 (62.2739%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 0.8327, Accuracy: 7719/10000 (77.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 78, internal_epoch   1,  Average loss: 0.0279, Accuracy: 383/624 (61.3782%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 0.9646, Accuracy: 7032/10000 (70.3200%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 26, internal_epoch   1,  Average loss: 0.0241, Accuracy: 372/526 (70.7224%), train_poison_data_count: 526
Global model norm: 14.012296453625897.
Norm before scaling: 14.062671439927186. Distance: 0.49527209866250493
Total norm for 2 adversaries is: 14.062671439927186. distance: 0.49527209866250493
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.8904, Accuracy: 6709/8991 (74.6191%)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 18, internal_epoch   1,  Average loss: 0.0270, Accuracy: 332/516 (64.3411%), train_poison_data_count: 516
Global model norm: 14.012296453625897.
Norm before scaling: 14.059341008030145. Distance: 0.48942907080944176
Total norm for 2 adversaries is: 14.059341008030145. distance: 0.48942907080944176
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9927, Accuracy: 6134/8991 (68.2238%)
___Train Local_Simple,  epoch  43, local model 72, internal_epoch   1,  Average loss: 0.0272, Accuracy: 326/529 (61.6257%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0454, Accuracy: 6732/10000 (67.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 75, internal_epoch   1,  Average loss: 0.0299, Accuracy: 352/554 (63.5379%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.2781, Accuracy: 5280/10000 (52.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 93, internal_epoch   1,  Average loss: 0.0272, Accuracy: 342/529 (64.6503%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.3715, Accuracy: 6662/10000 (66.6200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 39, internal_epoch   1,  Average loss: 0.0287, Accuracy: 322/503 (64.0159%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.2399, Accuracy: 5350/10000 (53.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 44, internal_epoch   1,  Average loss: 0.0281, Accuracy: 332/518 (64.0927%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.1516, Accuracy: 6039/10000 (60.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 90, internal_epoch   1,  Average loss: 0.0282, Accuracy: 344/577 (59.6187%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.1906, Accuracy: 6341/10000 (63.4100%), Attack Success Rate:0/10000(0.000)
time spent on training: 42.5914421081543
[foolsgold agg] training data poison_ratio: 0.18442477876106195  data num: [774, 624, 526, 516, 529, 554, 529, 503, 518, 577]
[foolsgold agg] considering poison per batch poison_fraction: 0.18442477876106195
[foolsgold agg] wv: [0.         0.         0.02062736 0.90629406 0.         1.
 0.62047314 0.02062736 0.         0.6436588 ]
___Test Target_Simple poisoned: False, epoch: 43: Average loss: 1.4780, Accuracy: 6391/10000 (63.9100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 43: Average loss: 1.2921, Accuracy: 6330/8991 (70.4037%)
Done in 130.19699621200562 sec.
Server Epoch:44 choose agents : [31, 1, 38, 9, 6, 19, 65, 66, 73, 15].
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 31, internal_epoch   1,  Average loss: 0.0251, Accuracy: 353/511 (69.0802%), train_poison_data_count: 511
Global model norm: 14.016331547478039.
Norm before scaling: 14.064333105349936. Distance: 0.49572345099774906
Total norm for 6 adversaries is: 14.064333105349936. distance: 0.49572345099774906
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9529, Accuracy: 6170/8991 (68.6242%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 1, internal_epoch   1,  Average loss: 0.0263, Accuracy: 367/606 (60.5611%), train_poison_data_count: 606
Global model norm: 14.016331547478039.
Norm before scaling: 14.064684617635573. Distance: 0.5982559785364829
Total norm for 6 adversaries is: 14.064684617635573. distance: 0.5982559785364829
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.1693, Accuracy: 4499/8991 (50.0389%)
___Train Local_Simple,  epoch  44, local model 38, internal_epoch   1,  Average loss: 0.0246, Accuracy: 491/774 (63.4367%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.8437, Accuracy: 7288/10000 (72.8800%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 9, internal_epoch   1,  Average loss: 0.0218, Accuracy: 403/548 (73.5401%), train_poison_data_count: 548
Global model norm: 14.016331547478039.
Norm before scaling: 14.070016437404334. Distance: 0.5110188713956216
Total norm for 6 adversaries is: 14.070016437404334. distance: 0.5110188713956216
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9139, Accuracy: 6550/8991 (72.8506%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 6, internal_epoch   1,  Average loss: 0.0239, Accuracy: 470/708 (66.3842%), train_poison_data_count: 708
Global model norm: 14.016331547478039.
Norm before scaling: 14.08837517471325. Distance: 0.7215719800799664
Total norm for 6 adversaries is: 14.08837517471325. distance: 0.7215719800799664
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.0009, Accuracy: 5668/8991 (63.0408%)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 19, internal_epoch   1,  Average loss: 0.0232, Accuracy: 390/552 (70.6522%), train_poison_data_count: 552
Global model norm: 14.016331547478039.
Norm before scaling: 14.069687833163046. Distance: 0.5533394618681204
Total norm for 6 adversaries is: 14.069687833163046. distance: 0.5533394618681204
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.5879, Accuracy: 3871/8991 (43.0542%)
___Train Local_Simple,  epoch  44, local model 65, internal_epoch   1,  Average loss: 0.0273, Accuracy: 367/573 (64.0489%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.9300, Accuracy: 7529/10000 (75.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 66, internal_epoch   1,  Average loss: 0.0271, Accuracy: 388/629 (61.6852%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.9837, Accuracy: 7020/10000 (70.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 73, internal_epoch   1,  Average loss: 0.0254, Accuracy: 391/626 (62.4601%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.9711, Accuracy: 6842/10000 (68.4200%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 15, internal_epoch   1,  Average loss: 0.0245, Accuracy: 404/572 (70.6294%), train_poison_data_count: 572
Global model norm: 14.016331547478039.
Norm before scaling: 14.073962884504637. Distance: 0.5584799110347964
Total norm for 6 adversaries is: 14.073962884504637. distance: 0.5584799110347964
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.7982, Accuracy: 7202/8991 (80.1023%)
time spent on training: 49.74084711074829
[foolsgold agg] training data poison_ratio: 0.573372684046565  data num: [511, 606, 774, 548, 708, 552, 573, 629, 626, 572]
[foolsgold agg] considering poison per batch poison_fraction: 0.573372684046565
[foolsgold agg] wv: [0.66089232 0.15840209 0.7208789  0.20315146 0.15840209 1.
 0.         0.56180352 0.         0.20315146]
___Test Target_Simple poisoned: False, epoch: 44: Average loss: 1.4447, Accuracy: 6490/10000 (64.9000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 44: Average loss: 1.2483, Accuracy: 6425/8991 (71.4603%)
Done in 138.01725912094116 sec.
Server Epoch:45 choose agents : [53, 75, 1, 37, 94, 51, 29, 39, 60, 5].
___Train Local_Simple,  epoch  45, local model 53, internal_epoch   1,  Average loss: 0.0274, Accuracy: 392/617 (63.5332%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.9760, Accuracy: 7252/10000 (72.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 75, internal_epoch   1,  Average loss: 0.0259, Accuracy: 369/554 (66.6065%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.9758, Accuracy: 7100/10000 (71.0000%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 1, internal_epoch   1,  Average loss: 0.0236, Accuracy: 409/606 (67.4917%), train_poison_data_count: 606
Global model norm: 14.02205773156507.
Norm before scaling: 14.078429562812683. Distance: 0.5972340158165484
Total norm for 3 adversaries is: 14.078429562812683. distance: 0.5972340158165484
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.8649, Accuracy: 6694/8991 (74.4522%)
___Train Local_Simple,  epoch  45, local model 37, internal_epoch   1,  Average loss: 0.0232, Accuracy: 440/641 (68.6427%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.8582, Accuracy: 7501/10000 (75.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 94, internal_epoch   1,  Average loss: 0.0226, Accuracy: 406/555 (73.1532%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.4298, Accuracy: 6190/10000 (61.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 51, internal_epoch   1,  Average loss: 0.0234, Accuracy: 436/647 (67.3879%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.8481, Accuracy: 7742/10000 (77.4200%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 29, internal_epoch   1,  Average loss: 0.0224, Accuracy: 447/605 (73.8843%), train_poison_data_count: 605
Global model norm: 14.02205773156507.
Norm before scaling: 14.090400923797711. Distance: 0.6227368866172662
Total norm for 3 adversaries is: 14.090400923797711. distance: 0.6227368866172662
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.7900, Accuracy: 6878/8991 (76.4987%)
___Train Local_Simple,  epoch  45, local model 39, internal_epoch   1,  Average loss: 0.0279, Accuracy: 310/503 (61.6302%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.2469, Accuracy: 5133/10000 (51.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 60, internal_epoch   1,  Average loss: 0.0259, Accuracy: 422/644 (65.5280%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.1121, Accuracy: 6308/10000 (63.0800%), Attack Success Rate:0/10000(0.000)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 5, internal_epoch   1,  Average loss: 0.0230, Accuracy: 368/512 (71.8750%), train_poison_data_count: 512
Global model norm: 14.02205773156507.
Norm before scaling: 14.074531528407638. Distance: 0.4997726310893663
Total norm for 3 adversaries is: 14.074531528407638. distance: 0.4997726310893663
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9041, Accuracy: 6486/8991 (72.1388%)
time spent on training: 44.19782614707947
[foolsgold agg] training data poison_ratio: 0.2928280081577158  data num: [617, 554, 606, 641, 555, 647, 605, 503, 644, 512]
[foolsgold agg] considering poison per batch poison_fraction: 0.2928280081577158
[foolsgold agg] wv: [0.28438428 0.28438428 1.         0.08982297 0.39765728 0.65466881
 0.04127866 1.         0.08982297 0.04127866]
___Test Target_Simple poisoned: False, epoch: 45: Average loss: 1.4145, Accuracy: 6411/10000 (64.1100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 45: Average loss: 1.2142, Accuracy: 6348/8991 (70.6039%)
Done in 131.74200320243835 sec.
Server Epoch:46 choose agents : [75, 78, 14, 39, 7, 10, 40, 2, 68, 54].
___Train Local_Simple,  epoch  46, local model 75, internal_epoch   1,  Average loss: 0.0257, Accuracy: 366/554 (66.0650%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.0306, Accuracy: 6474/10000 (64.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 78, internal_epoch   1,  Average loss: 0.0257, Accuracy: 408/624 (65.3846%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.9280, Accuracy: 7056/10000 (70.5600%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 14, internal_epoch   1,  Average loss: 0.0224, Accuracy: 376/535 (70.2804%), train_poison_data_count: 535
Global model norm: 14.027876756442698.
Norm before scaling: 14.070162842763228. Distance: 0.44920395536524116
Total norm for 4 adversaries is: 14.070162842763228. distance: 0.44920395536524116
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.8000, Accuracy: 7075/8991 (78.6898%)
___Train Local_Simple,  epoch  46, local model 39, internal_epoch   1,  Average loss: 0.0280, Accuracy: 319/503 (63.4195%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.1090, Accuracy: 6416/10000 (64.1600%), Attack Success Rate:0/10000(0.000)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 7, internal_epoch   1,  Average loss: 0.0216, Accuracy: 409/550 (74.3636%), train_poison_data_count: 550
Global model norm: 14.027876756442698.
Norm before scaling: 14.07875308584352. Distance: 0.4878532975686996
Total norm for 4 adversaries is: 14.07875308584352. distance: 0.4878532975686996
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.8237, Accuracy: 6964/8991 (77.4552%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 10, internal_epoch   1,  Average loss: 0.0225, Accuracy: 395/572 (69.0559%), train_poison_data_count: 572
Global model norm: 14.027876756442698.
Norm before scaling: 14.07751802243119. Distance: 0.5372520673382774
Total norm for 4 adversaries is: 14.07751802243119. distance: 0.5372520673382774
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 1.0154, Accuracy: 5673/8991 (63.0964%)
___Train Local_Simple,  epoch  46, local model 40, internal_epoch   1,  Average loss: 0.0257, Accuracy: 358/563 (63.5879%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.9520, Accuracy: 7484/10000 (74.8400%), Attack Success Rate:0/10000(0.000)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 2, internal_epoch   1,  Average loss: 0.0221, Accuracy: 429/580 (73.9655%), train_poison_data_count: 580
Global model norm: 14.027876756442698.
Norm before scaling: 14.087316427583337. Distance: 0.5590004140924002
Total norm for 4 adversaries is: 14.087316427583337. distance: 0.5590004140924002
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.8176, Accuracy: 6749/8991 (75.0640%)
___Train Local_Simple,  epoch  46, local model 68, internal_epoch   1,  Average loss: 0.0251, Accuracy: 424/632 (67.0886%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.0176, Accuracy: 6925/10000 (69.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 54, internal_epoch   1,  Average loss: 0.0249, Accuracy: 378/523 (72.2753%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.0040, Accuracy: 6698/10000 (66.9800%), Attack Success Rate:0/10000(0.000)
time spent on training: 45.886714458465576
[foolsgold agg] training data poison_ratio: 0.3969127040454223  data num: [554, 624, 535, 503, 550, 572, 563, 580, 632, 523]
[foolsgold agg] considering poison per batch poison_fraction: 0.3969127040454223
[foolsgold agg] wv: [1.         0.53215117 1.         1.         0.70517805 1.
 1.         0.70517805 0.53215117 1.        ]
___Test Target_Simple poisoned: False, epoch: 46: Average loss: 1.3253, Accuracy: 6685/10000 (66.8500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 46: Average loss: 1.1172, Accuracy: 6635/8991 (73.7960%)
Done in 134.7875156402588 sec.
Server Epoch:47 choose agents : [94, 48, 82, 25, 26, 16, 7, 90, 68, 43].
___Train Local_Simple,  epoch  47, local model 94, internal_epoch   1,  Average loss: 0.0207, Accuracy: 408/555 (73.5135%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.2765, Accuracy: 6524/10000 (65.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 48, internal_epoch   1,  Average loss: 0.0227, Accuracy: 391/589 (66.3837%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9883, Accuracy: 6710/10000 (67.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 82, internal_epoch   1,  Average loss: 0.0246, Accuracy: 394/621 (63.4461%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9201, Accuracy: 6888/10000 (68.8800%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 25, internal_epoch   1,  Average loss: 0.0211, Accuracy: 416/582 (71.4777%), train_poison_data_count: 582
Global model norm: 14.04103396355215.
Norm before scaling: 14.095503805790784. Distance: 0.5185935083143333
Total norm for 4 adversaries is: 14.095503805790784. distance: 0.5185935083143333
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.7609, Accuracy: 6877/8991 (76.4876%)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 26, internal_epoch   1,  Average loss: 0.0195, Accuracy: 407/526 (77.3764%), train_poison_data_count: 526
Global model norm: 14.04103396355215.
Norm before scaling: 14.092945016679943. Distance: 0.470659831735087
Total norm for 4 adversaries is: 14.092945016679943. distance: 0.470659831735087
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.7801, Accuracy: 6767/8991 (75.2642%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 16, internal_epoch   1,  Average loss: 0.0208, Accuracy: 425/581 (73.1497%), train_poison_data_count: 581
Global model norm: 14.04103396355215.
Norm before scaling: 14.095987146620676. Distance: 0.5353812976638656
Total norm for 4 adversaries is: 14.095987146620676. distance: 0.5353812976638656
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9136, Accuracy: 5811/8991 (64.6313%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 7, internal_epoch   1,  Average loss: 0.0205, Accuracy: 405/550 (73.6364%), train_poison_data_count: 550
Global model norm: 14.04103396355215.
Norm before scaling: 14.089787977260006. Distance: 0.4603656842700189
Total norm for 4 adversaries is: 14.089787977260006. distance: 0.4603656842700189
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.7992, Accuracy: 6833/8991 (75.9982%)
___Train Local_Simple,  epoch  47, local model 90, internal_epoch   1,  Average loss: 0.0251, Accuracy: 346/577 (59.9653%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9439, Accuracy: 7043/10000 (70.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 68, internal_epoch   1,  Average loss: 0.0224, Accuracy: 438/632 (69.3038%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.8343, Accuracy: 7515/10000 (75.1500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 43, internal_epoch   1,  Average loss: 0.0251, Accuracy: 362/518 (69.8842%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9973, Accuracy: 6648/10000 (66.4800%), Attack Success Rate:0/10000(0.000)
time spent on training: 46.06115484237671
[foolsgold agg] training data poison_ratio: 0.39068225440586285  data num: [555, 589, 621, 582, 526, 581, 550, 577, 632, 518]
[foolsgold agg] considering poison per batch poison_fraction: 0.3906822544058628
[foolsgold agg] wv: [0.        0.        1.        1.        1.        0.4412495 0.4412495
 0.        0.        0.       ]
___Test Target_Simple poisoned: False, epoch: 47: Average loss: 1.2957, Accuracy: 6774/10000 (67.7400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 47: Average loss: 1.0783, Accuracy: 6732/8991 (74.8749%)
Done in 133.78424668312073 sec.
Server Epoch:48 choose agents : [74, 27, 75, 19, 58, 83, 91, 96, 17, 57].
___Train Local_Simple,  epoch  48, local model 74, internal_epoch   1,  Average loss: 0.0254, Accuracy: 395/626 (63.0990%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9952, Accuracy: 6950/10000 (69.5000%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 27, internal_epoch   1,  Average loss: 0.0208, Accuracy: 443/650 (68.1538%), train_poison_data_count: 650
Global model norm: 14.04671748903625.
Norm before scaling: 14.09774825060033. Distance: 0.5404585576592098
Total norm for 3 adversaries is: 14.09774825060033. distance: 0.5404585576592098
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 0.9950, Accuracy: 5859/8991 (65.1652%)
___Train Local_Simple,  epoch  48, local model 75, internal_epoch   1,  Average loss: 0.0238, Accuracy: 371/554 (66.9675%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9170, Accuracy: 7116/10000 (71.1600%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 19, internal_epoch   1,  Average loss: 0.0233, Accuracy: 415/552 (75.1812%), train_poison_data_count: 552
Global model norm: 14.04671748903625.
Norm before scaling: 14.095639662502627. Distance: 0.5448731978356667
Total norm for 3 adversaries is: 14.095639662502627. distance: 0.5448731978356667
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 2.4889, Accuracy: 2940/8991 (32.6994%)
___Train Local_Simple,  epoch  48, local model 58, internal_epoch   1,  Average loss: 0.0235, Accuracy: 350/510 (68.6275%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9271, Accuracy: 7134/10000 (71.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 83, internal_epoch   1,  Average loss: 0.0252, Accuracy: 367/555 (66.1261%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9777, Accuracy: 6552/10000 (65.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 91, internal_epoch   1,  Average loss: 0.0232, Accuracy: 437/627 (69.6970%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.0860, Accuracy: 6588/10000 (65.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 96, internal_epoch   1,  Average loss: 0.0192, Accuracy: 454/608 (74.6711%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.2010, Accuracy: 6965/10000 (69.6500%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 17, internal_epoch   1,  Average loss: 0.0178, Accuracy: 498/648 (76.8519%), train_poison_data_count: 648
Global model norm: 14.04671748903625.
Norm before scaling: 14.112724438919198. Distance: 0.5827883973647567
Total norm for 3 adversaries is: 14.112724438919198. distance: 0.5827883973647567
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 0.7019, Accuracy: 7154/8991 (79.5685%)
___Train Local_Simple,  epoch  48, local model 57, internal_epoch   1,  Average loss: 0.0237, Accuracy: 375/568 (66.0211%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9639, Accuracy: 7078/10000 (70.7800%), Attack Success Rate:0/10000(0.000)
time spent on training: 44.452390909194946
[foolsgold agg] training data poison_ratio: 0.3136656493726687  data num: [626, 650, 554, 552, 510, 555, 627, 608, 648, 568]
[foolsgold agg] considering poison per batch poison_fraction: 0.3136656493726687
[foolsgold agg] wv: [0.         0.84587143 0.54340473 1.         0.         0.50916029
 0.         0.         0.60379006 0.        ]
___Test Target_Simple poisoned: False, epoch: 48: Average loss: 1.2718, Accuracy: 6673/10000 (66.7300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 48: Average loss: 1.0584, Accuracy: 6623/8991 (73.6626%)
Done in 131.88117051124573 sec.
Server Epoch:49 choose agents : [77, 10, 78, 72, 91, 13, 98, 21, 82, 74].
___Train Local_Simple,  epoch  49, local model 77, internal_epoch   1,  Average loss: 0.0252, Accuracy: 328/519 (63.1985%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9652, Accuracy: 7007/10000 (70.0700%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 10, internal_epoch   1,  Average loss: 0.0210, Accuracy: 381/572 (66.6084%), train_poison_data_count: 572
Global model norm: 14.051320425956083.
Norm before scaling: 14.089232403738768. Distance: 0.4872764013486227
Total norm for 3 adversaries is: 14.089232403738768. distance: 0.4872764013486227
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.9490, Accuracy: 5963/8991 (66.3219%)
___Train Local_Simple,  epoch  49, local model 78, internal_epoch   1,  Average loss: 0.0242, Accuracy: 396/624 (63.4615%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9240, Accuracy: 6958/10000 (69.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 72, internal_epoch   1,  Average loss: 0.0218, Accuracy: 389/529 (73.5350%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.8044, Accuracy: 7860/10000 (78.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 91, internal_epoch   1,  Average loss: 0.0231, Accuracy: 429/627 (68.4211%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.8235, Accuracy: 7451/10000 (74.5100%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 13, internal_epoch   1,  Average loss: 0.0184, Accuracy: 403/521 (77.3512%), train_poison_data_count: 521
Global model norm: 14.051320425956083.
Norm before scaling: 14.09584912825348. Distance: 0.4363327634013315
Total norm for 3 adversaries is: 14.09584912825348. distance: 0.4363327634013315
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.8261, Accuracy: 6566/8991 (73.0286%)
___Train Local_Simple,  epoch  49, local model 98, internal_epoch   1,  Average loss: 0.0163, Accuracy: 447/568 (78.6972%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 2.0394, Accuracy: 6214/10000 (62.1400%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 21, internal_epoch   1,  Average loss: 0.0180, Accuracy: 479/625 (76.6400%), train_poison_data_count: 625
Global model norm: 14.051320425956083.
Norm before scaling: 14.110612141221939. Distance: 0.5492136405609482
Total norm for 3 adversaries is: 14.110612141221939. distance: 0.5492136405609482
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.7223, Accuracy: 6872/8991 (76.4320%)
___Train Local_Simple,  epoch  49, local model 82, internal_epoch   1,  Average loss: 0.0217, Accuracy: 447/621 (71.9807%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9823, Accuracy: 6542/10000 (65.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 74, internal_epoch   1,  Average loss: 0.0249, Accuracy: 395/626 (63.0990%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9311, Accuracy: 6697/10000 (66.9700%), Attack Success Rate:0/10000(0.000)
time spent on training: 45.01281785964966
[foolsgold agg] training data poison_ratio: 0.2945816186556927  data num: [519, 572, 624, 529, 627, 521, 568, 625, 621, 626]
[foolsgold agg] considering poison per batch poison_fraction: 0.2945816186556927
[foolsgold agg] wv: [0.89859401 1.         0.06161149 0.         0.         0.89859401
 1.         1.         1.         0.02888998]
___Test Target_Simple poisoned: False, epoch: 49: Average loss: 1.2388, Accuracy: 6589/10000 (65.8900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 49: Average loss: 1.0228, Accuracy: 6516/8991 (72.4725%)
Done in 132.9413390159607 sec.
Server Epoch:50 choose agents : [75, 86, 51, 0, 31, 32, 67, 17, 29, 7].
___Train Local_Simple,  epoch  50, local model 75, internal_epoch   1,  Average loss: 0.0208, Accuracy: 381/554 (68.7726%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9928, Accuracy: 6404/10000 (64.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 86, internal_epoch   1,  Average loss: 0.0209, Accuracy: 426/587 (72.5724%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.8144, Accuracy: 7528/10000 (75.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 51, internal_epoch   1,  Average loss: 0.0204, Accuracy: 445/647 (68.7790%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.8481, Accuracy: 7186/10000 (71.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 0, internal_epoch   1,  Average loss: 0.0228, Accuracy: 388/609 (63.7110%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9642, Accuracy: 6364/10000 (63.6400%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 31, internal_epoch   1,  Average loss: 0.0203, Accuracy: 389/511 (76.1252%), train_poison_data_count: 511
Global model norm: 14.060040475019255.
Norm before scaling: 14.101750236804328. Distance: 0.42319339036088643
Total norm for 5 adversaries is: 14.101750236804328. distance: 0.42319339036088643
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.8762, Accuracy: 6581/8991 (73.1954%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 32, internal_epoch   1,  Average loss: 0.0194, Accuracy: 464/609 (76.1905%), train_poison_data_count: 609
Global model norm: 14.060040475019255.
Norm before scaling: 14.10807880518259. Distance: 0.5147646170250372
Total norm for 5 adversaries is: 14.10807880518259. distance: 0.5147646170250372
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.7283, Accuracy: 6976/8991 (77.5887%)
___Train Local_Simple,  epoch  50, local model 67, internal_epoch   1,  Average loss: 0.0227, Accuracy: 404/643 (62.8305%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.8893, Accuracy: 7129/10000 (71.2900%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 17, internal_epoch   1,  Average loss: 0.0163, Accuracy: 515/648 (79.4753%), train_poison_data_count: 648
Global model norm: 14.060040475019255.
Norm before scaling: 14.12196195895997. Distance: 0.5474809559249058
Total norm for 5 adversaries is: 14.12196195895997. distance: 0.5474809559249058
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.6820, Accuracy: 6873/8991 (76.4431%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 29, internal_epoch   1,  Average loss: 0.0192, Accuracy: 461/605 (76.1983%), train_poison_data_count: 605
Global model norm: 14.060040475019255.
Norm before scaling: 14.116607062984473. Distance: 0.5339792492724454
Total norm for 5 adversaries is: 14.116607062984473. distance: 0.5339792492724454
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.6510, Accuracy: 7195/8991 (80.0245%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 7, internal_epoch   1,  Average loss: 0.0196, Accuracy: 391/550 (71.0909%), train_poison_data_count: 550
Global model norm: 14.060040475019255.
Norm before scaling: 14.101284947926455. Distance: 0.43370376084856205
Total norm for 5 adversaries is: 14.101284947926455. distance: 0.43370376084856205
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.9131, Accuracy: 6347/8991 (70.5928%)
time spent on training: 48.299888610839844
[foolsgold agg] training data poison_ratio: 0.4901895019285594  data num: [554, 587, 647, 609, 511, 609, 643, 648, 605, 550]
[foolsgold agg] considering poison per batch poison_fraction: 0.49018950192855937
[foolsgold agg] wv: [0.33448655 0.33448655 0.32408386 0.26298077 1.         0.18091669
 0.26298077 0.18091669 0.32643882 1.        ]
___Test Target_Simple poisoned: False, epoch: 50: Average loss: 1.2089, Accuracy: 6654/10000 (66.5400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 50: Average loss: 0.9920, Accuracy: 6580/8991 (73.1843%)
Done in 136.10768175125122 sec.
Server Epoch:51 choose agents : [36, 9, 6, 79, 4, 52, 48, 5, 87, 73].
___Train Local_Simple,  epoch  51, local model 36, internal_epoch   1,  Average loss: 0.0203, Accuracy: 390/520 (75.0000%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.8497, Accuracy: 7367/10000 (73.6700%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 9, internal_epoch   1,  Average loss: 0.0177, Accuracy: 413/548 (75.3650%), train_poison_data_count: 548
Global model norm: 14.065576920324402.
Norm before scaling: 14.106865238265584. Distance: 0.4182218694307603
Total norm for 4 adversaries is: 14.106865238265584. distance: 0.4182218694307603
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 0.7973, Accuracy: 6708/8991 (74.6079%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 6, internal_epoch   1,  Average loss: 0.0195, Accuracy: 509/708 (71.8927%), train_poison_data_count: 708
Global model norm: 14.065576920324402.
Norm before scaling: 14.118013797933221. Distance: 0.6040037088848708
Total norm for 4 adversaries is: 14.118013797933221. distance: 0.6040037088848708
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 1.1968, Accuracy: 5649/8991 (62.8295%)
___Train Local_Simple,  epoch  51, local model 79, internal_epoch   1,  Average loss: 0.0200, Accuracy: 457/635 (71.9685%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.8567, Accuracy: 7129/10000 (71.2900%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 4, internal_epoch   1,  Average loss: 0.0177, Accuracy: 454/587 (77.3424%), train_poison_data_count: 587
Global model norm: 14.065576920324402.
Norm before scaling: 14.113205568230516. Distance: 0.4619312081572352
Total norm for 4 adversaries is: 14.113205568230516. distance: 0.4619312081572352
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 0.8597, Accuracy: 6433/8991 (71.5493%)
___Train Local_Simple,  epoch  51, local model 52, internal_epoch   1,  Average loss: 0.0227, Accuracy: 415/618 (67.1521%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.7953, Accuracy: 7575/10000 (75.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  51, local model 48, internal_epoch   1,  Average loss: 0.0211, Accuracy: 389/589 (66.0441%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.8778, Accuracy: 7367/10000 (73.6700%), Attack Success Rate:0/10000(0.000)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 5, internal_epoch   1,  Average loss: 0.0183, Accuracy: 389/512 (75.9766%), train_poison_data_count: 512
Global model norm: 14.065576920324402.
Norm before scaling: 14.110882481068689. Distance: 0.43888900152572496
Total norm for 4 adversaries is: 14.110882481068689. distance: 0.43888900152572496
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 1.0127, Accuracy: 5953/8991 (66.2107%)
___Train Local_Simple,  epoch  51, local model 87, internal_epoch   1,  Average loss: 0.0194, Accuracy: 416/575 (72.3478%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.8488, Accuracy: 7288/10000 (72.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  51, local model 73, internal_epoch   1,  Average loss: 0.0222, Accuracy: 427/626 (68.2109%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 1.0358, Accuracy: 6310/10000 (63.1000%), Attack Success Rate:0/10000(0.000)
time spent on training: 46.95382833480835
[foolsgold agg] training data poison_ratio: 0.39793849273403176  data num: [520, 548, 708, 635, 587, 618, 589, 512, 575, 626]
[foolsgold agg] considering poison per batch poison_fraction: 0.39793849273403176
[foolsgold agg] wv: [0.93516161 1.         1.         0.8526231  1.         1.
 0.         1.         0.91387664 0.        ]
___Test Target_Simple poisoned: False, epoch: 51: Average loss: 1.1429, Accuracy: 6974/10000 (69.7400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 51: Average loss: 0.9214, Accuracy: 6889/8991 (76.6211%)
Done in 134.63342952728271 sec.
Server Epoch:52 choose agents : [10, 31, 95, 82, 33, 30, 68, 11, 28, 70].
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 10, internal_epoch   1,  Average loss: 0.0167, Accuracy: 449/572 (78.4965%), train_poison_data_count: 572
Global model norm: 14.076685011503452.
Norm before scaling: 14.119449571466017. Distance: 0.4553199420286723
Total norm for 6 adversaries is: 14.119449571466017. distance: 0.4553199420286723
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.7371, Accuracy: 6987/8991 (77.7110%)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 31, internal_epoch   1,  Average loss: 0.0181, Accuracy: 395/511 (77.2994%), train_poison_data_count: 511
Global model norm: 14.076685011503452.
Norm before scaling: 14.116570311979. Distance: 0.40663772200868314
Total norm for 6 adversaries is: 14.116570311979. distance: 0.40663772200868314
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.7879, Accuracy: 6566/8991 (73.0286%)
___Train Local_Simple,  epoch  52, local model 95, internal_epoch   1,  Average loss: 0.0185, Accuracy: 406/532 (76.3158%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 1.1864, Accuracy: 6914/10000 (69.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  52, local model 82, internal_epoch   1,  Average loss: 0.0201, Accuracy: 436/621 (70.2093%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.8105, Accuracy: 7612/10000 (76.1200%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 33, internal_epoch   1,  Average loss: 0.0151, Accuracy: 513/638 (80.4075%), train_poison_data_count: 638
Global model norm: 14.076685011503452.
Norm before scaling: 14.131880173262344. Distance: 0.5094059226824416
Total norm for 6 adversaries is: 14.131880173262344. distance: 0.5094059226824416
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.5592, Accuracy: 7691/8991 (85.5411%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 30, internal_epoch   1,  Average loss: 0.0173, Accuracy: 518/668 (77.5449%), train_poison_data_count: 668
Global model norm: 14.076685011503452.
Norm before scaling: 14.134085914679968. Distance: 0.5558027419556268
Total norm for 6 adversaries is: 14.134085914679968. distance: 0.5558027419556268
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.6680, Accuracy: 7150/8991 (79.5240%)
___Train Local_Simple,  epoch  52, local model 68, internal_epoch   1,  Average loss: 0.0203, Accuracy: 451/632 (71.3608%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.8478, Accuracy: 6981/10000 (69.8100%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 11, internal_epoch   1,  Average loss: 0.0172, Accuracy: 495/644 (76.8634%), train_poison_data_count: 644
Global model norm: 14.076685011503452.
Norm before scaling: 14.112044883397148. Distance: 0.47291275819628165
Total norm for 6 adversaries is: 14.112044883397148. distance: 0.47291275819628165
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.7576, Accuracy: 6930/8991 (77.0771%)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 28, internal_epoch   1,  Average loss: 0.0174, Accuracy: 523/665 (78.6466%), train_poison_data_count: 665
Global model norm: 14.076685011503452.
Norm before scaling: 14.128227472809089. Distance: 0.5371635270997012
Total norm for 6 adversaries is: 14.128227472809089. distance: 0.5371635270997012
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.7734, Accuracy: 6513/8991 (72.4391%)
___Train Local_Simple,  epoch  52, local model 70, internal_epoch   1,  Average loss: 0.0211, Accuracy: 373/549 (67.9417%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.9194, Accuracy: 6820/10000 (68.2000%), Attack Success Rate:0/10000(0.000)
time spent on training: 50.19675278663635
[foolsgold agg] training data poison_ratio: 0.6130636604774535  data num: [572, 511, 532, 621, 638, 668, 632, 644, 665, 549]
[foolsgold agg] considering poison per batch poison_fraction: 0.6130636604774535
[foolsgold agg] wv: [0.84957311 1.         0.81169104 1.         0.47030265 1.
 1.         1.         0.47030265 0.81169104]
___Test Target_Simple poisoned: False, epoch: 52: Average loss: 1.0819, Accuracy: 7113/10000 (71.1300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 52: Average loss: 0.8525, Accuracy: 7070/8991 (78.6342%)
Done in 139.1466281414032 sec.
Server Epoch:53 choose agents : [63, 99, 35, 31, 85, 62, 21, 81, 52, 26].
___Train Local_Simple,  epoch  53, local model 63, internal_epoch   1,  Average loss: 0.0214, Accuracy: 413/616 (67.0455%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.7063, Accuracy: 7929/10000 (79.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 99, internal_epoch   1,  Average loss: 0.0110, Accuracy: 369/410 (90.0000%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 2.4755, Accuracy: 5527/10000 (55.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 35, internal_epoch   1,  Average loss: 0.0206, Accuracy: 350/493 (70.9939%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.9251, Accuracy: 6763/10000 (67.6300%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 31, internal_epoch   1,  Average loss: 0.0175, Accuracy: 400/511 (78.2779%), train_poison_data_count: 511
Global model norm: 14.088667602352265.
Norm before scaling: 14.124158445962033. Distance: 0.38445556075516957
Total norm for 3 adversaries is: 14.124158445962033. distance: 0.38445556075516957
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 0.6402, Accuracy: 7432/8991 (82.6604%)
___Train Local_Simple,  epoch  53, local model 85, internal_epoch   1,  Average loss: 0.0205, Accuracy: 400/570 (70.1754%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.7636, Accuracy: 7921/10000 (79.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 62, internal_epoch   1,  Average loss: 0.0211, Accuracy: 414/617 (67.0989%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.9554, Accuracy: 6297/10000 (62.9700%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 21, internal_epoch   1,  Average loss: 0.0150, Accuracy: 512/625 (81.9200%), train_poison_data_count: 625
Global model norm: 14.088667602352265.
Norm before scaling: 14.130445122858557. Distance: 0.4496467541651616
Total norm for 3 adversaries is: 14.130445122858557. distance: 0.4496467541651616
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 0.6472, Accuracy: 7257/8991 (80.7140%)
___Train Local_Simple,  epoch  53, local model 81, internal_epoch   1,  Average loss: 0.0184, Accuracy: 430/586 (73.3788%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.8595, Accuracy: 7021/10000 (70.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 52, internal_epoch   1,  Average loss: 0.0202, Accuracy: 455/618 (73.6246%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.6683, Accuracy: 8122/10000 (81.2200%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 26, internal_epoch   1,  Average loss: 0.0160, Accuracy: 407/526 (77.3764%), train_poison_data_count: 526
Global model norm: 14.088667602352265.
Norm before scaling: 14.125515818672064. Distance: 0.37985013610417623
Total norm for 3 adversaries is: 14.125515818672064. distance: 0.37985013610417623
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 0.6824, Accuracy: 7190/8991 (79.9689%)
time spent on training: 45.34641122817993
[foolsgold agg] training data poison_ratio: 0.29827709978463746  data num: [616, 410, 493, 511, 570, 617, 625, 586, 618, 526]
[foolsgold agg] considering poison per batch poison_fraction: 0.29827709978463746
[foolsgold agg] wv: [0.         1.         0.19646814 0.91926625 0.         0.39320509
 0.01006738 0.01006738 0.         0.39320509]
___Test Target_Simple poisoned: False, epoch: 53: Average loss: 1.0689, Accuracy: 7160/10000 (71.6000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 53: Average loss: 0.8353, Accuracy: 7120/8991 (79.1903%)
Done in 133.09773445129395 sec.
Server Epoch:54 choose agents : [27, 54, 48, 85, 16, 43, 52, 29, 93, 78].
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 27, internal_epoch   1,  Average loss: 0.0173, Accuracy: 489/650 (75.2308%), train_poison_data_count: 650
Global model norm: 14.091690623516621.
Norm before scaling: 14.126749386103423. Distance: 0.444019632626049
Total norm for 3 adversaries is: 14.126749386103423. distance: 0.444019632626049
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 0.6864, Accuracy: 7084/8991 (78.7899%)
___Train Local_Simple,  epoch  54, local model 54, internal_epoch   1,  Average loss: 0.0184, Accuracy: 402/523 (76.8642%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.7425, Accuracy: 7649/10000 (76.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 48, internal_epoch   1,  Average loss: 0.0196, Accuracy: 399/589 (67.7419%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.9919, Accuracy: 6779/10000 (67.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 85, internal_epoch   1,  Average loss: 0.0201, Accuracy: 397/570 (69.6491%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 1.0067, Accuracy: 7015/10000 (70.1500%), Attack Success Rate:0/10000(0.000)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 16, internal_epoch   1,  Average loss: 0.0166, Accuracy: 438/581 (75.3873%), train_poison_data_count: 581
Global model norm: 14.091690623516621.
Norm before scaling: 14.131650726157003. Distance: 0.44259919522962565
Total norm for 3 adversaries is: 14.131650726157003. distance: 0.44259919522962565
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 0.7680, Accuracy: 6825/8991 (75.9092%)
___Train Local_Simple,  epoch  54, local model 43, internal_epoch   1,  Average loss: 0.0197, Accuracy: 381/518 (73.5521%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.9017, Accuracy: 6905/10000 (69.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 52, internal_epoch   1,  Average loss: 0.0212, Accuracy: 427/618 (69.0939%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.8572, Accuracy: 7010/10000 (70.1000%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 29, internal_epoch   1,  Average loss: 0.0169, Accuracy: 476/605 (78.6777%), train_poison_data_count: 605
Global model norm: 14.091690623516621.
Norm before scaling: 14.132754737478697. Distance: 0.4626627171871865
Total norm for 3 adversaries is: 14.132754737478697. distance: 0.4626627171871865
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 0.7145, Accuracy: 6767/8991 (75.2642%)
___Train Local_Simple,  epoch  54, local model 93, internal_epoch   1,  Average loss: 0.0184, Accuracy: 393/529 (74.2911%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 1.0630, Accuracy: 7391/10000 (73.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 78, internal_epoch   1,  Average loss: 0.0227, Accuracy: 405/624 (64.9038%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.8206, Accuracy: 7381/10000 (73.8100%), Attack Success Rate:0/10000(0.000)
time spent on training: 44.84431767463684
[foolsgold agg] training data poison_ratio: 0.31617013948682626  data num: [650, 523, 589, 570, 581, 518, 618, 605, 529, 624]
[foolsgold agg] considering poison per batch poison_fraction: 0.31617013948682626
[foolsgold agg] wv: [0.9460689  0.53239344 0.         0.40823712 0.9460689  1.
 1.         1.         0.98526248 0.        ]
___Test Target_Simple poisoned: False, epoch: 54: Average loss: 1.0240, Accuracy: 7303/10000 (73.0300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 54: Average loss: 0.7853, Accuracy: 7280/8991 (80.9699%)
Done in 132.77103447914124 sec.
Server Epoch:55 choose agents : [5, 85, 24, 0, 35, 65, 46, 29, 45, 69].
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 5, internal_epoch   1,  Average loss: 0.0149, Accuracy: 416/512 (81.2500%), train_poison_data_count: 512
Global model norm: 14.100566425173925.
Norm before scaling: 14.135792617839662. Distance: 0.3737242974020228
Total norm for 3 adversaries is: 14.135792617839662. distance: 0.3737242974020228
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 0.6098, Accuracy: 7445/8991 (82.8050%)
___Train Local_Simple,  epoch  55, local model 85, internal_epoch   1,  Average loss: 0.0171, Accuracy: 443/570 (77.7193%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.7698, Accuracy: 7512/10000 (75.1200%), Attack Success Rate:0/10000(0.000)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 24, internal_epoch   1,  Average loss: 0.0147, Accuracy: 461/578 (79.7578%), train_poison_data_count: 578
Global model norm: 14.100566425173925.
Norm before scaling: 14.14012214230198. Distance: 0.41529588719216093
Total norm for 3 adversaries is: 14.14012214230198. distance: 0.41529588719216093
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 0.5729, Accuracy: 7461/8991 (82.9830%)
___Train Local_Simple,  epoch  55, local model 0, internal_epoch   1,  Average loss: 0.0204, Accuracy: 419/609 (68.8013%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.9319, Accuracy: 6870/10000 (68.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 35, internal_epoch   1,  Average loss: 0.0186, Accuracy: 352/493 (71.3996%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.8230, Accuracy: 7302/10000 (73.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 65, internal_epoch   1,  Average loss: 0.0209, Accuracy: 403/573 (70.3316%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.7406, Accuracy: 7933/10000 (79.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 46, internal_epoch   1,  Average loss: 0.0181, Accuracy: 358/478 (74.8954%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.8284, Accuracy: 7537/10000 (75.3700%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 29, internal_epoch   1,  Average loss: 0.0154, Accuracy: 478/605 (79.0083%), train_poison_data_count: 605
Global model norm: 14.100566425173925.
Norm before scaling: 14.138875172293421. Distance: 0.4313480023967174
Total norm for 3 adversaries is: 14.138875172293421. distance: 0.4313480023967174
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 0.7757, Accuracy: 6521/8991 (72.5281%)
___Train Local_Simple,  epoch  55, local model 45, internal_epoch   1,  Average loss: 0.0183, Accuracy: 521/750 (69.4667%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.8877, Accuracy: 7097/10000 (70.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 69, internal_epoch   1,  Average loss: 0.0183, Accuracy: 475/646 (73.5294%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.7384, Accuracy: 8053/10000 (80.5300%), Attack Success Rate:0/10000(0.000)
time spent on training: 45.72228002548218
[foolsgold agg] training data poison_ratio: 0.2915376676986584  data num: [512, 570, 578, 609, 493, 573, 478, 605, 750, 646]
[foolsgold agg] considering poison per batch poison_fraction: 0.2915376676986584
[foolsgold agg] wv: [1.         1.         0.69643909 1.         0.48001    0.60235628
 1.         0.69643909 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 55: Average loss: 0.9854, Accuracy: 7355/10000 (73.5500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 55: Average loss: 0.7638, Accuracy: 7343/8991 (81.6706%)
Done in 133.54644322395325 sec.
Server Epoch:56 choose agents : [10, 16, 41, 45, 65, 81, 24, 64, 48, 29].
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 10, internal_epoch   1,  Average loss: 0.0155, Accuracy: 445/572 (77.7972%), train_poison_data_count: 572
Global model norm: 14.108273485345565.
Norm before scaling: 14.13669932127706. Distance: 0.4067195049957408
Total norm for 4 adversaries is: 14.13669932127706. distance: 0.4067195049957408
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 0.8246, Accuracy: 6312/8991 (70.2035%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 16, internal_epoch   1,  Average loss: 0.0160, Accuracy: 457/581 (78.6575%), train_poison_data_count: 581
Global model norm: 14.108273485345565.
Norm before scaling: 14.141561605722245. Distance: 0.4125735665235481
Total norm for 4 adversaries is: 14.141561605722245. distance: 0.4125735665235481
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 0.7328, Accuracy: 6855/8991 (76.2429%)
___Train Local_Simple,  epoch  56, local model 41, internal_epoch   1,  Average loss: 0.0202, Accuracy: 495/652 (75.9202%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 1.4175, Accuracy: 5673/10000 (56.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 45, internal_epoch   1,  Average loss: 0.0173, Accuracy: 532/750 (70.9333%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.6423, Accuracy: 8222/10000 (82.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 65, internal_epoch   1,  Average loss: 0.0196, Accuracy: 402/573 (70.1571%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.7653, Accuracy: 7333/10000 (73.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 81, internal_epoch   1,  Average loss: 0.0172, Accuracy: 441/586 (75.2560%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.7204, Accuracy: 7683/10000 (76.8300%), Attack Success Rate:0/10000(0.000)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 24, internal_epoch   1,  Average loss: 0.0148, Accuracy: 467/578 (80.7958%), train_poison_data_count: 578
Global model norm: 14.108273485345565.
Norm before scaling: 14.14510191129971. Distance: 0.4141375095874161
Total norm for 4 adversaries is: 14.14510191129971. distance: 0.4141375095874161
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 0.6582, Accuracy: 7045/8991 (78.3561%)
___Train Local_Simple,  epoch  56, local model 64, internal_epoch   1,  Average loss: 0.0167, Accuracy: 441/566 (77.9152%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.8876, Accuracy: 6887/10000 (68.8700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 48, internal_epoch   1,  Average loss: 0.0183, Accuracy: 431/589 (73.1749%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.7889, Accuracy: 7664/10000 (76.6400%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 29, internal_epoch   1,  Average loss: 0.0149, Accuracy: 493/605 (81.4876%), train_poison_data_count: 605
Global model norm: 14.108273485345565.
Norm before scaling: 14.146392556524129. Distance: 0.43115987803528133
Total norm for 4 adversaries is: 14.146392556524129. distance: 0.43115987803528133
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 0.6989, Accuracy: 6825/8991 (75.9092%)
time spent on training: 47.74896597862244
[foolsgold agg] training data poison_ratio: 0.38598810310641113  data num: [572, 581, 652, 750, 573, 586, 578, 566, 589, 605]
[foolsgold agg] considering poison per batch poison_fraction: 0.38598810310641113
[foolsgold agg] wv: [0.04946797 0.         1.         0.         0.         0.02035963
 0.         0.44411735 0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 56: Average loss: 0.9758, Accuracy: 7480/10000 (74.8000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 56: Average loss: 0.7469, Accuracy: 7451/8991 (82.8718%)
Done in 135.90172481536865 sec.
Server Epoch:57 choose agents : [43, 96, 61, 70, 67, 8, 68, 93, 30, 71].
___Train Local_Simple,  epoch  57, local model 43, internal_epoch   1,  Average loss: 0.0191, Accuracy: 387/518 (74.7104%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.8600, Accuracy: 6960/10000 (69.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 96, internal_epoch   1,  Average loss: 0.0129, Accuracy: 488/608 (80.2632%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 1.1514, Accuracy: 7217/10000 (72.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 61, internal_epoch   1,  Average loss: 0.0171, Accuracy: 402/537 (74.8603%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.6820, Accuracy: 8126/10000 (81.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 70, internal_epoch   1,  Average loss: 0.0171, Accuracy: 410/549 (74.6812%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.6988, Accuracy: 8070/10000 (80.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 67, internal_epoch   1,  Average loss: 0.0190, Accuracy: 442/643 (68.7403%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.8124, Accuracy: 7510/10000 (75.1000%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 8, internal_epoch   1,  Average loss: 0.0136, Accuracy: 555/683 (81.2592%), train_poison_data_count: 683
Global model norm: 14.1108019203361.
Norm before scaling: 14.146056018512942. Distance: 0.4392011301420868
Total norm for 2 adversaries is: 14.146056018512942. distance: 0.4392011301420868
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 0.5289, Accuracy: 7656/8991 (85.1518%)
___Train Local_Simple,  epoch  57, local model 68, internal_epoch   1,  Average loss: 0.0178, Accuracy: 462/632 (73.1013%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.6429, Accuracy: 8156/10000 (81.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 93, internal_epoch   1,  Average loss: 0.0171, Accuracy: 399/529 (75.4253%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 1.1247, Accuracy: 7026/10000 (70.2600%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 30, internal_epoch   1,  Average loss: 0.0148, Accuracy: 547/668 (81.8862%), train_poison_data_count: 668
Global model norm: 14.1108019203361.
Norm before scaling: 14.153552878412942. Distance: 0.47553754243048585
Total norm for 2 adversaries is: 14.153552878412942. distance: 0.47553754243048585
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 0.6304, Accuracy: 7176/8991 (79.8131%)
___Train Local_Simple,  epoch  57, local model 71, internal_epoch   1,  Average loss: 0.0173, Accuracy: 470/638 (73.6677%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.6976, Accuracy: 7653/10000 (76.5300%), Attack Success Rate:0/10000(0.000)
time spent on training: 44.3707959651947
[foolsgold agg] training data poison_ratio: 0.22497918401332223  data num: [518, 608, 537, 549, 643, 683, 632, 529, 668, 638]
[foolsgold agg] considering poison per batch poison_fraction: 0.22497918401332226
[foolsgold agg] wv: [1.         0.         0.40071186 0.         0.         1.
 0.9136238  0.         1.         0.79825553]
___Test Target_Simple poisoned: False, epoch: 57: Average loss: 0.9524, Accuracy: 7521/10000 (75.2100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 57: Average loss: 0.7248, Accuracy: 7492/8991 (83.3278%)
Done in 131.67884731292725 sec.
Server Epoch:58 choose agents : [77, 32, 80, 30, 53, 41, 13, 49, 17, 31].
___Train Local_Simple,  epoch  58, local model 77, internal_epoch   1,  Average loss: 0.0203, Accuracy: 359/519 (69.1715%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.8826, Accuracy: 7113/10000 (71.1300%), Attack Success Rate:0/10000(0.000)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 32, internal_epoch   1,  Average loss: 0.0162, Accuracy: 486/609 (79.8030%), train_poison_data_count: 609
Global model norm: 14.117061578540511.
Norm before scaling: 14.14200938492686. Distance: 0.3946962106125585
Total norm for 5 adversaries is: 14.14200938492686. distance: 0.3946962106125585
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 0.6805, Accuracy: 7074/8991 (78.6787%)
___Train Local_Simple,  epoch  58, local model 80, internal_epoch   1,  Average loss: 0.0167, Accuracy: 440/593 (74.1990%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.7249, Accuracy: 7926/10000 (79.2600%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 30, internal_epoch   1,  Average loss: 0.0159, Accuracy: 524/668 (78.4431%), train_poison_data_count: 668
Global model norm: 14.117061578540511.
Norm before scaling: 14.15241814429798. Distance: 0.4590759023757539
Total norm for 5 adversaries is: 14.15241814429798. distance: 0.4590759023757539
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 0.7585, Accuracy: 6653/8991 (73.9962%)
___Train Local_Simple,  epoch  58, local model 53, internal_epoch   1,  Average loss: 0.0175, Accuracy: 477/617 (77.3096%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.7282, Accuracy: 7583/10000 (75.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  58, local model 41, internal_epoch   1,  Average loss: 0.0189, Accuracy: 487/652 (74.6933%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 1.1075, Accuracy: 6492/10000 (64.9200%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 13, internal_epoch   1,  Average loss: 0.0129, Accuracy: 447/521 (85.7965%), train_poison_data_count: 521
Global model norm: 14.117061578540511.
Norm before scaling: 14.144422832538096. Distance: 0.3290011085669848
Total norm for 5 adversaries is: 14.144422832538096. distance: 0.3290011085669848
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 0.6479, Accuracy: 7093/8991 (78.8900%)
___Train Local_Simple,  epoch  58, local model 49, internal_epoch   1,  Average loss: 0.0164, Accuracy: 394/516 (76.3566%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.6681, Accuracy: 8105/10000 (81.0500%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 17, internal_epoch   1,  Average loss: 0.0124, Accuracy: 544/648 (83.9506%), train_poison_data_count: 648
Global model norm: 14.117061578540511.
Norm before scaling: 14.158840994951264. Distance: 0.4275426914136013
Total norm for 5 adversaries is: 14.158840994951264. distance: 0.4275426914136013
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 0.6520, Accuracy: 7003/8991 (77.8890%)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 31, internal_epoch   1,  Average loss: 0.0144, Accuracy: 412/511 (80.6262%), train_poison_data_count: 511
Global model norm: 14.117061578540511.
Norm before scaling: 14.145400177846021. Distance: 0.34757288458336194
Total norm for 5 adversaries is: 14.145400177846021. distance: 0.34757288458336194
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 0.7559, Accuracy: 6585/8991 (73.2399%)
time spent on training: 48.64174818992615
[foolsgold agg] training data poison_ratio: 0.5051247010591049  data num: [519, 609, 593, 668, 617, 652, 521, 516, 648, 511]
[foolsgold agg] considering poison per batch poison_fraction: 0.5051247010591049
[foolsgold agg] wv: [1.         1.         1.         1.         0.83525932 1.
 0.75096648 0.83525932 0.75096648 1.        ]
___Test Target_Simple poisoned: False, epoch: 58: Average loss: 0.9657, Accuracy: 7368/10000 (73.6800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 58: Average loss: 0.7255, Accuracy: 7317/8991 (81.3814%)
Done in 136.27859091758728 sec.
Server Epoch:59 choose agents : [46, 56, 12, 72, 79, 17, 71, 70, 74, 27].
___Train Local_Simple,  epoch  59, local model 46, internal_epoch   1,  Average loss: 0.0167, Accuracy: 367/478 (76.7782%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.8758, Accuracy: 6959/10000 (69.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 56, internal_epoch   1,  Average loss: 0.0186, Accuracy: 443/626 (70.7668%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.8779, Accuracy: 6942/10000 (69.4200%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 12, internal_epoch   1,  Average loss: 0.0146, Accuracy: 480/597 (80.4020%), train_poison_data_count: 597
Global model norm: 14.12783973977942.
Norm before scaling: 14.161733209603971. Distance: 0.39603823662158305
Total norm for 3 adversaries is: 14.161733209603971. distance: 0.39603823662158305
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 0.5217, Accuracy: 7662/8991 (85.2186%)
___Train Local_Simple,  epoch  59, local model 72, internal_epoch   1,  Average loss: 0.0172, Accuracy: 405/529 (76.5595%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.8304, Accuracy: 7057/10000 (70.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 79, internal_epoch   1,  Average loss: 0.0155, Accuracy: 490/635 (77.1654%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.6894, Accuracy: 7845/10000 (78.4500%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 17, internal_epoch   1,  Average loss: 0.0131, Accuracy: 513/648 (79.1667%), train_poison_data_count: 648
Global model norm: 14.12783973977942.
Norm before scaling: 14.157450711358004. Distance: 0.3957289842627094
Total norm for 3 adversaries is: 14.157450711358004. distance: 0.3957289842627094
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 0.5865, Accuracy: 7381/8991 (82.0932%)
___Train Local_Simple,  epoch  59, local model 71, internal_epoch   1,  Average loss: 0.0174, Accuracy: 476/638 (74.6082%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.5965, Accuracy: 8245/10000 (82.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 70, internal_epoch   1,  Average loss: 0.0170, Accuracy: 401/549 (73.0419%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.7621, Accuracy: 7466/10000 (74.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 74, internal_epoch   1,  Average loss: 0.0188, Accuracy: 448/626 (71.5655%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.7039, Accuracy: 7979/10000 (79.7900%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 27, internal_epoch   1,  Average loss: 0.0132, Accuracy: 540/650 (83.0769%), train_poison_data_count: 650
Global model norm: 14.12783973977942.
Norm before scaling: 14.160489220223102. Distance: 0.3989015756311519
Total norm for 3 adversaries is: 14.160489220223102. distance: 0.3989015756311519
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 0.6993, Accuracy: 7034/8991 (78.2338%)
time spent on training: 45.562193632125854
[foolsgold agg] training data poison_ratio: 0.3171017402945114  data num: [478, 626, 597, 529, 635, 648, 638, 549, 626, 650]
[foolsgold agg] considering poison per batch poison_fraction: 0.3171017402945114
[foolsgold agg] wv: [1.         1.         0.37507654 1.         0.54413443 0.37507654
 0.54413443 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 59: Average loss: 0.9287, Accuracy: 7421/10000 (74.2100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 59: Average loss: 0.6998, Accuracy: 7379/8991 (82.0710%)
Done in 133.02735018730164 sec.
Server Epoch:60 choose agents : [4, 49, 74, 6, 16, 59, 46, 66, 84, 63].
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 4, internal_epoch   1,  Average loss: 0.0136, Accuracy: 476/587 (81.0903%), train_poison_data_count: 587
Global model norm: 14.136128320773237.
Norm before scaling: 14.158834528831946. Distance: 0.3351672457511853
Total norm for 3 adversaries is: 14.158834528831946. distance: 0.3351672457511853
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 0.5692, Accuracy: 7617/8991 (84.7181%)
___Train Local_Simple,  epoch  60, local model 49, internal_epoch   1,  Average loss: 0.0170, Accuracy: 399/516 (77.3256%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.6635, Accuracy: 8025/10000 (80.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 74, internal_epoch   1,  Average loss: 0.0180, Accuracy: 457/626 (73.0032%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.6618, Accuracy: 8062/10000 (80.6200%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 6, internal_epoch   1,  Average loss: 0.0141, Accuracy: 572/708 (80.7910%), train_poison_data_count: 708
Global model norm: 14.136128320773237.
Norm before scaling: 14.164467016252047. Distance: 0.43535686847367866
Total norm for 3 adversaries is: 14.164467016252047. distance: 0.43535686847367866
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 0.6913, Accuracy: 6902/8991 (76.7657%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 16, internal_epoch   1,  Average loss: 0.0133, Accuracy: 488/581 (83.9931%), train_poison_data_count: 581
Global model norm: 14.136128320773237.
Norm before scaling: 14.164103975566688. Distance: 0.3800876526064774
Total norm for 3 adversaries is: 14.164103975566688. distance: 0.3800876526064774
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 0.5907, Accuracy: 7127/8991 (79.2682%)
___Train Local_Simple,  epoch  60, local model 59, internal_epoch   1,  Average loss: 0.0163, Accuracy: 472/652 (72.3926%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.9786, Accuracy: 6720/10000 (67.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 46, internal_epoch   1,  Average loss: 0.0159, Accuracy: 368/478 (76.9874%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.6772, Accuracy: 7871/10000 (78.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 66, internal_epoch   1,  Average loss: 0.0166, Accuracy: 463/629 (73.6089%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.8942, Accuracy: 7058/10000 (70.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 84, internal_epoch   1,  Average loss: 0.0167, Accuracy: 416/560 (74.2857%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.9052, Accuracy: 6703/10000 (67.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 63, internal_epoch   1,  Average loss: 0.0174, Accuracy: 458/616 (74.3506%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.6895, Accuracy: 7870/10000 (78.7000%), Attack Success Rate:0/10000(0.000)
time spent on training: 45.95975065231323
[foolsgold agg] training data poison_ratio: 0.3151352259365026  data num: [587, 516, 626, 708, 581, 652, 478, 629, 560, 616]
[foolsgold agg] considering poison per batch poison_fraction: 0.3151352259365026
[foolsgold agg] wv: [0.68687566 0.0213179  0.         1.         0.68687566 0.9340103
 1.         0.         0.0213179  0.10867659]
___Test Target_Simple poisoned: False, epoch: 60: Average loss: 0.9273, Accuracy: 7457/10000 (74.5700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 60: Average loss: 0.6782, Accuracy: 7420/8991 (82.5270%)
Done in 133.641188621521 sec.
Server Epoch:61 choose agents : [23, 92, 22, 91, 70, 58, 35, 12, 55, 94].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 23, internal_epoch   1,  Average loss: 0.0148, Accuracy: 458/588 (77.8912%), train_poison_data_count: 588
Global model norm: 14.140789018385785.
Norm before scaling: 14.15508206499. Distance: 0.35409767750514626
Total norm for 3 adversaries is: 14.15508206499. distance: 0.35409767750514626
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 0.6316, Accuracy: 7150/8991 (79.5240%)
___Train Local_Simple,  epoch  61, local model 92, internal_epoch   1,  Average loss: 0.0166, Accuracy: 433/571 (75.8319%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.7123, Accuracy: 7435/10000 (74.3500%), Attack Success Rate:0/10000(0.000)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 22, internal_epoch   1,  Average loss: 0.0140, Accuracy: 428/531 (80.6026%), train_poison_data_count: 531
Global model norm: 14.140789018385785.
Norm before scaling: 14.161382490008535. Distance: 0.3110586064719488
Total norm for 3 adversaries is: 14.161382490008535. distance: 0.3110586064719488
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 0.5914, Accuracy: 7255/8991 (80.6918%)
___Train Local_Simple,  epoch  61, local model 91, internal_epoch   1,  Average loss: 0.0162, Accuracy: 464/627 (74.0032%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.6797, Accuracy: 7883/10000 (78.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 70, internal_epoch   1,  Average loss: 0.0190, Accuracy: 396/549 (72.1311%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.8392, Accuracy: 7122/10000 (71.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 58, internal_epoch   1,  Average loss: 0.0159, Accuracy: 395/510 (77.4510%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.6891, Accuracy: 7613/10000 (76.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 35, internal_epoch   1,  Average loss: 0.0156, Accuracy: 379/493 (76.8763%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.6724, Accuracy: 7843/10000 (78.4300%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 12, internal_epoch   1,  Average loss: 0.0157, Accuracy: 462/597 (77.3869%), train_poison_data_count: 597
Global model norm: 14.140789018385785.
Norm before scaling: 14.15877848900749. Distance: 0.3614765584053983
Total norm for 3 adversaries is: 14.15877848900749. distance: 0.3614765584053983
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 0.6727, Accuracy: 7038/8991 (78.2783%)
___Train Local_Simple,  epoch  61, local model 55, internal_epoch   1,  Average loss: 0.0162, Accuracy: 431/592 (72.8041%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.6384, Accuracy: 8090/10000 (80.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 94, internal_epoch   1,  Average loss: 0.0136, Accuracy: 450/555 (81.0811%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.9889, Accuracy: 7667/10000 (76.6700%), Attack Success Rate:0/10000(0.000)
time spent on training: 45.4154896736145
[foolsgold agg] training data poison_ratio: 0.30571886691608763  data num: [588, 571, 531, 627, 549, 510, 493, 597, 592, 555]
[foolsgold agg] considering poison per batch poison_fraction: 0.30571886691608763
[foolsgold agg] wv: [0.17291008 1.         0.17291008 0.         1.         0.
 0.47175088 1.         0.47175088 1.        ]
___Test Target_Simple poisoned: False, epoch: 61: Average loss: 0.8958, Accuracy: 7500/10000 (75.0000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 61: Average loss: 0.6564, Accuracy: 7460/8991 (82.9719%)
Done in 133.4027373790741 sec.
Server Epoch:62 choose agents : [60, 54, 79, 77, 63, 99, 67, 88, 28, 37].
___Train Local_Simple,  epoch  62, local model 60, internal_epoch   1,  Average loss: 0.0169, Accuracy: 475/644 (73.7578%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.7029, Accuracy: 7583/10000 (75.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 54, internal_epoch   1,  Average loss: 0.0139, Accuracy: 426/523 (81.4532%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.6201, Accuracy: 8227/10000 (82.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 79, internal_epoch   1,  Average loss: 0.0144, Accuracy: 492/635 (77.4803%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.7224, Accuracy: 7403/10000 (74.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 77, internal_epoch   1,  Average loss: 0.0178, Accuracy: 381/519 (73.4104%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.7547, Accuracy: 7358/10000 (73.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 63, internal_epoch   1,  Average loss: 0.0178, Accuracy: 462/616 (75.0000%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.6034, Accuracy: 8288/10000 (82.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 99, internal_epoch   1,  Average loss: 0.0084, Accuracy: 363/410 (88.5366%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 2.1506, Accuracy: 6418/10000 (64.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 67, internal_epoch   1,  Average loss: 0.0168, Accuracy: 459/643 (71.3841%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.7326, Accuracy: 7529/10000 (75.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 88, internal_epoch   1,  Average loss: 0.0176, Accuracy: 498/679 (73.3432%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.8655, Accuracy: 7090/10000 (70.9000%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 28, internal_epoch   1,  Average loss: 0.0134, Accuracy: 543/665 (81.6541%), train_poison_data_count: 665
Global model norm: 14.145161241493557.
Norm before scaling: 14.164908685251856. Distance: 0.39343596908841116
Total norm for 1 adversaries is: 14.164908685251856. distance: 0.39343596908841116
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 0.5760, Accuracy: 7409/8991 (82.4046%)
___Train Local_Simple,  epoch  62, local model 37, internal_epoch   1,  Average loss: 0.0157, Accuracy: 491/641 (76.5991%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.7030, Accuracy: 7667/10000 (76.6700%), Attack Success Rate:0/10000(0.000)
time spent on training: 43.935752153396606
[foolsgold agg] training data poison_ratio: 0.11129707112970712  data num: [644, 523, 635, 519, 616, 410, 643, 679, 665, 641]
[foolsgold agg] considering poison per batch poison_fraction: 0.11129707112970712
[foolsgold agg] wv: [0.0428307  1.         1.         1.         0.88598625 1.
 0.11194616 0.0428307  1.         0.11194616]
___Test Target_Simple poisoned: False, epoch: 62: Average loss: 0.8756, Accuracy: 7494/10000 (74.9400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 62: Average loss: 0.6471, Accuracy: 7445/8991 (82.8050%)
Done in 131.4152762889862 sec.
Server Epoch:63 choose agents : [4, 88, 6, 99, 49, 69, 66, 79, 36, 64].
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 4, internal_epoch   1,  Average loss: 0.0131, Accuracy: 483/587 (82.2828%), train_poison_data_count: 587
Global model norm: 14.151015907725604.
Norm before scaling: 14.171411475158083. Distance: 0.3217039125790359
Total norm for 2 adversaries is: 14.171411475158083. distance: 0.3217039125790359
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 0.5744, Accuracy: 7269/8991 (80.8475%)
___Train Local_Simple,  epoch  63, local model 88, internal_epoch   1,  Average loss: 0.0145, Accuracy: 540/679 (79.5287%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.6854, Accuracy: 7676/10000 (76.7600%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 6, internal_epoch   1,  Average loss: 0.0136, Accuracy: 580/708 (81.9209%), train_poison_data_count: 708
Global model norm: 14.151015907725604.
Norm before scaling: 14.176962009931984. Distance: 0.4200699655975917
Total norm for 2 adversaries is: 14.176962009931984. distance: 0.4200699655975917
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 0.5219, Accuracy: 7536/8991 (83.8172%)
___Train Local_Simple,  epoch  63, local model 99, internal_epoch   1,  Average loss: 0.0088, Accuracy: 373/410 (90.9756%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 2.0983, Accuracy: 6033/10000 (60.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 49, internal_epoch   1,  Average loss: 0.0172, Accuracy: 385/516 (74.6124%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.6728, Accuracy: 8070/10000 (80.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 69, internal_epoch   1,  Average loss: 0.0151, Accuracy: 508/646 (78.6378%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.6175, Accuracy: 8347/10000 (83.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 66, internal_epoch   1,  Average loss: 0.0157, Accuracy: 485/629 (77.1065%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.6817, Accuracy: 7788/10000 (77.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 79, internal_epoch   1,  Average loss: 0.0133, Accuracy: 500/635 (78.7402%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.7249, Accuracy: 7737/10000 (77.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 36, internal_epoch   1,  Average loss: 0.0163, Accuracy: 403/520 (77.5000%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.7751, Accuracy: 7568/10000 (75.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 64, internal_epoch   1,  Average loss: 0.0149, Accuracy: 440/566 (77.7385%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.6619, Accuracy: 7793/10000 (77.9300%), Attack Success Rate:0/10000(0.000)
time spent on training: 44.71164560317993
[foolsgold agg] training data poison_ratio: 0.219640434192673  data num: [587, 679, 708, 410, 516, 646, 629, 635, 520, 566]
[foolsgold agg] considering poison per batch poison_fraction: 0.219640434192673
[foolsgold agg] wv: [0.         0.         0.         1.         0.08350812 0.
 0.         0.43576214 0.77079598 0.17394987]
___Test Target_Simple poisoned: False, epoch: 63: Average loss: 0.8703, Accuracy: 7482/10000 (74.8200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 63: Average loss: 0.6438, Accuracy: 7443/8991 (82.7828%)
Done in 132.17062544822693 sec.
Server Epoch:64 choose agents : [33, 90, 7, 26, 13, 51, 24, 40, 35, 98].
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 33, internal_epoch   1,  Average loss: 0.0105, Accuracy: 552/638 (86.5204%), train_poison_data_count: 638
Global model norm: 14.152397658950596.
Norm before scaling: 14.183602356441895. Distance: 0.38526653467326144
Total norm for 5 adversaries is: 14.183602356441895. distance: 0.38526653467326144
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 0.5019, Accuracy: 7628/8991 (84.8404%)
___Train Local_Simple,  epoch  64, local model 90, internal_epoch   1,  Average loss: 0.0186, Accuracy: 403/577 (69.8440%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.7192, Accuracy: 8029/10000 (80.2900%), Attack Success Rate:0/10000(0.000)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 7, internal_epoch   1,  Average loss: 0.0127, Accuracy: 456/550 (82.9091%), train_poison_data_count: 550
Global model norm: 14.152397658950596.
Norm before scaling: 14.165623944373168. Distance: 0.2867738488913236
Total norm for 5 adversaries is: 14.165623944373168. distance: 0.2867738488913236
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 0.6985, Accuracy: 7086/8991 (78.8121%)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 26, internal_epoch   1,  Average loss: 0.0123, Accuracy: 439/526 (83.4601%), train_poison_data_count: 526
Global model norm: 14.152397658950596.
Norm before scaling: 14.169574992523593. Distance: 0.2890600642539837
Total norm for 5 adversaries is: 14.169574992523593. distance: 0.2890600642539837
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 0.4918, Accuracy: 7712/8991 (85.7747%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 13, internal_epoch   1,  Average loss: 0.0111, Accuracy: 450/521 (86.3724%), train_poison_data_count: 521
Global model norm: 14.152397658950596.
Norm before scaling: 14.167255763352966. Distance: 0.2840365019631795
Total norm for 5 adversaries is: 14.167255763352966. distance: 0.2840365019631795
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 0.6648, Accuracy: 7299/8991 (81.1812%)
___Train Local_Simple,  epoch  64, local model 51, internal_epoch   1,  Average loss: 0.0148, Accuracy: 501/647 (77.4343%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.6805, Accuracy: 7651/10000 (76.5100%), Attack Success Rate:0/10000(0.000)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 24, internal_epoch   1,  Average loss: 0.0114, Accuracy: 494/578 (85.4671%), train_poison_data_count: 578
Global model norm: 14.152397658950596.
Norm before scaling: 14.177022821249134. Distance: 0.34754517741835517
Total norm for 5 adversaries is: 14.177022821249134. distance: 0.34754517741835517
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 0.5072, Accuracy: 7656/8991 (85.1518%)
___Train Local_Simple,  epoch  64, local model 40, internal_epoch   1,  Average loss: 0.0144, Accuracy: 447/563 (79.3961%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.7974, Accuracy: 7209/10000 (72.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  64, local model 35, internal_epoch   1,  Average loss: 0.0158, Accuracy: 375/493 (76.0649%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.7227, Accuracy: 7818/10000 (78.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  64, local model 98, internal_epoch   1,  Average loss: 0.0110, Accuracy: 472/568 (83.0986%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 1.5240, Accuracy: 7059/10000 (70.5900%), Attack Success Rate:0/10000(0.000)
time spent on training: 49.22141885757446
[foolsgold agg] training data poison_ratio: 0.4969086733792616  data num: [638, 577, 550, 526, 521, 647, 578, 563, 493, 568]
[foolsgold agg] considering poison per batch poison_fraction: 0.4969086733792616
[foolsgold agg] wv: [1.        1.        1.        1.        1.        1.        1.
 0.9762355 0.9762355 1.       ]
___Test Target_Simple poisoned: False, epoch: 64: Average loss: 0.8194, Accuracy: 7460/10000 (74.6000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 64: Average loss: 0.6254, Accuracy: 7417/8991 (82.4936%)
Done in 137.19262075424194 sec.
Server Epoch:65 choose agents : [46, 27, 26, 85, 41, 77, 52, 61, 3, 82].
___Train Local_Simple,  epoch  65, local model 46, internal_epoch   1,  Average loss: 0.0146, Accuracy: 377/478 (78.8703%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.6447, Accuracy: 7810/10000 (78.1000%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 27, internal_epoch   1,  Average loss: 0.0139, Accuracy: 508/650 (78.1538%), train_poison_data_count: 650
Global model norm: 14.161845804375716.
Norm before scaling: 14.176615434259986. Distance: 0.36383351012985915
Total norm for 3 adversaries is: 14.176615434259986. distance: 0.36383351012985915
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 0.6527, Accuracy: 7082/8991 (78.7677%)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 26, internal_epoch   1,  Average loss: 0.0131, Accuracy: 432/526 (82.1293%), train_poison_data_count: 526
Global model norm: 14.161845804375716.
Norm before scaling: 14.174501354455504. Distance: 0.27366619083513793
Total norm for 3 adversaries is: 14.174501354455504. distance: 0.27366619083513793
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 0.5174, Accuracy: 7556/8991 (84.0396%)
___Train Local_Simple,  epoch  65, local model 85, internal_epoch   1,  Average loss: 0.0145, Accuracy: 448/570 (78.5965%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.6532, Accuracy: 7823/10000 (78.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 41, internal_epoch   1,  Average loss: 0.0150, Accuracy: 511/652 (78.3742%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.6545, Accuracy: 7993/10000 (79.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 77, internal_epoch   1,  Average loss: 0.0173, Accuracy: 384/519 (73.9884%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.6230, Accuracy: 7921/10000 (79.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 52, internal_epoch   1,  Average loss: 0.0173, Accuracy: 460/618 (74.4337%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.6173, Accuracy: 8171/10000 (81.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 61, internal_epoch   1,  Average loss: 0.0142, Accuracy: 421/537 (78.3985%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.6058, Accuracy: 8097/10000 (80.9700%), Attack Success Rate:0/10000(0.000)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 3, internal_epoch   1,  Average loss: 0.0137, Accuracy: 410/505 (81.1881%), train_poison_data_count: 505
Global model norm: 14.161845804375716.
Norm before scaling: 14.177598094166958. Distance: 0.31023271132258207
Total norm for 3 adversaries is: 14.177598094166958. distance: 0.31023271132258207
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 0.6293, Accuracy: 7307/8991 (81.2702%)
___Train Local_Simple,  epoch  65, local model 82, internal_epoch   1,  Average loss: 0.0145, Accuracy: 491/621 (79.0660%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.5991, Accuracy: 8092/10000 (80.9200%), Attack Success Rate:0/10000(0.000)
time spent on training: 46.145405769348145
[foolsgold agg] training data poison_ratio: 0.29615926708949963  data num: [478, 650, 526, 570, 652, 519, 618, 537, 505, 621]
[foolsgold agg] considering poison per batch poison_fraction: 0.29615926708949963
[foolsgold agg] wv: [0.86383955 1.         1.         0.         0.         0.30047109
 0.06093762 0.30047109 1.         0.14161573]
___Test Target_Simple poisoned: False, epoch: 65: Average loss: 0.8159, Accuracy: 7518/10000 (75.1800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 65: Average loss: 0.6103, Accuracy: 7472/8991 (83.1053%)
Done in 133.3682553768158 sec.
Server Epoch:66 choose agents : [78, 9, 54, 62, 26, 53, 28, 22, 94, 70].
___Train Local_Simple,  epoch  66, local model 78, internal_epoch   1,  Average loss: 0.0167, Accuracy: 467/624 (74.8397%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.7032, Accuracy: 7699/10000 (76.9900%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 9, internal_epoch   1,  Average loss: 0.0126, Accuracy: 460/548 (83.9416%), train_poison_data_count: 548
Global model norm: 14.165520535649174.
Norm before scaling: 14.170569985393584. Distance: 0.293633457156234
Total norm for 4 adversaries is: 14.170569985393584. distance: 0.293633457156234
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 0.6931, Accuracy: 7049/8991 (78.4006%)
___Train Local_Simple,  epoch  66, local model 54, internal_epoch   1,  Average loss: 0.0137, Accuracy: 421/523 (80.4971%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.6629, Accuracy: 7926/10000 (79.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  66, local model 62, internal_epoch   1,  Average loss: 0.0169, Accuracy: 471/617 (76.3371%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.5718, Accuracy: 8227/10000 (82.2700%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 26, internal_epoch   1,  Average loss: 0.0114, Accuracy: 452/526 (85.9316%), train_poison_data_count: 526
Global model norm: 14.165520535649174.
Norm before scaling: 14.183659373987542. Distance: 0.27914133609368336
Total norm for 4 adversaries is: 14.183659373987542. distance: 0.27914133609368336
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 0.4962, Accuracy: 7601/8991 (84.5401%)
___Train Local_Simple,  epoch  66, local model 53, internal_epoch   1,  Average loss: 0.0147, Accuracy: 498/617 (80.7131%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.5412, Accuracy: 8467/10000 (84.6700%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 28, internal_epoch   1,  Average loss: 0.0133, Accuracy: 556/665 (83.6090%), train_poison_data_count: 665
Global model norm: 14.165520535649174.
Norm before scaling: 14.176128922438098. Distance: 0.3780066241826818
Total norm for 4 adversaries is: 14.176128922438098. distance: 0.3780066241826818
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 0.5803, Accuracy: 7405/8991 (82.3601%)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 22, internal_epoch   1,  Average loss: 0.0132, Accuracy: 416/531 (78.3427%), train_poison_data_count: 531
Global model norm: 14.165520535649174.
Norm before scaling: 14.1759061116711. Distance: 0.2774382148298631
Total norm for 4 adversaries is: 14.1759061116711. distance: 0.2774382148298631
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 0.6062, Accuracy: 7060/8991 (78.5230%)
___Train Local_Simple,  epoch  66, local model 94, internal_epoch   1,  Average loss: 0.0122, Accuracy: 453/555 (81.6216%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 1.1292, Accuracy: 6799/10000 (67.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  66, local model 70, internal_epoch   1,  Average loss: 0.0143, Accuracy: 423/549 (77.0492%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.6074, Accuracy: 8376/10000 (83.7600%), Attack Success Rate:0/10000(0.000)
time spent on training: 48.094489097595215
[foolsgold agg] training data poison_ratio: 0.3944396177237185  data num: [624, 548, 523, 617, 526, 617, 665, 531, 555, 549]
[foolsgold agg] considering poison per batch poison_fraction: 0.3944396177237185
[foolsgold agg] wv: [1.         1.         0.06200767 1.         1.         1.
 1.         1.         0.80763253 0.06200767]
___Test Target_Simple poisoned: False, epoch: 66: Average loss: 0.7866, Accuracy: 7621/10000 (76.2100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 66: Average loss: 0.5924, Accuracy: 7579/8991 (84.2954%)
Done in 135.66895484924316 sec.
Server Epoch:67 choose agents : [68, 69, 90, 8, 66, 70, 0, 14, 40, 45].
___Train Local_Simple,  epoch  67, local model 68, internal_epoch   1,  Average loss: 0.0146, Accuracy: 501/632 (79.2722%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.6507, Accuracy: 8113/10000 (81.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 69, internal_epoch   1,  Average loss: 0.0132, Accuracy: 510/646 (78.9474%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.6095, Accuracy: 8037/10000 (80.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 90, internal_epoch   1,  Average loss: 0.0153, Accuracy: 444/577 (76.9497%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.6502, Accuracy: 7925/10000 (79.2500%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 8, internal_epoch   1,  Average loss: 0.0128, Accuracy: 556/683 (81.4056%), train_poison_data_count: 683
Global model norm: 14.172239994955257.
Norm before scaling: 14.178894928779435. Distance: 0.35206401868845116
Total norm for 2 adversaries is: 14.178894928779435. distance: 0.35206401868845116
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 0.4760, Accuracy: 7684/8991 (85.4632%)
___Train Local_Simple,  epoch  67, local model 66, internal_epoch   1,  Average loss: 0.0158, Accuracy: 464/629 (73.7679%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.7084, Accuracy: 7491/10000 (74.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 70, internal_epoch   1,  Average loss: 0.0160, Accuracy: 403/549 (73.4062%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.6995, Accuracy: 7721/10000 (77.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 0, internal_epoch   1,  Average loss: 0.0154, Accuracy: 454/609 (74.5484%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.6438, Accuracy: 7850/10000 (78.5000%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 14, internal_epoch   1,  Average loss: 0.0125, Accuracy: 445/535 (83.1776%), train_poison_data_count: 535
Global model norm: 14.172239994955257.
Norm before scaling: 14.177905363215022. Distance: 0.25560300664793706
Total norm for 2 adversaries is: 14.177905363215022. distance: 0.25560300664793706
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 0.5606, Accuracy: 7374/8991 (82.0153%)
___Train Local_Simple,  epoch  67, local model 40, internal_epoch   1,  Average loss: 0.0149, Accuracy: 427/563 (75.8437%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.9336, Accuracy: 6949/10000 (69.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 45, internal_epoch   1,  Average loss: 0.0130, Accuracy: 597/750 (79.6000%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.8446, Accuracy: 7100/10000 (71.0000%), Attack Success Rate:0/10000(0.000)
time spent on training: 46.078141927719116
[foolsgold agg] training data poison_ratio: 0.19731086991738214  data num: [632, 646, 577, 683, 629, 549, 609, 535, 563, 750]
[foolsgold agg] considering poison per batch poison_fraction: 0.19731086991738211
[foolsgold agg] wv: [0.47146345 0.73003114 0.34775871 1.         0.55446904 1.
 1.         1.         0.34775871 1.        ]
___Test Target_Simple poisoned: False, epoch: 67: Average loss: 0.7483, Accuracy: 7680/10000 (76.8000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 67: Average loss: 0.5737, Accuracy: 7650/8991 (85.0851%)
Done in 133.1006772518158 sec.
Server Epoch:68 choose agents : [23, 19, 72, 15, 37, 80, 27, 95, 1, 46].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 23, internal_epoch   1,  Average loss: 0.0131, Accuracy: 480/588 (81.6327%), train_poison_data_count: 588
Global model norm: 14.178269664824287.
Norm before scaling: 14.180215856203164. Distance: 0.3354689524258632
Total norm for 5 adversaries is: 14.180215856203164. distance: 0.3354689524258632
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.6107, Accuracy: 7214/8991 (80.2358%)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 19, internal_epoch   1,  Average loss: 0.0126, Accuracy: 479/552 (86.7754%), train_poison_data_count: 552
Global model norm: 14.178269664824287.
Norm before scaling: 14.189480412267294. Distance: 0.3430280582008074
Total norm for 5 adversaries is: 14.189480412267294. distance: 0.3430280582008074
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.9282, Accuracy: 5764/8991 (64.1086%)
___Train Local_Simple,  epoch  68, local model 72, internal_epoch   1,  Average loss: 0.0136, Accuracy: 430/529 (81.2854%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.6731, Accuracy: 7670/10000 (76.7000%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 15, internal_epoch   1,  Average loss: 0.0124, Accuracy: 477/572 (83.3916%), train_poison_data_count: 572
Global model norm: 14.178269664824287.
Norm before scaling: 14.194937348854014. Distance: 0.3267066933821382
Total norm for 5 adversaries is: 14.194937348854014. distance: 0.3267066933821382
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.4818, Accuracy: 7740/8991 (86.0861%)
___Train Local_Simple,  epoch  68, local model 37, internal_epoch   1,  Average loss: 0.0125, Accuracy: 519/641 (80.9672%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.8551, Accuracy: 7039/10000 (70.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  68, local model 80, internal_epoch   1,  Average loss: 0.0132, Accuracy: 478/593 (80.6071%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.5845, Accuracy: 8332/10000 (83.3200%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 27, internal_epoch   1,  Average loss: 0.0126, Accuracy: 520/650 (80.0000%), train_poison_data_count: 650
Global model norm: 14.178269664824287.
Norm before scaling: 14.192422290217664. Distance: 0.36236921285934176
Total norm for 5 adversaries is: 14.192422290217664. distance: 0.36236921285934176
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.8971, Accuracy: 6321/8991 (70.3036%)
___Train Local_Simple,  epoch  68, local model 95, internal_epoch   1,  Average loss: 0.0132, Accuracy: 443/532 (83.2707%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.8510, Accuracy: 7727/10000 (77.2700%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 1, internal_epoch   1,  Average loss: 0.0123, Accuracy: 511/606 (84.3234%), train_poison_data_count: 606
Global model norm: 14.178269664824287.
Norm before scaling: 14.191812674816079. Distance: 0.36295550108305147
Total norm for 5 adversaries is: 14.191812674816079. distance: 0.36295550108305147
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.7352, Accuracy: 6824/8991 (75.8981%)
___Train Local_Simple,  epoch  68, local model 46, internal_epoch   1,  Average loss: 0.0132, Accuracy: 385/478 (80.5439%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.6319, Accuracy: 7818/10000 (78.1800%), Attack Success Rate:0/10000(0.000)
time spent on training: 49.30276441574097
[foolsgold agg] training data poison_ratio: 0.5169831039888522  data num: [588, 552, 529, 572, 641, 593, 650, 532, 606, 478]
[foolsgold agg] considering poison per batch poison_fraction: 0.5169831039888522
[foolsgold agg] wv: [0.69030842 1.         0.42555626 0.69030842 1.         0.42555626
 1.         1.         1.         0.98232201]
___Test Target_Simple poisoned: False, epoch: 68: Average loss: 0.7352, Accuracy: 7787/10000 (77.8700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 68: Average loss: 0.5419, Accuracy: 7764/8991 (86.3530%)
Done in 137.45661902427673 sec.
Server Epoch:69 choose agents : [54, 97, 77, 68, 98, 52, 78, 88, 45, 95].
___Train Local_Simple,  epoch  69, local model 54, internal_epoch   1,  Average loss: 0.0126, Accuracy: 434/523 (82.9828%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.5945, Accuracy: 8076/10000 (80.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 97, internal_epoch   1,  Average loss: 0.0137, Accuracy: 457/588 (77.7211%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.9473, Accuracy: 7623/10000 (76.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 77, internal_epoch   1,  Average loss: 0.0149, Accuracy: 402/519 (77.4566%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.6624, Accuracy: 7648/10000 (76.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 68, internal_epoch   1,  Average loss: 0.0142, Accuracy: 489/632 (77.3734%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.5512, Accuracy: 8334/10000 (83.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 98, internal_epoch   1,  Average loss: 0.0111, Accuracy: 470/568 (82.7465%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 1.4189, Accuracy: 6513/10000 (65.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 52, internal_epoch   1,  Average loss: 0.0152, Accuracy: 489/618 (79.1262%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.5710, Accuracy: 8287/10000 (82.8700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 78, internal_epoch   1,  Average loss: 0.0170, Accuracy: 471/624 (75.4808%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.7323, Accuracy: 7776/10000 (77.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 88, internal_epoch   1,  Average loss: 0.0143, Accuracy: 537/679 (79.0869%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.6313, Accuracy: 8046/10000 (80.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 45, internal_epoch   1,  Average loss: 0.0133, Accuracy: 591/750 (78.8000%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.6310, Accuracy: 7963/10000 (79.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 95, internal_epoch   1,  Average loss: 0.0133, Accuracy: 433/532 (81.3910%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 1.0805, Accuracy: 6883/10000 (68.8300%), Attack Success Rate:0/10000(0.000)
time spent on training: 43.23997378349304
[foolsgold agg] training data poison_ratio: 0.0  data num: [523, 588, 519, 632, 568, 618, 624, 679, 750, 532]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.71427973 0.85274184 1.         0.88314472 0.72223935 0.17136921
 0.31069441 0.17136921 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 69: Average loss: 0.6954, Accuracy: 7827/10000 (78.2700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 69: Average loss: 0.5313, Accuracy: 7780/8991 (86.5310%)
Done in 130.34031581878662 sec.
Server Epoch:70 choose agents : [42, 38, 63, 31, 47, 12, 77, 37, 23, 83].
___Train Local_Simple,  epoch  70, local model 42, internal_epoch   1,  Average loss: 0.0129, Accuracy: 534/665 (80.3008%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.6972, Accuracy: 7722/10000 (77.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 38, internal_epoch   1,  Average loss: 0.0140, Accuracy: 612/774 (79.0698%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.6082, Accuracy: 7909/10000 (79.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 63, internal_epoch   1,  Average loss: 0.0161, Accuracy: 466/616 (75.6494%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.6360, Accuracy: 7985/10000 (79.8500%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 31, internal_epoch   1,  Average loss: 0.0113, Accuracy: 435/511 (85.1272%), train_poison_data_count: 511
Global model norm: 14.189465894909945.
Norm before scaling: 14.195408167330356. Distance: 0.3010537164359879
Total norm for 3 adversaries is: 14.195408167330356. distance: 0.3010537164359879
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 0.6412, Accuracy: 7096/8991 (78.9234%)
___Train Local_Simple,  epoch  70, local model 47, internal_epoch   1,  Average loss: 0.0126, Accuracy: 520/602 (86.3787%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.7100, Accuracy: 7706/10000 (77.0600%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 12, internal_epoch   1,  Average loss: 0.0122, Accuracy: 493/597 (82.5796%), train_poison_data_count: 597
Global model norm: 14.189465894909945.
Norm before scaling: 14.201910959527375. Distance: 0.3442274375993232
Total norm for 3 adversaries is: 14.201910959527375. distance: 0.3442274375993232
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 0.7145, Accuracy: 6780/8991 (75.4087%)
___Train Local_Simple,  epoch  70, local model 77, internal_epoch   1,  Average loss: 0.0157, Accuracy: 389/519 (74.9518%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.6310, Accuracy: 7890/10000 (78.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 37, internal_epoch   1,  Average loss: 0.0116, Accuracy: 525/641 (81.9033%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.5702, Accuracy: 8184/10000 (81.8400%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 23, internal_epoch   1,  Average loss: 0.0124, Accuracy: 494/588 (84.0136%), train_poison_data_count: 588
Global model norm: 14.189465894909945.
Norm before scaling: 14.190715408625238. Distance: 0.3097592808962536
Total norm for 3 adversaries is: 14.190715408625238. distance: 0.3097592808962536
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 0.5445, Accuracy: 7399/8991 (82.2934%)
___Train Local_Simple,  epoch  70, local model 83, internal_epoch   1,  Average loss: 0.0157, Accuracy: 433/555 (78.0180%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.7412, Accuracy: 7408/10000 (74.0800%), Attack Success Rate:0/10000(0.000)
time spent on training: 47.67888689041138
[foolsgold agg] training data poison_ratio: 0.2794990112063283  data num: [665, 774, 616, 511, 602, 597, 519, 641, 588, 555]
[foolsgold agg] considering poison per batch poison_fraction: 0.2794990112063283
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 70: Average loss: 0.6745, Accuracy: 7838/10000 (78.3800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 70: Average loss: 0.5105, Accuracy: 7789/8991 (86.6311%)
Done in 135.3631591796875 sec.
Server Epoch:71 choose agents : [94, 48, 35, 79, 29, 17, 27, 1, 41, 25].
___Train Local_Simple,  epoch  71, local model 94, internal_epoch   1,  Average loss: 0.0123, Accuracy: 451/555 (81.2613%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 0.8862, Accuracy: 7286/10000 (72.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 48, internal_epoch   1,  Average loss: 0.0141, Accuracy: 456/589 (77.4194%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 0.6336, Accuracy: 8098/10000 (80.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 35, internal_epoch   1,  Average loss: 0.0151, Accuracy: 380/493 (77.0791%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 0.7808, Accuracy: 7038/10000 (70.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 79, internal_epoch   1,  Average loss: 0.0116, Accuracy: 511/635 (80.4724%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 0.5391, Accuracy: 8237/10000 (82.3700%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 29, internal_epoch   1,  Average loss: 0.0106, Accuracy: 507/605 (83.8017%), train_poison_data_count: 605
Global model norm: 14.197432078961278.
Norm before scaling: 14.20100358452237. Distance: 0.31815023515135954
Total norm for 5 adversaries is: 14.20100358452237. distance: 0.31815023515135954
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 0.4667, Accuracy: 7743/8991 (86.1195%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 17, internal_epoch   1,  Average loss: 0.0092, Accuracy: 565/648 (87.1914%), train_poison_data_count: 648
Global model norm: 14.197432078961278.
Norm before scaling: 14.206362113057118. Distance: 0.29544616984119837
Total norm for 5 adversaries is: 14.206362113057118. distance: 0.29544616984119837
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 0.4433, Accuracy: 7822/8991 (86.9981%)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 27, internal_epoch   1,  Average loss: 0.0108, Accuracy: 549/650 (84.4615%), train_poison_data_count: 650
Global model norm: 14.197432078961278.
Norm before scaling: 14.209639831316704. Distance: 0.31306406612236787
Total norm for 5 adversaries is: 14.209639831316704. distance: 0.31306406612236787
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 0.4792, Accuracy: 7658/8991 (85.1741%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 1, internal_epoch   1,  Average loss: 0.0115, Accuracy: 529/606 (87.2937%), train_poison_data_count: 606
Global model norm: 14.197432078961278.
Norm before scaling: 14.207803457155102. Distance: 0.3609049200241075
Total norm for 5 adversaries is: 14.207803457155102. distance: 0.3609049200241075
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 0.6998, Accuracy: 6725/8991 (74.7970%)
___Train Local_Simple,  epoch  71, local model 41, internal_epoch   1,  Average loss: 0.0123, Accuracy: 522/652 (80.0613%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 1.1556, Accuracy: 5754/10000 (57.5400%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 25, internal_epoch   1,  Average loss: 0.0121, Accuracy: 480/582 (82.4742%), train_poison_data_count: 582
Global model norm: 14.197432078961278.
Norm before scaling: 14.199276779455012. Distance: 0.3215339214574716
Total norm for 5 adversaries is: 14.199276779455012. distance: 0.3215339214574716
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 0.4275, Accuracy: 7840/8991 (87.1983%)
time spent on training: 49.63485550880432
[foolsgold agg] training data poison_ratio: 0.513881961762261  data num: [555, 589, 493, 635, 605, 648, 650, 606, 652, 582]
[foolsgold agg] considering poison per batch poison_fraction: 0.513881961762261
[foolsgold agg] wv: [1.         1.         1.         1.         0.90236674 0.90236674
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 71: Average loss: 0.6640, Accuracy: 7877/10000 (78.7700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 71: Average loss: 0.4946, Accuracy: 7828/8991 (87.0648%)
Done in 137.43278861045837 sec.
Server Epoch:72 choose agents : [26, 77, 17, 61, 14, 0, 73, 94, 96, 25].
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 26, internal_epoch   1,  Average loss: 0.0092, Accuracy: 465/526 (88.4030%), train_poison_data_count: 526
Global model norm: 14.204667648622141.
Norm before scaling: 14.209747751186287. Distance: 0.24905930803041237
Total norm for 4 adversaries is: 14.209747751186287. distance: 0.24905930803041237
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 0.4700, Accuracy: 7745/8991 (86.1417%)
___Train Local_Simple,  epoch  72, local model 77, internal_epoch   1,  Average loss: 0.0154, Accuracy: 388/519 (74.7592%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 0.6107, Accuracy: 7914/10000 (79.1400%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 17, internal_epoch   1,  Average loss: 0.0089, Accuracy: 568/648 (87.6543%), train_poison_data_count: 648
Global model norm: 14.204667648622141.
Norm before scaling: 14.211509252688746. Distance: 0.3002503403591034
Total norm for 4 adversaries is: 14.211509252688746. distance: 0.3002503403591034
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 0.5887, Accuracy: 7229/8991 (80.4026%)
___Train Local_Simple,  epoch  72, local model 61, internal_epoch   1,  Average loss: 0.0121, Accuracy: 432/537 (80.4469%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 0.6269, Accuracy: 7840/10000 (78.4000%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 14, internal_epoch   1,  Average loss: 0.0111, Accuracy: 453/535 (84.6729%), train_poison_data_count: 535
Global model norm: 14.204667648622141.
Norm before scaling: 14.203705661432215. Distance: 0.2511451540863543
Total norm for 4 adversaries is: 14.203705661432215. distance: 0.2511451540863543
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 0.5074, Accuracy: 7556/8991 (84.0396%)
___Train Local_Simple,  epoch  72, local model 0, internal_epoch   1,  Average loss: 0.0134, Accuracy: 485/609 (79.6388%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 0.5915, Accuracy: 7999/10000 (79.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 73, internal_epoch   1,  Average loss: 0.0142, Accuracy: 500/626 (79.8722%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 0.6575, Accuracy: 7884/10000 (78.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 94, internal_epoch   1,  Average loss: 0.0110, Accuracy: 468/555 (84.3243%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 1.0163, Accuracy: 7213/10000 (72.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 96, internal_epoch   1,  Average loss: 0.0106, Accuracy: 501/608 (82.4013%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 0.8325, Accuracy: 7466/10000 (74.6600%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 25, internal_epoch   1,  Average loss: 0.0124, Accuracy: 491/582 (84.3643%), train_poison_data_count: 582
Global model norm: 14.204667648622141.
Norm before scaling: 14.206071034020377. Distance: 0.32682139433041424
Total norm for 4 adversaries is: 14.206071034020377. distance: 0.32682139433041424
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 0.4703, Accuracy: 7701/8991 (85.6523%)
time spent on training: 48.691981077194214
[foolsgold agg] training data poison_ratio: 0.3987815491731941  data num: [526, 519, 648, 537, 535, 609, 626, 555, 608, 582]
[foolsgold agg] considering poison per batch poison_fraction: 0.3987815491731941
[foolsgold agg] wv: [0.60412258 1.         0.97919134 0.86107168 0.60412258 0.86107168
 0.90009269 0.90009269 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 72: Average loss: 0.6381, Accuracy: 7901/10000 (79.0100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 72: Average loss: 0.4836, Accuracy: 7835/8991 (87.1427%)
Done in 136.33862447738647 sec.
Server Epoch:73 choose agents : [55, 99, 45, 50, 70, 11, 57, 98, 58, 43].
___Train Local_Simple,  epoch  73, local model 55, internal_epoch   1,  Average loss: 0.0123, Accuracy: 474/592 (80.0676%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.6083, Accuracy: 7832/10000 (78.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 99, internal_epoch   1,  Average loss: 0.0063, Accuracy: 376/410 (91.7073%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 1.8901, Accuracy: 6362/10000 (63.6200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 45, internal_epoch   1,  Average loss: 0.0130, Accuracy: 580/750 (77.3333%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.5172, Accuracy: 8489/10000 (84.8900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 50, internal_epoch   1,  Average loss: 0.0116, Accuracy: 393/474 (82.9114%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.5691, Accuracy: 8124/10000 (81.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 70, internal_epoch   1,  Average loss: 0.0132, Accuracy: 429/549 (78.1421%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.5438, Accuracy: 8511/10000 (85.1100%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 11, internal_epoch   1,  Average loss: 0.0108, Accuracy: 530/644 (82.2981%), train_poison_data_count: 644
Global model norm: 14.211048094333265.
Norm before scaling: 14.209017531103928. Distance: 0.3154178180173843
Total norm for 1 adversaries is: 14.209017531103928. distance: 0.3154178180173843
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 0.4950, Accuracy: 7447/8991 (82.8273%)
___Train Local_Simple,  epoch  73, local model 57, internal_epoch   1,  Average loss: 0.0143, Accuracy: 440/568 (77.4648%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.7001, Accuracy: 7478/10000 (74.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 98, internal_epoch   1,  Average loss: 0.0087, Accuracy: 478/568 (84.1549%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 1.3602, Accuracy: 7133/10000 (71.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 58, internal_epoch   1,  Average loss: 0.0120, Accuracy: 417/510 (81.7647%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.6596, Accuracy: 7798/10000 (77.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 43, internal_epoch   1,  Average loss: 0.0138, Accuracy: 406/518 (78.3784%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.6335, Accuracy: 7797/10000 (77.9700%), Attack Success Rate:0/10000(0.000)
time spent on training: 44.20326900482178
[foolsgold agg] training data poison_ratio: 0.1153501701594125  data num: [592, 410, 750, 474, 549, 644, 568, 568, 510, 518]
[foolsgold agg] considering poison per batch poison_fraction: 0.1153501701594125
[foolsgold agg] wv: [0.54888048 1.         0.54888048 0.32106552 0.40870694 1.
 0.40870694 0.         0.         0.32106552]
___Test Target_Simple poisoned: False, epoch: 73: Average loss: 0.6448, Accuracy: 7878/10000 (78.7800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 73: Average loss: 0.4834, Accuracy: 7823/8991 (87.0092%)
Done in 131.4846682548523 sec.
Server Epoch:74 choose agents : [42, 11, 89, 50, 55, 83, 51, 21, 0, 79].
___Train Local_Simple,  epoch  74, local model 42, internal_epoch   1,  Average loss: 0.0122, Accuracy: 549/665 (82.5564%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.5839, Accuracy: 7933/10000 (79.3300%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 11, internal_epoch   1,  Average loss: 0.0096, Accuracy: 551/644 (85.5590%), train_poison_data_count: 644
Global model norm: 14.21358884265638.
Norm before scaling: 14.204849725966998. Distance: 0.2973000971372467
Total norm for 2 adversaries is: 14.204849725966998. distance: 0.2973000971372467
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 0.4521, Accuracy: 7837/8991 (87.1649%)
___Train Local_Simple,  epoch  74, local model 89, internal_epoch   1,  Average loss: 0.0126, Accuracy: 562/664 (84.6386%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.5811, Accuracy: 8215/10000 (82.1500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 50, internal_epoch   1,  Average loss: 0.0127, Accuracy: 393/474 (82.9114%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.6055, Accuracy: 7901/10000 (79.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 55, internal_epoch   1,  Average loss: 0.0122, Accuracy: 481/592 (81.2500%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.5282, Accuracy: 8500/10000 (85.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 83, internal_epoch   1,  Average loss: 0.0132, Accuracy: 442/555 (79.6396%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.5529, Accuracy: 8378/10000 (83.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 51, internal_epoch   1,  Average loss: 0.0125, Accuracy: 507/647 (78.3617%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.5931, Accuracy: 7988/10000 (79.8800%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 21, internal_epoch   1,  Average loss: 0.0099, Accuracy: 546/625 (87.3600%), train_poison_data_count: 625
Global model norm: 14.21358884265638.
Norm before scaling: 14.208844635266466. Distance: 0.27816887466603063
Total norm for 2 adversaries is: 14.208844635266466. distance: 0.27816887466603063
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 0.4328, Accuracy: 7850/8991 (87.3095%)
___Train Local_Simple,  epoch  74, local model 0, internal_epoch   1,  Average loss: 0.0125, Accuracy: 504/609 (82.7586%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.6165, Accuracy: 8039/10000 (80.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 79, internal_epoch   1,  Average loss: 0.0107, Accuracy: 527/635 (82.9921%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.5209, Accuracy: 8390/10000 (83.9000%), Attack Success Rate:0/10000(0.000)
time spent on training: 46.28448557853699
[foolsgold agg] training data poison_ratio: 0.2076923076923077  data num: [665, 644, 664, 474, 592, 555, 647, 625, 609, 635]
[foolsgold agg] considering poison per batch poison_fraction: 0.2076923076923077
[foolsgold agg] wv: [0.45031669 0.82486066 1.         1.         0.45031669 0.57432804
 0.57432804 0.82486066 1.         0.87563679]
___Test Target_Simple poisoned: False, epoch: 74: Average loss: 0.6422, Accuracy: 7842/10000 (78.4200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 74: Average loss: 0.4889, Accuracy: 7789/8991 (86.6311%)
Done in 133.51592564582825 sec.
Server Epoch:75 choose agents : [7, 65, 20, 13, 16, 67, 55, 61, 24, 46].
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 7, internal_epoch   1,  Average loss: 0.0104, Accuracy: 465/550 (84.5455%), train_poison_data_count: 550
Global model norm: 14.218749463427187.
Norm before scaling: 14.215640757231869. Distance: 0.25611630126922674
Total norm for 5 adversaries is: 14.215640757231869. distance: 0.25611630126922674
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 0.4262, Accuracy: 7848/8991 (87.2873%)
___Train Local_Simple,  epoch  75, local model 65, internal_epoch   1,  Average loss: 0.0146, Accuracy: 450/573 (78.5340%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 0.5773, Accuracy: 8262/10000 (82.6200%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 20, internal_epoch   1,  Average loss: 0.0123, Accuracy: 463/553 (83.7251%), train_poison_data_count: 553
Global model norm: 14.218749463427187.
Norm before scaling: 14.222559693094377. Distance: 0.31012608552010107
Total norm for 5 adversaries is: 14.222559693094377. distance: 0.31012608552010107
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 0.5220, Accuracy: 7499/8991 (83.4056%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 13, internal_epoch   1,  Average loss: 0.0093, Accuracy: 459/521 (88.0998%), train_poison_data_count: 521
Global model norm: 14.218749463427187.
Norm before scaling: 14.218113610415127. Distance: 0.2648150915208587
Total norm for 5 adversaries is: 14.218113610415127. distance: 0.2648150915208587
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 0.4948, Accuracy: 7525/8991 (83.6948%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 16, internal_epoch   1,  Average loss: 0.0109, Accuracy: 479/581 (82.4441%), train_poison_data_count: 581
Global model norm: 14.218749463427187.
Norm before scaling: 14.218268149459057. Distance: 0.3202755371724681
Total norm for 5 adversaries is: 14.218268149459057. distance: 0.3202755371724681
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 0.6411, Accuracy: 6837/8991 (76.0427%)
___Train Local_Simple,  epoch  75, local model 67, internal_epoch   1,  Average loss: 0.0135, Accuracy: 495/643 (76.9829%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 0.5952, Accuracy: 8159/10000 (81.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  75, local model 55, internal_epoch   1,  Average loss: 0.0120, Accuracy: 484/592 (81.7568%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 0.6876, Accuracy: 7675/10000 (76.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  75, local model 61, internal_epoch   1,  Average loss: 0.0123, Accuracy: 436/537 (81.1918%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 0.5622, Accuracy: 8195/10000 (81.9500%), Attack Success Rate:0/10000(0.000)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 24, internal_epoch   1,  Average loss: 0.0089, Accuracy: 507/578 (87.7163%), train_poison_data_count: 578
Global model norm: 14.218749463427187.
Norm before scaling: 14.225292000346327. Distance: 0.31496667095247166
Total norm for 5 adversaries is: 14.225292000346327. distance: 0.31496667095247166
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 0.4561, Accuracy: 7764/8991 (86.3530%)
___Train Local_Simple,  epoch  75, local model 46, internal_epoch   1,  Average loss: 0.0119, Accuracy: 401/478 (83.8912%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 0.5830, Accuracy: 8113/10000 (81.1300%), Attack Success Rate:0/10000(0.000)
time spent on training: 49.47369146347046
[foolsgold agg] training data poison_ratio: 0.49643239386371746  data num: [550, 573, 553, 521, 581, 643, 592, 537, 578, 478]
[foolsgold agg] considering poison per batch poison_fraction: 0.49643239386371746
[foolsgold agg] wv: [0.75296932 0.88000881 1.         1.         0.2192355  1.
 1.         1.         0.2192355  0.88000881]
___Test Target_Simple poisoned: False, epoch: 75: Average loss: 0.6291, Accuracy: 7874/10000 (78.7400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 75: Average loss: 0.4823, Accuracy: 7806/8991 (86.8202%)
Done in 136.99478673934937 sec.
Server Epoch:76 choose agents : [85, 65, 12, 51, 68, 15, 75, 90, 26, 71].
___Train Local_Simple,  epoch  76, local model 85, internal_epoch   1,  Average loss: 0.0117, Accuracy: 467/570 (81.9298%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.5516, Accuracy: 8326/10000 (83.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 65, internal_epoch   1,  Average loss: 0.0134, Accuracy: 451/573 (78.7086%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.6078, Accuracy: 7956/10000 (79.5600%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 12, internal_epoch   1,  Average loss: 0.0109, Accuracy: 503/597 (84.2546%), train_poison_data_count: 597
Global model norm: 14.2236073004942.
Norm before scaling: 14.223732278713749. Distance: 0.31034783516548725
Total norm for 3 adversaries is: 14.223732278713749. distance: 0.31034783516548725
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 0.4203, Accuracy: 7921/8991 (88.0992%)
___Train Local_Simple,  epoch  76, local model 51, internal_epoch   1,  Average loss: 0.0120, Accuracy: 520/647 (80.3709%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.6185, Accuracy: 7975/10000 (79.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 68, internal_epoch   1,  Average loss: 0.0124, Accuracy: 512/632 (81.0127%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.5156, Accuracy: 8469/10000 (84.6900%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 15, internal_epoch   1,  Average loss: 0.0108, Accuracy: 487/572 (85.1399%), train_poison_data_count: 572
Global model norm: 14.2236073004942.
Norm before scaling: 14.229280098071547. Distance: 0.31672201765620867
Total norm for 3 adversaries is: 14.229280098071547. distance: 0.31672201765620867
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 0.6499, Accuracy: 7085/8991 (78.8010%)
___Train Local_Simple,  epoch  76, local model 75, internal_epoch   1,  Average loss: 0.0139, Accuracy: 440/554 (79.4224%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.5864, Accuracy: 8025/10000 (80.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 90, internal_epoch   1,  Average loss: 0.0124, Accuracy: 463/577 (80.2426%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.5620, Accuracy: 8345/10000 (83.4500%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 26, internal_epoch   1,  Average loss: 0.0086, Accuracy: 469/526 (89.1635%), train_poison_data_count: 526
Global model norm: 14.2236073004942.
Norm before scaling: 14.227344372048474. Distance: 0.24835848571435737
Total norm for 3 adversaries is: 14.227344372048474. distance: 0.24835848571435737
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 0.4819, Accuracy: 7639/8991 (84.9627%)
___Train Local_Simple,  epoch  76, local model 71, internal_epoch   1,  Average loss: 0.0119, Accuracy: 524/638 (82.1317%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.5132, Accuracy: 8393/10000 (83.9300%), Attack Success Rate:0/10000(0.000)
time spent on training: 47.50333595275879
[foolsgold agg] training data poison_ratio: 0.28797145769622834  data num: [570, 573, 597, 647, 632, 572, 554, 577, 526, 638]
[foolsgold agg] considering poison per batch poison_fraction: 0.28797145769622834
[foolsgold agg] wv: [0.26096627 0.26096627 0.92503091 1.         0.58211513 1.
 1.         0.58211513 0.92503091 1.        ]
___Test Target_Simple poisoned: False, epoch: 76: Average loss: 0.6312, Accuracy: 7856/10000 (78.5600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 76: Average loss: 0.4796, Accuracy: 7786/8991 (86.5977%)
Done in 134.57615995407104 sec.
Server Epoch:77 choose agents : [57, 55, 95, 96, 74, 18, 53, 39, 52, 60].
___Train Local_Simple,  epoch  77, local model 57, internal_epoch   1,  Average loss: 0.0134, Accuracy: 449/568 (79.0493%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.6317, Accuracy: 8016/10000 (80.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 55, internal_epoch   1,  Average loss: 0.0114, Accuracy: 478/592 (80.7432%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.6066, Accuracy: 8176/10000 (81.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 95, internal_epoch   1,  Average loss: 0.0128, Accuracy: 433/532 (81.3910%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.7533, Accuracy: 7923/10000 (79.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 96, internal_epoch   1,  Average loss: 0.0099, Accuracy: 513/608 (84.3750%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.7064, Accuracy: 7982/10000 (79.8200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 74, internal_epoch   1,  Average loss: 0.0131, Accuracy: 499/626 (79.7125%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.4851, Accuracy: 8682/10000 (86.8200%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 18, internal_epoch   1,  Average loss: 0.0118, Accuracy: 425/516 (82.3643%), train_poison_data_count: 516
Global model norm: 14.228546054574531.
Norm before scaling: 14.232585773594845. Distance: 0.2721670746831372
Total norm for 1 adversaries is: 14.232585773594845. distance: 0.2721670746831372
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 0.3857, Accuracy: 7997/8991 (88.9445%)
___Train Local_Simple,  epoch  77, local model 53, internal_epoch   1,  Average loss: 0.0119, Accuracy: 512/617 (82.9822%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.5316, Accuracy: 8306/10000 (83.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 39, internal_epoch   1,  Average loss: 0.0131, Accuracy: 399/503 (79.3241%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.8695, Accuracy: 6750/10000 (67.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 52, internal_epoch   1,  Average loss: 0.0142, Accuracy: 472/618 (76.3754%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.5877, Accuracy: 8213/10000 (82.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 60, internal_epoch   1,  Average loss: 0.0121, Accuracy: 521/644 (80.9006%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.6618, Accuracy: 7837/10000 (78.3700%), Attack Success Rate:0/10000(0.000)
time spent on training: 45.44538736343384
[foolsgold agg] training data poison_ratio: 0.0885989010989011  data num: [568, 592, 532, 608, 626, 516, 617, 503, 618, 644]
[foolsgold agg] considering poison per batch poison_fraction: 0.08859890109890109
[foolsgold agg] wv: [1.         1.         1.         1.         0.81841682 1.
 0.81841682 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 77: Average loss: 0.5963, Accuracy: 7960/10000 (79.6000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 77: Average loss: 0.4679, Accuracy: 7842/8991 (87.2206%)
Done in 133.00155019760132 sec.
Server Epoch:78 choose agents : [43, 49, 84, 46, 1, 11, 5, 7, 3, 45].
___Train Local_Simple,  epoch  78, local model 43, internal_epoch   1,  Average loss: 0.0110, Accuracy: 431/518 (83.2046%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 0.5255, Accuracy: 8337/10000 (83.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 49, internal_epoch   1,  Average loss: 0.0119, Accuracy: 421/516 (81.5891%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 0.5135, Accuracy: 8373/10000 (83.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 84, internal_epoch   1,  Average loss: 0.0111, Accuracy: 469/560 (83.7500%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 0.5159, Accuracy: 8455/10000 (84.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 46, internal_epoch   1,  Average loss: 0.0109, Accuracy: 399/478 (83.4728%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 0.5519, Accuracy: 8172/10000 (81.7200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 1, internal_epoch   1,  Average loss: 0.0100, Accuracy: 525/606 (86.6337%), train_poison_data_count: 606
Global model norm: 14.234532578367629.
Norm before scaling: 14.233409660426537. Distance: 0.34370347271666807
Total norm for 5 adversaries is: 14.233409660426537. distance: 0.34370347271666807
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 0.6430, Accuracy: 7168/8991 (79.7242%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 11, internal_epoch   1,  Average loss: 0.0093, Accuracy: 555/644 (86.1801%), train_poison_data_count: 644
Global model norm: 14.234532578367629.
Norm before scaling: 14.226660102287383. Distance: 0.3144688572709519
Total norm for 5 adversaries is: 14.226660102287383. distance: 0.3144688572709519
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 0.5798, Accuracy: 7148/8991 (79.5017%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 5, internal_epoch   1,  Average loss: 0.0101, Accuracy: 447/512 (87.3047%), train_poison_data_count: 512
Global model norm: 14.234532578367629.
Norm before scaling: 14.235587343748216. Distance: 0.2941633284116413
Total norm for 5 adversaries is: 14.235587343748216. distance: 0.2941633284116413
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 0.6020, Accuracy: 7254/8991 (80.6807%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 7, internal_epoch   1,  Average loss: 0.0101, Accuracy: 468/550 (85.0909%), train_poison_data_count: 550
Global model norm: 14.234532578367629.
Norm before scaling: 14.231200549911343. Distance: 0.2411045735711556
Total norm for 5 adversaries is: 14.231200549911343. distance: 0.2411045735711556
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 0.4196, Accuracy: 7799/8991 (86.7423%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 3, internal_epoch   1,  Average loss: 0.0120, Accuracy: 431/505 (85.3465%), train_poison_data_count: 505
Global model norm: 14.234532578367629.
Norm before scaling: 14.234819323642917. Distance: 0.28629334929446515
Total norm for 5 adversaries is: 14.234819323642917. distance: 0.28629334929446515
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 0.6457, Accuracy: 6992/8991 (77.7667%)
___Train Local_Simple,  epoch  78, local model 45, internal_epoch   1,  Average loss: 0.0138, Accuracy: 571/750 (76.1333%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 0.7075, Accuracy: 7335/10000 (73.3500%), Attack Success Rate:0/10000(0.000)
time spent on training: 49.41277456283569
[foolsgold agg] training data poison_ratio: 0.499556658982089  data num: [518, 516, 560, 478, 606, 644, 512, 550, 505, 750]
[foolsgold agg] considering poison per batch poison_fraction: 0.499556658982089
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 78: Average loss: 0.6004, Accuracy: 7984/10000 (79.8400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 78: Average loss: 0.4486, Accuracy: 7889/8991 (87.7433%)
Done in 137.09759259223938 sec.
Server Epoch:79 choose agents : [54, 29, 4, 38, 52, 86, 28, 34, 15, 75].
___Train Local_Simple,  epoch  79, local model 54, internal_epoch   1,  Average loss: 0.0105, Accuracy: 448/523 (85.6597%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.5900, Accuracy: 8104/10000 (81.0400%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 29, internal_epoch   1,  Average loss: 0.0102, Accuracy: 512/605 (84.6281%), train_poison_data_count: 605
Global model norm: 14.240469974948926.
Norm before scaling: 14.228868845349727. Distance: 0.3028318063783718
Total norm for 4 adversaries is: 14.228868845349727. distance: 0.3028318063783718
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 0.6321, Accuracy: 7110/8991 (79.0791%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 4, internal_epoch   1,  Average loss: 0.0091, Accuracy: 510/587 (86.8825%), train_poison_data_count: 587
Global model norm: 14.240469974948926.
Norm before scaling: 14.238306434305574. Distance: 0.26597214902279753
Total norm for 4 adversaries is: 14.238306434305574. distance: 0.26597214902279753
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 0.4882, Accuracy: 7550/8991 (83.9729%)
___Train Local_Simple,  epoch  79, local model 38, internal_epoch   1,  Average loss: 0.0115, Accuracy: 650/774 (83.9793%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.5599, Accuracy: 8198/10000 (81.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  79, local model 52, internal_epoch   1,  Average loss: 0.0137, Accuracy: 487/618 (78.8026%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.5948, Accuracy: 7974/10000 (79.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  79, local model 86, internal_epoch   1,  Average loss: 0.0112, Accuracy: 492/587 (83.8160%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.5248, Accuracy: 8427/10000 (84.2700%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 28, internal_epoch   1,  Average loss: 0.0108, Accuracy: 556/665 (83.6090%), train_poison_data_count: 665
Global model norm: 14.240469974948926.
Norm before scaling: 14.22643432894625. Distance: 0.32785257883595
Total norm for 4 adversaries is: 14.22643432894625. distance: 0.32785257883595
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 0.5252, Accuracy: 7416/8991 (82.4825%)
___Train Local_Simple,  epoch  79, local model 34, internal_epoch   1,  Average loss: 0.0116, Accuracy: 424/528 (80.3030%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.6024, Accuracy: 7801/10000 (78.0100%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 15, internal_epoch   1,  Average loss: 0.0104, Accuracy: 483/572 (84.4406%), train_poison_data_count: 572
Global model norm: 14.240469974948926.
Norm before scaling: 14.241986614909376. Distance: 0.28767188106920377
Total norm for 4 adversaries is: 14.241986614909376. distance: 0.28767188106920377
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 0.4169, Accuracy: 7854/8991 (87.3540%)
___Train Local_Simple,  epoch  79, local model 75, internal_epoch   1,  Average loss: 0.0123, Accuracy: 444/554 (80.1444%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.5999, Accuracy: 8122/10000 (81.2200%), Attack Success Rate:0/10000(0.000)
time spent on training: 48.827553272247314
[foolsgold agg] training data poison_ratio: 0.4039580908032596  data num: [523, 605, 587, 774, 618, 587, 665, 528, 572, 554]
[foolsgold agg] considering poison per batch poison_fraction: 0.4039580908032596
[foolsgold agg] wv: [1.         1.         1.         1.         0.74071493 1.
 1.         0.74071493 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 79: Average loss: 0.6263, Accuracy: 7939/10000 (79.3900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 79: Average loss: 0.4466, Accuracy: 7885/8991 (87.6988%)
Done in 136.78673338890076 sec.
Server Epoch:80 choose agents : [66, 24, 28, 36, 54, 92, 27, 46, 29, 52].
___Train Local_Simple,  epoch  80, local model 66, internal_epoch   1,  Average loss: 0.0126, Accuracy: 507/629 (80.6041%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.5314, Accuracy: 8446/10000 (84.4600%), Attack Success Rate:0/10000(0.000)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 24, internal_epoch   1,  Average loss: 0.0092, Accuracy: 504/578 (87.1972%), train_poison_data_count: 578
Global model norm: 14.246056797491148.
Norm before scaling: 14.248432809415009. Distance: 0.29792998485317773
Total norm for 4 adversaries is: 14.248432809415009. distance: 0.29792998485317773
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 0.3992, Accuracy: 7880/8991 (87.6432%)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 28, internal_epoch   1,  Average loss: 0.0111, Accuracy: 549/665 (82.5564%), train_poison_data_count: 665
Global model norm: 14.246056797491148.
Norm before scaling: 14.232179440993042. Distance: 0.34266082565794165
Total norm for 4 adversaries is: 14.232179440993042. distance: 0.34266082565794165
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 0.5175, Accuracy: 7505/8991 (83.4724%)
___Train Local_Simple,  epoch  80, local model 36, internal_epoch   1,  Average loss: 0.0108, Accuracy: 435/520 (83.6538%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.5448, Accuracy: 8335/10000 (83.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  80, local model 54, internal_epoch   1,  Average loss: 0.0105, Accuracy: 440/523 (84.1300%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.6019, Accuracy: 7958/10000 (79.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  80, local model 92, internal_epoch   1,  Average loss: 0.0119, Accuracy: 484/571 (84.7636%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.4754, Accuracy: 8499/10000 (84.9900%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 27, internal_epoch   1,  Average loss: 0.0098, Accuracy: 550/650 (84.6154%), train_poison_data_count: 650
Global model norm: 14.246056797491148.
Norm before scaling: 14.243037078678459. Distance: 0.29851342129287023
Total norm for 4 adversaries is: 14.243037078678459. distance: 0.29851342129287023
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 0.5168, Accuracy: 7437/8991 (82.7160%)
___Train Local_Simple,  epoch  80, local model 46, internal_epoch   1,  Average loss: 0.0103, Accuracy: 400/478 (83.6820%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.5719, Accuracy: 8089/10000 (80.8900%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 29, internal_epoch   1,  Average loss: 0.0113, Accuracy: 501/605 (82.8099%), train_poison_data_count: 605
Global model norm: 14.246056797491148.
Norm before scaling: 14.235258809863243. Distance: 0.32139262237736765
Total norm for 4 adversaries is: 14.235258809863243. distance: 0.32139262237736765
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 0.8062, Accuracy: 6525/8991 (72.5726%)
___Train Local_Simple,  epoch  80, local model 52, internal_epoch   1,  Average loss: 0.0139, Accuracy: 487/618 (78.8026%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.5072, Accuracy: 8446/10000 (84.4600%), Attack Success Rate:0/10000(0.000)
time spent on training: 48.72768807411194
[foolsgold agg] training data poison_ratio: 0.42795956827137227  data num: [629, 578, 665, 520, 523, 571, 650, 478, 605, 618]
[foolsgold agg] considering poison per batch poison_fraction: 0.42795956827137227
[foolsgold agg] wv: [1.         1.         1.         0.92328737 0.87060504 1.
 0.87060504 0.92328737 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 80: Average loss: 0.6278, Accuracy: 7924/10000 (79.2400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 80: Average loss: 0.4395, Accuracy: 7873/8991 (87.5653%)
Done in 136.21818113327026 sec.
Server Epoch:81 choose agents : [18, 22, 59, 69, 37, 56, 36, 68, 39, 46].
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 18, internal_epoch   1,  Average loss: 0.0105, Accuracy: 436/516 (84.4961%), train_poison_data_count: 516
Global model norm: 14.251537039330124.
Norm before scaling: 14.255206846665219. Distance: 0.277545828471707
Total norm for 2 adversaries is: 14.255206846665219. distance: 0.277545828471707
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 0.4206, Accuracy: 7843/8991 (87.2317%)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 22, internal_epoch   1,  Average loss: 0.0099, Accuracy: 444/531 (83.6158%), train_poison_data_count: 531
Global model norm: 14.251537039330124.
Norm before scaling: 14.246533959472334. Distance: 0.24254666122842902
Total norm for 2 adversaries is: 14.246533959472334. distance: 0.24254666122842902
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 0.5439, Accuracy: 7515/8991 (83.5836%)
___Train Local_Simple,  epoch  81, local model 59, internal_epoch   1,  Average loss: 0.0111, Accuracy: 542/652 (83.1288%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.6929, Accuracy: 7708/10000 (77.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 69, internal_epoch   1,  Average loss: 0.0115, Accuracy: 529/646 (81.8885%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.5496, Accuracy: 8319/10000 (83.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 37, internal_epoch   1,  Average loss: 0.0097, Accuracy: 548/641 (85.4914%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.5662, Accuracy: 8177/10000 (81.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 56, internal_epoch   1,  Average loss: 0.0121, Accuracy: 498/626 (79.5527%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.5502, Accuracy: 8190/10000 (81.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 36, internal_epoch   1,  Average loss: 0.0107, Accuracy: 436/520 (83.8462%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.4757, Accuracy: 8556/10000 (85.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 68, internal_epoch   1,  Average loss: 0.0124, Accuracy: 509/632 (80.5380%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.6353, Accuracy: 7579/10000 (75.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 39, internal_epoch   1,  Average loss: 0.0118, Accuracy: 401/503 (79.7217%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.5225, Accuracy: 8391/10000 (83.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 46, internal_epoch   1,  Average loss: 0.0105, Accuracy: 402/478 (84.1004%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.4870, Accuracy: 8582/10000 (85.8200%), Attack Success Rate:0/10000(0.000)
time spent on training: 47.408369302749634
[foolsgold agg] training data poison_ratio: 0.18224543080939948  data num: [516, 531, 652, 646, 641, 626, 520, 632, 503, 478]
[foolsgold agg] considering poison per batch poison_fraction: 0.18224543080939948
[foolsgold agg] wv: [1.         1.         0.         0.18671496 0.         0.58883201
 0.22302041 0.22302041 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 81: Average loss: 0.6194, Accuracy: 7941/10000 (79.4100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 81: Average loss: 0.4362, Accuracy: 7883/8991 (87.6766%)
Done in 135.08515119552612 sec.
Server Epoch:82 choose agents : [72, 95, 79, 51, 47, 29, 10, 16, 84, 27].
___Train Local_Simple,  epoch  82, local model 72, internal_epoch   1,  Average loss: 0.0110, Accuracy: 445/529 (84.1210%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.4640, Accuracy: 8590/10000 (85.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 95, internal_epoch   1,  Average loss: 0.0115, Accuracy: 443/532 (83.2707%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.7680, Accuracy: 7751/10000 (77.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 79, internal_epoch   1,  Average loss: 0.0092, Accuracy: 539/635 (84.8819%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.5137, Accuracy: 8299/10000 (82.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 51, internal_epoch   1,  Average loss: 0.0105, Accuracy: 543/647 (83.9258%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.4654, Accuracy: 8585/10000 (85.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 47, internal_epoch   1,  Average loss: 0.0087, Accuracy: 529/602 (87.8738%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.5628, Accuracy: 8119/10000 (81.1900%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 29, internal_epoch   1,  Average loss: 0.0096, Accuracy: 515/605 (85.1240%), train_poison_data_count: 605
Global model norm: 14.254166914066303.
Norm before scaling: 14.241844654403314. Distance: 0.2907993101551264
Total norm for 4 adversaries is: 14.241844654403314. distance: 0.2907993101551264
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 0.4115, Accuracy: 7862/8991 (87.4430%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 10, internal_epoch   1,  Average loss: 0.0091, Accuracy: 491/572 (85.8392%), train_poison_data_count: 572
Global model norm: 14.254166914066303.
Norm before scaling: 14.251144630906516. Distance: 0.31966942688539535
Total norm for 4 adversaries is: 14.251144630906516. distance: 0.31966942688539535
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 0.3981, Accuracy: 7902/8991 (87.8879%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 16, internal_epoch   1,  Average loss: 0.0091, Accuracy: 502/581 (86.4028%), train_poison_data_count: 581
Global model norm: 14.254166914066303.
Norm before scaling: 14.25218050151806. Distance: 0.31098507608241616
Total norm for 4 adversaries is: 14.25218050151806. distance: 0.31098507608241616
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 0.4687, Accuracy: 7662/8991 (85.2186%)
___Train Local_Simple,  epoch  82, local model 84, internal_epoch   1,  Average loss: 0.0110, Accuracy: 458/560 (81.7857%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.5298, Accuracy: 8342/10000 (83.4200%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 27, internal_epoch   1,  Average loss: 0.0091, Accuracy: 564/650 (86.7692%), train_poison_data_count: 650
Global model norm: 14.254166914066303.
Norm before scaling: 14.248202561906439. Distance: 0.2629341259543341
Total norm for 4 adversaries is: 14.248202561906439. distance: 0.2629341259543341
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 0.4073, Accuracy: 7895/8991 (87.8100%)
time spent on training: 49.37756013870239
[foolsgold agg] training data poison_ratio: 0.4072382885168273  data num: [529, 532, 635, 647, 602, 605, 572, 581, 560, 650]
[foolsgold agg] considering poison per batch poison_fraction: 0.4072382885168273
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 82: Average loss: 0.6171, Accuracy: 7954/10000 (79.5400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 82: Average loss: 0.4282, Accuracy: 7894/8991 (87.7989%)
Done in 137.4150390625 sec.
Server Epoch:83 choose agents : [47, 97, 40, 98, 33, 92, 96, 76, 73, 72].
___Train Local_Simple,  epoch  83, local model 47, internal_epoch   1,  Average loss: 0.0090, Accuracy: 523/602 (86.8771%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.5877, Accuracy: 8071/10000 (80.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 97, internal_epoch   1,  Average loss: 0.0120, Accuracy: 466/588 (79.2517%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.7454, Accuracy: 7902/10000 (79.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 40, internal_epoch   1,  Average loss: 0.0123, Accuracy: 465/563 (82.5933%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.5774, Accuracy: 8034/10000 (80.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 98, internal_epoch   1,  Average loss: 0.0069, Accuracy: 502/568 (88.3803%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 1.2633, Accuracy: 7116/10000 (71.1600%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 33, internal_epoch   1,  Average loss: 0.0076, Accuracy: 566/638 (88.7147%), train_poison_data_count: 638
Global model norm: 14.259732319377965.
Norm before scaling: 14.257910958564153. Distance: 0.2811342106994147
Total norm for 1 adversaries is: 14.257910958564153. distance: 0.2811342106994147
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 0.4135, Accuracy: 7821/8991 (86.9870%)
___Train Local_Simple,  epoch  83, local model 92, internal_epoch   1,  Average loss: 0.0117, Accuracy: 480/571 (84.0630%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.5355, Accuracy: 8326/10000 (83.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 96, internal_epoch   1,  Average loss: 0.0082, Accuracy: 526/608 (86.5132%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.6820, Accuracy: 8072/10000 (80.7200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 76, internal_epoch   1,  Average loss: 0.0109, Accuracy: 420/518 (81.0811%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.5391, Accuracy: 8270/10000 (82.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 73, internal_epoch   1,  Average loss: 0.0116, Accuracy: 511/626 (81.6294%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.4978, Accuracy: 8449/10000 (84.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 72, internal_epoch   1,  Average loss: 0.0104, Accuracy: 442/529 (83.5539%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.5180, Accuracy: 8322/10000 (83.2200%), Attack Success Rate:0/10000(0.000)
time spent on training: 46.0950083732605
[foolsgold agg] training data poison_ratio: 0.10979177422130443  data num: [602, 588, 563, 568, 638, 571, 608, 518, 626, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.10979177422130443
[foolsgold agg] wv: [0.0325093  1.         0.31920284 0.31920284 1.         1.
 0.0325093  0.42051885 0.42051885 0.5432097 ]
___Test Target_Simple poisoned: False, epoch: 83: Average loss: 0.6171, Accuracy: 7944/10000 (79.4400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 83: Average loss: 0.4306, Accuracy: 7883/8991 (87.6766%)
Done in 133.09258580207825 sec.
Server Epoch:84 choose agents : [68, 38, 40, 13, 30, 2, 83, 51, 27, 88].
___Train Local_Simple,  epoch  84, local model 68, internal_epoch   1,  Average loss: 0.0120, Accuracy: 514/632 (81.3291%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.5156, Accuracy: 8443/10000 (84.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 38, internal_epoch   1,  Average loss: 0.0119, Accuracy: 640/774 (82.6873%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.5067, Accuracy: 8481/10000 (84.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 40, internal_epoch   1,  Average loss: 0.0118, Accuracy: 455/563 (80.8171%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.6454, Accuracy: 7984/10000 (79.8400%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 13, internal_epoch   1,  Average loss: 0.0082, Accuracy: 468/521 (89.8273%), train_poison_data_count: 521
Global model norm: 14.261896354344689.
Norm before scaling: 14.254478420107025. Distance: 0.22304120165128338
Total norm for 4 adversaries is: 14.254478420107025. distance: 0.22304120165128338
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 0.4575, Accuracy: 7727/8991 (85.9415%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 30, internal_epoch   1,  Average loss: 0.0101, Accuracy: 573/668 (85.7784%), train_poison_data_count: 668
Global model norm: 14.261896354344689.
Norm before scaling: 14.250213086057586. Distance: 0.34519239727678724
Total norm for 4 adversaries is: 14.250213086057586. distance: 0.34519239727678724
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 0.6360, Accuracy: 7156/8991 (79.5907%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 2, internal_epoch   1,  Average loss: 0.0090, Accuracy: 513/580 (88.4483%), train_poison_data_count: 580
Global model norm: 14.261896354344689.
Norm before scaling: 14.254260580687742. Distance: 0.25757680580789444
Total norm for 4 adversaries is: 14.254260580687742. distance: 0.25757680580789444
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 0.4406, Accuracy: 7709/8991 (85.7413%)
___Train Local_Simple,  epoch  84, local model 83, internal_epoch   1,  Average loss: 0.0116, Accuracy: 459/555 (82.7027%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.6715, Accuracy: 7807/10000 (78.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 51, internal_epoch   1,  Average loss: 0.0108, Accuracy: 535/647 (82.6893%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.5645, Accuracy: 8293/10000 (82.9300%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 27, internal_epoch   1,  Average loss: 0.0091, Accuracy: 561/650 (86.3077%), train_poison_data_count: 650
Global model norm: 14.261896354344689.
Norm before scaling: 14.253108706106396. Distance: 0.2786867105798348
Total norm for 4 adversaries is: 14.253108706106396. distance: 0.2786867105798348
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 0.5618, Accuracy: 7424/8991 (82.5715%)
___Train Local_Simple,  epoch  84, local model 88, internal_epoch   1,  Average loss: 0.0110, Accuracy: 570/679 (83.9470%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.5216, Accuracy: 8100/10000 (81.0000%), Attack Success Rate:0/10000(0.000)
time spent on training: 50.43275594711304
[foolsgold agg] training data poison_ratio: 0.38586696442813845  data num: [632, 774, 563, 521, 668, 580, 555, 647, 650, 679]
[foolsgold agg] considering poison per batch poison_fraction: 0.38586696442813845
[foolsgold agg] wv: [1.         1.         0.29179694 1.         1.         1.
 1.         0.29179694 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 84: Average loss: 0.6128, Accuracy: 7985/10000 (79.8500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 84: Average loss: 0.4126, Accuracy: 7935/8991 (88.2549%)
Done in 138.32413363456726 sec.
Server Epoch:85 choose agents : [6, 49, 50, 32, 22, 78, 64, 66, 82, 47].
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 6, internal_epoch   1,  Average loss: 0.0111, Accuracy: 584/708 (82.4859%), train_poison_data_count: 708
Global model norm: 14.266462487396687.
Norm before scaling: 14.248666265880653. Distance: 0.3135227157509562
Total norm for 3 adversaries is: 14.248666265880653. distance: 0.3135227157509562
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 0.4719, Accuracy: 7608/8991 (84.6180%)
___Train Local_Simple,  epoch  85, local model 49, internal_epoch   1,  Average loss: 0.0110, Accuracy: 426/516 (82.5581%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.4730, Accuracy: 8589/10000 (85.8900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 50, internal_epoch   1,  Average loss: 0.0106, Accuracy: 401/474 (84.5992%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.5572, Accuracy: 8008/10000 (80.0800%), Attack Success Rate:0/10000(0.000)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 32, internal_epoch   1,  Average loss: 0.0097, Accuracy: 515/609 (84.5649%), train_poison_data_count: 609
Global model norm: 14.266462487396687.
Norm before scaling: 14.254845581716898. Distance: 0.3096598907735578
Total norm for 3 adversaries is: 14.254845581716898. distance: 0.3096598907735578
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 0.4420, Accuracy: 7786/8991 (86.5977%)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 22, internal_epoch   1,  Average loss: 0.0100, Accuracy: 458/531 (86.2524%), train_poison_data_count: 531
Global model norm: 14.266462487396687.
Norm before scaling: 14.259810968673627. Distance: 0.2474438553765019
Total norm for 3 adversaries is: 14.259810968673627. distance: 0.2474438553765019
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 0.6209, Accuracy: 7121/8991 (79.2014%)
___Train Local_Simple,  epoch  85, local model 78, internal_epoch   1,  Average loss: 0.0120, Accuracy: 514/624 (82.3718%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.5665, Accuracy: 8240/10000 (82.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 64, internal_epoch   1,  Average loss: 0.0127, Accuracy: 461/566 (81.4488%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.5485, Accuracy: 8255/10000 (82.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 66, internal_epoch   1,  Average loss: 0.0121, Accuracy: 510/629 (81.0811%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.5463, Accuracy: 8314/10000 (83.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 82, internal_epoch   1,  Average loss: 0.0112, Accuracy: 513/621 (82.6087%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.5309, Accuracy: 8313/10000 (83.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 47, internal_epoch   1,  Average loss: 0.0095, Accuracy: 511/602 (84.8837%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.5271, Accuracy: 8113/10000 (81.1300%), Attack Success Rate:0/10000(0.000)
time spent on training: 48.413135290145874
[foolsgold agg] training data poison_ratio: 0.3142857142857143  data num: [708, 516, 474, 609, 531, 624, 566, 629, 621, 602]
[foolsgold agg] considering poison per batch poison_fraction: 0.3142857142857143
[foolsgold agg] wv: [1.         0.7357046  0.7357046  1.         1.         0.90099462
 1.         0.63556519 0.63556519 1.        ]
___Test Target_Simple poisoned: False, epoch: 85: Average loss: 0.6086, Accuracy: 8004/10000 (80.0400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 85: Average loss: 0.4085, Accuracy: 7959/8991 (88.5219%)
Done in 136.12097144126892 sec.
Server Epoch:86 choose agents : [1, 14, 49, 15, 89, 79, 44, 9, 13, 68].
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 1, internal_epoch   1,  Average loss: 0.0113, Accuracy: 522/606 (86.1386%), train_poison_data_count: 606
Global model norm: 14.271036247797056.
Norm before scaling: 14.260565337842774. Distance: 0.31323552594687243
Total norm for 5 adversaries is: 14.260565337842774. distance: 0.31323552594687243
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.6341, Accuracy: 7202/8991 (80.1023%)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 14, internal_epoch   1,  Average loss: 0.0089, Accuracy: 472/535 (88.2243%), train_poison_data_count: 535
Global model norm: 14.271036247797056.
Norm before scaling: 14.259783682232438. Distance: 0.2327252339658095
Total norm for 5 adversaries is: 14.259783682232438. distance: 0.2327252339658095
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.4616, Accuracy: 7712/8991 (85.7747%)
___Train Local_Simple,  epoch  86, local model 49, internal_epoch   1,  Average loss: 0.0106, Accuracy: 424/516 (82.1705%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 0.5283, Accuracy: 8478/10000 (84.7800%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 15, internal_epoch   1,  Average loss: 0.0090, Accuracy: 508/572 (88.8112%), train_poison_data_count: 572
Global model norm: 14.271036247797056.
Norm before scaling: 14.266585485875071. Distance: 0.257155448102935
Total norm for 5 adversaries is: 14.266585485875071. distance: 0.257155448102935
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.3924, Accuracy: 7948/8991 (88.3995%)
___Train Local_Simple,  epoch  86, local model 89, internal_epoch   1,  Average loss: 0.0101, Accuracy: 571/664 (85.9940%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 0.5518, Accuracy: 8097/10000 (80.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  86, local model 79, internal_epoch   1,  Average loss: 0.0089, Accuracy: 545/635 (85.8268%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 0.5560, Accuracy: 8129/10000 (81.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  86, local model 44, internal_epoch   1,  Average loss: 0.0111, Accuracy: 432/518 (83.3977%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 0.5405, Accuracy: 8318/10000 (83.1800%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 9, internal_epoch   1,  Average loss: 0.0088, Accuracy: 482/548 (87.9562%), train_poison_data_count: 548
Global model norm: 14.271036247797056.
Norm before scaling: 14.260372736742204. Distance: 0.23780036303794874
Total norm for 5 adversaries is: 14.260372736742204. distance: 0.23780036303794874
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.4831, Accuracy: 7662/8991 (85.2186%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 13, internal_epoch   1,  Average loss: 0.0082, Accuracy: 472/521 (90.5950%), train_poison_data_count: 521
Global model norm: 14.271036247797056.
Norm before scaling: 14.25804794326151. Distance: 0.22861428046710863
Total norm for 5 adversaries is: 14.25804794326151. distance: 0.22861428046710863
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.4239, Accuracy: 7840/8991 (87.1983%)
___Train Local_Simple,  epoch  86, local model 68, internal_epoch   1,  Average loss: 0.0111, Accuracy: 525/632 (83.0696%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 0.4436, Accuracy: 8688/10000 (86.8800%), Attack Success Rate:0/10000(0.000)
time spent on training: 51.2815420627594
[foolsgold agg] training data poison_ratio: 0.4840786497302941  data num: [606, 535, 516, 572, 664, 635, 518, 548, 521, 632]
[foolsgold agg] considering poison per batch poison_fraction: 0.484078649730294
[foolsgold agg] wv: [1.         1.         0.25010379 0.75093291 1.         1.
 0.25010379 1.         0.75093291 1.        ]
___Test Target_Simple poisoned: False, epoch: 86: Average loss: 0.6198, Accuracy: 7992/10000 (79.9200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 86: Average loss: 0.4067, Accuracy: 7949/8991 (88.4106%)
Done in 140.1251826286316 sec.
Server Epoch:87 choose agents : [90, 51, 82, 94, 53, 48, 52, 72, 54, 36].
___Train Local_Simple,  epoch  87, local model 90, internal_epoch   1,  Average loss: 0.0124, Accuracy: 479/577 (83.0156%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.5278, Accuracy: 8518/10000 (85.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 51, internal_epoch   1,  Average loss: 0.0105, Accuracy: 540/647 (83.4621%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.5544, Accuracy: 8301/10000 (83.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 82, internal_epoch   1,  Average loss: 0.0119, Accuracy: 504/621 (81.1594%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.5113, Accuracy: 8450/10000 (84.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 94, internal_epoch   1,  Average loss: 0.0102, Accuracy: 470/555 (84.6847%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.8513, Accuracy: 7119/10000 (71.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 53, internal_epoch   1,  Average loss: 0.0110, Accuracy: 523/617 (84.7650%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.5791, Accuracy: 8173/10000 (81.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 48, internal_epoch   1,  Average loss: 0.0126, Accuracy: 470/589 (79.7963%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.4926, Accuracy: 8626/10000 (86.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 52, internal_epoch   1,  Average loss: 0.0121, Accuracy: 501/618 (81.0680%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.6238, Accuracy: 7825/10000 (78.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 72, internal_epoch   1,  Average loss: 0.0103, Accuracy: 444/529 (83.9319%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.4626, Accuracy: 8636/10000 (86.3600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 54, internal_epoch   1,  Average loss: 0.0103, Accuracy: 437/523 (83.5564%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.6002, Accuracy: 8008/10000 (80.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 36, internal_epoch   1,  Average loss: 0.0109, Accuracy: 439/520 (84.4231%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.5448, Accuracy: 8154/10000 (81.5400%), Attack Success Rate:0/10000(0.000)
time spent on training: 45.34725522994995
[foolsgold agg] training data poison_ratio: 0.0  data num: [577, 647, 621, 555, 617, 589, 618, 529, 523, 520]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.63678509 1.         1.         0.68070968 1.
 1.         0.63678509 0.3225863  0.3225863 ]
___Test Target_Simple poisoned: False, epoch: 87: Average loss: 0.6024, Accuracy: 7916/10000 (79.1600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 87: Average loss: 0.4396, Accuracy: 7823/8991 (87.0092%)
Done in 132.3347611427307 sec.
Server Epoch:88 choose agents : [94, 90, 75, 70, 69, 80, 96, 82, 37, 1].
___Train Local_Simple,  epoch  88, local model 94, internal_epoch   1,  Average loss: 0.0087, Accuracy: 478/555 (86.1261%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.6494, Accuracy: 7941/10000 (79.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 90, internal_epoch   1,  Average loss: 0.0125, Accuracy: 450/577 (77.9896%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.5109, Accuracy: 8461/10000 (84.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 75, internal_epoch   1,  Average loss: 0.0114, Accuracy: 450/554 (81.2274%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.7118, Accuracy: 7683/10000 (76.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 70, internal_epoch   1,  Average loss: 0.0114, Accuracy: 440/549 (80.1457%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.4428, Accuracy: 8817/10000 (88.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 69, internal_epoch   1,  Average loss: 0.0110, Accuracy: 531/646 (82.1981%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.5496, Accuracy: 8326/10000 (83.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 80, internal_epoch   1,  Average loss: 0.0107, Accuracy: 499/593 (84.1484%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.4728, Accuracy: 8666/10000 (86.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 96, internal_epoch   1,  Average loss: 0.0090, Accuracy: 518/608 (85.1974%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.7392, Accuracy: 7659/10000 (76.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 82, internal_epoch   1,  Average loss: 0.0099, Accuracy: 526/621 (84.7021%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.4874, Accuracy: 8256/10000 (82.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 37, internal_epoch   1,  Average loss: 0.0100, Accuracy: 541/641 (84.3994%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.4997, Accuracy: 8385/10000 (83.8500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 1, internal_epoch   1,  Average loss: 0.0105, Accuracy: 531/606 (87.6238%), train_poison_data_count: 606
Global model norm: 14.278022919037582.
Norm before scaling: 14.266599924757333. Distance: 0.33571088155619183
Total norm for 1 adversaries is: 14.266599924757333. distance: 0.33571088155619183
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 0.6035, Accuracy: 7121/8991 (79.2014%)
time spent on training: 46.845616817474365
[foolsgold agg] training data poison_ratio: 0.10184873949579831  data num: [555, 577, 554, 549, 646, 593, 608, 621, 641, 606]
[foolsgold agg] considering poison per batch poison_fraction: 0.10184873949579831
[foolsgold agg] wv: [1.         1.         1.         0.35458936 0.99737503 0.35458936
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 88: Average loss: 0.6016, Accuracy: 7924/10000 (79.2400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 88: Average loss: 0.4381, Accuracy: 7824/8991 (87.0204%)
Done in 133.91491556167603 sec.
Server Epoch:89 choose agents : [82, 36, 17, 29, 79, 33, 64, 19, 15, 66].
___Train Local_Simple,  epoch  89, local model 82, internal_epoch   1,  Average loss: 0.0097, Accuracy: 529/621 (85.1852%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 0.4746, Accuracy: 8560/10000 (85.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  89, local model 36, internal_epoch   1,  Average loss: 0.0116, Accuracy: 429/520 (82.5000%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 0.4702, Accuracy: 8498/10000 (84.9800%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 17, internal_epoch   1,  Average loss: 0.0071, Accuracy: 586/648 (90.4321%), train_poison_data_count: 648
Global model norm: 14.282412959520848.
Norm before scaling: 14.272169034872062. Distance: 0.25609033657962144
Total norm for 5 adversaries is: 14.272169034872062. distance: 0.25609033657962144
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 0.5302, Accuracy: 7495/8991 (83.3611%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 29, internal_epoch   1,  Average loss: 0.0091, Accuracy: 516/605 (85.2893%), train_poison_data_count: 605
Global model norm: 14.282412959520848.
Norm before scaling: 14.267187628340269. Distance: 0.2726634377130585
Total norm for 5 adversaries is: 14.267187628340269. distance: 0.2726634377130585
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 0.4781, Accuracy: 7604/8991 (84.5735%)
___Train Local_Simple,  epoch  89, local model 79, internal_epoch   1,  Average loss: 0.0081, Accuracy: 556/635 (87.5591%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 0.4729, Accuracy: 8472/10000 (84.7200%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 33, internal_epoch   1,  Average loss: 0.0065, Accuracy: 583/638 (91.3793%), train_poison_data_count: 638
Global model norm: 14.282412959520848.
Norm before scaling: 14.27965899062971. Distance: 0.29307155077091535
Total norm for 5 adversaries is: 14.27965899062971. distance: 0.29307155077091535
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 0.3656, Accuracy: 8013/8991 (89.1225%)
___Train Local_Simple,  epoch  89, local model 64, internal_epoch   1,  Average loss: 0.0114, Accuracy: 462/566 (81.6254%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 0.4361, Accuracy: 8808/10000 (88.0800%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 19, internal_epoch   1,  Average loss: 0.0081, Accuracy: 489/552 (88.5870%), train_poison_data_count: 552
Global model norm: 14.282412959520848.
Norm before scaling: 14.27546905441754. Distance: 0.28575595084657984
Total norm for 5 adversaries is: 14.27546905441754. distance: 0.28575595084657984
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 0.4564, Accuracy: 7651/8991 (85.0962%)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 15, internal_epoch   1,  Average loss: 0.0098, Accuracy: 492/572 (86.0140%), train_poison_data_count: 572
Global model norm: 14.282412959520848.
Norm before scaling: 14.276217786483553. Distance: 0.2510193665810627
Total norm for 5 adversaries is: 14.276217786483553. distance: 0.2510193665810627
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 0.3538, Accuracy: 8024/8991 (89.2448%)
___Train Local_Simple,  epoch  89, local model 66, internal_epoch   1,  Average loss: 0.0105, Accuracy: 523/629 (83.1479%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 0.5727, Accuracy: 8189/10000 (81.8900%), Attack Success Rate:0/10000(0.000)
time spent on training: 51.9222252368927
[foolsgold agg] training data poison_ratio: 0.5036752422318743  data num: [621, 520, 648, 605, 635, 638, 566, 552, 572, 629]
[foolsgold agg] considering poison per batch poison_fraction: 0.5036752422318743
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 89: Average loss: 0.6297, Accuracy: 7887/10000 (78.8700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 89: Average loss: 0.4356, Accuracy: 7819/8991 (86.9647%)
Done in 139.97289323806763 sec.
Server Epoch:90 choose agents : [76, 67, 89, 86, 25, 4, 77, 85, 94, 91].
___Train Local_Simple,  epoch  90, local model 76, internal_epoch   1,  Average loss: 0.0098, Accuracy: 447/518 (86.2934%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.5018, Accuracy: 8357/10000 (83.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 67, internal_epoch   1,  Average loss: 0.0110, Accuracy: 522/643 (81.1820%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.5940, Accuracy: 7897/10000 (78.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 89, internal_epoch   1,  Average loss: 0.0104, Accuracy: 571/664 (85.9940%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.5394, Accuracy: 8233/10000 (82.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 86, internal_epoch   1,  Average loss: 0.0107, Accuracy: 486/587 (82.7939%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.4379, Accuracy: 8746/10000 (87.4600%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 25, internal_epoch   1,  Average loss: 0.0101, Accuracy: 485/582 (83.3333%), train_poison_data_count: 582
Global model norm: 14.287901683644256.
Norm before scaling: 14.276933347384658. Distance: 0.298471112879875
Total norm for 2 adversaries is: 14.276933347384658. distance: 0.298471112879875
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 0.3753, Accuracy: 7993/8991 (88.9000%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 4, internal_epoch   1,  Average loss: 0.0097, Accuracy: 490/587 (83.4753%), train_poison_data_count: 587
Global model norm: 14.287901683644256.
Norm before scaling: 14.276332684788409. Distance: 0.2666194895770886
Total norm for 2 adversaries is: 14.276332684788409. distance: 0.2666194895770886
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 0.5531, Accuracy: 7380/8991 (82.0821%)
___Train Local_Simple,  epoch  90, local model 77, internal_epoch   1,  Average loss: 0.0126, Accuracy: 414/519 (79.7688%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.5821, Accuracy: 8232/10000 (82.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 85, internal_epoch   1,  Average loss: 0.0104, Accuracy: 468/570 (82.1053%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.5131, Accuracy: 8387/10000 (83.8700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 94, internal_epoch   1,  Average loss: 0.0092, Accuracy: 472/555 (85.0450%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.6810, Accuracy: 7888/10000 (78.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 91, internal_epoch   1,  Average loss: 0.0101, Accuracy: 522/627 (83.2536%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.5409, Accuracy: 8274/10000 (82.7400%), Attack Success Rate:0/10000(0.000)
time spent on training: 48.26154685020447
[foolsgold agg] training data poison_ratio: 0.19976076555023922  data num: [518, 643, 664, 587, 582, 587, 519, 570, 555, 627]
[foolsgold agg] considering poison per batch poison_fraction: 0.19976076555023922
[foolsgold agg] wv: [0.53981481 0.24592661 0.35300876 0.45350562 1.         1.
 0.44118715 0.24592661 0.86077346 0.53981481]
___Test Target_Simple poisoned: False, epoch: 90: Average loss: 0.6334, Accuracy: 7849/10000 (78.4900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 90: Average loss: 0.4436, Accuracy: 7777/8991 (86.4976%)
Done in 135.51346588134766 sec.
Server Epoch:91 choose agents : [20, 58, 95, 86, 54, 98, 80, 19, 94, 33].
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 20, internal_epoch   1,  Average loss: 0.0100, Accuracy: 472/553 (85.3526%), train_poison_data_count: 553
Global model norm: 14.290383387895751.
Norm before scaling: 14.279935212829825. Distance: 0.28638036129119404
Total norm for 3 adversaries is: 14.279935212829825. distance: 0.28638036129119404
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 0.5088, Accuracy: 7492/8991 (83.3278%)
___Train Local_Simple,  epoch  91, local model 58, internal_epoch   1,  Average loss: 0.0101, Accuracy: 428/510 (83.9216%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.5046, Accuracy: 8415/10000 (84.1500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 95, internal_epoch   1,  Average loss: 0.0118, Accuracy: 442/532 (83.0827%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.6651, Accuracy: 7703/10000 (77.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 86, internal_epoch   1,  Average loss: 0.0110, Accuracy: 476/587 (81.0903%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.4541, Accuracy: 8656/10000 (86.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 54, internal_epoch   1,  Average loss: 0.0107, Accuracy: 441/523 (84.3212%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.4403, Accuracy: 8737/10000 (87.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 98, internal_epoch   1,  Average loss: 0.0067, Accuracy: 501/568 (88.2042%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.9812, Accuracy: 7268/10000 (72.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 80, internal_epoch   1,  Average loss: 0.0095, Accuracy: 509/593 (85.8347%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.4520, Accuracy: 8554/10000 (85.5400%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 19, internal_epoch   1,  Average loss: 0.0077, Accuracy: 490/552 (88.7681%), train_poison_data_count: 552
Global model norm: 14.290383387895751.
Norm before scaling: 14.283288455448993. Distance: 0.2714507541832923
Total norm for 3 adversaries is: 14.283288455448993. distance: 0.2714507541832923
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 0.5467, Accuracy: 7369/8991 (81.9597%)
___Train Local_Simple,  epoch  91, local model 94, internal_epoch   1,  Average loss: 0.0099, Accuracy: 466/555 (83.9640%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.6791, Accuracy: 7845/10000 (78.4500%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 33, internal_epoch   1,  Average loss: 0.0071, Accuracy: 573/638 (89.8119%), train_poison_data_count: 638
Global model norm: 14.290383387895751.
Norm before scaling: 14.287032344503551. Distance: 0.2842262859089914
Total norm for 3 adversaries is: 14.287032344503551. distance: 0.2842262859089914
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 0.4056, Accuracy: 7866/8991 (87.4875%)
time spent on training: 48.60584282875061
[foolsgold agg] training data poison_ratio: 0.31063981464979507  data num: [553, 510, 532, 587, 523, 568, 593, 552, 555, 638]
[foolsgold agg] considering poison per batch poison_fraction: 0.31063981464979507
[foolsgold agg] wv: [0.60755108 1.         1.         1.         1.         0.88507572
 0.88507572 0.60755108 1.         0.66671515]
___Test Target_Simple poisoned: False, epoch: 91: Average loss: 0.6399, Accuracy: 7823/10000 (78.2300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 91: Average loss: 0.4566, Accuracy: 7736/8991 (86.0416%)
Done in 136.08825516700745 sec.
Server Epoch:92 choose agents : [47, 89, 52, 39, 94, 10, 36, 79, 53, 74].
___Train Local_Simple,  epoch  92, local model 47, internal_epoch   1,  Average loss: 0.0087, Accuracy: 510/602 (84.7176%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.6011, Accuracy: 7805/10000 (78.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 89, internal_epoch   1,  Average loss: 0.0106, Accuracy: 548/664 (82.5301%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.4973, Accuracy: 8536/10000 (85.3600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 52, internal_epoch   1,  Average loss: 0.0123, Accuracy: 495/618 (80.0971%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.5458, Accuracy: 8222/10000 (82.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 39, internal_epoch   1,  Average loss: 0.0111, Accuracy: 409/503 (81.3121%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.4726, Accuracy: 8501/10000 (85.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 94, internal_epoch   1,  Average loss: 0.0092, Accuracy: 474/555 (85.4054%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.7849, Accuracy: 7328/10000 (73.2800%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 10, internal_epoch   1,  Average loss: 0.0087, Accuracy: 499/572 (87.2378%), train_poison_data_count: 572
Global model norm: 14.294205479939569.
Norm before scaling: 14.27977760120387. Distance: 0.29741849840761053
Total norm for 1 adversaries is: 14.27977760120387. distance: 0.29741849840761053
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 0.4620, Accuracy: 7595/8991 (84.4734%)
___Train Local_Simple,  epoch  92, local model 36, internal_epoch   1,  Average loss: 0.0107, Accuracy: 433/520 (83.2692%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.5288, Accuracy: 8329/10000 (83.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 79, internal_epoch   1,  Average loss: 0.0085, Accuracy: 545/635 (85.8268%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.4631, Accuracy: 8537/10000 (85.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 53, internal_epoch   1,  Average loss: 0.0111, Accuracy: 525/617 (85.0891%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.6301, Accuracy: 8060/10000 (80.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 74, internal_epoch   1,  Average loss: 0.0115, Accuracy: 517/626 (82.5879%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.4539, Accuracy: 8608/10000 (86.0800%), Attack Success Rate:0/10000(0.000)
time spent on training: 48.18275690078735
[foolsgold agg] training data poison_ratio: 0.09675236806495263  data num: [602, 664, 618, 503, 555, 572, 520, 635, 617, 626]
[foolsgold agg] considering poison per batch poison_fraction: 0.09675236806495263
[foolsgold agg] wv: [1.         0.35906578 0.80971294 0.76014003 0.80971294 1.
 0.35906578 0.76014003 1.         0.72600304]
___Test Target_Simple poisoned: False, epoch: 92: Average loss: 0.6364, Accuracy: 7819/10000 (78.1900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 92: Average loss: 0.4592, Accuracy: 7714/8991 (85.7969%)
Done in 135.56514024734497 sec.
Server Epoch:93 choose agents : [6, 10, 27, 69, 28, 15, 13, 81, 44, 66].
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 6, internal_epoch   1,  Average loss: 0.0101, Accuracy: 602/708 (85.0282%), train_poison_data_count: 708
Global model norm: 14.298116194414716.
Norm before scaling: 14.274709593696643. Distance: 0.312066158506255
Total norm for 6 adversaries is: 14.274709593696643. distance: 0.312066158506255
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.3665, Accuracy: 8003/8991 (89.0112%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 10, internal_epoch   1,  Average loss: 0.0087, Accuracy: 498/572 (87.0629%), train_poison_data_count: 572
Global model norm: 14.298116194414716.
Norm before scaling: 14.289250976921265. Distance: 0.3197728239507764
Total norm for 6 adversaries is: 14.289250976921265. distance: 0.3197728239507764
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.5288, Accuracy: 7452/8991 (82.8829%)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 27, internal_epoch   1,  Average loss: 0.0088, Accuracy: 570/650 (87.6923%), train_poison_data_count: 650
Global model norm: 14.298116194414716.
Norm before scaling: 14.290044901986182. Distance: 0.28230823008424705
Total norm for 6 adversaries is: 14.290044901986182. distance: 0.28230823008424705
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.4289, Accuracy: 7750/8991 (86.1973%)
___Train Local_Simple,  epoch  93, local model 69, internal_epoch   1,  Average loss: 0.0103, Accuracy: 535/646 (82.8173%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 0.4631, Accuracy: 8627/10000 (86.2700%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 28, internal_epoch   1,  Average loss: 0.0101, Accuracy: 559/665 (84.0602%), train_poison_data_count: 665
Global model norm: 14.298116194414716.
Norm before scaling: 14.270120436782355. Distance: 0.32994375936312303
Total norm for 6 adversaries is: 14.270120436782355. distance: 0.32994375936312303
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.3952, Accuracy: 7951/8991 (88.4329%)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 15, internal_epoch   1,  Average loss: 0.0087, Accuracy: 511/572 (89.3357%), train_poison_data_count: 572
Global model norm: 14.298116194414716.
Norm before scaling: 14.290418624138518. Distance: 0.2487673695768276
Total norm for 6 adversaries is: 14.290418624138518. distance: 0.2487673695768276
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.3948, Accuracy: 7965/8991 (88.5886%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 13, internal_epoch   1,  Average loss: 0.0080, Accuracy: 472/521 (90.5950%), train_poison_data_count: 521
Global model norm: 14.298116194414716.
Norm before scaling: 14.285318608935157. Distance: 0.22929241332046313
Total norm for 6 adversaries is: 14.285318608935157. distance: 0.22929241332046313
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.4529, Accuracy: 7785/8991 (86.5866%)
___Train Local_Simple,  epoch  93, local model 81, internal_epoch   1,  Average loss: 0.0106, Accuracy: 487/586 (83.1058%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 0.3963, Accuracy: 8857/10000 (88.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  93, local model 44, internal_epoch   1,  Average loss: 0.0100, Accuracy: 434/518 (83.7838%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 0.6530, Accuracy: 7773/10000 (77.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  93, local model 66, internal_epoch   1,  Average loss: 0.0108, Accuracy: 520/629 (82.6709%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 0.4733, Accuracy: 8484/10000 (84.8400%), Attack Success Rate:0/10000(0.000)
time spent on training: 52.295690298080444
[foolsgold agg] training data poison_ratio: 0.6078786879841767  data num: [708, 572, 650, 646, 665, 572, 521, 586, 518, 629]
[foolsgold agg] considering poison per batch poison_fraction: 0.6078786879841767
[foolsgold agg] wv: [0.35240854 0.40063698 0.35240854 1.         1.         0.85807199
 1.         1.         0.61869472 0.61869472]
___Test Target_Simple poisoned: False, epoch: 93: Average loss: 0.6392, Accuracy: 7875/10000 (78.7500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 93: Average loss: 0.4387, Accuracy: 7795/8991 (86.6978%)
Done in 140.16499304771423 sec.
Server Epoch:94 choose agents : [29, 45, 66, 74, 73, 21, 79, 80, 25, 96].
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 29, internal_epoch   1,  Average loss: 0.0083, Accuracy: 526/605 (86.9421%), train_poison_data_count: 605
Global model norm: 14.301201637839137.
Norm before scaling: 14.281473838337456. Distance: 0.26735894073634764
Total norm for 3 adversaries is: 14.281473838337456. distance: 0.26735894073634764
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 0.3596, Accuracy: 8028/8991 (89.2893%)
___Train Local_Simple,  epoch  94, local model 45, internal_epoch   1,  Average loss: 0.0104, Accuracy: 626/750 (83.4667%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.3995, Accuracy: 8854/10000 (88.5400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 66, internal_epoch   1,  Average loss: 0.0115, Accuracy: 512/629 (81.3990%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.5522, Accuracy: 8202/10000 (82.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 74, internal_epoch   1,  Average loss: 0.0120, Accuracy: 511/626 (81.6294%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.4106, Accuracy: 8937/10000 (89.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 73, internal_epoch   1,  Average loss: 0.0129, Accuracy: 489/626 (78.1150%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.5469, Accuracy: 8318/10000 (83.1800%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 21, internal_epoch   1,  Average loss: 0.0085, Accuracy: 551/625 (88.1600%), train_poison_data_count: 625
Global model norm: 14.301201637839137.
Norm before scaling: 14.283214208639553. Distance: 0.26856058287652035
Total norm for 3 adversaries is: 14.283214208639553. distance: 0.26856058287652035
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 0.5085, Accuracy: 7514/8991 (83.5725%)
___Train Local_Simple,  epoch  94, local model 79, internal_epoch   1,  Average loss: 0.0083, Accuracy: 558/635 (87.8740%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.4268, Accuracy: 8709/10000 (87.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 80, internal_epoch   1,  Average loss: 0.0101, Accuracy: 484/593 (81.6189%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.4981, Accuracy: 8424/10000 (84.2400%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 25, internal_epoch   1,  Average loss: 0.0103, Accuracy: 491/582 (84.3643%), train_poison_data_count: 582
Global model norm: 14.301201637839137.
Norm before scaling: 14.283777192800043. Distance: 0.2954834776122356
Total norm for 3 adversaries is: 14.283777192800043. distance: 0.2954834776122356
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 0.3686, Accuracy: 8048/8991 (89.5117%)
___Train Local_Simple,  epoch  94, local model 96, internal_epoch   1,  Average loss: 0.0092, Accuracy: 521/608 (85.6908%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.8300, Accuracy: 7657/10000 (76.5700%), Attack Success Rate:0/10000(0.000)
time spent on training: 50.777249574661255
[foolsgold agg] training data poison_ratio: 0.28858098423315814  data num: [605, 750, 629, 626, 626, 625, 635, 593, 582, 608]
[foolsgold agg] considering poison per batch poison_fraction: 0.28858098423315814
[foolsgold agg] wv: [0.78626683 0.26723459 1.         0.         0.         0.78626683
 1.         0.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 94: Average loss: 0.6516, Accuracy: 7870/10000 (78.7000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 94: Average loss: 0.4423, Accuracy: 7794/8991 (86.6867%)
Done in 138.50697779655457 sec.
Server Epoch:95 choose agents : [59, 53, 27, 94, 48, 51, 20, 52, 93, 89].
___Train Local_Simple,  epoch  95, local model 59, internal_epoch   1,  Average loss: 0.0113, Accuracy: 558/652 (85.5828%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.6532, Accuracy: 7786/10000 (77.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 53, internal_epoch   1,  Average loss: 0.0102, Accuracy: 526/617 (85.2512%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.6295, Accuracy: 8013/10000 (80.1300%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 27, internal_epoch   1,  Average loss: 0.0093, Accuracy: 555/650 (85.3846%), train_poison_data_count: 650
Global model norm: 14.303783444431593.
Norm before scaling: 14.288756553415466. Distance: 0.2849388469581371
Total norm for 2 adversaries is: 14.288756553415466. distance: 0.2849388469581371
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 0.3787, Accuracy: 8012/8991 (89.1113%)
___Train Local_Simple,  epoch  95, local model 94, internal_epoch   1,  Average loss: 0.0099, Accuracy: 466/555 (83.9640%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.6068, Accuracy: 7998/10000 (79.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 48, internal_epoch   1,  Average loss: 0.0111, Accuracy: 485/589 (82.3430%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.4563, Accuracy: 8822/10000 (88.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 51, internal_epoch   1,  Average loss: 0.0101, Accuracy: 554/647 (85.6260%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.5631, Accuracy: 8115/10000 (81.1500%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 20, internal_epoch   1,  Average loss: 0.0101, Accuracy: 475/553 (85.8951%), train_poison_data_count: 553
Global model norm: 14.303783444431593.
Norm before scaling: 14.29188031777408. Distance: 0.31258431727638325
Total norm for 2 adversaries is: 14.29188031777408. distance: 0.31258431727638325
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 0.4026, Accuracy: 7920/8991 (88.0881%)
___Train Local_Simple,  epoch  95, local model 52, internal_epoch   1,  Average loss: 0.0121, Accuracy: 519/618 (83.9806%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.5073, Accuracy: 8300/10000 (83.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 93, internal_epoch   1,  Average loss: 0.0106, Accuracy: 440/529 (83.1758%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.5816, Accuracy: 8241/10000 (82.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 89, internal_epoch   1,  Average loss: 0.0100, Accuracy: 563/664 (84.7892%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.4237, Accuracy: 8858/10000 (88.5800%), Attack Success Rate:0/10000(0.000)
time spent on training: 49.42447853088379
[foolsgold agg] training data poison_ratio: 0.19805729338162661  data num: [652, 617, 650, 555, 589, 647, 553, 618, 529, 664]
[foolsgold agg] considering poison per batch poison_fraction: 0.1980572933816266
[foolsgold agg] wv: [1.         1.         1.         0.         0.68513025 0.8630351
 1.         1.         0.         0.68513025]
___Test Target_Simple poisoned: False, epoch: 95: Average loss: 0.6205, Accuracy: 7951/10000 (79.5100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 95: Average loss: 0.4341, Accuracy: 7858/8991 (87.3985%)
Done in 136.61620378494263 sec.
Server Epoch:96 choose agents : [46, 20, 0, 79, 78, 82, 87, 33, 62, 76].
___Train Local_Simple,  epoch  96, local model 46, internal_epoch   1,  Average loss: 0.0104, Accuracy: 399/478 (83.4728%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.5163, Accuracy: 8261/10000 (82.6100%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 20, internal_epoch   1,  Average loss: 0.0105, Accuracy: 471/553 (85.1718%), train_poison_data_count: 553
Global model norm: 14.306820737987398.
Norm before scaling: 14.296881937327552. Distance: 0.31062054510011394
Total norm for 2 adversaries is: 14.296881937327552. distance: 0.31062054510011394
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 0.7443, Accuracy: 6558/8991 (72.9396%)
___Train Local_Simple,  epoch  96, local model 0, internal_epoch   1,  Average loss: 0.0115, Accuracy: 498/609 (81.7734%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.4280, Accuracy: 8796/10000 (87.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 79, internal_epoch   1,  Average loss: 0.0080, Accuracy: 567/635 (89.2913%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.4953, Accuracy: 8359/10000 (83.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 78, internal_epoch   1,  Average loss: 0.0122, Accuracy: 502/624 (80.4487%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.4480, Accuracy: 8578/10000 (85.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 82, internal_epoch   1,  Average loss: 0.0107, Accuracy: 504/621 (81.1594%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.5245, Accuracy: 8368/10000 (83.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 87, internal_epoch   1,  Average loss: 0.0094, Accuracy: 482/575 (83.8261%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.4128, Accuracy: 8871/10000 (88.7100%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 33, internal_epoch   1,  Average loss: 0.0064, Accuracy: 575/638 (90.1254%), train_poison_data_count: 638
Global model norm: 14.306820737987398.
Norm before scaling: 14.302274957842426. Distance: 0.28804526607683834
Total norm for 2 adversaries is: 14.302274957842426. distance: 0.28804526607683834
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 0.5475, Accuracy: 7407/8991 (82.3824%)
___Train Local_Simple,  epoch  96, local model 62, internal_epoch   1,  Average loss: 0.0115, Accuracy: 503/617 (81.5235%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.5068, Accuracy: 8529/10000 (85.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 76, internal_epoch   1,  Average loss: 0.0113, Accuracy: 429/518 (82.8185%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.4644, Accuracy: 8747/10000 (87.4700%), Attack Success Rate:0/10000(0.000)
time spent on training: 48.909438133239746
[foolsgold agg] training data poison_ratio: 0.20296523517382414  data num: [478, 553, 609, 635, 624, 621, 575, 638, 617, 518]
[foolsgold agg] considering poison per batch poison_fraction: 0.20296523517382414
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.91287194
 1.         1.         1.         0.91287194]
___Test Target_Simple poisoned: False, epoch: 96: Average loss: 0.6373, Accuracy: 7888/10000 (78.8800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 96: Average loss: 0.4755, Accuracy: 7740/8991 (86.0861%)
Done in 135.89113759994507 sec.
Server Epoch:97 choose agents : [56, 34, 5, 20, 94, 22, 14, 63, 4, 67].
___Train Local_Simple,  epoch  97, local model 56, internal_epoch   1,  Average loss: 0.0094, Accuracy: 545/626 (87.0607%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 0.3770, Accuracy: 8940/10000 (89.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  97, local model 34, internal_epoch   1,  Average loss: 0.0098, Accuracy: 444/528 (84.0909%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 0.4109, Accuracy: 8838/10000 (88.3800%), Attack Success Rate:0/10000(0.000)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 5, internal_epoch   1,  Average loss: 0.0089, Accuracy: 449/512 (87.6953%), train_poison_data_count: 512
Global model norm: 14.311859249781172.
Norm before scaling: 14.303903988475435. Distance: 0.28617486221624744
Total norm for 5 adversaries is: 14.303903988475435. distance: 0.28617486221624744
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.4316, Accuracy: 7739/8991 (86.0750%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 20, internal_epoch   1,  Average loss: 0.0093, Accuracy: 482/553 (87.1609%), train_poison_data_count: 553
Global model norm: 14.311859249781172.
Norm before scaling: 14.301715369143661. Distance: 0.2878303946193363
Total norm for 5 adversaries is: 14.301715369143661. distance: 0.2878303946193363
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.4201, Accuracy: 7751/8991 (86.2084%)
___Train Local_Simple,  epoch  97, local model 94, internal_epoch   1,  Average loss: 0.0093, Accuracy: 481/555 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 0.7620, Accuracy: 7836/10000 (78.3600%), Attack Success Rate:0/10000(0.000)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 22, internal_epoch   1,  Average loss: 0.0097, Accuracy: 459/531 (86.4407%), train_poison_data_count: 531
Global model norm: 14.311859249781172.
Norm before scaling: 14.299977784039507. Distance: 0.28659759373157173
Total norm for 5 adversaries is: 14.299977784039507. distance: 0.28659759373157173
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.5707, Accuracy: 7454/8991 (82.9051%)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 14, internal_epoch   1,  Average loss: 0.0089, Accuracy: 469/535 (87.6636%), train_poison_data_count: 535
Global model norm: 14.311859249781172.
Norm before scaling: 14.298391526466906. Distance: 0.29888922870706086
Total norm for 5 adversaries is: 14.298391526466906. distance: 0.29888922870706086
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.3705, Accuracy: 8015/8991 (89.1447%)
___Train Local_Simple,  epoch  97, local model 63, internal_epoch   1,  Average loss: 0.0120, Accuracy: 508/616 (82.4675%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 0.4195, Accuracy: 8800/10000 (88.0000%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 4, internal_epoch   1,  Average loss: 0.0084, Accuracy: 508/587 (86.5417%), train_poison_data_count: 587
Global model norm: 14.311859249781172.
Norm before scaling: 14.299135323371612. Distance: 0.26039358831505505
Total norm for 5 adversaries is: 14.299135323371612. distance: 0.26039358831505505
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.4277, Accuracy: 7778/8991 (86.5087%)
___Train Local_Simple,  epoch  97, local model 67, internal_epoch   1,  Average loss: 0.0098, Accuracy: 539/643 (83.8258%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 0.4757, Accuracy: 8495/10000 (84.9500%), Attack Success Rate:0/10000(0.000)
time spent on training: 51.03311491012573
[foolsgold agg] training data poison_ratio: 0.4780161800914527  data num: [626, 528, 512, 553, 555, 531, 535, 616, 587, 643]
[foolsgold agg] considering poison per batch poison_fraction: 0.47801618009145275
[foolsgold agg] wv: [0.99483018 0.99483018 1.         1.         1.         1.
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 97: Average loss: 0.6392, Accuracy: 7890/10000 (78.9000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 97: Average loss: 0.4596, Accuracy: 7780/8991 (86.5310%)
Done in 138.8921926021576 sec.
Server Epoch:98 choose agents : [91, 64, 77, 14, 67, 90, 75, 97, 92, 40].
___Train Local_Simple,  epoch  98, local model 91, internal_epoch   1,  Average loss: 0.0098, Accuracy: 530/627 (84.5295%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.4907, Accuracy: 8472/10000 (84.7200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 64, internal_epoch   1,  Average loss: 0.0098, Accuracy: 480/566 (84.8057%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.4530, Accuracy: 8553/10000 (85.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 77, internal_epoch   1,  Average loss: 0.0117, Accuracy: 411/519 (79.1908%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.4733, Accuracy: 8625/10000 (86.2500%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 14, internal_epoch   1,  Average loss: 0.0093, Accuracy: 475/535 (88.7850%), train_poison_data_count: 535
Global model norm: 14.316648190315826.
Norm before scaling: 14.303246317693384. Distance: 0.28608096437411423
Total norm for 1 adversaries is: 14.303246317693384. distance: 0.28608096437411423
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 0.3526, Accuracy: 8050/8991 (89.5340%)
___Train Local_Simple,  epoch  98, local model 67, internal_epoch   1,  Average loss: 0.0097, Accuracy: 534/643 (83.0482%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.4584, Accuracy: 8545/10000 (85.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 90, internal_epoch   1,  Average loss: 0.0101, Accuracy: 498/577 (86.3085%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.6176, Accuracy: 8144/10000 (81.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 75, internal_epoch   1,  Average loss: 0.0098, Accuracy: 471/554 (85.0181%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.4970, Accuracy: 8593/10000 (85.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 97, internal_epoch   1,  Average loss: 0.0115, Accuracy: 476/588 (80.9524%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.6058, Accuracy: 7919/10000 (79.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 92, internal_epoch   1,  Average loss: 0.0111, Accuracy: 471/571 (82.4869%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.4767, Accuracy: 8501/10000 (85.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 40, internal_epoch   1,  Average loss: 0.0117, Accuracy: 456/563 (80.9947%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.5623, Accuracy: 8196/10000 (81.9600%), Attack Success Rate:0/10000(0.000)
time spent on training: 47.87468457221985
[foolsgold agg] training data poison_ratio: 0.09315688664461083  data num: [627, 566, 519, 535, 643, 577, 554, 588, 571, 563]
[foolsgold agg] considering poison per batch poison_fraction: 0.09315688664461083
[foolsgold agg] wv: [1.         1.         0.59730191 1.         1.         1.
 0.59730191 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 98: Average loss: 0.6008, Accuracy: 7944/10000 (79.4400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 98: Average loss: 0.4609, Accuracy: 7774/8991 (86.4642%)
Done in 134.6682243347168 sec.
Server Epoch:99 choose agents : [76, 6, 8, 88, 2, 82, 12, 27, 61, 21].
___Train Local_Simple,  epoch  99, local model 76, internal_epoch   1,  Average loss: 0.0099, Accuracy: 435/518 (83.9768%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 0.4041, Accuracy: 8833/10000 (88.3300%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 6, internal_epoch   1,  Average loss: 0.0091, Accuracy: 608/708 (85.8757%), train_poison_data_count: 708
Global model norm: 14.320447822260242.
Norm before scaling: 14.297910225498208. Distance: 0.3369391611674264
Total norm for 6 adversaries is: 14.297910225498208. distance: 0.3369391611674264
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.7483, Accuracy: 6681/8991 (74.3076%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 8, internal_epoch   1,  Average loss: 0.0089, Accuracy: 590/683 (86.3836%), train_poison_data_count: 683
Global model norm: 14.320447822260242.
Norm before scaling: 14.298638573776056. Distance: 0.3670422692916264
Total norm for 6 adversaries is: 14.298638573776056. distance: 0.3670422692916264
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.3452, Accuracy: 8075/8991 (89.8120%)
___Train Local_Simple,  epoch  99, local model 88, internal_epoch   1,  Average loss: 0.0104, Accuracy: 573/679 (84.3888%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 0.4000, Accuracy: 8802/10000 (88.0200%), Attack Success Rate:0/10000(0.000)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 2, internal_epoch   1,  Average loss: 0.0087, Accuracy: 511/580 (88.1034%), train_poison_data_count: 580
Global model norm: 14.320447822260242.
Norm before scaling: 14.304427223191908. Distance: 0.27161568958109616
Total norm for 6 adversaries is: 14.304427223191908. distance: 0.27161568958109616
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.3819, Accuracy: 7909/8991 (87.9657%)
___Train Local_Simple,  epoch  99, local model 82, internal_epoch   1,  Average loss: 0.0100, Accuracy: 524/621 (84.3800%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 0.4224, Accuracy: 8642/10000 (86.4200%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 12, internal_epoch   1,  Average loss: 0.0097, Accuracy: 505/597 (84.5896%), train_poison_data_count: 597
Global model norm: 14.320447822260242.
Norm before scaling: 14.31448550382646. Distance: 0.34393578623934445
Total norm for 6 adversaries is: 14.31448550382646. distance: 0.34393578623934445
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.3508, Accuracy: 8032/8991 (89.3338%)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 27, internal_epoch   1,  Average loss: 0.0081, Accuracy: 583/650 (89.6923%), train_poison_data_count: 650
Global model norm: 14.320447822260242.
Norm before scaling: 14.30743878426288. Distance: 0.2572688815932786
Total norm for 6 adversaries is: 14.30743878426288. distance: 0.2572688815932786
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.3418, Accuracy: 8066/8991 (89.7119%)
___Train Local_Simple,  epoch  99, local model 61, internal_epoch   1,  Average loss: 0.0116, Accuracy: 426/537 (79.3296%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 0.6277, Accuracy: 8025/10000 (80.2500%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 21, internal_epoch   1,  Average loss: 0.0086, Accuracy: 539/625 (86.2400%), train_poison_data_count: 625
Global model norm: 14.320447822260242.
Norm before scaling: 14.298152478786923. Distance: 0.31155285352582607
Total norm for 6 adversaries is: 14.298152478786923. distance: 0.31155285352582607
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.4061, Accuracy: 7796/8991 (86.7089%)
time spent on training: 52.97993588447571
[foolsgold agg] training data poison_ratio: 0.6200387221684415  data num: [518, 708, 683, 679, 580, 621, 597, 650, 537, 625]
[foolsgold agg] considering poison per batch poison_fraction: 0.6200387221684415
[foolsgold agg] wv: [1.         1.         0.44936214 1.         0.70146837 1.
 0.44936214 1.         1.         0.73610714]
___Test Target_Simple poisoned: False, epoch: 99: Average loss: 0.6116, Accuracy: 7959/10000 (79.5900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 99: Average loss: 0.4483, Accuracy: 7811/8991 (86.8758%)
Done in 141.1218786239624 sec.
Server Epoch:100 choose agents : [35, 57, 43, 34, 76, 26, 92, 3, 13, 16].
___Train Local_Simple,  epoch 100, local model 35, internal_epoch   1,  Average loss: 0.0107, Accuracy: 411/493 (83.3671%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.4638, Accuracy: 8733/10000 (87.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 57, internal_epoch   1,  Average loss: 0.0100, Accuracy: 481/568 (84.6831%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.4005, Accuracy: 8834/10000 (88.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 43, internal_epoch   1,  Average loss: 0.0098, Accuracy: 440/518 (84.9421%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.4141, Accuracy: 8760/10000 (87.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 34, internal_epoch   1,  Average loss: 0.0092, Accuracy: 441/528 (83.5227%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.4988, Accuracy: 8426/10000 (84.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 76, internal_epoch   1,  Average loss: 0.0103, Accuracy: 428/518 (82.6255%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.4440, Accuracy: 8622/10000 (86.2200%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 26, internal_epoch   1,  Average loss: 0.0072, Accuracy: 474/526 (90.1141%), train_poison_data_count: 526
Global model norm: 14.324208097555353.
Norm before scaling: 14.313914133366275. Distance: 0.2388384042960431
Total norm for 4 adversaries is: 14.313914133366275. distance: 0.2388384042960431
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 0.3426, Accuracy: 8073/8991 (89.7898%)
___Train Local_Simple,  epoch 100, local model 92, internal_epoch   1,  Average loss: 0.0105, Accuracy: 481/571 (84.2382%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.4965, Accuracy: 8388/10000 (83.8800%), Attack Success Rate:0/10000(0.000)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 3, internal_epoch   1,  Average loss: 0.0095, Accuracy: 439/505 (86.9307%), train_poison_data_count: 505
Global model norm: 14.324208097555353.
Norm before scaling: 14.311196080410369. Distance: 0.29686242629076837
Total norm for 4 adversaries is: 14.311196080410369. distance: 0.29686242629076837
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 0.4424, Accuracy: 7712/8991 (85.7747%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 13, internal_epoch   1,  Average loss: 0.0074, Accuracy: 471/521 (90.4031%), train_poison_data_count: 521
Global model norm: 14.324208097555353.
Norm before scaling: 14.309514029919427. Distance: 0.27549599599871005
Total norm for 4 adversaries is: 14.309514029919427. distance: 0.27549599599871005
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 0.4071, Accuracy: 7871/8991 (87.5431%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 16, internal_epoch   1,  Average loss: 0.0085, Accuracy: 506/581 (87.0912%), train_poison_data_count: 581
Global model norm: 14.324208097555353.
Norm before scaling: 14.313033048206886. Distance: 0.32508781878872717
Total norm for 4 adversaries is: 14.313033048206886. distance: 0.32508781878872717
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 0.4251, Accuracy: 7727/8991 (85.9415%)
time spent on training: 49.714152097702026
[foolsgold agg] training data poison_ratio: 0.40026271345468195  data num: [493, 568, 518, 528, 518, 526, 571, 505, 521, 581]
[foolsgold agg] considering poison per batch poison_fraction: 0.40026271345468195
[foolsgold agg] wv: [0.6202781  0.6202781  0.75723982 1.         1.         1.
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 100: Average loss: 0.6090, Accuracy: 7992/10000 (79.9200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 100: Average loss: 0.4303, Accuracy: 7882/8991 (87.6654%)
Done in 137.33504986763 sec.
Saving all the graphs.
This run has a label: Mar.06_21.14.36. Visdom environment: mnist_DBA
