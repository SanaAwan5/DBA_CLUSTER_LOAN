current path: saved_models/mnist_pretrain/model_mnist_Mar.16_09.46.19
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
create model done
Poisoned following participants: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33]
We use following environment for graphs:  mnist_DBA
Server Epoch:1 choose agents : [23, 72, 61, 11, 71, 42, 45, 37, 21, 35].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 23, internal_epoch   1,  Average loss: 0.0430, Accuracy: 191/602 (31.7276%), train_poison_data_count: 602
Global model norm: 1.828686293811075.
Norm before scaling: 1.9662908302719173. Distance: 0.7308052226423363
Total norm for 3 adversaries is: 1.9662908302719173. distance: 0.7308052226423363
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.6759, Accuracy: 4651/8991 (51.7295%)
___Train Local_Simple,  epoch   1, local model 72, internal_epoch   1,  Average loss: 0.0451, Accuracy: 214/605 (35.3719%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.7488, Accuracy: 6901/10000 (69.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   1, local model 61, internal_epoch   1,  Average loss: 0.0435, Accuracy: 197/585 (33.6752%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.7926, Accuracy: 6260/10000 (62.6000%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 11, internal_epoch   1,  Average loss: 0.0427, Accuracy: 187/577 (32.4090%), train_poison_data_count: 577
Global model norm: 1.828686293811075.
Norm before scaling: 1.9281978030811586. Distance: 0.6216101508960715
Total norm for 3 adversaries is: 1.9281978030811586. distance: 0.6216101508960715
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7403, Accuracy: 3830/8991 (42.5982%)
___Train Local_Simple,  epoch   1, local model 71, internal_epoch   1,  Average loss: 0.0430, Accuracy: 214/637 (33.5950%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.7518, Accuracy: 6476/10000 (64.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   1, local model 42, internal_epoch   1,  Average loss: 0.0422, Accuracy: 240/646 (37.1517%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.7277, Accuracy: 6962/10000 (69.6200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   1, local model 45, internal_epoch   1,  Average loss: 0.0442, Accuracy: 194/571 (33.9755%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.7924, Accuracy: 6252/10000 (62.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   1, local model 37, internal_epoch   1,  Average loss: 0.0449, Accuracy: 179/601 (29.7837%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.7311, Accuracy: 5679/10000 (56.7900%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 21, internal_epoch   1,  Average loss: 0.0417, Accuracy: 200/590 (33.8983%), train_poison_data_count: 590
Global model norm: 1.828686293811075.
Norm before scaling: 1.9339605426649007. Distance: 0.6430566970914847
Total norm for 3 adversaries is: 1.9339605426649007. distance: 0.6430566970914847
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.6925, Accuracy: 4955/8991 (55.1107%)
___Train Local_Simple,  epoch   1, local model 35, internal_epoch   1,  Average loss: 0.0443, Accuracy: 183/577 (31.7158%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.7901, Accuracy: 6235/10000 (62.3500%), Attack Success Rate:0/10000(0.000)
time spent on training: 16.670738220214844
[foolsgold agg] training data poison_ratio: 0.2952762477048907  data num: [602, 605, 585, 577, 637, 646, 571, 601, 590, 577]
[foolsgold agg] considering poison per batch poison_fraction: 0.2952762477048907
[foolsgold agg] wv: [1.         0.39633691 0.         0.         0.         0.
 0.         1.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 1: Average loss: 2.2562, Accuracy: 1782/10000 (17.8200%), Attack Success Rate:35/10000(0.350)
___Test Target_Simple poisoned: True, epoch: 1: Average loss: 2.2566, Accuracy: 1441/8991 (16.0271%)
Done in 54.69420766830444 sec.
Server Epoch:2 choose agents : [11, 59, 62, 28, 65, 22, 78, 58, 41, 81].
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 11, internal_epoch   1,  Average loss: 0.0422, Accuracy: 184/577 (31.8891%), train_poison_data_count: 577
Global model norm: 1.8290392553956627.
Norm before scaling: 1.9346033408336567. Distance: 0.6171265584096535
Total norm for 3 adversaries is: 1.9346033408336567. distance: 0.6171265584096535
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.7047, Accuracy: 4615/8991 (51.3291%)
___Train Local_Simple,  epoch   2, local model 59, internal_epoch   1,  Average loss: 0.0443, Accuracy: 234/607 (38.5502%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7247, Accuracy: 6499/10000 (64.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 62, internal_epoch   1,  Average loss: 0.0433, Accuracy: 173/582 (29.7251%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7684, Accuracy: 6345/10000 (63.4500%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 28, internal_epoch   1,  Average loss: 0.0429, Accuracy: 185/566 (32.6855%), train_poison_data_count: 566
Global model norm: 1.8290392553956627.
Norm before scaling: 1.9431998796044443. Distance: 0.6352767764291497
Total norm for 3 adversaries is: 1.9431998796044443. distance: 0.6352767764291497
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.7649, Accuracy: 3396/8991 (37.7711%)
___Train Local_Simple,  epoch   2, local model 65, internal_epoch   1,  Average loss: 0.0440, Accuracy: 227/569 (39.8946%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7679, Accuracy: 6802/10000 (68.0200%), Attack Success Rate:0/10000(0.000)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 22, internal_epoch   1,  Average loss: 0.0417, Accuracy: 239/581 (41.1360%), train_poison_data_count: 581
Global model norm: 1.8290392553956627.
Norm before scaling: 1.9406781740628232. Distance: 0.633373412215157
Total norm for 3 adversaries is: 1.9406781740628232. distance: 0.633373412215157
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.6891, Accuracy: 4461/8991 (49.6163%)
___Train Local_Simple,  epoch   2, local model 78, internal_epoch   1,  Average loss: 0.0440, Accuracy: 228/617 (36.9530%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7337, Accuracy: 6185/10000 (61.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 58, internal_epoch   1,  Average loss: 0.0439, Accuracy: 201/575 (34.9565%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7684, Accuracy: 6847/10000 (68.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 41, internal_epoch   1,  Average loss: 0.0423, Accuracy: 240/635 (37.7953%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7209, Accuracy: 6022/10000 (60.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 81, internal_epoch   1,  Average loss: 0.0427, Accuracy: 212/588 (36.0544%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7796, Accuracy: 6514/10000 (65.1400%), Attack Success Rate:0/10000(0.000)
time spent on training: 16.92448139190674
[foolsgold agg] training data poison_ratio: 0.29235204341190435  data num: [577, 607, 582, 566, 569, 581, 617, 575, 635, 588]
[foolsgold agg] considering poison per batch poison_fraction: 0.29235204341190435
[foolsgold agg] wv: [0.67295402 1.         1.         0.6211264  1.         0.6211264
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 2: Average loss: 2.1541, Accuracy: 3376/10000 (33.7600%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 2: Average loss: 2.1471, Accuracy: 2995/8991 (33.3111%)
Done in 56.23395490646362 sec.
Server Epoch:3 choose agents : [54, 55, 61, 73, 18, 42, 87, 41, 50, 28].
___Train Local_Simple,  epoch   3, local model 54, internal_epoch   1,  Average loss: 0.0406, Accuracy: 269/547 (49.1773%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.7600, Accuracy: 6468/10000 (64.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 55, internal_epoch   1,  Average loss: 0.0403, Accuracy: 265/595 (44.5378%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.7053, Accuracy: 6447/10000 (64.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 61, internal_epoch   1,  Average loss: 0.0414, Accuracy: 248/585 (42.3932%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.7112, Accuracy: 6463/10000 (64.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 73, internal_epoch   1,  Average loss: 0.0420, Accuracy: 307/615 (49.9187%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6596, Accuracy: 6659/10000 (66.5900%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 18, internal_epoch   1,  Average loss: 0.0407, Accuracy: 254/567 (44.7972%), train_poison_data_count: 567
Global model norm: 1.8336880152964998.
Norm before scaling: 1.965898659097614. Distance: 0.6110022410556132
Total norm for 2 adversaries is: 1.965898659097614. distance: 0.6110022410556132
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.6408, Accuracy: 4358/8991 (48.4707%)
___Train Local_Simple,  epoch   3, local model 42, internal_epoch   1,  Average loss: 0.0400, Accuracy: 324/646 (50.1548%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6431, Accuracy: 7568/10000 (75.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 87, internal_epoch   1,  Average loss: 0.0403, Accuracy: 288/591 (48.7310%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6963, Accuracy: 6517/10000 (65.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 41, internal_epoch   1,  Average loss: 0.0405, Accuracy: 313/635 (49.2913%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6490, Accuracy: 6573/10000 (65.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 50, internal_epoch   1,  Average loss: 0.0423, Accuracy: 288/567 (50.7937%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6879, Accuracy: 6874/10000 (68.7400%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 28, internal_epoch   1,  Average loss: 0.0404, Accuracy: 249/566 (43.9929%), train_poison_data_count: 566
Global model norm: 1.8336880152964998.
Norm before scaling: 1.9641335874331045. Distance: 0.6062247202213638
Total norm for 2 adversaries is: 1.9641335874331045. distance: 0.6062247202213638
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.6871, Accuracy: 3861/8991 (42.9429%)
time spent on training: 18.665345430374146
[foolsgold agg] training data poison_ratio: 0.19157930334798784  data num: [547, 595, 585, 615, 567, 646, 591, 635, 567, 566]
[foolsgold agg] considering poison per batch poison_fraction: 0.19157930334798784
[foolsgold agg] wv: [1.         0.46915897 1.         1.         1.         0.46915897
 0.91150822 0.95468359 0.88007562 1.        ]
___Test Target_Simple poisoned: False, epoch: 3: Average loss: 2.0616, Accuracy: 4880/10000 (48.8000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 3: Average loss: 2.0487, Accuracy: 4539/8991 (50.4838%)
Done in 60.23037123680115 sec.
Server Epoch:4 choose agents : [37, 92, 95, 76, 13, 99, 94, 74, 45, 44].
___Train Local_Simple,  epoch   4, local model 37, internal_epoch   1,  Average loss: 0.0411, Accuracy: 319/601 (53.0782%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.5993, Accuracy: 6326/10000 (63.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 92, internal_epoch   1,  Average loss: 0.0404, Accuracy: 335/565 (59.2920%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.6638, Accuracy: 7095/10000 (70.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 95, internal_epoch   1,  Average loss: 0.0379, Accuracy: 310/549 (56.4663%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.7339, Accuracy: 6393/10000 (63.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 76, internal_epoch   1,  Average loss: 0.0385, Accuracy: 380/597 (63.6516%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.6342, Accuracy: 7226/10000 (72.2600%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 13, internal_epoch   1,  Average loss: 0.0380, Accuracy: 291/628 (46.3376%), train_poison_data_count: 628
Global model norm: 1.8429101227171139.
Norm before scaling: 2.022112438286687. Distance: 0.6775133503587378
Total norm for 1 adversaries is: 2.022112438286687. distance: 0.6775133503587378
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.5239, Accuracy: 5040/8991 (56.0561%)
___Train Local_Simple,  epoch   4, local model 99, internal_epoch   1,  Average loss: 0.0391, Accuracy: 267/408 (65.4412%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.9357, Accuracy: 5822/10000 (58.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 94, internal_epoch   1,  Average loss: 0.0384, Accuracy: 332/541 (61.3678%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.7311, Accuracy: 6883/10000 (68.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 74, internal_epoch   1,  Average loss: 0.0388, Accuracy: 337/597 (56.4489%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.6409, Accuracy: 6588/10000 (65.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 45, internal_epoch   1,  Average loss: 0.0404, Accuracy: 339/571 (59.3695%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.6428, Accuracy: 7175/10000 (71.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 44, internal_epoch   1,  Average loss: 0.0412, Accuracy: 295/608 (48.5197%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.6060, Accuracy: 6823/10000 (68.2300%), Attack Success Rate:0/10000(0.000)
time spent on training: 17.980835914611816
[foolsgold agg] training data poison_ratio: 0.11085613415710503  data num: [601, 565, 549, 597, 628, 408, 541, 597, 571, 608]
[foolsgold agg] considering poison per batch poison_fraction: 0.11085613415710503
[foolsgold agg] wv: [1. 0. 0. 0. 1. 1. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 4: Average loss: 2.0314, Accuracy: 5174/10000 (51.7400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 4: Average loss: 2.0160, Accuracy: 4892/8991 (54.4100%)
Done in 59.84076118469238 sec.
Server Epoch:5 choose agents : [60, 49, 65, 14, 36, 24, 7, 4, 76, 39].
___Train Local_Simple,  epoch   5, local model 60, internal_epoch   1,  Average loss: 0.0378, Accuracy: 373/600 (62.1667%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.6172, Accuracy: 7603/10000 (76.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   5, local model 49, internal_epoch   1,  Average loss: 0.0389, Accuracy: 368/637 (57.7708%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.5872, Accuracy: 7604/10000 (76.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   5, local model 65, internal_epoch   1,  Average loss: 0.0405, Accuracy: 314/569 (55.1845%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.6253, Accuracy: 7225/10000 (72.2500%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 14, internal_epoch   1,  Average loss: 0.0365, Accuracy: 311/594 (52.3569%), train_poison_data_count: 594
Global model norm: 1.8469010920868003.
Norm before scaling: 2.0006084708639587. Distance: 0.5883987106852406
Total norm for 4 adversaries is: 2.0006084708639587. distance: 0.5883987106852406
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.5784, Accuracy: 4513/8991 (50.1946%)
___Train Local_Simple,  epoch   5, local model 36, internal_epoch   1,  Average loss: 0.0400, Accuracy: 358/601 (59.5674%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.5882, Accuracy: 6388/10000 (63.8800%), Attack Success Rate:0/10000(0.000)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 24, internal_epoch   1,  Average loss: 0.0391, Accuracy: 308/603 (51.0779%), train_poison_data_count: 603
Global model norm: 1.8469010920868003.
Norm before scaling: 2.021357465068194. Distance: 0.6394388801978157
Total norm for 4 adversaries is: 2.021357465068194. distance: 0.6394388801978157
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.5306, Accuracy: 5112/8991 (56.8569%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 7, internal_epoch   1,  Average loss: 0.0387, Accuracy: 339/570 (59.4737%), train_poison_data_count: 570
Global model norm: 1.8469010920868003.
Norm before scaling: 1.9919009133440682. Distance: 0.5667451831005471
Total norm for 4 adversaries is: 1.9919009133440682. distance: 0.5667451831005471
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.5539, Accuracy: 5521/8991 (61.4059%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 4, internal_epoch   1,  Average loss: 0.0374, Accuracy: 365/621 (58.7762%), train_poison_data_count: 621
Global model norm: 1.8469010920868003.
Norm before scaling: 2.0319882738495947. Distance: 0.6601764743573659
Total norm for 4 adversaries is: 2.0319882738495947. distance: 0.6601764743573659
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.5379, Accuracy: 4482/8991 (49.8498%)
___Train Local_Simple,  epoch   5, local model 76, internal_epoch   1,  Average loss: 0.0381, Accuracy: 358/597 (59.9665%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.6148, Accuracy: 7279/10000 (72.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   5, local model 39, internal_epoch   1,  Average loss: 0.0403, Accuracy: 330/560 (58.9286%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.6116, Accuracy: 7187/10000 (71.8700%), Attack Success Rate:0/10000(0.000)
time spent on training: 20.830379724502563
[foolsgold agg] training data poison_ratio: 0.4012096774193548  data num: [600, 637, 569, 594, 601, 603, 570, 621, 597, 560]
[foolsgold agg] considering poison per batch poison_fraction: 0.4012096774193548
[foolsgold agg] wv: [0.         0.         0.         0.         1.         0.24189999
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 5: Average loss: 2.0182, Accuracy: 5336/10000 (53.3600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 5: Average loss: 2.0015, Accuracy: 5078/8991 (56.4787%)
Done in 62.59009766578674 sec.
Server Epoch:6 choose agents : [26, 29, 4, 41, 99, 67, 91, 76, 8, 25].
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 26, internal_epoch   1,  Average loss: 0.0378, Accuracy: 337/573 (58.8133%), train_poison_data_count: 573
Global model norm: 1.848826064272469.
Norm before scaling: 2.001211872106941. Distance: 0.5739697805418154
Total norm for 5 adversaries is: 2.001211872106941. distance: 0.5739697805418154
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.5262, Accuracy: 5687/8991 (63.2521%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 29, internal_epoch   1,  Average loss: 0.0382, Accuracy: 345/573 (60.2094%), train_poison_data_count: 573
Global model norm: 1.848826064272469.
Norm before scaling: 1.9983913389456525. Distance: 0.5753647922121715
Total norm for 5 adversaries is: 1.9983913389456525. distance: 0.5753647922121715
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.5457, Accuracy: 5383/8991 (59.8710%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 4, internal_epoch   1,  Average loss: 0.0370, Accuracy: 379/621 (61.0306%), train_poison_data_count: 621
Global model norm: 1.848826064272469.
Norm before scaling: 2.031505744679971. Distance: 0.6461287151133186
Total norm for 5 adversaries is: 2.031505744679971. distance: 0.6461287151133186
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.5331, Accuracy: 4555/8991 (50.6618%)
___Train Local_Simple,  epoch   6, local model 41, internal_epoch   1,  Average loss: 0.0381, Accuracy: 393/635 (61.8898%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.5599, Accuracy: 7042/10000 (70.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 99, internal_epoch   1,  Average loss: 0.0380, Accuracy: 287/408 (70.3431%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.9062, Accuracy: 5947/10000 (59.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 67, internal_epoch   1,  Average loss: 0.0403, Accuracy: 337/570 (59.1228%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.6376, Accuracy: 7102/10000 (71.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 91, internal_epoch   1,  Average loss: 0.0380, Accuracy: 341/597 (57.1189%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.6128, Accuracy: 7135/10000 (71.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 76, internal_epoch   1,  Average loss: 0.0380, Accuracy: 355/597 (59.4640%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.6119, Accuracy: 7124/10000 (71.2400%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 8, internal_epoch   1,  Average loss: 0.0365, Accuracy: 363/593 (61.2142%), train_poison_data_count: 593
Global model norm: 1.848826064272469.
Norm before scaling: 2.0034935955785866. Distance: 0.5801079225432845
Total norm for 5 adversaries is: 2.0034935955785866. distance: 0.5801079225432845
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.5140, Accuracy: 5909/8991 (65.7213%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 25, internal_epoch   1,  Average loss: 0.0373, Accuracy: 330/581 (56.7986%), train_poison_data_count: 581
Global model norm: 1.848826064272469.
Norm before scaling: 2.003901015009. Distance: 0.5736965477838056
Total norm for 5 adversaries is: 2.003901015009. distance: 0.5736965477838056
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.5616, Accuracy: 4953/8991 (55.0884%)
time spent on training: 21.80717945098877
[foolsgold agg] training data poison_ratio: 0.5116562282533055  data num: [573, 573, 621, 635, 408, 570, 597, 597, 593, 581]
[foolsgold agg] considering poison per batch poison_fraction: 0.5116562282533055
[foolsgold agg] wv: [0. 0. 0. 0. 1. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 6: Average loss: 2.0097, Accuracy: 5343/10000 (53.4300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 6: Average loss: 1.9903, Accuracy: 5120/8991 (56.9458%)
Done in 63.57280135154724 sec.
Server Epoch:7 choose agents : [66, 68, 59, 62, 31, 10, 23, 7, 99, 45].
___Train Local_Simple,  epoch   7, local model 66, internal_epoch   1,  Average loss: 0.0388, Accuracy: 397/622 (63.8264%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.5635, Accuracy: 6970/10000 (69.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 68, internal_epoch   1,  Average loss: 0.0388, Accuracy: 326/583 (55.9177%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.6101, Accuracy: 7020/10000 (70.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 59, internal_epoch   1,  Average loss: 0.0406, Accuracy: 338/607 (55.6837%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.5706, Accuracy: 7314/10000 (73.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 62, internal_epoch   1,  Average loss: 0.0390, Accuracy: 321/582 (55.1546%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.6064, Accuracy: 7135/10000 (71.3500%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 31, internal_epoch   1,  Average loss: 0.0371, Accuracy: 357/617 (57.8606%), train_poison_data_count: 617
Global model norm: 1.8501405043987458.
Norm before scaling: 2.030853584928453. Distance: 0.641355772274061
Total norm for 4 adversaries is: 2.030853584928453. distance: 0.641355772274061
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.4997, Accuracy: 5531/8991 (61.5171%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 10, internal_epoch   1,  Average loss: 0.0370, Accuracy: 373/635 (58.7402%), train_poison_data_count: 635
Global model norm: 1.8501405043987458.
Norm before scaling: 2.02438320609323. Distance: 0.6176461314446836
Total norm for 4 adversaries is: 2.02438320609323. distance: 0.6176461314446836
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.4947, Accuracy: 5986/8991 (66.5777%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 23, internal_epoch   1,  Average loss: 0.0381, Accuracy: 324/602 (53.8206%), train_poison_data_count: 602
Global model norm: 1.8501405043987458.
Norm before scaling: 2.039447967224672. Distance: 0.6528328301389908
Total norm for 4 adversaries is: 2.039447967224672. distance: 0.6528328301389908
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.5166, Accuracy: 5014/8991 (55.7669%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 7, internal_epoch   1,  Average loss: 0.0384, Accuracy: 325/570 (57.0175%), train_poison_data_count: 570
Global model norm: 1.8501405043987458.
Norm before scaling: 1.9979722353062892. Distance: 0.5611167695633051
Total norm for 4 adversaries is: 1.9979722353062892. distance: 0.5611167695633051
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.5488, Accuracy: 5341/8991 (59.4038%)
___Train Local_Simple,  epoch   7, local model 99, internal_epoch   1,  Average loss: 0.0384, Accuracy: 287/408 (70.3431%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.8956, Accuracy: 6093/10000 (60.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 45, internal_epoch   1,  Average loss: 0.0393, Accuracy: 351/571 (61.4711%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.6073, Accuracy: 7292/10000 (72.9200%), Attack Success Rate:0/10000(0.000)
time spent on training: 20.746416807174683
[foolsgold agg] training data poison_ratio: 0.4181473175780576  data num: [622, 583, 607, 582, 617, 635, 602, 570, 408, 571]
[foolsgold agg] considering poison per batch poison_fraction: 0.4181473175780576
[foolsgold agg] wv: [0. 0. 0. 0. 0. 0. 1. 0. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 7: Average loss: 1.9923, Accuracy: 5338/10000 (53.3800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 7: Average loss: 1.9665, Accuracy: 5185/8991 (57.6688%)
Done in 62.57075595855713 sec.
Server Epoch:8 choose agents : [63, 55, 79, 9, 62, 56, 96, 12, 92, 86].
___Train Local_Simple,  epoch   8, local model 63, internal_epoch   1,  Average loss: 0.0375, Accuracy: 365/594 (61.4478%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5937, Accuracy: 7034/10000 (70.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 55, internal_epoch   1,  Average loss: 0.0376, Accuracy: 368/595 (61.8487%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5997, Accuracy: 7077/10000 (70.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 79, internal_epoch   1,  Average loss: 0.0398, Accuracy: 335/565 (59.2920%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6022, Accuracy: 7430/10000 (74.3000%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 9, internal_epoch   1,  Average loss: 0.0366, Accuracy: 367/587 (62.5213%), train_poison_data_count: 587
Global model norm: 1.8535243718510686.
Norm before scaling: 2.013813713102963. Distance: 0.5754527113515597
Total norm for 2 adversaries is: 2.013813713102963. distance: 0.5754527113515597
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.5085, Accuracy: 5674/8991 (63.1076%)
___Train Local_Simple,  epoch   8, local model 62, internal_epoch   1,  Average loss: 0.0384, Accuracy: 338/582 (58.0756%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5903, Accuracy: 7224/10000 (72.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 56, internal_epoch   1,  Average loss: 0.0382, Accuracy: 350/586 (59.7270%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6051, Accuracy: 7189/10000 (71.8900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 96, internal_epoch   1,  Average loss: 0.0363, Accuracy: 347/540 (64.2593%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6765, Accuracy: 6493/10000 (64.9300%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 12, internal_epoch   1,  Average loss: 0.0389, Accuracy: 336/555 (60.5405%), train_poison_data_count: 555
Global model norm: 1.8535243718510686.
Norm before scaling: 2.0121498608908595. Distance: 0.5752876350130971
Total norm for 2 adversaries is: 2.0121498608908595. distance: 0.5752876350130971
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.5608, Accuracy: 4427/8991 (49.2381%)
___Train Local_Simple,  epoch   8, local model 92, internal_epoch   1,  Average loss: 0.0395, Accuracy: 326/565 (57.6991%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6201, Accuracy: 7157/10000 (71.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 86, internal_epoch   1,  Average loss: 0.0387, Accuracy: 374/609 (61.4122%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5510, Accuracy: 6938/10000 (69.3800%), Attack Success Rate:0/10000(0.000)
time spent on training: 19.43086338043213
[foolsgold agg] training data poison_ratio: 0.19764624437521633  data num: [594, 595, 565, 587, 582, 586, 540, 555, 565, 609]
[foolsgold agg] considering poison per batch poison_fraction: 0.19764624437521633
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 8: Average loss: 1.8999, Accuracy: 5995/10000 (59.9500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 8: Average loss: 1.8725, Accuracy: 5873/8991 (65.3209%)
Done in 61.40555214881897 sec.
Server Epoch:9 choose agents : [28, 63, 33, 71, 13, 32, 76, 97, 23, 25].
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 28, internal_epoch   1,  Average loss: 0.0363, Accuracy: 339/566 (59.8940%), train_poison_data_count: 566
Global model norm: 1.8725793471796501.
Norm before scaling: 2.0420834900828004. Distance: 0.5478136998112841
Total norm for 6 adversaries is: 2.0420834900828004. distance: 0.5478136998112841
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.5246, Accuracy: 4479/8991 (49.8165%)
___Train Local_Simple,  epoch   9, local model 63, internal_epoch   1,  Average loss: 0.0359, Accuracy: 387/594 (65.1515%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.5349, Accuracy: 7009/10000 (70.0900%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 33, internal_epoch   1,  Average loss: 0.0362, Accuracy: 360/612 (58.8235%), train_poison_data_count: 612
Global model norm: 1.8725793471796501.
Norm before scaling: 2.0769322923580815. Distance: 0.6211246266877328
Total norm for 6 adversaries is: 2.0769322923580815. distance: 0.6211246266877328
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.3922, Accuracy: 6109/8991 (67.9457%)
___Train Local_Simple,  epoch   9, local model 71, internal_epoch   1,  Average loss: 0.0369, Accuracy: 401/637 (62.9513%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.5108, Accuracy: 7589/10000 (75.8900%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 13, internal_epoch   1,  Average loss: 0.0346, Accuracy: 384/628 (61.1465%), train_poison_data_count: 628
Global model norm: 1.8725793471796501.
Norm before scaling: 2.0742888645311837. Distance: 0.6173647855294836
Total norm for 6 adversaries is: 2.0742888645311837. distance: 0.6173647855294836
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.4204, Accuracy: 5595/8991 (62.2289%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 32, internal_epoch   1,  Average loss: 0.0352, Accuracy: 351/620 (56.6129%), train_poison_data_count: 620
Global model norm: 1.8725793471796501.
Norm before scaling: 2.0773509025091936. Distance: 0.6296378435570962
Total norm for 6 adversaries is: 2.0773509025091936. distance: 0.6296378435570962
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.4470, Accuracy: 5256/8991 (58.4585%)
___Train Local_Simple,  epoch   9, local model 76, internal_epoch   1,  Average loss: 0.0358, Accuracy: 384/597 (64.3216%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.5307, Accuracy: 7451/10000 (74.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   9, local model 97, internal_epoch   1,  Average loss: 0.0358, Accuracy: 383/539 (71.0575%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.6244, Accuracy: 7223/10000 (72.2300%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 23, internal_epoch   1,  Average loss: 0.0367, Accuracy: 369/602 (61.2957%), train_poison_data_count: 602
Global model norm: 1.8725793471796501.
Norm before scaling: 2.0788426128225095. Distance: 0.6304098836841071
Total norm for 6 adversaries is: 2.0788426128225095. distance: 0.6304098836841071
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.4644, Accuracy: 5003/8991 (55.6445%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 25, internal_epoch   1,  Average loss: 0.0352, Accuracy: 376/581 (64.7160%), train_poison_data_count: 581
Global model norm: 1.8725793471796501.
Norm before scaling: 2.045937825918572. Distance: 0.5504769099916821
Total norm for 6 adversaries is: 2.045937825918572. distance: 0.5504769099916821
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.4792, Accuracy: 5289/8991 (58.8255%)
time spent on training: 22.86296319961548
[foolsgold agg] training data poison_ratio: 0.6039156626506024  data num: [566, 594, 612, 637, 628, 620, 597, 539, 602, 581]
[foolsgold agg] considering poison per batch poison_fraction: 0.6039156626506024
[foolsgold agg] wv: [0.07477249 0.         0.18072833 0.         0.         0.
 0.13134217 1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 9: Average loss: 1.8798, Accuracy: 6085/10000 (60.8500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 9: Average loss: 1.8490, Accuracy: 5991/8991 (66.6333%)
Done in 64.99145770072937 sec.
Server Epoch:10 choose agents : [12, 56, 19, 11, 13, 78, 49, 34, 14, 99].
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 12, internal_epoch   1,  Average loss: 0.0366, Accuracy: 347/555 (62.5225%), train_poison_data_count: 555
Global model norm: 1.877599503665236.
Norm before scaling: 2.0488756027029953. Distance: 0.545145077950346
Total norm for 5 adversaries is: 2.0488756027029953. distance: 0.545145077950346
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.4829, Accuracy: 5087/8991 (56.5788%)
___Train Local_Simple,  epoch  10, local model 56, internal_epoch   1,  Average loss: 0.0363, Accuracy: 394/586 (67.2355%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.5249, Accuracy: 7455/10000 (74.5500%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 19, internal_epoch   1,  Average loss: 0.0370, Accuracy: 388/601 (64.5591%), train_poison_data_count: 601
Global model norm: 1.877599503665236.
Norm before scaling: 2.0723733109979774. Distance: 0.594558942753883
Total norm for 5 adversaries is: 2.0723733109979774. distance: 0.594558942753883
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.4268, Accuracy: 5964/8991 (66.3330%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 11, internal_epoch   1,  Average loss: 0.0358, Accuracy: 388/577 (67.2444%), train_poison_data_count: 577
Global model norm: 1.877599503665236.
Norm before scaling: 2.044460474114994. Distance: 0.5319894805061771
Total norm for 5 adversaries is: 2.044460474114994. distance: 0.5319894805061771
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.4641, Accuracy: 5831/8991 (64.8537%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 13, internal_epoch   1,  Average loss: 0.0343, Accuracy: 399/628 (63.5350%), train_poison_data_count: 628
Global model norm: 1.877599503665236.
Norm before scaling: 2.081279912510268. Distance: 0.6087003053907867
Total norm for 5 adversaries is: 2.081279912510268. distance: 0.6087003053907867
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.4002, Accuracy: 5773/8991 (64.2087%)
___Train Local_Simple,  epoch  10, local model 78, internal_epoch   1,  Average loss: 0.0376, Accuracy: 401/617 (64.9919%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.5033, Accuracy: 7271/10000 (72.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  10, local model 49, internal_epoch   1,  Average loss: 0.0365, Accuracy: 420/637 (65.9341%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.4961, Accuracy: 7772/10000 (77.7200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  10, local model 34, internal_epoch   1,  Average loss: 0.0355, Accuracy: 379/597 (63.4841%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.5362, Accuracy: 6727/10000 (67.2700%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 14, internal_epoch   1,  Average loss: 0.0339, Accuracy: 371/594 (62.4579%), train_poison_data_count: 594
Global model norm: 1.877599503665236.
Norm before scaling: 2.053076166649263. Distance: 0.5538816104891315
Total norm for 5 adversaries is: 2.053076166649263. distance: 0.5538816104891315
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.4657, Accuracy: 5537/8991 (61.5838%)
___Train Local_Simple,  epoch  10, local model 99, internal_epoch   1,  Average loss: 0.0354, Accuracy: 319/408 (78.1863%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.8074, Accuracy: 6106/10000 (61.0600%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.120984315872192
[foolsgold agg] training data poison_ratio: 0.5094827586206897  data num: [555, 586, 601, 577, 628, 617, 637, 597, 594, 408]
[foolsgold agg] considering poison per batch poison_fraction: 0.5094827586206897
[foolsgold agg] wv: [0. 0. 1. 0. 0. 0. 0. 0. 0. 1.]
___Test Target_Simple poisoned: False, epoch: 10: Average loss: 1.8659, Accuracy: 6108/10000 (61.0800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 10: Average loss: 1.8294, Accuracy: 6022/8991 (66.9781%)
Done in 64.07916927337646 sec.
Server Epoch:11 choose agents : [53, 56, 51, 14, 36, 6, 46, 99, 88, 37].
___Train Local_Simple,  epoch  11, local model 53, internal_epoch   1,  Average loss: 0.0368, Accuracy: 385/568 (67.7817%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.5045, Accuracy: 7474/10000 (74.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 56, internal_epoch   1,  Average loss: 0.0358, Accuracy: 390/586 (66.5529%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.5240, Accuracy: 7405/10000 (74.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 51, internal_epoch   1,  Average loss: 0.0369, Accuracy: 393/602 (65.2824%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.4734, Accuracy: 7764/10000 (77.6400%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 14, internal_epoch   1,  Average loss: 0.0335, Accuracy: 369/594 (62.1212%), train_poison_data_count: 594
Global model norm: 1.8818964332315278.
Norm before scaling: 2.0576266889167196. Distance: 0.5408547227574833
Total norm for 2 adversaries is: 2.0576266889167196. distance: 0.5408547227574833
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.4619, Accuracy: 5304/8991 (58.9923%)
___Train Local_Simple,  epoch  11, local model 36, internal_epoch   1,  Average loss: 0.0374, Accuracy: 375/601 (62.3960%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.4836, Accuracy: 7232/10000 (72.3200%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 6, internal_epoch   1,  Average loss: 0.0354, Accuracy: 400/609 (65.6814%), train_poison_data_count: 609
Global model norm: 1.8818964332315278.
Norm before scaling: 2.082829249115068. Distance: 0.5906954294426665
Total norm for 2 adversaries is: 2.082829249115068. distance: 0.5906954294426665
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.3917, Accuracy: 6215/8991 (69.1247%)
___Train Local_Simple,  epoch  11, local model 46, internal_epoch   1,  Average loss: 0.0372, Accuracy: 388/609 (63.7110%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.4703, Accuracy: 7131/10000 (71.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 99, internal_epoch   1,  Average loss: 0.0342, Accuracy: 329/408 (80.6373%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.7935, Accuracy: 6166/10000 (61.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 88, internal_epoch   1,  Average loss: 0.0380, Accuracy: 368/560 (65.7143%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.5188, Accuracy: 7514/10000 (75.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 37, internal_epoch   1,  Average loss: 0.0387, Accuracy: 396/601 (65.8902%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.4840, Accuracy: 7301/10000 (73.0100%), Attack Success Rate:0/10000(0.000)
time spent on training: 20.331672191619873
[foolsgold agg] training data poison_ratio: 0.20965493203206692  data num: [568, 586, 602, 594, 601, 609, 609, 408, 560, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.20965493203206692
[foolsgold agg] wv: [0.         0.         1.         0.         0.95148743 0.
 0.         1.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 11: Average loss: 1.8339, Accuracy: 6337/10000 (63.3700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 11: Average loss: 1.7966, Accuracy: 6247/8991 (69.4806%)
Done in 62.29851770401001 sec.
Server Epoch:12 choose agents : [42, 17, 2, 64, 6, 38, 37, 44, 77, 4].
___Train Local_Simple,  epoch  12, local model 42, internal_epoch   1,  Average loss: 0.0345, Accuracy: 414/646 (64.0867%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.4488, Accuracy: 7970/10000 (79.7000%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 17, internal_epoch   1,  Average loss: 0.0336, Accuracy: 398/579 (68.7392%), train_poison_data_count: 579
Global model norm: 1.8912473552758482.
Norm before scaling: 2.0744385108983217. Distance: 0.5296854373587899
Total norm for 4 adversaries is: 2.0744385108983217. distance: 0.5296854373587899
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.4025, Accuracy: 6021/8991 (66.9670%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 2, internal_epoch   1,  Average loss: 0.0341, Accuracy: 372/585 (63.5897%), train_poison_data_count: 585
Global model norm: 1.8912473552758482.
Norm before scaling: 2.0682660046648365. Distance: 0.53546072658631
Total norm for 4 adversaries is: 2.0682660046648365. distance: 0.53546072658631
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.4497, Accuracy: 5664/8991 (62.9963%)
___Train Local_Simple,  epoch  12, local model 64, internal_epoch   1,  Average loss: 0.0368, Accuracy: 398/610 (65.2459%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.4528, Accuracy: 7510/10000 (75.1000%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 6, internal_epoch   1,  Average loss: 0.0346, Accuracy: 405/609 (66.5025%), train_poison_data_count: 609
Global model norm: 1.8912473552758482.
Norm before scaling: 2.0993805516661603. Distance: 0.591061654728312
Total norm for 4 adversaries is: 2.0993805516661603. distance: 0.591061654728312
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.3799, Accuracy: 5984/8991 (66.5554%)
___Train Local_Simple,  epoch  12, local model 38, internal_epoch   1,  Average loss: 0.0353, Accuracy: 415/584 (71.0616%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.4972, Accuracy: 7371/10000 (73.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  12, local model 37, internal_epoch   1,  Average loss: 0.0361, Accuracy: 413/601 (68.7188%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.4696, Accuracy: 6782/10000 (67.8200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  12, local model 44, internal_epoch   1,  Average loss: 0.0367, Accuracy: 402/608 (66.1184%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.4634, Accuracy: 7223/10000 (72.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  12, local model 77, internal_epoch   1,  Average loss: 0.0370, Accuracy: 383/565 (67.7876%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.4964, Accuracy: 6993/10000 (69.9300%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 4, internal_epoch   1,  Average loss: 0.0338, Accuracy: 407/621 (65.5395%), train_poison_data_count: 621
Global model norm: 1.8912473552758482.
Norm before scaling: 2.0992778853508405. Distance: 0.5881006873088674
Total norm for 4 adversaries is: 2.0992778853508405. distance: 0.5881006873088674
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.3839, Accuracy: 5772/8991 (64.1975%)
time spent on training: 21.875293731689453
[foolsgold agg] training data poison_ratio: 0.39846870838881493  data num: [646, 579, 585, 610, 609, 584, 601, 608, 565, 621]
[foolsgold agg] considering poison per batch poison_fraction: 0.39846870838881493
[foolsgold agg] wv: [0.         0.         0.17133054 0.0545652  0.         0.
 1.         1.         0.57162916 0.        ]
___Test Target_Simple poisoned: False, epoch: 12: Average loss: 1.8102, Accuracy: 6366/10000 (63.6600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 12: Average loss: 1.7740, Accuracy: 6274/8991 (69.7809%)
Done in 63.64993071556091 sec.
Server Epoch:13 choose agents : [24, 38, 52, 10, 11, 76, 97, 7, 70, 14].
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 24, internal_epoch   1,  Average loss: 0.0354, Accuracy: 412/603 (68.3250%), train_poison_data_count: 603
Global model norm: 1.8984270762718591.
Norm before scaling: 2.1059959190452284. Distance: 0.5829292384989926
Total norm for 5 adversaries is: 2.1059959190452284. distance: 0.5829292384989926
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.3935, Accuracy: 5654/8991 (62.8851%)
___Train Local_Simple,  epoch  13, local model 38, internal_epoch   1,  Average loss: 0.0349, Accuracy: 417/584 (71.4041%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.4732, Accuracy: 7540/10000 (75.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 52, internal_epoch   1,  Average loss: 0.0338, Accuracy: 424/598 (70.9030%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.4824, Accuracy: 7197/10000 (71.9700%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 10, internal_epoch   1,  Average loss: 0.0336, Accuracy: 426/635 (67.0866%), train_poison_data_count: 635
Global model norm: 1.8984270762718591.
Norm before scaling: 2.0991529527523887. Distance: 0.5656549140227791
Total norm for 5 adversaries is: 2.0991529527523887. distance: 0.5656549140227791
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.3525, Accuracy: 6901/8991 (76.7545%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 11, internal_epoch   1,  Average loss: 0.0343, Accuracy: 401/577 (69.4974%), train_poison_data_count: 577
Global model norm: 1.8984270762718591.
Norm before scaling: 2.0724371606298515. Distance: 0.5106562292291469
Total norm for 5 adversaries is: 2.0724371606298515. distance: 0.5106562292291469
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.4061, Accuracy: 6335/8991 (70.4593%)
___Train Local_Simple,  epoch  13, local model 76, internal_epoch   1,  Average loss: 0.0343, Accuracy: 402/597 (67.3367%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.4707, Accuracy: 7573/10000 (75.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 97, internal_epoch   1,  Average loss: 0.0342, Accuracy: 381/539 (70.6865%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.5642, Accuracy: 7311/10000 (73.1100%), Attack Success Rate:0/10000(0.000)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 7, internal_epoch   1,  Average loss: 0.0347, Accuracy: 403/570 (70.7018%), train_poison_data_count: 570
Global model norm: 1.8984270762718591.
Norm before scaling: 2.0751709557394142. Distance: 0.5167733034970557
Total norm for 5 adversaries is: 2.0751709557394142. distance: 0.5167733034970557
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.4152, Accuracy: 6011/8991 (66.8557%)
___Train Local_Simple,  epoch  13, local model 70, internal_epoch   1,  Average loss: 0.0364, Accuracy: 430/610 (70.4918%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.4603, Accuracy: 7546/10000 (75.4600%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 14, internal_epoch   1,  Average loss: 0.0325, Accuracy: 409/594 (68.8552%), train_poison_data_count: 594
Global model norm: 1.8984270762718591.
Norm before scaling: 2.0821885842141996. Distance: 0.5349591581406237
Total norm for 5 adversaries is: 2.0821885842141996. distance: 0.5349591581406237
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.4307, Accuracy: 5419/8991 (60.2714%)
time spent on training: 22.567832946777344
[foolsgold agg] training data poison_ratio: 0.5043169121381412  data num: [603, 584, 598, 635, 577, 597, 539, 570, 610, 594]
[foolsgold agg] considering poison per batch poison_fraction: 0.5043169121381412
[foolsgold agg] wv: [0.39945384 0.06199856 0.         0.         0.         0.
 1.         0.         0.98451679 0.        ]
___Test Target_Simple poisoned: False, epoch: 13: Average loss: 1.7908, Accuracy: 6407/10000 (64.0700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 13: Average loss: 1.7554, Accuracy: 6319/8991 (70.2814%)
Done in 64.589435338974 sec.
Server Epoch:14 choose agents : [95, 97, 12, 89, 25, 34, 55, 67, 56, 2].
___Train Local_Simple,  epoch  14, local model 95, internal_epoch   1,  Average loss: 0.0330, Accuracy: 366/549 (66.6667%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.5542, Accuracy: 7074/10000 (70.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 97, internal_epoch   1,  Average loss: 0.0339, Accuracy: 376/539 (69.7588%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.5470, Accuracy: 7275/10000 (72.7500%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 12, internal_epoch   1,  Average loss: 0.0349, Accuracy: 336/555 (60.5405%), train_poison_data_count: 555
Global model norm: 1.9046337592638356.
Norm before scaling: 2.0860385370251677. Distance: 0.5239926710562646
Total norm for 3 adversaries is: 2.0860385370251677. distance: 0.5239926710562646
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.3998, Accuracy: 6006/8991 (66.8001%)
___Train Local_Simple,  epoch  14, local model 89, internal_epoch   1,  Average loss: 0.0340, Accuracy: 406/594 (68.3502%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4688, Accuracy: 7607/10000 (76.0700%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 25, internal_epoch   1,  Average loss: 0.0333, Accuracy: 380/581 (65.4045%), train_poison_data_count: 581
Global model norm: 1.9046337592638356.
Norm before scaling: 2.091828332659119. Distance: 0.5266071119568559
Total norm for 3 adversaries is: 2.091828332659119. distance: 0.5266071119568559
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.4129, Accuracy: 5387/8991 (59.9155%)
___Train Local_Simple,  epoch  14, local model 34, internal_epoch   1,  Average loss: 0.0341, Accuracy: 394/597 (65.9966%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4696, Accuracy: 7117/10000 (71.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 55, internal_epoch   1,  Average loss: 0.0342, Accuracy: 394/595 (66.2185%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4656, Accuracy: 7324/10000 (73.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 67, internal_epoch   1,  Average loss: 0.0363, Accuracy: 391/570 (68.5965%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4874, Accuracy: 7497/10000 (74.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 56, internal_epoch   1,  Average loss: 0.0347, Accuracy: 388/586 (66.2116%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4678, Accuracy: 7646/10000 (76.4600%), Attack Success Rate:0/10000(0.000)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 2, internal_epoch   1,  Average loss: 0.0334, Accuracy: 381/585 (65.1282%), train_poison_data_count: 585
Global model norm: 1.9046337592638356.
Norm before scaling: 2.0880967298076607. Distance: 0.5327572198196888
Total norm for 3 adversaries is: 2.0880967298076607. distance: 0.5327572198196888
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.4103, Accuracy: 5881/8991 (65.4099%)
time spent on training: 21.169225931167603
[foolsgold agg] training data poison_ratio: 0.29925230394713964  data num: [549, 539, 555, 594, 581, 597, 595, 570, 586, 585]
[foolsgold agg] considering poison per batch poison_fraction: 0.29925230394713964
[foolsgold agg] wv: [0.58381979 0.58381979 1.         1.         1.         1.
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 14: Average loss: 1.7240, Accuracy: 6668/10000 (66.6800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 14: Average loss: 1.6841, Accuracy: 6592/8991 (73.3178%)
Done in 63.234320402145386 sec.
Server Epoch:15 choose agents : [4, 1, 20, 48, 55, 98, 27, 42, 0, 44].
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 4, internal_epoch   1,  Average loss: 0.0320, Accuracy: 418/621 (67.3108%), train_poison_data_count: 621
Global model norm: 1.9292453151130418.
Norm before scaling: 2.1495120049172667. Distance: 0.5663561568635379
Total norm for 4 adversaries is: 2.1495120049172667. distance: 0.5663561568635379
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3314, Accuracy: 5702/8991 (63.4190%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 1, internal_epoch   1,  Average loss: 0.0313, Accuracy: 412/600 (68.6667%), train_poison_data_count: 600
Global model norm: 1.9292453151130418.
Norm before scaling: 2.114517386274104. Distance: 0.5022928594793679
Total norm for 4 adversaries is: 2.114517386274104. distance: 0.5022928594793679
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3689, Accuracy: 5991/8991 (66.6333%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 20, internal_epoch   1,  Average loss: 0.0317, Accuracy: 407/588 (69.2177%), train_poison_data_count: 588
Global model norm: 1.9292453151130418.
Norm before scaling: 2.1150342964656224. Distance: 0.5024138240083139
Total norm for 4 adversaries is: 2.1150342964656224. distance: 0.5024138240083139
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3704, Accuracy: 5816/8991 (64.6869%)
___Train Local_Simple,  epoch  15, local model 48, internal_epoch   1,  Average loss: 0.0345, Accuracy: 389/573 (67.8883%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.4222, Accuracy: 7812/10000 (78.1200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 55, internal_epoch   1,  Average loss: 0.0332, Accuracy: 402/595 (67.5630%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.4206, Accuracy: 7601/10000 (76.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 98, internal_epoch   1,  Average loss: 0.0304, Accuracy: 384/499 (76.9539%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.5461, Accuracy: 6610/10000 (66.1000%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 27, internal_epoch   1,  Average loss: 0.0312, Accuracy: 423/597 (70.8543%), train_poison_data_count: 597
Global model norm: 1.9292453151130418.
Norm before scaling: 2.119071431942089. Distance: 0.49754694362549223
Total norm for 4 adversaries is: 2.119071431942089. distance: 0.49754694362549223
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3448, Accuracy: 6287/8991 (69.9255%)
___Train Local_Simple,  epoch  15, local model 42, internal_epoch   1,  Average loss: 0.0328, Accuracy: 443/646 (68.5759%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.3816, Accuracy: 7961/10000 (79.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 0, internal_epoch   1,  Average loss: 0.0326, Accuracy: 419/598 (70.0669%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.4228, Accuracy: 7654/10000 (76.5400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 44, internal_epoch   1,  Average loss: 0.0354, Accuracy: 398/608 (65.4605%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.4014, Accuracy: 7563/10000 (75.6300%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.141579627990723
[foolsgold agg] training data poison_ratio: 0.40607594936708863  data num: [621, 600, 588, 573, 595, 499, 597, 646, 598, 608]
[foolsgold agg] considering poison per batch poison_fraction: 0.40607594936708863
[foolsgold agg] wv: [0.         0.         0.         0.         0.         1.
 0.         0.         0.         0.36501794]
___Test Target_Simple poisoned: False, epoch: 15: Average loss: 1.7150, Accuracy: 6666/10000 (66.6600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 15: Average loss: 1.6753, Accuracy: 6586/8991 (73.2510%)
Done in 64.43678522109985 sec.
Server Epoch:16 choose agents : [25, 8, 12, 99, 53, 26, 60, 63, 52, 90].
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 25, internal_epoch   1,  Average loss: 0.0320, Accuracy: 420/581 (72.2892%), train_poison_data_count: 581
Global model norm: 1.9328090732454655.
Norm before scaling: 2.1240787753208004. Distance: 0.5033350523809841
Total norm for 4 adversaries is: 2.1240787753208004. distance: 0.5033350523809841
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.3721, Accuracy: 5534/8991 (61.5504%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 8, internal_epoch   1,  Average loss: 0.0311, Accuracy: 414/593 (69.8145%), train_poison_data_count: 593
Global model norm: 1.9328090732454655.
Norm before scaling: 2.1214454317179783. Distance: 0.49326320444811117
Total norm for 4 adversaries is: 2.1214454317179783. distance: 0.49326320444811117
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.3247, Accuracy: 6552/8991 (72.8729%)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 12, internal_epoch   1,  Average loss: 0.0342, Accuracy: 379/555 (68.2883%), train_poison_data_count: 555
Global model norm: 1.9328090732454655.
Norm before scaling: 2.119626150456772. Distance: 0.5007650661382663
Total norm for 4 adversaries is: 2.119626150456772. distance: 0.5007650661382663
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.3502, Accuracy: 6287/8991 (69.9255%)
___Train Local_Simple,  epoch  16, local model 99, internal_epoch   1,  Average loss: 0.0306, Accuracy: 348/408 (85.2941%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.6908, Accuracy: 6199/10000 (61.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 53, internal_epoch   1,  Average loss: 0.0342, Accuracy: 402/568 (70.7746%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4087, Accuracy: 7601/10000 (76.0100%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 26, internal_epoch   1,  Average loss: 0.0326, Accuracy: 399/573 (69.6335%), train_poison_data_count: 573
Global model norm: 1.9328090732454655.
Norm before scaling: 2.1167862290183135. Distance: 0.4884680428843017
Total norm for 4 adversaries is: 2.1167862290183135. distance: 0.4884680428843017
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.3339, Accuracy: 6612/8991 (73.5402%)
___Train Local_Simple,  epoch  16, local model 60, internal_epoch   1,  Average loss: 0.0325, Accuracy: 431/600 (71.8333%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4152, Accuracy: 8009/10000 (80.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 63, internal_epoch   1,  Average loss: 0.0326, Accuracy: 401/594 (67.5084%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4113, Accuracy: 7424/10000 (74.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 52, internal_epoch   1,  Average loss: 0.0322, Accuracy: 424/598 (70.9030%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4169, Accuracy: 7291/10000 (72.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 90, internal_epoch   1,  Average loss: 0.0335, Accuracy: 403/576 (69.9653%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4128, Accuracy: 7728/10000 (77.2800%), Attack Success Rate:0/10000(0.000)
time spent on training: 21.89684557914734
[foolsgold agg] training data poison_ratio: 0.4077222812610698  data num: [581, 593, 555, 408, 568, 573, 600, 594, 598, 576]
[foolsgold agg] considering poison per batch poison_fraction: 0.4077222812610698
[foolsgold agg] wv: [0. 0. 0. 1. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 16: Average loss: 1.7103, Accuracy: 6596/10000 (65.9600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 16: Average loss: 1.6684, Accuracy: 6520/8991 (72.5170%)
Done in 63.81844758987427 sec.
Server Epoch:17 choose agents : [66, 33, 56, 97, 10, 13, 77, 37, 90, 59].
___Train Local_Simple,  epoch  17, local model 66, internal_epoch   1,  Average loss: 0.0336, Accuracy: 403/622 (64.7910%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.3778, Accuracy: 7553/10000 (75.5300%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 33, internal_epoch   1,  Average loss: 0.0323, Accuracy: 432/612 (70.5882%), train_poison_data_count: 612
Global model norm: 1.9353428799539065.
Norm before scaling: 2.1616957078373615. Distance: 0.5648468386828129
Total norm for 3 adversaries is: 2.1616957078373615. distance: 0.5648468386828129
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.2933, Accuracy: 6179/8991 (68.7243%)
___Train Local_Simple,  epoch  17, local model 56, internal_epoch   1,  Average loss: 0.0333, Accuracy: 404/586 (68.9420%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4189, Accuracy: 7637/10000 (76.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 97, internal_epoch   1,  Average loss: 0.0322, Accuracy: 405/539 (75.1391%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4890, Accuracy: 7431/10000 (74.3100%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 10, internal_epoch   1,  Average loss: 0.0320, Accuracy: 434/635 (68.3465%), train_poison_data_count: 635
Global model norm: 1.9353428799539065.
Norm before scaling: 2.1467312782744434. Distance: 0.5357947890784032
Total norm for 3 adversaries is: 2.1467312782744434. distance: 0.5357947890784032
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.2938, Accuracy: 6840/8991 (76.0761%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 13, internal_epoch   1,  Average loss: 0.0313, Accuracy: 442/628 (70.3822%), train_poison_data_count: 628
Global model norm: 1.9353428799539065.
Norm before scaling: 2.1587286814137845. Distance: 0.5691272752357346
Total norm for 3 adversaries is: 2.1587286814137845. distance: 0.5691272752357346
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.3168, Accuracy: 5782/8991 (64.3088%)
___Train Local_Simple,  epoch  17, local model 77, internal_epoch   1,  Average loss: 0.0342, Accuracy: 396/565 (70.0885%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4311, Accuracy: 6904/10000 (69.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 37, internal_epoch   1,  Average loss: 0.0337, Accuracy: 424/601 (70.5491%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.3872, Accuracy: 7001/10000 (70.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 90, internal_epoch   1,  Average loss: 0.0334, Accuracy: 419/576 (72.7431%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4031, Accuracy: 7704/10000 (77.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 59, internal_epoch   1,  Average loss: 0.0347, Accuracy: 396/607 (65.2389%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.3845, Accuracy: 7845/10000 (78.4500%), Attack Success Rate:0/10000(0.000)
time spent on training: 21.600266933441162
[foolsgold agg] training data poison_ratio: 0.31401775247027297  data num: [622, 612, 586, 539, 635, 628, 565, 601, 576, 607]
[foolsgold agg] considering poison per batch poison_fraction: 0.31401775247027297
[foolsgold agg] wv: [0.         0.         0.         1.         0.         0.
 0.         1.         0.         0.37484815]
___Test Target_Simple poisoned: False, epoch: 17: Average loss: 1.6922, Accuracy: 6624/10000 (66.2400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 17: Average loss: 1.6526, Accuracy: 6535/8991 (72.6838%)
Done in 63.63905048370361 sec.
Server Epoch:18 choose agents : [55, 58, 88, 23, 39, 75, 82, 61, 95, 93].
___Train Local_Simple,  epoch  18, local model 55, internal_epoch   1,  Average loss: 0.0325, Accuracy: 405/595 (68.0672%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4016, Accuracy: 7644/10000 (76.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 58, internal_epoch   1,  Average loss: 0.0337, Accuracy: 403/575 (70.0870%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4046, Accuracy: 7777/10000 (77.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 88, internal_epoch   1,  Average loss: 0.0344, Accuracy: 394/560 (70.3571%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4085, Accuracy: 7833/10000 (78.3300%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 23, internal_epoch   1,  Average loss: 0.0318, Accuracy: 435/602 (72.2591%), train_poison_data_count: 602
Global model norm: 1.9422855957006202.
Norm before scaling: 2.168942014785314. Distance: 0.568987312691671
Total norm for 1 adversaries is: 2.168942014785314. distance: 0.568987312691671
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.3542, Accuracy: 5249/8991 (58.3806%)
___Train Local_Simple,  epoch  18, local model 39, internal_epoch   1,  Average loss: 0.0345, Accuracy: 389/560 (69.4643%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.3974, Accuracy: 7465/10000 (74.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 75, internal_epoch   1,  Average loss: 0.0325, Accuracy: 407/600 (67.8333%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4030, Accuracy: 7609/10000 (76.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 82, internal_epoch   1,  Average loss: 0.0325, Accuracy: 413/589 (70.1188%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4027, Accuracy: 7468/10000 (74.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 61, internal_epoch   1,  Average loss: 0.0332, Accuracy: 428/585 (73.1624%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.3926, Accuracy: 7945/10000 (79.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 95, internal_epoch   1,  Average loss: 0.0311, Accuracy: 394/549 (71.7668%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4858, Accuracy: 7170/10000 (71.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 93, internal_epoch   1,  Average loss: 0.0338, Accuracy: 394/508 (77.5591%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4758, Accuracy: 7343/10000 (73.4300%), Attack Success Rate:0/10000(0.000)
time spent on training: 20.362842798233032
[foolsgold agg] training data poison_ratio: 0.10518958588153067  data num: [595, 575, 560, 602, 560, 600, 589, 585, 549, 508]
[foolsgold agg] considering poison per batch poison_fraction: 0.10518958588153067
[foolsgold agg] wv: [0. 0. 0. 1. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 18: Average loss: 1.6862, Accuracy: 6620/10000 (66.2000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 18: Average loss: 1.6433, Accuracy: 6543/8991 (72.7728%)
Done in 62.40925717353821 sec.
Server Epoch:19 choose agents : [37, 43, 50, 84, 25, 28, 8, 16, 6, 3].
___Train Local_Simple,  epoch  19, local model 37, internal_epoch   1,  Average loss: 0.0343, Accuracy: 427/601 (71.0483%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.3747, Accuracy: 7063/10000 (70.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 43, internal_epoch   1,  Average loss: 0.0337, Accuracy: 409/571 (71.6287%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.3859, Accuracy: 7950/10000 (79.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 50, internal_epoch   1,  Average loss: 0.0336, Accuracy: 402/567 (70.8995%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.3915, Accuracy: 7600/10000 (76.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 84, internal_epoch   1,  Average loss: 0.0362, Accuracy: 420/601 (69.8835%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.3731, Accuracy: 7720/10000 (77.2000%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 25, internal_epoch   1,  Average loss: 0.0313, Accuracy: 412/581 (70.9122%), train_poison_data_count: 581
Global model norm: 1.9454995184167145.
Norm before scaling: 2.1359452376542936. Distance: 0.48967317169493946
Total norm for 6 adversaries is: 2.1359452376542936. distance: 0.48967317169493946
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.3367, Accuracy: 6049/8991 (67.2784%)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 28, internal_epoch   1,  Average loss: 0.0324, Accuracy: 397/566 (70.1413%), train_poison_data_count: 566
Global model norm: 1.9454995184167145.
Norm before scaling: 2.1324945569164577. Distance: 0.4884235479908985
Total norm for 6 adversaries is: 2.1324945569164577. distance: 0.4884235479908985
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.3677, Accuracy: 5310/8991 (59.0591%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 8, internal_epoch   1,  Average loss: 0.0305, Accuracy: 437/593 (73.6931%), train_poison_data_count: 593
Global model norm: 1.9454995184167145.
Norm before scaling: 2.137796245368732. Distance: 0.4861844321616435
Total norm for 6 adversaries is: 2.137796245368732. distance: 0.4861844321616435
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2998, Accuracy: 6682/8991 (74.3188%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 16, internal_epoch   1,  Average loss: 0.0306, Accuracy: 428/596 (71.8121%), train_poison_data_count: 596
Global model norm: 1.9454995184167145.
Norm before scaling: 2.1374018551786746. Distance: 0.5002708595479318
Total norm for 6 adversaries is: 2.1374018551786746. distance: 0.5002708595479318
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.3476, Accuracy: 5946/8991 (66.1328%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 6, internal_epoch   1,  Average loss: 0.0317, Accuracy: 452/609 (74.2200%), train_poison_data_count: 609
Global model norm: 1.9454995184167145.
Norm before scaling: 2.1639364598336215. Distance: 0.5446293637125175
Total norm for 6 adversaries is: 2.1639364598336215. distance: 0.5446293637125175
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2987, Accuracy: 6238/8991 (69.3805%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 3, internal_epoch   1,  Average loss: 0.0328, Accuracy: 390/568 (68.6620%), train_poison_data_count: 568
Global model norm: 1.9454995184167145.
Norm before scaling: 2.134047712977821. Distance: 0.488487779808057
Total norm for 6 adversaries is: 2.134047712977821. distance: 0.488487779808057
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.3154, Accuracy: 6601/8991 (73.4179%)
time spent on training: 23.718671083450317
[foolsgold agg] training data poison_ratio: 0.6002050230650948  data num: [601, 571, 567, 601, 581, 566, 593, 596, 609, 568]
[foolsgold agg] considering poison per batch poison_fraction: 0.6002050230650948
[foolsgold agg] wv: [1. 0. 0. 1. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 19: Average loss: 1.6707, Accuracy: 6713/10000 (67.1300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 19: Average loss: 1.6326, Accuracy: 6616/8991 (73.5847%)
Done in 65.9527530670166 sec.
Server Epoch:20 choose agents : [23, 43, 27, 82, 37, 35, 29, 47, 11, 42].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 23, internal_epoch   1,  Average loss: 0.0323, Accuracy: 416/602 (69.1030%), train_poison_data_count: 602
Global model norm: 1.9511365610464828.
Norm before scaling: 2.1769019481777265. Distance: 0.5586043403528569
Total norm for 4 adversaries is: 2.1769019481777265. distance: 0.5586043403528569
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.3210, Accuracy: 5532/8991 (61.5282%)
___Train Local_Simple,  epoch  20, local model 43, internal_epoch   1,  Average loss: 0.0333, Accuracy: 413/571 (72.3292%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.3765, Accuracy: 7906/10000 (79.0600%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 27, internal_epoch   1,  Average loss: 0.0302, Accuracy: 437/597 (73.1993%), train_poison_data_count: 597
Global model norm: 1.9511365610464828.
Norm before scaling: 2.1446220781724725. Distance: 0.4851108468351903
Total norm for 4 adversaries is: 2.1446220781724725. distance: 0.4851108468351903
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.3064, Accuracy: 6500/8991 (72.2945%)
___Train Local_Simple,  epoch  20, local model 82, internal_epoch   1,  Average loss: 0.0321, Accuracy: 437/589 (74.1935%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.3848, Accuracy: 7639/10000 (76.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  20, local model 37, internal_epoch   1,  Average loss: 0.0336, Accuracy: 424/601 (70.5491%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.3577, Accuracy: 7319/10000 (73.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  20, local model 35, internal_epoch   1,  Average loss: 0.0335, Accuracy: 399/577 (69.1508%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.3870, Accuracy: 7657/10000 (76.5700%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 29, internal_epoch   1,  Average loss: 0.0320, Accuracy: 419/573 (73.1239%), train_poison_data_count: 573
Global model norm: 1.9511365610464828.
Norm before scaling: 2.138326036892239. Distance: 0.49153373835402664
Total norm for 4 adversaries is: 2.138326036892239. distance: 0.49153373835402664
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.3201, Accuracy: 6509/8991 (72.3946%)
___Train Local_Simple,  epoch  20, local model 47, internal_epoch   1,  Average loss: 0.0331, Accuracy: 419/574 (72.9965%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.3812, Accuracy: 7891/10000 (78.9100%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 11, internal_epoch   1,  Average loss: 0.0320, Accuracy: 407/577 (70.5373%), train_poison_data_count: 577
Global model norm: 1.9511365610464828.
Norm before scaling: 2.1349071235913484. Distance: 0.47790949833002394
Total norm for 4 adversaries is: 2.1349071235913484. distance: 0.47790949833002394
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.3127, Accuracy: 6744/8991 (75.0083%)
___Train Local_Simple,  epoch  20, local model 42, internal_epoch   1,  Average loss: 0.0318, Accuracy: 451/646 (69.8142%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.3532, Accuracy: 8042/10000 (80.4200%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.59321117401123
[foolsgold agg] training data poison_ratio: 0.3976637887252412  data num: [602, 571, 597, 589, 601, 577, 573, 574, 577, 646]
[foolsgold agg] considering poison per batch poison_fraction: 0.3976637887252412
[foolsgold agg] wv: [1.         0.         0.         0.01797576 1.         0.
 0.17024207 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 20: Average loss: 1.6560, Accuracy: 6733/10000 (67.3300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 20: Average loss: 1.6146, Accuracy: 6653/8991 (73.9962%)
Done in 64.89458990097046 sec.
Server Epoch:21 choose agents : [33, 12, 93, 15, 41, 97, 20, 86, 54, 52].
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 33, internal_epoch   1,  Average loss: 0.0314, Accuracy: 440/612 (71.8954%), train_poison_data_count: 612
Global model norm: 1.9582367190072953.
Norm before scaling: 2.1819121790274982. Distance: 0.5425408413012129
Total norm for 4 adversaries is: 2.1819121790274982. distance: 0.5425408413012129
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.2566, Accuracy: 6433/8991 (71.5493%)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 12, internal_epoch   1,  Average loss: 0.0329, Accuracy: 382/555 (68.8288%), train_poison_data_count: 555
Global model norm: 1.9582367190072953.
Norm before scaling: 2.1486820705965157. Distance: 0.4899700105501148
Total norm for 4 adversaries is: 2.1486820705965157. distance: 0.4899700105501148
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.3158, Accuracy: 6330/8991 (70.4037%)
___Train Local_Simple,  epoch  21, local model 93, internal_epoch   1,  Average loss: 0.0327, Accuracy: 375/508 (73.8189%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.4553, Accuracy: 7192/10000 (71.9200%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 15, internal_epoch   1,  Average loss: 0.0328, Accuracy: 379/556 (68.1655%), train_poison_data_count: 556
Global model norm: 1.9582367190072953.
Norm before scaling: 2.1480667071719846. Distance: 0.48299977210633804
Total norm for 4 adversaries is: 2.1480667071719846. distance: 0.48299977210633804
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.3247, Accuracy: 6176/8991 (68.6909%)
___Train Local_Simple,  epoch  21, local model 41, internal_epoch   1,  Average loss: 0.0319, Accuracy: 436/635 (68.6614%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.3482, Accuracy: 7503/10000 (75.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 97, internal_epoch   1,  Average loss: 0.0312, Accuracy: 409/539 (75.8813%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.4535, Accuracy: 7482/10000 (74.8200%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 20, internal_epoch   1,  Average loss: 0.0309, Accuracy: 401/588 (68.1973%), train_poison_data_count: 588
Global model norm: 1.9582367190072953.
Norm before scaling: 2.1467894735610953. Distance: 0.4892770607335216
Total norm for 4 adversaries is: 2.1467894735610953. distance: 0.4892770607335216
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.3236, Accuracy: 6249/8991 (69.5028%)
___Train Local_Simple,  epoch  21, local model 86, internal_epoch   1,  Average loss: 0.0326, Accuracy: 425/609 (69.7865%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.3484, Accuracy: 7687/10000 (76.8700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 54, internal_epoch   1,  Average loss: 0.0320, Accuracy: 389/547 (71.1152%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.4098, Accuracy: 7610/10000 (76.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 52, internal_epoch   1,  Average loss: 0.0312, Accuracy: 418/598 (69.8997%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.3867, Accuracy: 7317/10000 (73.1700%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.562541007995605
[foolsgold agg] training data poison_ratio: 0.40212284670262743  data num: [612, 555, 508, 556, 635, 539, 588, 609, 547, 598]
[foolsgold agg] considering poison per batch poison_fraction: 0.4021228467026275
[foolsgold agg] wv: [0.43531244 1.         0.36916468 1.         0.80025759 0.36916468
 0.43531244 0.80837791 1.         0.80025759]
___Test Target_Simple poisoned: False, epoch: 21: Average loss: 1.6118, Accuracy: 6903/10000 (69.0300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 21: Average loss: 1.5661, Accuracy: 6828/8991 (75.9426%)
Done in 64.78985214233398 sec.
Server Epoch:22 choose agents : [24, 38, 42, 32, 60, 8, 35, 92, 27, 96].
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 24, internal_epoch   1,  Average loss: 0.0323, Accuracy: 430/603 (71.3101%), train_poison_data_count: 603
Global model norm: 1.9800330892360372.
Norm before scaling: 2.200917971436507. Distance: 0.5274187105378013
Total norm for 4 adversaries is: 2.200917971436507. distance: 0.5274187105378013
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2552, Accuracy: 6552/8991 (72.8729%)
___Train Local_Simple,  epoch  22, local model 38, internal_epoch   1,  Average loss: 0.0314, Accuracy: 442/584 (75.6849%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.3503, Accuracy: 7794/10000 (77.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  22, local model 42, internal_epoch   1,  Average loss: 0.0307, Accuracy: 452/646 (69.9690%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.3088, Accuracy: 8016/10000 (80.1600%), Attack Success Rate:0/10000(0.000)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 32, internal_epoch   1,  Average loss: 0.0300, Accuracy: 422/620 (68.0645%), train_poison_data_count: 620
Global model norm: 1.9800330892360372.
Norm before scaling: 2.2051011549741233. Distance: 0.5360249339592082
Total norm for 4 adversaries is: 2.2051011549741233. distance: 0.5360249339592082
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2545, Accuracy: 6371/8991 (70.8597%)
___Train Local_Simple,  epoch  22, local model 60, internal_epoch   1,  Average loss: 0.0308, Accuracy: 436/600 (72.6667%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.3464, Accuracy: 8098/10000 (80.9800%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 8, internal_epoch   1,  Average loss: 0.0293, Accuracy: 447/593 (75.3794%), train_poison_data_count: 593
Global model norm: 1.9800330892360372.
Norm before scaling: 2.1765180398380526. Distance: 0.46909445186819404
Total norm for 4 adversaries is: 2.1765180398380526. distance: 0.46909445186819404
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2560, Accuracy: 6730/8991 (74.8526%)
___Train Local_Simple,  epoch  22, local model 35, internal_epoch   1,  Average loss: 0.0326, Accuracy: 408/577 (70.7106%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.3531, Accuracy: 7564/10000 (75.6400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  22, local model 92, internal_epoch   1,  Average loss: 0.0324, Accuracy: 415/565 (73.4513%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.3665, Accuracy: 7549/10000 (75.4900%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 27, internal_epoch   1,  Average loss: 0.0295, Accuracy: 412/597 (69.0117%), train_poison_data_count: 597
Global model norm: 1.9800330892360372.
Norm before scaling: 2.176556378949521. Distance: 0.4695644773129127
Total norm for 4 adversaries is: 2.176556378949521. distance: 0.4695644773129127
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2753, Accuracy: 6561/8991 (72.9730%)
___Train Local_Simple,  epoch  22, local model 96, internal_epoch   1,  Average loss: 0.0292, Accuracy: 404/540 (74.8148%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.4281, Accuracy: 7095/10000 (70.9500%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.57462501525879
[foolsgold agg] training data poison_ratio: 0.4072573839662447  data num: [603, 584, 646, 620, 600, 593, 577, 565, 597, 540]
[foolsgold agg] considering poison per batch poison_fraction: 0.4072573839662447
[foolsgold agg] wv: [1.         0.72754748 0.72754748 0.65677834 0.85059761 0.65677834
 1.         1.         0.90292187 1.        ]
___Test Target_Simple poisoned: False, epoch: 22: Average loss: 1.5615, Accuracy: 6995/10000 (69.9500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 22: Average loss: 1.5113, Accuracy: 6934/8991 (77.1216%)
Done in 64.84552550315857 sec.
Server Epoch:23 choose agents : [56, 82, 85, 17, 76, 61, 26, 86, 89, 75].
___Train Local_Simple,  epoch  23, local model 56, internal_epoch   1,  Average loss: 0.0307, Accuracy: 422/586 (72.0137%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3145, Accuracy: 7838/10000 (78.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 82, internal_epoch   1,  Average loss: 0.0300, Accuracy: 432/589 (73.3447%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3077, Accuracy: 7967/10000 (79.6700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 85, internal_epoch   1,  Average loss: 0.0306, Accuracy: 415/584 (71.0616%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3130, Accuracy: 7815/10000 (78.1500%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 17, internal_epoch   1,  Average loss: 0.0287, Accuracy: 438/579 (75.6477%), train_poison_data_count: 579
Global model norm: 2.008125369858196.
Norm before scaling: 2.209873873706192. Distance: 0.4595392809246846
Total norm for 2 adversaries is: 2.209873873706192. distance: 0.4595392809246846
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.2372, Accuracy: 6383/8991 (70.9932%)
___Train Local_Simple,  epoch  23, local model 76, internal_epoch   1,  Average loss: 0.0302, Accuracy: 427/597 (71.5243%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3142, Accuracy: 7668/10000 (76.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 61, internal_epoch   1,  Average loss: 0.0309, Accuracy: 437/585 (74.7009%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3099, Accuracy: 8069/10000 (80.6900%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 26, internal_epoch   1,  Average loss: 0.0296, Accuracy: 425/573 (74.1710%), train_poison_data_count: 573
Global model norm: 2.008125369858196.
Norm before scaling: 2.198848713561398. Distance: 0.4446778375858595
Total norm for 2 adversaries is: 2.198848713561398. distance: 0.4446778375858595
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.2414, Accuracy: 6706/8991 (74.5857%)
___Train Local_Simple,  epoch  23, local model 86, internal_epoch   1,  Average loss: 0.0316, Accuracy: 434/609 (71.2644%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.2798, Accuracy: 7973/10000 (79.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 89, internal_epoch   1,  Average loss: 0.0300, Accuracy: 438/594 (73.7374%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3178, Accuracy: 7908/10000 (79.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 75, internal_epoch   1,  Average loss: 0.0303, Accuracy: 419/600 (69.8333%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3153, Accuracy: 7863/10000 (78.6300%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.027628898620605
[foolsgold agg] training data poison_ratio: 0.19538670284938942  data num: [586, 589, 584, 579, 597, 585, 573, 609, 594, 600]
[foolsgold agg] considering poison per batch poison_fraction: 0.19538670284938942
[foolsgold agg] wv: [1.         1.         1.         0.98769255 1.         1.
 0.98769255 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 23: Average loss: 1.5044, Accuracy: 7115/10000 (71.1500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 23: Average loss: 1.4561, Accuracy: 7037/8991 (78.2672%)
Done in 64.58602499961853 sec.
Server Epoch:24 choose agents : [36, 65, 96, 83, 63, 30, 94, 25, 52, 50].
___Train Local_Simple,  epoch  24, local model 36, internal_epoch   1,  Average loss: 0.0295, Accuracy: 433/601 (72.0466%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2567, Accuracy: 7779/10000 (77.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 65, internal_epoch   1,  Average loss: 0.0308, Accuracy: 404/569 (71.0018%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2774, Accuracy: 7834/10000 (78.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 96, internal_epoch   1,  Average loss: 0.0273, Accuracy: 411/540 (76.1111%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.3531, Accuracy: 7118/10000 (71.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 83, internal_epoch   1,  Average loss: 0.0314, Accuracy: 430/611 (70.3764%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2651, Accuracy: 7894/10000 (78.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 63, internal_epoch   1,  Average loss: 0.0290, Accuracy: 443/594 (74.5791%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2705, Accuracy: 7693/10000 (76.9300%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 30, internal_epoch   1,  Average loss: 0.0280, Accuracy: 429/584 (73.4589%), train_poison_data_count: 584
Global model norm: 2.0419438491857553.
Norm before scaling: 2.239887187364931. Distance: 0.45956849609742345
Total norm for 2 adversaries is: 2.239887187364931. distance: 0.45956849609742345
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.2067, Accuracy: 6746/8991 (75.0306%)
___Train Local_Simple,  epoch  24, local model 94, internal_epoch   1,  Average loss: 0.0280, Accuracy: 396/541 (73.1978%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.3530, Accuracy: 7554/10000 (75.5400%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 25, internal_epoch   1,  Average loss: 0.0282, Accuracy: 434/581 (74.6988%), train_poison_data_count: 581
Global model norm: 2.0419438491857553.
Norm before scaling: 2.240504680047216. Distance: 0.45076480683429626
Total norm for 2 adversaries is: 2.240504680047216. distance: 0.45076480683429626
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.2276, Accuracy: 6159/8991 (68.5018%)
___Train Local_Simple,  epoch  24, local model 52, internal_epoch   1,  Average loss: 0.0285, Accuracy: 451/598 (75.4181%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2788, Accuracy: 7533/10000 (75.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 50, internal_epoch   1,  Average loss: 0.0302, Accuracy: 415/567 (73.1922%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2723, Accuracy: 7734/10000 (77.3400%), Attack Success Rate:0/10000(0.000)
time spent on training: 21.9899160861969
[foolsgold agg] training data poison_ratio: 0.20134808157621845  data num: [601, 569, 540, 611, 594, 584, 541, 581, 598, 567]
[foolsgold agg] considering poison per batch poison_fraction: 0.20134808157621845
[foolsgold agg] wv: [1.         1.         0.36823223 1.         1.         0.42339858
 0.36823223 0.42339858 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 24: Average loss: 1.4631, Accuracy: 7156/10000 (71.5600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 24: Average loss: 1.4207, Accuracy: 7029/8991 (78.1782%)
Done in 64.191969871521 sec.
Server Epoch:25 choose agents : [45, 6, 35, 17, 20, 73, 43, 8, 74, 3].
___Train Local_Simple,  epoch  25, local model 45, internal_epoch   1,  Average loss: 0.0295, Accuracy: 420/571 (73.5552%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.2493, Accuracy: 8031/10000 (80.3100%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 6, internal_epoch   1,  Average loss: 0.0278, Accuracy: 473/609 (77.6683%), train_poison_data_count: 609
Global model norm: 2.0682655435663024.
Norm before scaling: 2.29089802654011. Distance: 0.48649834714042234
Total norm for 5 adversaries is: 2.29089802654011. distance: 0.48649834714042234
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1671, Accuracy: 6579/8991 (73.1732%)
___Train Local_Simple,  epoch  25, local model 35, internal_epoch   1,  Average loss: 0.0301, Accuracy: 415/577 (71.9237%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.2484, Accuracy: 7842/10000 (78.4200%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 17, internal_epoch   1,  Average loss: 0.0271, Accuracy: 450/579 (77.7202%), train_poison_data_count: 579
Global model norm: 2.0682655435663024.
Norm before scaling: 2.27026848957122. Distance: 0.434886722888051
Total norm for 5 adversaries is: 2.27026848957122. distance: 0.434886722888051
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1687, Accuracy: 6714/8991 (74.6747%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 20, internal_epoch   1,  Average loss: 0.0276, Accuracy: 441/588 (75.0000%), train_poison_data_count: 588
Global model norm: 2.0682655435663024.
Norm before scaling: 2.2634598482117045. Distance: 0.4498071548718896
Total norm for 5 adversaries is: 2.2634598482117045. distance: 0.4498071548718896
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.2150, Accuracy: 6244/8991 (69.4472%)
___Train Local_Simple,  epoch  25, local model 73, internal_epoch   1,  Average loss: 0.0301, Accuracy: 446/615 (72.5203%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.2292, Accuracy: 7952/10000 (79.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  25, local model 43, internal_epoch   1,  Average loss: 0.0294, Accuracy: 432/571 (75.6567%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.2389, Accuracy: 8107/10000 (81.0700%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 8, internal_epoch   1,  Average loss: 0.0268, Accuracy: 451/593 (76.0540%), train_poison_data_count: 593
Global model norm: 2.0682655435663024.
Norm before scaling: 2.2678008056440033. Distance: 0.43620483241126434
Total norm for 5 adversaries is: 2.2678008056440033. distance: 0.43620483241126434
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1673, Accuracy: 6771/8991 (75.3086%)
___Train Local_Simple,  epoch  25, local model 74, internal_epoch   1,  Average loss: 0.0284, Accuracy: 435/597 (72.8643%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.2496, Accuracy: 7666/10000 (76.6600%), Attack Success Rate:0/10000(0.000)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 3, internal_epoch   1,  Average loss: 0.0287, Accuracy: 438/568 (77.1127%), train_poison_data_count: 568
Global model norm: 2.0682655435663024.
Norm before scaling: 2.2628046831707964. Distance: 0.43958158522826296
Total norm for 5 adversaries is: 2.2628046831707964. distance: 0.43958158522826296
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1771, Accuracy: 6934/8991 (77.1216%)
time spent on training: 23.506112098693848
[foolsgold agg] training data poison_ratio: 0.5005112474437627  data num: [571, 609, 577, 579, 588, 615, 571, 593, 597, 568]
[foolsgold agg] considering poison per batch poison_fraction: 0.5005112474437627
[foolsgold agg] wv: [1.         0.46201    1.         0.76185615 0.73114233 1.
 1.         0.46201    1.         0.96701047]
___Test Target_Simple poisoned: False, epoch: 25: Average loss: 1.4244, Accuracy: 7193/10000 (71.9300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 25: Average loss: 1.3771, Accuracy: 7112/8991 (79.1013%)
Done in 65.58804512023926 sec.
Server Epoch:26 choose agents : [39, 14, 32, 4, 30, 63, 23, 3, 94, 84].
___Train Local_Simple,  epoch  26, local model 39, internal_epoch   1,  Average loss: 0.0292, Accuracy: 420/560 (75.0000%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.2233, Accuracy: 7858/10000 (78.5800%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 14, internal_epoch   1,  Average loss: 0.0260, Accuracy: 453/594 (76.2626%), train_poison_data_count: 594
Global model norm: 2.0979760634781432.
Norm before scaling: 2.295077184738027. Distance: 0.43428391867023075
Total norm for 6 adversaries is: 2.295077184738027. distance: 0.43428391867023075
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1571, Accuracy: 6787/8991 (75.4866%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 32, internal_epoch   1,  Average loss: 0.0267, Accuracy: 469/620 (75.6452%), train_poison_data_count: 620
Global model norm: 2.0979760634781432.
Norm before scaling: 2.3233375225093225. Distance: 0.4842423903537453
Total norm for 6 adversaries is: 2.3233375225093225. distance: 0.4842423903537453
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1449, Accuracy: 6638/8991 (73.8294%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 4, internal_epoch   1,  Average loss: 0.0268, Accuracy: 484/621 (77.9388%), train_poison_data_count: 621
Global model norm: 2.0979760634781432.
Norm before scaling: 2.3207371384176847. Distance: 0.4737039257029833
Total norm for 6 adversaries is: 2.3207371384176847. distance: 0.4737039257029833
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1354, Accuracy: 6746/8991 (75.0306%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 30, internal_epoch   1,  Average loss: 0.0265, Accuracy: 436/584 (74.6575%), train_poison_data_count: 584
Global model norm: 2.0979760634781432.
Norm before scaling: 2.2950376051271477. Distance: 0.4353239917539057
Total norm for 6 adversaries is: 2.2950376051271477. distance: 0.4353239917539057
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1550, Accuracy: 6763/8991 (75.2197%)
___Train Local_Simple,  epoch  26, local model 63, internal_epoch   1,  Average loss: 0.0275, Accuracy: 444/594 (74.7475%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.2174, Accuracy: 7841/10000 (78.4100%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 23, internal_epoch   1,  Average loss: 0.0271, Accuracy: 463/602 (76.9103%), train_poison_data_count: 602
Global model norm: 2.0979760634781432.
Norm before scaling: 2.3272645115368675. Distance: 0.4945115216555109
Total norm for 6 adversaries is: 2.3272645115368675. distance: 0.4945115216555109
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1793, Accuracy: 5936/8991 (66.0216%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 3, internal_epoch   1,  Average loss: 0.0278, Accuracy: 434/568 (76.4085%), train_poison_data_count: 568
Global model norm: 2.0979760634781432.
Norm before scaling: 2.290058843531305. Distance: 0.42225917348953085
Total norm for 6 adversaries is: 2.290058843531305. distance: 0.42225917348953085
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1561, Accuracy: 6960/8991 (77.4107%)
___Train Local_Simple,  epoch  26, local model 94, internal_epoch   1,  Average loss: 0.0266, Accuracy: 422/541 (78.0037%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.2921, Accuracy: 7635/10000 (76.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  26, local model 84, internal_epoch   1,  Average loss: 0.0295, Accuracy: 447/601 (74.3760%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.2069, Accuracy: 8033/10000 (80.3300%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.930862426757812
[foolsgold agg] training data poison_ratio: 0.6098555649957519  data num: [560, 594, 620, 621, 584, 594, 602, 568, 541, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.6098555649957519
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.24854925 0.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 26: Average loss: 1.4178, Accuracy: 7252/10000 (72.5200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 26: Average loss: 1.3709, Accuracy: 7166/8991 (79.7019%)
Done in 66.25975322723389 sec.
Server Epoch:27 choose agents : [69, 2, 42, 25, 17, 37, 45, 54, 30, 0].
___Train Local_Simple,  epoch  27, local model 69, internal_epoch   1,  Average loss: 0.0284, Accuracy: 430/583 (73.7564%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.2176, Accuracy: 8166/10000 (81.6600%), Attack Success Rate:0/10000(0.000)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 2, internal_epoch   1,  Average loss: 0.0269, Accuracy: 459/585 (78.4615%), train_poison_data_count: 585
Global model norm: 2.1025254549896406.
Norm before scaling: 2.296082548079758. Distance: 0.43365960866781045
Total norm for 4 adversaries is: 2.296082548079758. distance: 0.43365960866781045
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1708, Accuracy: 6837/8991 (76.0427%)
___Train Local_Simple,  epoch  27, local model 42, internal_epoch   1,  Average loss: 0.0275, Accuracy: 474/646 (73.3746%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.1951, Accuracy: 8255/10000 (82.5500%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 25, internal_epoch   1,  Average loss: 0.0267, Accuracy: 452/581 (77.7969%), train_poison_data_count: 581
Global model norm: 2.1025254549896406.
Norm before scaling: 2.3013443832478435. Distance: 0.4285939780473537
Total norm for 4 adversaries is: 2.3013443832478435. distance: 0.4285939780473537
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1631, Accuracy: 6431/8991 (71.5271%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 17, internal_epoch   1,  Average loss: 0.0262, Accuracy: 461/579 (79.6200%), train_poison_data_count: 579
Global model norm: 2.1025254549896406.
Norm before scaling: 2.3054088433502544. Distance: 0.42559574180678655
Total norm for 4 adversaries is: 2.3054088433502544. distance: 0.42559574180678655
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1439, Accuracy: 6712/8991 (74.6524%)
___Train Local_Simple,  epoch  27, local model 37, internal_epoch   1,  Average loss: 0.0289, Accuracy: 446/601 (74.2097%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.1993, Accuracy: 7696/10000 (76.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 45, internal_epoch   1,  Average loss: 0.0285, Accuracy: 430/571 (75.3065%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.2174, Accuracy: 8086/10000 (80.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 54, internal_epoch   1,  Average loss: 0.0276, Accuracy: 423/547 (77.3309%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.2425, Accuracy: 7880/10000 (78.8000%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 30, internal_epoch   1,  Average loss: 0.0263, Accuracy: 449/584 (76.8836%), train_poison_data_count: 584
Global model norm: 2.1025254549896406.
Norm before scaling: 2.3029163861353634. Distance: 0.4388619239671444
Total norm for 4 adversaries is: 2.3029163861353634. distance: 0.4388619239671444
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1517, Accuracy: 6713/8991 (74.6636%)
___Train Local_Simple,  epoch  27, local model 0, internal_epoch   1,  Average loss: 0.0274, Accuracy: 435/598 (72.7425%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.2189, Accuracy: 7987/10000 (79.8700%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.98107147216797
[foolsgold agg] training data poison_ratio: 0.3964255319148936  data num: [583, 585, 646, 581, 579, 601, 571, 547, 584, 598]
[foolsgold agg] considering poison per batch poison_fraction: 0.3964255319148936
[foolsgold agg] wv: [0.69852189 0.78098861 0.52616902 0.         0.3428605  1.
 0.19761755 0.19761755 0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 27: Average loss: 1.3957, Accuracy: 7288/10000 (72.8800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 27: Average loss: 1.3493, Accuracy: 7188/8991 (79.9466%)
Done in 65.32512784004211 sec.
Server Epoch:28 choose agents : [33, 51, 17, 63, 6, 24, 82, 35, 80, 81].
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 33, internal_epoch   1,  Average loss: 0.0265, Accuracy: 463/612 (75.6536%), train_poison_data_count: 612
Global model norm: 2.1194895936026996.
Norm before scaling: 2.3479805974597325. Distance: 0.4661565562742889
Total norm for 4 adversaries is: 2.3479805974597325. distance: 0.4661565562742889
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.0935, Accuracy: 6912/8991 (76.8769%)
___Train Local_Simple,  epoch  28, local model 51, internal_epoch   1,  Average loss: 0.0273, Accuracy: 451/602 (74.9169%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1854, Accuracy: 7992/10000 (79.9200%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 17, internal_epoch   1,  Average loss: 0.0259, Accuracy: 461/579 (79.6200%), train_poison_data_count: 579
Global model norm: 2.1194895936026996.
Norm before scaling: 2.319863324085655. Distance: 0.41707383368258794
Total norm for 4 adversaries is: 2.319863324085655. distance: 0.41707383368258794
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.1302, Accuracy: 6705/8991 (74.5746%)
___Train Local_Simple,  epoch  28, local model 63, internal_epoch   1,  Average loss: 0.0270, Accuracy: 447/594 (75.2525%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1966, Accuracy: 7848/10000 (78.4800%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 6, internal_epoch   1,  Average loss: 0.0270, Accuracy: 482/609 (79.1461%), train_poison_data_count: 609
Global model norm: 2.1194895936026996.
Norm before scaling: 2.339489332050444. Distance: 0.46026604448415853
Total norm for 4 adversaries is: 2.339489332050444. distance: 0.46026604448415853
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.1120, Accuracy: 6888/8991 (76.6099%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 24, internal_epoch   1,  Average loss: 0.0274, Accuracy: 473/603 (78.4411%), train_poison_data_count: 603
Global model norm: 2.1194895936026996.
Norm before scaling: 2.339380081419913. Distance: 0.46067196261110077
Total norm for 4 adversaries is: 2.339380081419913. distance: 0.46067196261110077
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.1222, Accuracy: 6713/8991 (74.6636%)
___Train Local_Simple,  epoch  28, local model 82, internal_epoch   1,  Average loss: 0.0271, Accuracy: 451/589 (76.5705%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1937, Accuracy: 8116/10000 (81.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 35, internal_epoch   1,  Average loss: 0.0287, Accuracy: 426/577 (73.8302%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.2048, Accuracy: 7839/10000 (78.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 80, internal_epoch   1,  Average loss: 0.0274, Accuracy: 447/594 (75.2525%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.2054, Accuracy: 7906/10000 (79.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 81, internal_epoch   1,  Average loss: 0.0280, Accuracy: 416/588 (70.7483%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.2084, Accuracy: 7952/10000 (79.5200%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.27893376350403
[foolsgold agg] training data poison_ratio: 0.4040692786278796  data num: [612, 602, 579, 594, 609, 603, 589, 577, 594, 588]
[foolsgold agg] considering poison per batch poison_fraction: 0.4040692786278796
[foolsgold agg] wv: [0.67744929 1.         0.86590486 0.         0.67744929 1.
 0.44566425 0.41084684 0.         0.69212385]
___Test Target_Simple poisoned: False, epoch: 28: Average loss: 1.3729, Accuracy: 7284/10000 (72.8400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 28: Average loss: 1.3193, Accuracy: 7215/8991 (80.2469%)
Done in 65.37508058547974 sec.
Server Epoch:29 choose agents : [58, 90, 30, 72, 41, 25, 16, 91, 50, 57].
___Train Local_Simple,  epoch  29, local model 58, internal_epoch   1,  Average loss: 0.0281, Accuracy: 434/575 (75.4783%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1834, Accuracy: 8093/10000 (80.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 90, internal_epoch   1,  Average loss: 0.0272, Accuracy: 443/576 (76.9097%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1827, Accuracy: 7991/10000 (79.9100%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 30, internal_epoch   1,  Average loss: 0.0254, Accuracy: 451/584 (77.2260%), train_poison_data_count: 584
Global model norm: 2.14095988751768.
Norm before scaling: 2.336497058000433. Distance: 0.41959750044858235
Total norm for 3 adversaries is: 2.336497058000433. distance: 0.41959750044858235
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.1171, Accuracy: 6895/8991 (76.6878%)
___Train Local_Simple,  epoch  29, local model 72, internal_epoch   1,  Average loss: 0.0291, Accuracy: 445/605 (73.5537%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1731, Accuracy: 8166/10000 (81.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 41, internal_epoch   1,  Average loss: 0.0271, Accuracy: 473/635 (74.4882%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1645, Accuracy: 7936/10000 (79.3600%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 25, internal_epoch   1,  Average loss: 0.0257, Accuracy: 463/581 (79.6902%), train_poison_data_count: 581
Global model norm: 2.14095988751768.
Norm before scaling: 2.3344319572802688. Distance: 0.40321306183501465
Total norm for 3 adversaries is: 2.3344319572802688. distance: 0.40321306183501465
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.1245, Accuracy: 6694/8991 (74.4522%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 16, internal_epoch   1,  Average loss: 0.0251, Accuracy: 477/596 (80.0336%), train_poison_data_count: 596
Global model norm: 2.14095988751768.
Norm before scaling: 2.3362677605424844. Distance: 0.4103829075472356
Total norm for 3 adversaries is: 2.3362677605424844. distance: 0.4103829075472356
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.1300, Accuracy: 6695/8991 (74.4634%)
___Train Local_Simple,  epoch  29, local model 91, internal_epoch   1,  Average loss: 0.0266, Accuracy: 449/597 (75.2094%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1842, Accuracy: 7933/10000 (79.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 50, internal_epoch   1,  Average loss: 0.0277, Accuracy: 421/567 (74.2504%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1815, Accuracy: 7970/10000 (79.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 57, internal_epoch   1,  Average loss: 0.0282, Accuracy: 457/605 (75.5372%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1755, Accuracy: 7839/10000 (78.3900%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.08026432991028
[foolsgold agg] training data poison_ratio: 0.29741597703090694  data num: [575, 576, 584, 605, 635, 581, 596, 597, 567, 605]
[foolsgold agg] considering poison per batch poison_fraction: 0.29741597703090694
[foolsgold agg] wv: [0.41876785 0.38223194 0.         0.65020961 0.16689602 0.
 0.03375996 0.16689602 0.44124932 1.        ]
___Test Target_Simple poisoned: False, epoch: 29: Average loss: 1.3570, Accuracy: 7317/10000 (73.1700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 29: Average loss: 1.3071, Accuracy: 7219/8991 (80.2914%)
Done in 65.23183107376099 sec.
Server Epoch:30 choose agents : [50, 77, 73, 21, 10, 8, 40, 52, 45, 30].
___Train Local_Simple,  epoch  30, local model 50, internal_epoch   1,  Average loss: 0.0272, Accuracy: 430/567 (75.8377%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.1722, Accuracy: 7868/10000 (78.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 77, internal_epoch   1,  Average loss: 0.0279, Accuracy: 414/565 (73.2743%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.1820, Accuracy: 7661/10000 (76.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 73, internal_epoch   1,  Average loss: 0.0278, Accuracy: 461/615 (74.9593%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.1609, Accuracy: 7904/10000 (79.0400%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 21, internal_epoch   1,  Average loss: 0.0253, Accuracy: 445/590 (75.4237%), train_poison_data_count: 590
Global model norm: 2.152783911364715.
Norm before scaling: 2.3413165874961295. Distance: 0.3974527081661601
Total norm for 4 adversaries is: 2.3413165874961295. distance: 0.3974527081661601
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.1088, Accuracy: 6962/8991 (77.4330%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 10, internal_epoch   1,  Average loss: 0.0262, Accuracy: 489/635 (77.0079%), train_poison_data_count: 635
Global model norm: 2.152783911364715.
Norm before scaling: 2.365205041654656. Distance: 0.4364475124477469
Total norm for 4 adversaries is: 2.365205041654656. distance: 0.4364475124477469
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0798, Accuracy: 7216/8991 (80.2580%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 8, internal_epoch   1,  Average loss: 0.0249, Accuracy: 461/593 (77.7403%), train_poison_data_count: 593
Global model norm: 2.152783911364715.
Norm before scaling: 2.3489045491514062. Distance: 0.40094922804533967
Total norm for 4 adversaries is: 2.3489045491514062. distance: 0.40094922804533967
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0931, Accuracy: 7071/8991 (78.6453%)
___Train Local_Simple,  epoch  30, local model 40, internal_epoch   1,  Average loss: 0.0268, Accuracy: 406/548 (74.0876%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.1993, Accuracy: 7779/10000 (77.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 52, internal_epoch   1,  Average loss: 0.0259, Accuracy: 451/598 (75.4181%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.1915, Accuracy: 7591/10000 (75.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 45, internal_epoch   1,  Average loss: 0.0275, Accuracy: 433/571 (75.8319%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.1727, Accuracy: 8129/10000 (81.2900%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 30, internal_epoch   1,  Average loss: 0.0253, Accuracy: 451/584 (77.2260%), train_poison_data_count: 584
Global model norm: 2.152783911364715.
Norm before scaling: 2.348921905934342. Distance: 0.4167404308193034
Total norm for 4 adversaries is: 2.348921905934342. distance: 0.4167404308193034
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.1102, Accuracy: 6859/8991 (76.2874%)
time spent on training: 23.30286455154419
[foolsgold agg] training data poison_ratio: 0.4094783498124787  data num: [567, 565, 615, 590, 635, 593, 548, 598, 571, 584]
[foolsgold agg] considering poison per batch poison_fraction: 0.4094783498124787
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 30: Average loss: 1.3178, Accuracy: 7361/10000 (73.6100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 30: Average loss: 1.2653, Accuracy: 7273/8991 (80.8920%)
Done in 65.4953305721283 sec.
Server Epoch:31 choose agents : [74, 9, 99, 85, 4, 11, 24, 42, 23, 25].
___Train Local_Simple,  epoch  31, local model 74, internal_epoch   1,  Average loss: 0.0259, Accuracy: 444/597 (74.3719%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.1532, Accuracy: 7798/10000 (77.9800%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 9, internal_epoch   1,  Average loss: 0.0248, Accuracy: 458/587 (78.0239%), train_poison_data_count: 587
Global model norm: 2.1888209033333212.
Norm before scaling: 2.379702279839608. Distance: 0.3936085817905163
Total norm for 6 adversaries is: 2.379702279839608. distance: 0.3936085817905163
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0692, Accuracy: 7093/8991 (78.8900%)
___Train Local_Simple,  epoch  31, local model 99, internal_epoch   1,  Average loss: 0.0233, Accuracy: 361/408 (88.4804%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.3777, Accuracy: 6382/10000 (63.8200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 85, internal_epoch   1,  Average loss: 0.0262, Accuracy: 454/584 (77.7397%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.1495, Accuracy: 8046/10000 (80.4600%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 4, internal_epoch   1,  Average loss: 0.0248, Accuracy: 488/621 (78.5829%), train_poison_data_count: 621
Global model norm: 2.1888209033333212.
Norm before scaling: 2.4050052940960707. Distance: 0.43999976174391453
Total norm for 6 adversaries is: 2.4050052940960707. distance: 0.43999976174391453
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0764, Accuracy: 6778/8991 (75.3865%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 11, internal_epoch   1,  Average loss: 0.0258, Accuracy: 462/577 (80.0693%), train_poison_data_count: 577
Global model norm: 2.1888209033333212.
Norm before scaling: 2.3754005094428248. Distance: 0.3903128330299539
Total norm for 6 adversaries is: 2.3754005094428248. distance: 0.3903128330299539
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0800, Accuracy: 7160/8991 (79.6352%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 24, internal_epoch   1,  Average loss: 0.0255, Accuracy: 472/603 (78.2753%), train_poison_data_count: 603
Global model norm: 2.1888209033333212.
Norm before scaling: 2.402334619520251. Distance: 0.4367537605569195
Total norm for 6 adversaries is: 2.402334619520251. distance: 0.4367537605569195
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0756, Accuracy: 6879/8991 (76.5098%)
___Train Local_Simple,  epoch  31, local model 42, internal_epoch   1,  Average loss: 0.0259, Accuracy: 493/646 (76.3158%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.1264, Accuracy: 8178/10000 (81.7800%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 23, internal_epoch   1,  Average loss: 0.0260, Accuracy: 463/602 (76.9103%), train_poison_data_count: 602
Global model norm: 2.1888209033333212.
Norm before scaling: 2.40648431999445. Distance: 0.4565198759878634
Total norm for 6 adversaries is: 2.40648431999445. distance: 0.4565198759878634
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.1109, Accuracy: 6210/8991 (69.0691%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 25, internal_epoch   1,  Average loss: 0.0250, Accuracy: 465/581 (80.0344%), train_poison_data_count: 581
Global model norm: 2.1888209033333212.
Norm before scaling: 2.3819225212647765. Distance: 0.4015239585756553
Total norm for 6 adversaries is: 2.3819225212647765. distance: 0.4015239585756553
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0965, Accuracy: 6692/8991 (74.4300%)
time spent on training: 24.060398817062378
[foolsgold agg] training data poison_ratio: 0.615053393041681  data num: [597, 587, 408, 584, 621, 577, 603, 646, 602, 581]
[foolsgold agg] considering poison per batch poison_fraction: 0.615053393041681
[foolsgold agg] wv: [0.         0.         1.         0.         0.         0.
 0.         0.         0.05721486 0.        ]
___Test Target_Simple poisoned: False, epoch: 31: Average loss: 1.3155, Accuracy: 7343/10000 (73.4300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 31: Average loss: 1.2611, Accuracy: 7266/8991 (80.8141%)
Done in 66.03975749015808 sec.
Server Epoch:32 choose agents : [93, 87, 55, 70, 15, 90, 91, 86, 67, 20].
___Train Local_Simple,  epoch  32, local model 93, internal_epoch   1,  Average loss: 0.0263, Accuracy: 404/508 (79.5276%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.2117, Accuracy: 7500/10000 (75.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 87, internal_epoch   1,  Average loss: 0.0256, Accuracy: 438/591 (74.1117%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1443, Accuracy: 8122/10000 (81.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 55, internal_epoch   1,  Average loss: 0.0262, Accuracy: 427/595 (71.7647%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1497, Accuracy: 7924/10000 (79.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 70, internal_epoch   1,  Average loss: 0.0275, Accuracy: 464/610 (76.0656%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1357, Accuracy: 8156/10000 (81.5600%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 15, internal_epoch   1,  Average loss: 0.0267, Accuracy: 435/556 (78.2374%), train_poison_data_count: 556
Global model norm: 2.1919011119965535.
Norm before scaling: 2.381293941703122. Distance: 0.3992170673491669
Total norm for 2 adversaries is: 2.381293941703122. distance: 0.3992170673491669
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.1030, Accuracy: 6740/8991 (74.9639%)
___Train Local_Simple,  epoch  32, local model 90, internal_epoch   1,  Average loss: 0.0261, Accuracy: 439/576 (76.2153%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1416, Accuracy: 8085/10000 (80.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 91, internal_epoch   1,  Average loss: 0.0257, Accuracy: 448/597 (75.0419%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1429, Accuracy: 8033/10000 (80.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 86, internal_epoch   1,  Average loss: 0.0265, Accuracy: 461/609 (75.6979%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1254, Accuracy: 8138/10000 (81.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 67, internal_epoch   1,  Average loss: 0.0280, Accuracy: 423/570 (74.2105%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1583, Accuracy: 8126/10000 (81.2600%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 20, internal_epoch   1,  Average loss: 0.0249, Accuracy: 456/588 (77.5510%), train_poison_data_count: 588
Global model norm: 2.1919011119965535.
Norm before scaling: 2.379356604731209. Distance: 0.3944576685812449
Total norm for 2 adversaries is: 2.379356604731209. distance: 0.3944576685812449
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.0971, Accuracy: 6838/8991 (76.0538%)
time spent on training: 22.604443550109863
[foolsgold agg] training data poison_ratio: 0.19724137931034483  data num: [508, 591, 595, 610, 556, 576, 597, 609, 570, 588]
[foolsgold agg] considering poison per batch poison_fraction: 0.19724137931034483
[foolsgold agg] wv: [1.         0.         0.         0.5389268  0.93823827 0.
 0.         0.10955575 0.         0.93823827]
___Test Target_Simple poisoned: False, epoch: 32: Average loss: 1.3039, Accuracy: 7337/10000 (73.3700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 32: Average loss: 1.2473, Accuracy: 7271/8991 (80.8698%)
Done in 65.072425365448 sec.
Server Epoch:33 choose agents : [77, 57, 21, 67, 14, 97, 28, 22, 70, 93].
___Train Local_Simple,  epoch  33, local model 77, internal_epoch   1,  Average loss: 0.0269, Accuracy: 428/565 (75.7522%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1476, Accuracy: 7643/10000 (76.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 57, internal_epoch   1,  Average loss: 0.0264, Accuracy: 467/605 (77.1901%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1227, Accuracy: 8078/10000 (80.7800%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 21, internal_epoch   1,  Average loss: 0.0243, Accuracy: 456/590 (77.2881%), train_poison_data_count: 590
Global model norm: 2.2040740870435274.
Norm before scaling: 2.391491701679958. Distance: 0.3851092590388813
Total norm for 4 adversaries is: 2.391491701679958. distance: 0.3851092590388813
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.0749, Accuracy: 6944/8991 (77.2328%)
___Train Local_Simple,  epoch  33, local model 67, internal_epoch   1,  Average loss: 0.0276, Accuracy: 418/570 (73.3333%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1479, Accuracy: 8156/10000 (81.5600%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 14, internal_epoch   1,  Average loss: 0.0239, Accuracy: 466/594 (78.4512%), train_poison_data_count: 594
Global model norm: 2.2040740870435274.
Norm before scaling: 2.3946627756560104. Distance: 0.4006093242036255
Total norm for 4 adversaries is: 2.3946627756560104. distance: 0.4006093242036255
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.0852, Accuracy: 6848/8991 (76.1651%)
___Train Local_Simple,  epoch  33, local model 97, internal_epoch   1,  Average loss: 0.0248, Accuracy: 416/539 (77.1800%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.2011, Accuracy: 7685/10000 (76.8500%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 28, internal_epoch   1,  Average loss: 0.0256, Accuracy: 424/566 (74.9117%), train_poison_data_count: 566
Global model norm: 2.2040740870435274.
Norm before scaling: 2.385331520215634. Distance: 0.3868801473728081
Total norm for 4 adversaries is: 2.385331520215634. distance: 0.3868801473728081
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.1092, Accuracy: 6472/8991 (71.9831%)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 22, internal_epoch   1,  Average loss: 0.0250, Accuracy: 463/581 (79.6902%), train_poison_data_count: 581
Global model norm: 2.2040740870435274.
Norm before scaling: 2.392307562029597. Distance: 0.3903862414248486
Total norm for 4 adversaries is: 2.392307562029597. distance: 0.3903862414248486
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.0646, Accuracy: 7169/8991 (79.7353%)
___Train Local_Simple,  epoch  33, local model 70, internal_epoch   1,  Average loss: 0.0272, Accuracy: 463/610 (75.9016%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1284, Accuracy: 8120/10000 (81.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 93, internal_epoch   1,  Average loss: 0.0253, Accuracy: 396/508 (77.9528%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.2036, Accuracy: 7395/10000 (73.9500%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.6143901348114
[foolsgold agg] training data poison_ratio: 0.4069483240223464  data num: [565, 605, 590, 570, 594, 539, 566, 581, 610, 508]
[foolsgold agg] considering poison per batch poison_fraction: 0.4069483240223464
[foolsgold agg] wv: [1.         1.         1.         1.         0.83789995 0.98708639
 0.83789995 0.93904925 1.         0.98708639]
___Test Target_Simple poisoned: False, epoch: 33: Average loss: 1.2706, Accuracy: 7350/10000 (73.5000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 33: Average loss: 1.2135, Accuracy: 7280/8991 (80.9699%)
Done in 65.74726366996765 sec.
Server Epoch:34 choose agents : [37, 49, 41, 50, 71, 60, 42, 83, 26, 48].
___Train Local_Simple,  epoch  34, local model 37, internal_epoch   1,  Average loss: 0.0271, Accuracy: 446/601 (74.2097%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.1136, Accuracy: 7653/10000 (76.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 49, internal_epoch   1,  Average loss: 0.0261, Accuracy: 467/637 (73.3124%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.1038, Accuracy: 8210/10000 (82.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 41, internal_epoch   1,  Average loss: 0.0252, Accuracy: 477/635 (75.1181%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.0973, Accuracy: 8012/10000 (80.1200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 50, internal_epoch   1,  Average loss: 0.0261, Accuracy: 431/567 (76.0141%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.1112, Accuracy: 7990/10000 (79.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 71, internal_epoch   1,  Average loss: 0.0260, Accuracy: 464/637 (72.8414%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.0987, Accuracy: 8096/10000 (80.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 60, internal_epoch   1,  Average loss: 0.0247, Accuracy: 470/600 (78.3333%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.1110, Accuracy: 8269/10000 (82.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 42, internal_epoch   1,  Average loss: 0.0250, Accuracy: 487/646 (75.3870%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.0952, Accuracy: 8242/10000 (82.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 83, internal_epoch   1,  Average loss: 0.0267, Accuracy: 459/611 (75.1227%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.0975, Accuracy: 8226/10000 (82.2600%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 26, internal_epoch   1,  Average loss: 0.0246, Accuracy: 451/573 (78.7086%), train_poison_data_count: 573
Global model norm: 2.238270385076706.
Norm before scaling: 2.42008275812685. Distance: 0.3664005043213718
Total norm for 1 adversaries is: 2.42008275812685. distance: 0.3664005043213718
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.0430, Accuracy: 7141/8991 (79.4239%)
___Train Local_Simple,  epoch  34, local model 48, internal_epoch   1,  Average loss: 0.0266, Accuracy: 424/573 (73.9965%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.1138, Accuracy: 8143/10000 (81.4300%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.030088424682617
[foolsgold agg] training data poison_ratio: 0.09424342105263157  data num: [601, 637, 635, 567, 637, 600, 646, 611, 573, 573]
[foolsgold agg] considering poison per batch poison_fraction: 0.09424342105263157
[foolsgold agg] wv: [1. 0. 0. 0. 0. 0. 0. 0. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 34: Average loss: 1.2623, Accuracy: 7382/10000 (73.8200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 34: Average loss: 1.2089, Accuracy: 7288/8991 (81.0588%)
Done in 65.26835942268372 sec.
Server Epoch:35 choose agents : [50, 36, 53, 79, 33, 25, 15, 1, 65, 98].
___Train Local_Simple,  epoch  35, local model 50, internal_epoch   1,  Average loss: 0.0258, Accuracy: 439/567 (77.4250%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.1071, Accuracy: 8027/10000 (80.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 36, internal_epoch   1,  Average loss: 0.0261, Accuracy: 445/601 (74.0433%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.0872, Accuracy: 8146/10000 (81.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 53, internal_epoch   1,  Average loss: 0.0257, Accuracy: 434/568 (76.4085%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.1075, Accuracy: 7974/10000 (79.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 79, internal_epoch   1,  Average loss: 0.0266, Accuracy: 421/565 (74.5133%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.1108, Accuracy: 8119/10000 (81.1900%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 33, internal_epoch   1,  Average loss: 0.0235, Accuracy: 493/612 (80.5556%), train_poison_data_count: 612
Global model norm: 2.2450713111069693.
Norm before scaling: 2.458808389657885. Distance: 0.4154952291233107
Total norm for 4 adversaries is: 2.458808389657885. distance: 0.4154952291233107
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.0212, Accuracy: 6949/8991 (77.2884%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 25, internal_epoch   1,  Average loss: 0.0240, Accuracy: 472/581 (81.2392%), train_poison_data_count: 581
Global model norm: 2.2450713111069693.
Norm before scaling: 2.4357304140634892. Distance: 0.3867607864498254
Total norm for 4 adversaries is: 2.4357304140634892. distance: 0.3867607864498254
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.0575, Accuracy: 6743/8991 (74.9972%)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 15, internal_epoch   1,  Average loss: 0.0254, Accuracy: 436/556 (78.4173%), train_poison_data_count: 556
Global model norm: 2.2450713111069693.
Norm before scaling: 2.4312332976485855. Distance: 0.38425584124615686
Total norm for 4 adversaries is: 2.4312332976485855. distance: 0.38425584124615686
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.0670, Accuracy: 6819/8991 (75.8425%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 1, internal_epoch   1,  Average loss: 0.0237, Accuracy: 461/600 (76.8333%), train_poison_data_count: 600
Global model norm: 2.2450713111069693.
Norm before scaling: 2.429125165721138. Distance: 0.38626121659025997
Total norm for 4 adversaries is: 2.429125165721138. distance: 0.38626121659025997
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.0571, Accuracy: 6993/8991 (77.7778%)
___Train Local_Simple,  epoch  35, local model 65, internal_epoch   1,  Average loss: 0.0264, Accuracy: 416/569 (73.1107%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.1113, Accuracy: 8093/10000 (80.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 98, internal_epoch   1,  Average loss: 0.0219, Accuracy: 400/499 (80.1603%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.2001, Accuracy: 7013/10000 (70.1300%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.800721645355225
[foolsgold agg] training data poison_ratio: 0.4108079748163694  data num: [567, 601, 568, 565, 612, 581, 556, 600, 569, 499]
[foolsgold agg] considering poison per batch poison_fraction: 0.4108079748163693
[foolsgold agg] wv: [0.         1.         0.22672639 0.34193095 0.         0.
 0.         0.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 35: Average loss: 1.2531, Accuracy: 7387/10000 (73.8700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 35: Average loss: 1.2018, Accuracy: 7272/8991 (80.8809%)
Done in 66.04077744483948 sec.
Server Epoch:36 choose agents : [82, 4, 79, 32, 47, 44, 89, 48, 70, 77].
___Train Local_Simple,  epoch  36, local model 82, internal_epoch   1,  Average loss: 0.0245, Accuracy: 462/589 (78.4380%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.0974, Accuracy: 8217/10000 (82.1700%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 4, internal_epoch   1,  Average loss: 0.0238, Accuracy: 502/621 (80.8374%), train_poison_data_count: 621
Global model norm: 2.253852830382714.
Norm before scaling: 2.4646228141126842. Distance: 0.4287760691599794
Total norm for 2 adversaries is: 2.4646228141126842. distance: 0.4287760691599794
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.0448, Accuracy: 6773/8991 (75.3309%)
___Train Local_Simple,  epoch  36, local model 79, internal_epoch   1,  Average loss: 0.0267, Accuracy: 417/565 (73.8053%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.1031, Accuracy: 8154/10000 (81.5400%), Attack Success Rate:0/10000(0.000)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 32, internal_epoch   1,  Average loss: 0.0235, Accuracy: 491/620 (79.1935%), train_poison_data_count: 620
Global model norm: 2.253852830382714.
Norm before scaling: 2.467675180294334. Distance: 0.4332334034883703
Total norm for 2 adversaries is: 2.467675180294334. distance: 0.4332334034883703
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.0301, Accuracy: 6959/8991 (77.3996%)
___Train Local_Simple,  epoch  36, local model 47, internal_epoch   1,  Average loss: 0.0254, Accuracy: 435/574 (75.7840%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.1051, Accuracy: 8185/10000 (81.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 44, internal_epoch   1,  Average loss: 0.0267, Accuracy: 439/608 (72.2039%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.0973, Accuracy: 8050/10000 (80.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 89, internal_epoch   1,  Average loss: 0.0245, Accuracy: 467/594 (78.6195%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.1029, Accuracy: 8210/10000 (82.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 48, internal_epoch   1,  Average loss: 0.0264, Accuracy: 426/573 (74.3455%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.1013, Accuracy: 8173/10000 (81.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 70, internal_epoch   1,  Average loss: 0.0267, Accuracy: 457/610 (74.9180%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.0976, Accuracy: 8151/10000 (81.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 77, internal_epoch   1,  Average loss: 0.0259, Accuracy: 439/565 (77.6991%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.1102, Accuracy: 7748/10000 (77.4800%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.242018222808838
[foolsgold agg] training data poison_ratio: 0.20966379455989187  data num: [589, 621, 565, 620, 574, 608, 594, 573, 610, 565]
[foolsgold agg] considering poison per batch poison_fraction: 0.20966379455989187
[foolsgold agg] wv: [0.85592753 0.49146883 1.         0.49146883 0.85592753 1.
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 36: Average loss: 1.2219, Accuracy: 7481/10000 (74.8100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 36: Average loss: 1.1773, Accuracy: 7291/8991 (81.0922%)
Done in 65.52486205101013 sec.
Server Epoch:37 choose agents : [27, 30, 33, 41, 5, 52, 84, 43, 62, 18].
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 27, internal_epoch   1,  Average loss: 0.0227, Accuracy: 480/597 (80.4020%), train_poison_data_count: 597
Global model norm: 2.2850606784234744.
Norm before scaling: 2.4665754374395936. Distance: 0.36278633532614324
Total norm for 5 adversaries is: 2.4665754374395936. distance: 0.36278633532614324
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.0187, Accuracy: 7166/8991 (79.7019%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 30, internal_epoch   1,  Average loss: 0.0229, Accuracy: 470/584 (80.4795%), train_poison_data_count: 584
Global model norm: 2.2850606784234744.
Norm before scaling: 2.472616716644373. Distance: 0.3881469325381624
Total norm for 5 adversaries is: 2.472616716644373. distance: 0.3881469325381624
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.0242, Accuracy: 7017/8991 (78.0447%)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 33, internal_epoch   1,  Average loss: 0.0230, Accuracy: 492/612 (80.3922%), train_poison_data_count: 612
Global model norm: 2.2850606784234744.
Norm before scaling: 2.4986540986168757. Distance: 0.41738344370071745
Total norm for 5 adversaries is: 2.4986540986168757. distance: 0.41738344370071745
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9948, Accuracy: 7005/8991 (77.9112%)
___Train Local_Simple,  epoch  37, local model 41, internal_epoch   1,  Average loss: 0.0244, Accuracy: 473/635 (74.4882%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.0666, Accuracy: 8033/10000 (80.3300%), Attack Success Rate:0/10000(0.000)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 5, internal_epoch   1,  Average loss: 0.0233, Accuracy: 467/580 (80.5172%), train_poison_data_count: 580
Global model norm: 2.2850606784234744.
Norm before scaling: 2.4676586587870335. Distance: 0.38871571279235156
Total norm for 5 adversaries is: 2.4676586587870335. distance: 0.38871571279235156
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.0366, Accuracy: 7032/8991 (78.2115%)
___Train Local_Simple,  epoch  37, local model 52, internal_epoch   1,  Average loss: 0.0235, Accuracy: 457/598 (76.4214%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.0883, Accuracy: 7884/10000 (78.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 84, internal_epoch   1,  Average loss: 0.0275, Accuracy: 455/601 (75.7072%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.0753, Accuracy: 8010/10000 (80.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 43, internal_epoch   1,  Average loss: 0.0249, Accuracy: 441/571 (77.2329%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.0753, Accuracy: 8230/10000 (82.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 62, internal_epoch   1,  Average loss: 0.0249, Accuracy: 438/582 (75.2577%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.0845, Accuracy: 8125/10000 (81.2500%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 18, internal_epoch   1,  Average loss: 0.0241, Accuracy: 447/567 (78.8360%), train_poison_data_count: 567
Global model norm: 2.2850606784234744.
Norm before scaling: 2.4704390916231715. Distance: 0.38567948616441855
Total norm for 5 adversaries is: 2.4704390916231715. distance: 0.38567948616441855
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.0318, Accuracy: 7001/8991 (77.8668%)
time spent on training: 24.598515510559082
[foolsgold agg] training data poison_ratio: 0.4960350936392779  data num: [597, 584, 612, 635, 580, 598, 601, 571, 582, 567]
[foolsgold agg] considering poison per batch poison_fraction: 0.4960350936392779
[foolsgold agg] wv: [0. 0. 0. 0. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 37: Average loss: 1.2183, Accuracy: 7493/10000 (74.9300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 37: Average loss: 1.1747, Accuracy: 7286/8991 (81.0366%)
Done in 66.93337082862854 sec.
Server Epoch:38 choose agents : [39, 29, 87, 78, 53, 83, 19, 45, 52, 17].
___Train Local_Simple,  epoch  38, local model 39, internal_epoch   1,  Average loss: 0.0256, Accuracy: 435/560 (77.6786%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0812, Accuracy: 8062/10000 (80.6200%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 29, internal_epoch   1,  Average loss: 0.0241, Accuracy: 456/573 (79.5812%), train_poison_data_count: 573
Global model norm: 2.2884013291953695.
Norm before scaling: 2.4673461785726363. Distance: 0.37812080775057116
Total norm for 3 adversaries is: 2.4673461785726363. distance: 0.37812080775057116
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.0222, Accuracy: 7121/8991 (79.2014%)
___Train Local_Simple,  epoch  38, local model 87, internal_epoch   1,  Average loss: 0.0238, Accuracy: 449/591 (75.9729%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0786, Accuracy: 8196/10000 (81.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 78, internal_epoch   1,  Average loss: 0.0262, Accuracy: 465/617 (75.3647%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0806, Accuracy: 8028/10000 (80.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 53, internal_epoch   1,  Average loss: 0.0249, Accuracy: 442/568 (77.8169%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0808, Accuracy: 7976/10000 (79.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 83, internal_epoch   1,  Average loss: 0.0253, Accuracy: 469/611 (76.7594%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0665, Accuracy: 8260/10000 (82.6000%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 19, internal_epoch   1,  Average loss: 0.0254, Accuracy: 478/601 (79.5341%), train_poison_data_count: 601
Global model norm: 2.2884013291953695.
Norm before scaling: 2.489997020704333. Distance: 0.43088183443909034
Total norm for 3 adversaries is: 2.489997020704333. distance: 0.43088183443909034
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.0683, Accuracy: 6388/8991 (71.0488%)
___Train Local_Simple,  epoch  38, local model 45, internal_epoch   1,  Average loss: 0.0249, Accuracy: 442/571 (77.4081%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0813, Accuracy: 8201/10000 (82.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 52, internal_epoch   1,  Average loss: 0.0233, Accuracy: 467/598 (78.0936%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0847, Accuracy: 7983/10000 (79.8300%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 17, internal_epoch   1,  Average loss: 0.0227, Accuracy: 474/579 (81.8653%), train_poison_data_count: 579
Global model norm: 2.2884013291953695.
Norm before scaling: 2.4763952734291936. Distance: 0.3676045058672147
Total norm for 3 adversaries is: 2.4763952734291936. distance: 0.3676045058672147
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.0106, Accuracy: 7098/8991 (78.9456%)
time spent on training: 23.930078744888306
[foolsgold agg] training data poison_ratio: 0.2986880218095076  data num: [560, 573, 591, 617, 568, 611, 601, 571, 598, 579]
[foolsgold agg] considering poison per batch poison_fraction: 0.2986880218095076
[foolsgold agg] wv: [0. 0. 0. 0. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 38: Average loss: 1.2176, Accuracy: 7461/10000 (74.6100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 38: Average loss: 1.1710, Accuracy: 7308/8991 (81.2813%)
Done in 65.98182606697083 sec.
Server Epoch:39 choose agents : [3, 34, 32, 5, 73, 14, 40, 88, 72, 13].
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 3, internal_epoch   1,  Average loss: 0.0242, Accuracy: 451/568 (79.4014%), train_poison_data_count: 568
Global model norm: 2.291665637854143.
Norm before scaling: 2.4702372839308615. Distance: 0.3646827652990786
Total norm for 5 adversaries is: 2.4702372839308615. distance: 0.3646827652990786
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.0139, Accuracy: 7252/8991 (80.6584%)
___Train Local_Simple,  epoch  39, local model 34, internal_epoch   1,  Average loss: 0.0239, Accuracy: 446/597 (74.7069%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.0824, Accuracy: 7967/10000 (79.6700%), Attack Success Rate:0/10000(0.000)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 32, internal_epoch   1,  Average loss: 0.0230, Accuracy: 500/620 (80.6452%), train_poison_data_count: 620
Global model norm: 2.291665637854143.
Norm before scaling: 2.4999667165447996. Distance: 0.4201583373960236
Total norm for 5 adversaries is: 2.4999667165447996. distance: 0.4201583373960236
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.0113, Accuracy: 6971/8991 (77.5331%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 5, internal_epoch   1,  Average loss: 0.0233, Accuracy: 469/580 (80.8621%), train_poison_data_count: 580
Global model norm: 2.291665637854143.
Norm before scaling: 2.4740552274234027. Distance: 0.38475447120571965
Total norm for 5 adversaries is: 2.4740552274234027. distance: 0.38475447120571965
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.0329, Accuracy: 7029/8991 (78.1782%)
___Train Local_Simple,  epoch  39, local model 73, internal_epoch   1,  Average loss: 0.0253, Accuracy: 466/615 (75.7724%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.0649, Accuracy: 8061/10000 (80.6100%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 14, internal_epoch   1,  Average loss: 0.0227, Accuracy: 471/594 (79.2929%), train_poison_data_count: 594
Global model norm: 2.291665637854143.
Norm before scaling: 2.4772446712721847. Distance: 0.3885706093911243
Total norm for 5 adversaries is: 2.4772446712721847. distance: 0.3885706093911243
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.0273, Accuracy: 6981/8991 (77.6443%)
___Train Local_Simple,  epoch  39, local model 40, internal_epoch   1,  Average loss: 0.0242, Accuracy: 410/548 (74.8175%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.0999, Accuracy: 8003/10000 (80.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 88, internal_epoch   1,  Average loss: 0.0260, Accuracy: 417/560 (74.4643%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.0806, Accuracy: 8225/10000 (82.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 72, internal_epoch   1,  Average loss: 0.0261, Accuracy: 456/605 (75.3719%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.0694, Accuracy: 8233/10000 (82.3300%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 13, internal_epoch   1,  Average loss: 0.0226, Accuracy: 502/628 (79.9363%), train_poison_data_count: 628
Global model norm: 2.291665637854143.
Norm before scaling: 2.496871039204804. Distance: 0.4087094903406414
Total norm for 5 adversaries is: 2.496871039204804. distance: 0.4087094903406414
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.0030, Accuracy: 6925/8991 (77.0215%)
time spent on training: 24.772854328155518
[foolsgold agg] training data poison_ratio: 0.5054945054945055  data num: [568, 597, 620, 580, 615, 594, 548, 560, 605, 628]
[foolsgold agg] considering poison per batch poison_fraction: 0.5054945054945055
[foolsgold agg] wv: [0.24857925 0.69204282 0.10551797 0.11222877 0.46254738 0.
 0.46254738 0.80485161 1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 39: Average loss: 1.2042, Accuracy: 7515/10000 (75.1500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 39: Average loss: 1.1615, Accuracy: 7306/8991 (81.2590%)
Done in 67.03273439407349 sec.
Server Epoch:40 choose agents : [12, 23, 87, 98, 51, 83, 52, 90, 71, 11].
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 12, internal_epoch   1,  Average loss: 0.0241, Accuracy: 443/555 (79.8198%), train_poison_data_count: 555
Global model norm: 2.3050839875118743.
Norm before scaling: 2.485318082872488. Distance: 0.3751941218200886
Total norm for 3 adversaries is: 2.485318082872488. distance: 0.3751941218200886
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.0158, Accuracy: 7170/8991 (79.7464%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 23, internal_epoch   1,  Average loss: 0.0229, Accuracy: 479/602 (79.5681%), train_poison_data_count: 602
Global model norm: 2.3050839875118743.
Norm before scaling: 2.5093893162377174. Distance: 0.4283934788587815
Total norm for 3 adversaries is: 2.5093893162377174. distance: 0.4283934788587815
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.0447, Accuracy: 6432/8991 (71.5382%)
___Train Local_Simple,  epoch  40, local model 87, internal_epoch   1,  Average loss: 0.0237, Accuracy: 440/591 (74.4501%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0659, Accuracy: 8226/10000 (82.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 98, internal_epoch   1,  Average loss: 0.0208, Accuracy: 408/499 (81.7635%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.1511, Accuracy: 7119/10000 (71.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 51, internal_epoch   1,  Average loss: 0.0248, Accuracy: 471/602 (78.2392%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0550, Accuracy: 8249/10000 (82.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 83, internal_epoch   1,  Average loss: 0.0251, Accuracy: 462/611 (75.6137%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0619, Accuracy: 8220/10000 (82.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 52, internal_epoch   1,  Average loss: 0.0232, Accuracy: 466/598 (77.9264%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0838, Accuracy: 7896/10000 (78.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 90, internal_epoch   1,  Average loss: 0.0241, Accuracy: 455/576 (78.9931%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0674, Accuracy: 8191/10000 (81.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 71, internal_epoch   1,  Average loss: 0.0249, Accuracy: 483/637 (75.8242%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0556, Accuracy: 8147/10000 (81.4700%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 11, internal_epoch   1,  Average loss: 0.0245, Accuracy: 445/577 (77.1231%), train_poison_data_count: 577
Global model norm: 2.3050839875118743.
Norm before scaling: 2.481618059278799. Distance: 0.3695727044820313
Total norm for 3 adversaries is: 2.481618059278799. distance: 0.3695727044820313
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.0059, Accuracy: 7309/8991 (81.2924%)
time spent on training: 24.44548463821411
[foolsgold agg] training data poison_ratio: 0.29651162790697677  data num: [555, 602, 591, 499, 602, 611, 598, 576, 637, 577]
[foolsgold agg] considering poison per batch poison_fraction: 0.29651162790697677
[foolsgold agg] wv: [0.03479276 1.         0.         1.         0.81996465 0.
 0.         0.         0.         0.03479276]
___Test Target_Simple poisoned: False, epoch: 40: Average loss: 1.1973, Accuracy: 7486/10000 (74.8600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 40: Average loss: 1.1519, Accuracy: 7322/8991 (81.4370%)
Done in 66.53993034362793 sec.
Server Epoch:41 choose agents : [51, 28, 20, 95, 83, 18, 55, 42, 29, 46].
___Train Local_Simple,  epoch  41, local model 51, internal_epoch   1,  Average loss: 0.0242, Accuracy: 466/602 (77.4086%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0511, Accuracy: 8220/10000 (82.2000%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 28, internal_epoch   1,  Average loss: 0.0242, Accuracy: 427/566 (75.4417%), train_poison_data_count: 566
Global model norm: 2.3149707070592136.
Norm before scaling: 2.4901238869484135. Distance: 0.36716000474293536
Total norm for 4 adversaries is: 2.4901238869484135. distance: 0.36716000474293536
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.0324, Accuracy: 6747/8991 (75.0417%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 20, internal_epoch   1,  Average loss: 0.0231, Accuracy: 455/588 (77.3810%), train_poison_data_count: 588
Global model norm: 2.3149707070592136.
Norm before scaling: 2.498066917738692. Distance: 0.3858746265054915
Total norm for 4 adversaries is: 2.498066917738692. distance: 0.3858746265054915
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.0268, Accuracy: 6903/8991 (76.7768%)
___Train Local_Simple,  epoch  41, local model 95, internal_epoch   1,  Average loss: 0.0222, Accuracy: 433/549 (78.8707%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.1356, Accuracy: 7609/10000 (76.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 83, internal_epoch   1,  Average loss: 0.0251, Accuracy: 466/611 (76.2684%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0525, Accuracy: 8275/10000 (82.7500%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 18, internal_epoch   1,  Average loss: 0.0233, Accuracy: 461/567 (81.3051%), train_poison_data_count: 567
Global model norm: 2.3149707070592136.
Norm before scaling: 2.496497848347845. Distance: 0.37572026620378246
Total norm for 4 adversaries is: 2.496497848347845. distance: 0.37572026620378246
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.0137, Accuracy: 7026/8991 (78.1448%)
___Train Local_Simple,  epoch  41, local model 55, internal_epoch   1,  Average loss: 0.0241, Accuracy: 441/595 (74.1176%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0624, Accuracy: 8117/10000 (81.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 42, internal_epoch   1,  Average loss: 0.0236, Accuracy: 497/646 (76.9350%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0467, Accuracy: 8291/10000 (82.9100%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 29, internal_epoch   1,  Average loss: 0.0238, Accuracy: 458/573 (79.9302%), train_poison_data_count: 573
Global model norm: 2.3149707070592136.
Norm before scaling: 2.4914282715554763. Distance: 0.3732419527493252
Total norm for 4 adversaries is: 2.4914282715554763. distance: 0.3732419527493252
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.0035, Accuracy: 7280/8991 (80.9699%)
___Train Local_Simple,  epoch  41, local model 46, internal_epoch   1,  Average loss: 0.0247, Accuracy: 473/609 (77.6683%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0530, Accuracy: 7852/10000 (78.5200%), Attack Success Rate:0/10000(0.000)
time spent on training: 24.362515211105347
[foolsgold agg] training data poison_ratio: 0.388418557399255  data num: [602, 566, 588, 549, 611, 567, 595, 646, 573, 609]
[foolsgold agg] considering poison per batch poison_fraction: 0.388418557399255
[foolsgold agg] wv: [1.         0.         0.         1.         0.         0.
 0.         0.         0.         0.89846258]
___Test Target_Simple poisoned: False, epoch: 41: Average loss: 1.1874, Accuracy: 7500/10000 (75.0000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 41: Average loss: 1.1465, Accuracy: 7284/8991 (81.0143%)
Done in 66.70968079566956 sec.
Server Epoch:42 choose agents : [87, 73, 89, 48, 81, 10, 92, 62, 26, 29].
___Train Local_Simple,  epoch  42, local model 87, internal_epoch   1,  Average loss: 0.0233, Accuracy: 459/591 (77.6650%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0546, Accuracy: 8269/10000 (82.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 73, internal_epoch   1,  Average loss: 0.0248, Accuracy: 470/615 (76.4228%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0486, Accuracy: 8090/10000 (80.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 89, internal_epoch   1,  Average loss: 0.0233, Accuracy: 475/594 (79.9663%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0559, Accuracy: 8286/10000 (82.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 48, internal_epoch   1,  Average loss: 0.0246, Accuracy: 440/573 (76.7888%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0557, Accuracy: 8237/10000 (82.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 81, internal_epoch   1,  Average loss: 0.0241, Accuracy: 442/588 (75.1701%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0604, Accuracy: 8189/10000 (81.8900%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 10, internal_epoch   1,  Average loss: 0.0233, Accuracy: 512/635 (80.6299%), train_poison_data_count: 635
Global model norm: 2.3251514262448074.
Norm before scaling: 2.521542241904736. Distance: 0.3900166542825474
Total norm for 3 adversaries is: 2.521542241904736. distance: 0.3900166542825474
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 0.9749, Accuracy: 7437/8991 (82.7160%)
___Train Local_Simple,  epoch  42, local model 92, internal_epoch   1,  Average loss: 0.0246, Accuracy: 439/565 (77.6991%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0764, Accuracy: 7780/10000 (77.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 62, internal_epoch   1,  Average loss: 0.0243, Accuracy: 442/582 (75.9450%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0636, Accuracy: 8091/10000 (80.9100%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 26, internal_epoch   1,  Average loss: 0.0233, Accuracy: 465/573 (81.1518%), train_poison_data_count: 573
Global model norm: 2.3251514262448074.
Norm before scaling: 2.499332529610035. Distance: 0.3536349564098286
Total norm for 3 adversaries is: 2.499332529610035. distance: 0.3536349564098286
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 0.9961, Accuracy: 7239/8991 (80.5138%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 29, internal_epoch   1,  Average loss: 0.0237, Accuracy: 457/573 (79.7557%), train_poison_data_count: 573
Global model norm: 2.3251514262448074.
Norm before scaling: 2.5004964335598654. Distance: 0.3703827924047063
Total norm for 3 adversaries is: 2.5004964335598654. distance: 0.3703827924047063
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.0013, Accuracy: 7194/8991 (80.0133%)
time spent on training: 24.195314407348633
[foolsgold agg] training data poison_ratio: 0.30242825607064017  data num: [591, 615, 594, 573, 588, 635, 565, 582, 573, 573]
[foolsgold agg] considering poison per batch poison_fraction: 0.30242825607064017
[foolsgold agg] wv: [0.45463764 0.89581148 1.         0.54756964 0.45463764 0.18693345
 1.         0.54756964 0.74904164 0.18693345]
___Test Target_Simple poisoned: False, epoch: 42: Average loss: 1.1697, Accuracy: 7525/10000 (75.2500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 42: Average loss: 1.1312, Accuracy: 7273/8991 (80.8920%)
Done in 66.36901712417603 sec.
Server Epoch:43 choose agents : [38, 78, 26, 18, 72, 75, 93, 39, 44, 90].
___Train Local_Simple,  epoch  43, local model 38, internal_epoch   1,  Average loss: 0.0235, Accuracy: 467/584 (79.9658%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0442, Accuracy: 8199/10000 (81.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 78, internal_epoch   1,  Average loss: 0.0254, Accuracy: 472/617 (76.4992%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0461, Accuracy: 8056/10000 (80.5600%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 26, internal_epoch   1,  Average loss: 0.0231, Accuracy: 454/573 (79.2321%), train_poison_data_count: 573
Global model norm: 2.3460887175921092.
Norm before scaling: 2.518248333442172. Distance: 0.34920886877020635
Total norm for 2 adversaries is: 2.518248333442172. distance: 0.34920886877020635
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9848, Accuracy: 7218/8991 (80.2803%)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 18, internal_epoch   1,  Average loss: 0.0231, Accuracy: 460/567 (81.1287%), train_poison_data_count: 567
Global model norm: 2.3460887175921092.
Norm before scaling: 2.5234840790314577. Distance: 0.37446566103304496
Total norm for 2 adversaries is: 2.5234840790314577. distance: 0.37446566103304496
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 1.0053, Accuracy: 6943/8991 (77.2217%)
___Train Local_Simple,  epoch  43, local model 72, internal_epoch   1,  Average loss: 0.0257, Accuracy: 463/605 (76.5289%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0376, Accuracy: 8291/10000 (82.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 75, internal_epoch   1,  Average loss: 0.0236, Accuracy: 457/600 (76.1667%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0413, Accuracy: 8232/10000 (82.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 93, internal_epoch   1,  Average loss: 0.0239, Accuracy: 414/508 (81.4961%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.1037, Accuracy: 7732/10000 (77.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 39, internal_epoch   1,  Average loss: 0.0247, Accuracy: 428/560 (76.4286%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0475, Accuracy: 8098/10000 (80.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 44, internal_epoch   1,  Average loss: 0.0252, Accuracy: 447/608 (73.5197%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0391, Accuracy: 8150/10000 (81.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 90, internal_epoch   1,  Average loss: 0.0231, Accuracy: 459/576 (79.6875%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0417, Accuracy: 8253/10000 (82.5300%), Attack Success Rate:0/10000(0.000)
time spent on training: 24.362801551818848
[foolsgold agg] training data poison_ratio: 0.19661952397378407  data num: [584, 617, 573, 567, 605, 600, 508, 560, 608, 576]
[foolsgold agg] considering poison per batch poison_fraction: 0.19661952397378407
[foolsgold agg] wv: [0.         0.09771139 0.         0.         0.09771139 0.
 1.         0.         0.28224559 0.        ]
___Test Target_Simple poisoned: False, epoch: 43: Average loss: 1.1655, Accuracy: 7537/10000 (75.3700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 43: Average loss: 1.1289, Accuracy: 7247/8991 (80.6028%)
Done in 66.45304870605469 sec.
Server Epoch:44 choose agents : [31, 1, 38, 9, 6, 19, 65, 66, 73, 15].
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 31, internal_epoch   1,  Average loss: 0.0228, Accuracy: 500/617 (81.0373%), train_poison_data_count: 617
Global model norm: 2.350840714407116.
Norm before scaling: 2.5510072476573047. Distance: 0.4023328057439474
Total norm for 6 adversaries is: 2.5510072476573047. distance: 0.4023328057439474
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9703, Accuracy: 7326/8991 (81.4815%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 1, internal_epoch   1,  Average loss: 0.0223, Accuracy: 462/600 (77.0000%), train_poison_data_count: 600
Global model norm: 2.350840714407116.
Norm before scaling: 2.5228493775756005. Distance: 0.36962249629359906
Total norm for 6 adversaries is: 2.5228493775756005. distance: 0.36962249629359906
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9863, Accuracy: 7350/8991 (81.7484%)
___Train Local_Simple,  epoch  44, local model 38, internal_epoch   1,  Average loss: 0.0234, Accuracy: 463/584 (79.2808%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.0398, Accuracy: 8231/10000 (82.3100%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 9, internal_epoch   1,  Average loss: 0.0224, Accuracy: 466/587 (79.3867%), train_poison_data_count: 587
Global model norm: 2.350840714407116.
Norm before scaling: 2.528503152034787. Distance: 0.36248363589478616
Total norm for 6 adversaries is: 2.528503152034787. distance: 0.36248363589478616
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9762, Accuracy: 7148/8991 (79.5017%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 6, internal_epoch   1,  Average loss: 0.0236, Accuracy: 493/609 (80.9524%), train_poison_data_count: 609
Global model norm: 2.350840714407116.
Norm before scaling: 2.546774739357324. Distance: 0.3943290381090167
Total norm for 6 adversaries is: 2.546774739357324. distance: 0.3943290381090167
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9707, Accuracy: 7195/8991 (80.0245%)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 19, internal_epoch   1,  Average loss: 0.0231, Accuracy: 469/601 (78.0366%), train_poison_data_count: 601
Global model norm: 2.350840714407116.
Norm before scaling: 2.5448231300993727. Distance: 0.39017997186826575
Total norm for 6 adversaries is: 2.5448231300993727. distance: 0.39017997186826575
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9726, Accuracy: 7249/8991 (80.6251%)
___Train Local_Simple,  epoch  44, local model 65, internal_epoch   1,  Average loss: 0.0245, Accuracy: 434/569 (76.2742%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.0426, Accuracy: 8273/10000 (82.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 66, internal_epoch   1,  Average loss: 0.0240, Accuracy: 483/622 (77.6527%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.0285, Accuracy: 8095/10000 (80.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 73, internal_epoch   1,  Average loss: 0.0242, Accuracy: 464/615 (75.4472%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.0308, Accuracy: 8195/10000 (81.9500%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 15, internal_epoch   1,  Average loss: 0.0239, Accuracy: 450/556 (80.9353%), train_poison_data_count: 556
Global model norm: 2.350840714407116.
Norm before scaling: 2.5276352303057714. Distance: 0.37588410665037053
Total norm for 6 adversaries is: 2.5276352303057714. distance: 0.37588410665037053
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.0105, Accuracy: 6880/8991 (76.5210%)
time spent on training: 25.22557830810547
[foolsgold agg] training data poison_ratio: 0.5989932885906041  data num: [617, 600, 584, 587, 609, 601, 569, 622, 615, 556]
[foolsgold agg] considering poison per batch poison_fraction: 0.5989932885906041
[foolsgold agg] wv: [0.66231932 0.6012984  1.         0.66231932 0.6012984  1.
 1.         1.         1.         0.70124925]
___Test Target_Simple poisoned: False, epoch: 44: Average loss: 1.1460, Accuracy: 7536/10000 (75.3600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 44: Average loss: 1.1022, Accuracy: 7330/8991 (81.5260%)
Done in 67.51531863212585 sec.
Server Epoch:45 choose agents : [53, 75, 1, 37, 94, 51, 29, 39, 60, 5].
___Train Local_Simple,  epoch  45, local model 53, internal_epoch   1,  Average loss: 0.0232, Accuracy: 442/568 (77.8169%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0249, Accuracy: 8171/10000 (81.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 75, internal_epoch   1,  Average loss: 0.0233, Accuracy: 453/600 (75.5000%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0259, Accuracy: 8269/10000 (82.6900%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 1, internal_epoch   1,  Average loss: 0.0218, Accuracy: 468/600 (78.0000%), train_poison_data_count: 600
Global model norm: 2.379845344583497.
Norm before scaling: 2.5476737612836353. Distance: 0.350833295516709
Total norm for 3 adversaries is: 2.5476737612836353. distance: 0.350833295516709
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9671, Accuracy: 7371/8991 (81.9820%)
___Train Local_Simple,  epoch  45, local model 37, internal_epoch   1,  Average loss: 0.0238, Accuracy: 464/601 (77.2047%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0199, Accuracy: 8024/10000 (80.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 94, internal_epoch   1,  Average loss: 0.0216, Accuracy: 436/541 (80.5915%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0890, Accuracy: 7744/10000 (77.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 51, internal_epoch   1,  Average loss: 0.0233, Accuracy: 473/602 (78.5714%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0145, Accuracy: 8284/10000 (82.8400%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 29, internal_epoch   1,  Average loss: 0.0228, Accuracy: 460/573 (80.2792%), train_poison_data_count: 573
Global model norm: 2.379845344583497.
Norm before scaling: 2.5527956429143366. Distance: 0.3594445492990614
Total norm for 3 adversaries is: 2.5527956429143366. distance: 0.3594445492990614
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9702, Accuracy: 7230/8991 (80.4137%)
___Train Local_Simple,  epoch  45, local model 39, internal_epoch   1,  Average loss: 0.0240, Accuracy: 425/560 (75.8929%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0282, Accuracy: 8134/10000 (81.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 60, internal_epoch   1,  Average loss: 0.0225, Accuracy: 479/600 (79.8333%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0283, Accuracy: 8327/10000 (83.2700%), Attack Success Rate:0/10000(0.000)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 5, internal_epoch   1,  Average loss: 0.0222, Accuracy: 466/580 (80.3448%), train_poison_data_count: 580
Global model norm: 2.379845344583497.
Norm before scaling: 2.554527721016432. Distance: 0.3690865290326797
Total norm for 3 adversaries is: 2.554527721016432. distance: 0.3690865290326797
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9758, Accuracy: 7184/8991 (79.9021%)
time spent on training: 24.281956434249878
[foolsgold agg] training data poison_ratio: 0.3009442060085837  data num: [568, 600, 600, 601, 541, 602, 573, 560, 600, 580]
[foolsgold agg] considering poison per batch poison_fraction: 0.3009442060085837
[foolsgold agg] wv: [0.68253564 0.89468282 0.         1.         1.         0.68253564
 0.         0.38537992 0.38537992 0.        ]
___Test Target_Simple poisoned: False, epoch: 45: Average loss: 1.1293, Accuracy: 7611/10000 (76.1100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 45: Average loss: 1.0956, Accuracy: 7261/8991 (80.7585%)
Done in 66.62619853019714 sec.
Server Epoch:46 choose agents : [75, 78, 14, 39, 7, 10, 40, 2, 68, 54].
___Train Local_Simple,  epoch  46, local model 75, internal_epoch   1,  Average loss: 0.0229, Accuracy: 461/600 (76.8333%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.0146, Accuracy: 8255/10000 (82.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 78, internal_epoch   1,  Average loss: 0.0245, Accuracy: 478/617 (77.4716%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.0179, Accuracy: 8202/10000 (82.0200%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 14, internal_epoch   1,  Average loss: 0.0212, Accuracy: 484/594 (81.4815%), train_poison_data_count: 594
Global model norm: 2.3969364998896348.
Norm before scaling: 2.571546264255999. Distance: 0.3829228767552828
Total norm for 4 adversaries is: 2.571546264255999. distance: 0.3829228767552828
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9743, Accuracy: 7034/8991 (78.2338%)
___Train Local_Simple,  epoch  46, local model 39, internal_epoch   1,  Average loss: 0.0239, Accuracy: 432/560 (77.1429%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.0206, Accuracy: 8101/10000 (81.0100%), Attack Success Rate:0/10000(0.000)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 7, internal_epoch   1,  Average loss: 0.0226, Accuracy: 458/570 (80.3509%), train_poison_data_count: 570
Global model norm: 2.3969364998896348.
Norm before scaling: 2.568121071555094. Distance: 0.3551017417649609
Total norm for 4 adversaries is: 2.568121071555094. distance: 0.3551017417649609
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9686, Accuracy: 7256/8991 (80.7029%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 10, internal_epoch   1,  Average loss: 0.0225, Accuracy: 513/635 (80.7874%), train_poison_data_count: 635
Global model norm: 2.3969364998896348.
Norm before scaling: 2.5849933110635717. Distance: 0.3862653058300225
Total norm for 4 adversaries is: 2.5849933110635717. distance: 0.3862653058300225
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9430, Accuracy: 7409/8991 (82.4046%)
___Train Local_Simple,  epoch  46, local model 40, internal_epoch   1,  Average loss: 0.0226, Accuracy: 422/548 (77.0073%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.0346, Accuracy: 8064/10000 (80.6400%), Attack Success Rate:0/10000(0.000)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 2, internal_epoch   1,  Average loss: 0.0218, Accuracy: 472/585 (80.6838%), train_poison_data_count: 585
Global model norm: 2.3969364998896348.
Norm before scaling: 2.568783383488974. Distance: 0.3681953275240581
Total norm for 4 adversaries is: 2.568783383488974. distance: 0.3681953275240581
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9762, Accuracy: 7201/8991 (80.0912%)
___Train Local_Simple,  epoch  46, local model 68, internal_epoch   1,  Average loss: 0.0229, Accuracy: 449/583 (77.0154%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.0167, Accuracy: 8258/10000 (82.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 54, internal_epoch   1,  Average loss: 0.0224, Accuracy: 435/547 (79.5247%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.0300, Accuracy: 8179/10000 (81.7900%), Attack Success Rate:0/10000(0.000)
time spent on training: 24.39246416091919
[foolsgold agg] training data poison_ratio: 0.4082890905977051  data num: [600, 617, 594, 560, 570, 635, 548, 585, 583, 547]
[foolsgold agg] considering poison per batch poison_fraction: 0.4082890905977051
[foolsgold agg] wv: [1.         1.         0.27016515 0.99683253 0.39920277 0.27016515
 1.         0.5078885  0.99683253 1.        ]
___Test Target_Simple poisoned: False, epoch: 46: Average loss: 1.1101, Accuracy: 7658/10000 (76.5800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 46: Average loss: 1.0806, Accuracy: 7238/8991 (80.5027%)
Done in 66.78641700744629 sec.
Server Epoch:47 choose agents : [94, 48, 82, 25, 26, 16, 7, 90, 68, 43].
___Train Local_Simple,  epoch  47, local model 94, internal_epoch   1,  Average loss: 0.0209, Accuracy: 444/541 (82.0702%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.0646, Accuracy: 7793/10000 (77.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 48, internal_epoch   1,  Average loss: 0.0234, Accuracy: 444/573 (77.4869%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.0019, Accuracy: 8276/10000 (82.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 82, internal_epoch   1,  Average loss: 0.0217, Accuracy: 484/589 (82.1732%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9972, Accuracy: 8284/10000 (82.8400%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 25, internal_epoch   1,  Average loss: 0.0214, Accuracy: 479/581 (82.4441%), train_poison_data_count: 581
Global model norm: 2.421470362177655.
Norm before scaling: 2.5914045092922158. Distance: 0.35517244250889207
Total norm for 4 adversaries is: 2.5914045092922158. distance: 0.35517244250889207
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9597, Accuracy: 6982/8991 (77.6554%)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 26, internal_epoch   1,  Average loss: 0.0220, Accuracy: 465/573 (81.1518%), train_poison_data_count: 573
Global model norm: 2.421470362177655.
Norm before scaling: 2.5863130878702156. Distance: 0.34040252743535226
Total norm for 4 adversaries is: 2.5863130878702156. distance: 0.34040252743535226
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9456, Accuracy: 7303/8991 (81.2257%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 16, internal_epoch   1,  Average loss: 0.0211, Accuracy: 489/596 (82.0470%), train_poison_data_count: 596
Global model norm: 2.421470362177655.
Norm before scaling: 2.593932179866613. Distance: 0.36727871674925233
Total norm for 4 adversaries is: 2.593932179866613. distance: 0.36727871674925233
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9710, Accuracy: 6971/8991 (77.5331%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 7, internal_epoch   1,  Average loss: 0.0226, Accuracy: 454/570 (79.6491%), train_poison_data_count: 570
Global model norm: 2.421470362177655.
Norm before scaling: 2.58964360587169. Distance: 0.3553429055939007
Total norm for 4 adversaries is: 2.58964360587169. distance: 0.3553429055939007
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9543, Accuracy: 7252/8991 (80.6584%)
___Train Local_Simple,  epoch  47, local model 90, internal_epoch   1,  Average loss: 0.0226, Accuracy: 467/576 (81.0764%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9982, Accuracy: 8286/10000 (82.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 68, internal_epoch   1,  Average loss: 0.0227, Accuracy: 450/583 (77.1870%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.0065, Accuracy: 8174/10000 (81.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 43, internal_epoch   1,  Average loss: 0.0228, Accuracy: 461/571 (80.7356%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9936, Accuracy: 8307/10000 (83.0700%), Attack Success Rate:0/10000(0.000)
time spent on training: 24.58389115333557
[foolsgold agg] training data poison_ratio: 0.40326786024682776  data num: [541, 573, 589, 581, 573, 596, 570, 576, 583, 571]
[foolsgold agg] considering poison per batch poison_fraction: 0.40326786024682776
[foolsgold agg] wv: [1. 0. 0. 0. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 47: Average loss: 1.1077, Accuracy: 7663/10000 (76.6300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 47: Average loss: 1.0796, Accuracy: 7224/8991 (80.3470%)
Done in 66.92350459098816 sec.
Server Epoch:48 choose agents : [74, 27, 75, 19, 58, 83, 91, 96, 17, 57].
___Train Local_Simple,  epoch  48, local model 74, internal_epoch   1,  Average loss: 0.0221, Accuracy: 466/597 (78.0570%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.0036, Accuracy: 8116/10000 (81.1600%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 27, internal_epoch   1,  Average loss: 0.0210, Accuracy: 479/597 (80.2345%), train_poison_data_count: 597
Global model norm: 2.4245065481986847.
Norm before scaling: 2.5919404669212063. Distance: 0.3447637997148242
Total norm for 3 adversaries is: 2.5919404669212063. distance: 0.3447637997148242
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 0.9474, Accuracy: 7231/8991 (80.4249%)
___Train Local_Simple,  epoch  48, local model 75, internal_epoch   1,  Average loss: 0.0225, Accuracy: 464/600 (77.3333%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9985, Accuracy: 8244/10000 (82.4400%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 19, internal_epoch   1,  Average loss: 0.0223, Accuracy: 470/601 (78.2030%), train_poison_data_count: 601
Global model norm: 2.4245065481986847.
Norm before scaling: 2.6125876015025606. Distance: 0.38577859441152973
Total norm for 3 adversaries is: 2.6125876015025606. distance: 0.38577859441152973
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 0.9362, Accuracy: 7283/8991 (81.0032%)
___Train Local_Simple,  epoch  48, local model 58, internal_epoch   1,  Average loss: 0.0233, Accuracy: 461/575 (80.1739%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9964, Accuracy: 8284/10000 (82.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 83, internal_epoch   1,  Average loss: 0.0231, Accuracy: 482/611 (78.8871%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9908, Accuracy: 8347/10000 (83.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 91, internal_epoch   1,  Average loss: 0.0220, Accuracy: 474/597 (79.3970%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9984, Accuracy: 8175/10000 (81.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 96, internal_epoch   1,  Average loss: 0.0201, Accuracy: 441/540 (81.6667%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.0637, Accuracy: 7603/10000 (76.0300%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 17, internal_epoch   1,  Average loss: 0.0208, Accuracy: 484/579 (83.5924%), train_poison_data_count: 579
Global model norm: 2.4245065481986847.
Norm before scaling: 2.5990440848861884. Distance: 0.3504341030469869
Total norm for 3 adversaries is: 2.5990440848861884. distance: 0.3504341030469869
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 0.9464, Accuracy: 7133/8991 (79.3349%)
___Train Local_Simple,  epoch  48, local model 57, internal_epoch   1,  Average loss: 0.0227, Accuracy: 479/605 (79.1736%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9974, Accuracy: 8247/10000 (82.4700%), Attack Success Rate:0/10000(0.000)
time spent on training: 24.926735162734985
[foolsgold agg] training data poison_ratio: 0.3010843781768892  data num: [597, 597, 600, 601, 575, 611, 597, 540, 579, 605]
[foolsgold agg] considering poison per batch poison_fraction: 0.3010843781768892
[foolsgold agg] wv: [0.14907392 0.         0.3954112  0.47621807 0.36646792 0.36646792
 0.14907392 1.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 48: Average loss: 1.0978, Accuracy: 7687/10000 (76.8700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 48: Average loss: 1.0715, Accuracy: 7218/8991 (80.2803%)
Done in 66.82705950737 sec.
Server Epoch:49 choose agents : [77, 10, 78, 72, 91, 13, 98, 21, 82, 74].
___Train Local_Simple,  epoch  49, local model 77, internal_epoch   1,  Average loss: 0.0232, Accuracy: 442/565 (78.2301%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.0016, Accuracy: 7904/10000 (79.0400%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 10, internal_epoch   1,  Average loss: 0.0220, Accuracy: 514/635 (80.9449%), train_poison_data_count: 635
Global model norm: 2.437831367074432.
Norm before scaling: 2.6238992290394942. Distance: 0.37854665229479995
Total norm for 3 adversaries is: 2.6238992290394942. distance: 0.37854665229479995
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.9224, Accuracy: 7429/8991 (82.6271%)
___Train Local_Simple,  epoch  49, local model 78, internal_epoch   1,  Average loss: 0.0240, Accuracy: 473/617 (76.6613%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9947, Accuracy: 8220/10000 (82.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 72, internal_epoch   1,  Average loss: 0.0245, Accuracy: 473/605 (78.1818%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9836, Accuracy: 8344/10000 (83.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 91, internal_epoch   1,  Average loss: 0.0218, Accuracy: 470/597 (78.7270%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9942, Accuracy: 8170/10000 (81.7000%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 13, internal_epoch   1,  Average loss: 0.0210, Accuracy: 512/628 (81.5287%), train_poison_data_count: 628
Global model norm: 2.437831367074432.
Norm before scaling: 2.630385641536135. Distance: 0.3937361608828293
Total norm for 3 adversaries is: 2.630385641536135. distance: 0.3937361608828293
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.9331, Accuracy: 7013/8991 (78.0002%)
___Train Local_Simple,  epoch  49, local model 98, internal_epoch   1,  Average loss: 0.0189, Accuracy: 407/499 (81.5631%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.0664, Accuracy: 7364/10000 (73.6400%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 21, internal_epoch   1,  Average loss: 0.0212, Accuracy: 476/590 (80.6780%), train_poison_data_count: 590
Global model norm: 2.437831367074432.
Norm before scaling: 2.600805773953166. Distance: 0.34746894719979116
Total norm for 3 adversaries is: 2.600805773953166. distance: 0.34746894719979116
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.9454, Accuracy: 7254/8991 (80.6807%)
___Train Local_Simple,  epoch  49, local model 82, internal_epoch   1,  Average loss: 0.0216, Accuracy: 482/589 (81.8336%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9910, Accuracy: 8348/10000 (83.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 74, internal_epoch   1,  Average loss: 0.0220, Accuracy: 458/597 (76.7169%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9962, Accuracy: 8118/10000 (81.1800%), Attack Success Rate:0/10000(0.000)
time spent on training: 24.50541114807129
[foolsgold agg] training data poison_ratio: 0.31290104694360016  data num: [565, 635, 617, 605, 597, 628, 499, 590, 589, 597]
[foolsgold agg] considering poison per batch poison_fraction: 0.31290104694360016
[foolsgold agg] wv: [0.00990545 0.         0.         0.54346249 0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 49: Average loss: 1.0948, Accuracy: 7678/10000 (76.7800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 49: Average loss: 1.0687, Accuracy: 7202/8991 (80.1023%)
Done in 66.7894058227539 sec.
Server Epoch:50 choose agents : [75, 86, 51, 0, 31, 32, 67, 17, 29, 7].
___Train Local_Simple,  epoch  50, local model 75, internal_epoch   1,  Average loss: 0.0223, Accuracy: 469/600 (78.1667%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9898, Accuracy: 8337/10000 (83.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 86, internal_epoch   1,  Average loss: 0.0225, Accuracy: 479/609 (78.6535%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9771, Accuracy: 8319/10000 (83.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 51, internal_epoch   1,  Average loss: 0.0233, Accuracy: 475/602 (78.9037%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9835, Accuracy: 8297/10000 (82.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 0, internal_epoch   1,  Average loss: 0.0217, Accuracy: 465/598 (77.7592%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9943, Accuracy: 8228/10000 (82.2800%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 31, internal_epoch   1,  Average loss: 0.0216, Accuracy: 510/617 (82.6580%), train_poison_data_count: 617
Global model norm: 2.4425998059031477.
Norm before scaling: 2.6312668788486335. Distance: 0.3914493636030247
Total norm for 5 adversaries is: 2.6312668788486335. distance: 0.3914493636030247
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.9275, Accuracy: 7395/8991 (82.2489%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 32, internal_epoch   1,  Average loss: 0.0210, Accuracy: 505/620 (81.4516%), train_poison_data_count: 620
Global model norm: 2.4425998059031477.
Norm before scaling: 2.636164130760887. Distance: 0.40622402988468015
Total norm for 5 adversaries is: 2.636164130760887. distance: 0.40622402988468015
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.9389, Accuracy: 7120/8991 (79.1903%)
___Train Local_Simple,  epoch  50, local model 67, internal_epoch   1,  Average loss: 0.0237, Accuracy: 438/570 (76.8421%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.0068, Accuracy: 8244/10000 (82.4400%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 17, internal_epoch   1,  Average loss: 0.0205, Accuracy: 484/579 (83.5924%), train_poison_data_count: 579
Global model norm: 2.4425998059031477.
Norm before scaling: 2.6143348748039084. Distance: 0.3456354344363962
Total norm for 5 adversaries is: 2.6143348748039084. distance: 0.3456354344363962
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.9346, Accuracy: 7167/8991 (79.7130%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 29, internal_epoch   1,  Average loss: 0.0225, Accuracy: 459/573 (80.1047%), train_poison_data_count: 573
Global model norm: 2.4425998059031477.
Norm before scaling: 2.609991583244228. Distance: 0.3597424535920809
Total norm for 5 adversaries is: 2.609991583244228. distance: 0.3597424535920809
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.9363, Accuracy: 7362/8991 (81.8819%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 7, internal_epoch   1,  Average loss: 0.0225, Accuracy: 452/570 (79.2982%), train_poison_data_count: 570
Global model norm: 2.4425998059031477.
Norm before scaling: 2.6060574394096614. Distance: 0.3526515833960428
Total norm for 5 adversaries is: 2.6060574394096614. distance: 0.3526515833960428
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.9458, Accuracy: 7268/8991 (80.8364%)
time spent on training: 25.43651294708252
[foolsgold agg] training data poison_ratio: 0.4983159312899966  data num: [600, 609, 602, 598, 617, 620, 570, 579, 573, 570]
[foolsgold agg] considering poison per batch poison_fraction: 0.4983159312899966
[foolsgold agg] wv: [0.72760079 0.83459072 1.         0.85041583 0.         0.
 0.72760079 0.03466056 0.06959504 0.34322634]
___Test Target_Simple poisoned: False, epoch: 50: Average loss: 1.0827, Accuracy: 7737/10000 (77.3700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 50: Average loss: 1.0608, Accuracy: 7185/8991 (79.9132%)
Done in 67.75915050506592 sec.
Server Epoch:51 choose agents : [36, 9, 6, 79, 4, 52, 48, 5, 87, 73].
___Train Local_Simple,  epoch  51, local model 36, internal_epoch   1,  Average loss: 0.0229, Accuracy: 468/601 (77.8702%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.9708, Accuracy: 8250/10000 (82.5000%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 9, internal_epoch   1,  Average loss: 0.0210, Accuracy: 479/587 (81.6014%), train_poison_data_count: 587
Global model norm: 2.458064360909671.
Norm before scaling: 2.623973191479065. Distance: 0.34954824925550215
Total norm for 4 adversaries is: 2.623973191479065. distance: 0.34954824925550215
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 0.9260, Accuracy: 7242/8991 (80.5472%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 6, internal_epoch   1,  Average loss: 0.0216, Accuracy: 488/609 (80.1314%), train_poison_data_count: 609
Global model norm: 2.458064360909671.
Norm before scaling: 2.642239049118756. Distance: 0.38867977268495396
Total norm for 4 adversaries is: 2.642239049118756. distance: 0.38867977268495396
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 0.9211, Accuracy: 7261/8991 (80.7585%)
___Train Local_Simple,  epoch  51, local model 79, internal_epoch   1,  Average loss: 0.0230, Accuracy: 440/565 (77.8761%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.9843, Accuracy: 8311/10000 (83.1100%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 4, internal_epoch   1,  Average loss: 0.0213, Accuracy: 500/621 (80.5153%), train_poison_data_count: 621
Global model norm: 2.458064360909671.
Norm before scaling: 2.645380737361915. Distance: 0.3948760084312631
Total norm for 4 adversaries is: 2.645380737361915. distance: 0.3948760084312631
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 0.9351, Accuracy: 7055/8991 (78.4674%)
___Train Local_Simple,  epoch  51, local model 52, internal_epoch   1,  Average loss: 0.0209, Accuracy: 483/598 (80.7692%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.9910, Accuracy: 8126/10000 (81.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  51, local model 48, internal_epoch   1,  Average loss: 0.0231, Accuracy: 445/573 (77.6614%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.9829, Accuracy: 8302/10000 (83.0200%), Attack Success Rate:0/10000(0.000)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 5, internal_epoch   1,  Average loss: 0.0213, Accuracy: 470/580 (81.0345%), train_poison_data_count: 580
Global model norm: 2.458064360909671.
Norm before scaling: 2.626139166561753. Distance: 0.3767855375459963
Total norm for 4 adversaries is: 2.626139166561753. distance: 0.3767855375459963
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 0.9496, Accuracy: 7094/8991 (78.9011%)
___Train Local_Simple,  epoch  51, local model 87, internal_epoch   1,  Average loss: 0.0214, Accuracy: 465/591 (78.6802%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.9825, Accuracy: 8298/10000 (82.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  51, local model 73, internal_epoch   1,  Average loss: 0.0230, Accuracy: 486/615 (79.0244%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 0.9756, Accuracy: 8204/10000 (82.0400%), Attack Success Rate:0/10000(0.000)
time spent on training: 25.544121503829956
[foolsgold agg] training data poison_ratio: 0.4035353535353535  data num: [601, 587, 609, 565, 621, 598, 573, 580, 591, 615]
[foolsgold agg] considering poison per batch poison_fraction: 0.40353535353535347
[foolsgold agg] wv: [1.         0.         0.10597343 0.18276491 0.181832   0.18276491
 0.49471774 0.         0.27171114 0.3682103 ]
___Test Target_Simple poisoned: False, epoch: 51: Average loss: 1.0755, Accuracy: 7760/10000 (77.6000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 51: Average loss: 1.0550, Accuracy: 7175/8991 (79.8020%)
Done in 67.72106409072876 sec.
Server Epoch:52 choose agents : [10, 31, 95, 82, 33, 30, 68, 11, 28, 70].
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 10, internal_epoch   1,  Average loss: 0.0218, Accuracy: 519/635 (81.7323%), train_poison_data_count: 635
Global model norm: 2.4675950837681055.
Norm before scaling: 2.6516221965303286. Distance: 0.3767659409409007
Total norm for 6 adversaries is: 2.6516221965303286. distance: 0.3767659409409007
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.9076, Accuracy: 7447/8991 (82.8273%)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 31, internal_epoch   1,  Average loss: 0.0212, Accuracy: 498/617 (80.7131%), train_poison_data_count: 617
Global model norm: 2.4675950837681055.
Norm before scaling: 2.6552060039076544. Distance: 0.3967442529931547
Total norm for 6 adversaries is: 2.6552060039076544. distance: 0.3967442529931547
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.9231, Accuracy: 7301/8991 (81.2034%)
___Train Local_Simple,  epoch  52, local model 95, internal_epoch   1,  Average loss: 0.0200, Accuracy: 446/549 (81.2386%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 1.0391, Accuracy: 7751/10000 (77.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  52, local model 82, internal_epoch   1,  Average loss: 0.0212, Accuracy: 487/589 (82.6825%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.9755, Accuracy: 8316/10000 (83.1600%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 33, internal_epoch   1,  Average loss: 0.0211, Accuracy: 498/612 (81.3725%), train_poison_data_count: 612
Global model norm: 2.4675950837681055.
Norm before scaling: 2.6623714147330744. Distance: 0.38851172056524036
Total norm for 6 adversaries is: 2.6623714147330744. distance: 0.38851172056524036
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.9135, Accuracy: 7100/8991 (78.9679%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 30, internal_epoch   1,  Average loss: 0.0205, Accuracy: 476/584 (81.5068%), train_poison_data_count: 584
Global model norm: 2.4675950837681055.
Norm before scaling: 2.6358422298886284. Distance: 0.3685596880146492
Total norm for 6 adversaries is: 2.6358422298886284. distance: 0.3685596880146492
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.9312, Accuracy: 7192/8991 (79.9911%)
___Train Local_Simple,  epoch  52, local model 68, internal_epoch   1,  Average loss: 0.0219, Accuracy: 451/583 (77.3585%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.9780, Accuracy: 8349/10000 (83.4900%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 11, internal_epoch   1,  Average loss: 0.0219, Accuracy: 466/577 (80.7626%), train_poison_data_count: 577
Global model norm: 2.4675950837681055.
Norm before scaling: 2.629523240306782. Distance: 0.35455088484130115
Total norm for 6 adversaries is: 2.629523240306782. distance: 0.35455088484130115
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.9331, Accuracy: 7307/8991 (81.2702%)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 28, internal_epoch   1,  Average loss: 0.0223, Accuracy: 443/566 (78.2686%), train_poison_data_count: 566
Global model norm: 2.4675950837681055.
Norm before scaling: 2.6263220046647517. Distance: 0.3618697360089085
Total norm for 6 adversaries is: 2.6263220046647517. distance: 0.3618697360089085
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.9579, Accuracy: 6873/8991 (76.4431%)
___Train Local_Simple,  epoch  52, local model 70, internal_epoch   1,  Average loss: 0.0230, Accuracy: 482/610 (79.0164%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 0.9719, Accuracy: 8301/10000 (83.0100%), Attack Success Rate:0/10000(0.000)
time spent on training: 25.551289081573486
[foolsgold agg] training data poison_ratio: 0.6063829787234043  data num: [635, 617, 549, 589, 612, 584, 583, 577, 566, 610]
[foolsgold agg] considering poison per batch poison_fraction: 0.6063829787234043
[foolsgold agg] wv: [0.         0.         1.         0.         0.         0.
 0.06786667 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 52: Average loss: 1.0733, Accuracy: 7769/10000 (77.6900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 52: Average loss: 1.0538, Accuracy: 7161/8991 (79.6463%)
Done in 67.7282075881958 sec.
Server Epoch:53 choose agents : [63, 99, 35, 31, 85, 62, 21, 81, 52, 26].
___Train Local_Simple,  epoch  53, local model 63, internal_epoch   1,  Average loss: 0.0213, Accuracy: 488/594 (82.1549%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.9744, Accuracy: 8137/10000 (81.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 99, internal_epoch   1,  Average loss: 0.0186, Accuracy: 364/408 (89.2157%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 1.1670, Accuracy: 6508/10000 (65.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 35, internal_epoch   1,  Average loss: 0.0229, Accuracy: 455/577 (78.8562%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.9798, Accuracy: 8272/10000 (82.7200%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 31, internal_epoch   1,  Average loss: 0.0216, Accuracy: 497/617 (80.5511%), train_poison_data_count: 617
Global model norm: 2.4707792609625385.
Norm before scaling: 2.6605646433311847. Distance: 0.40049074363370085
Total norm for 3 adversaries is: 2.6605646433311847. distance: 0.40049074363370085
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 0.9204, Accuracy: 7341/8991 (81.6483%)
___Train Local_Simple,  epoch  53, local model 85, internal_epoch   1,  Average loss: 0.0218, Accuracy: 467/584 (79.9658%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.9757, Accuracy: 8291/10000 (82.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 62, internal_epoch   1,  Average loss: 0.0222, Accuracy: 451/582 (77.4914%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.9784, Accuracy: 8197/10000 (81.9700%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 21, internal_epoch   1,  Average loss: 0.0208, Accuracy: 471/590 (79.8305%), train_poison_data_count: 590
Global model norm: 2.4707792609625385.
Norm before scaling: 2.631486417247894. Distance: 0.3507083795892728
Total norm for 3 adversaries is: 2.631486417247894. distance: 0.3507083795892728
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 0.9327, Accuracy: 7194/8991 (80.0133%)
___Train Local_Simple,  epoch  53, local model 81, internal_epoch   1,  Average loss: 0.0222, Accuracy: 447/588 (76.0204%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.9788, Accuracy: 8271/10000 (82.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 52, internal_epoch   1,  Average loss: 0.0206, Accuracy: 485/598 (81.1037%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 0.9844, Accuracy: 8129/10000 (81.2900%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 26, internal_epoch   1,  Average loss: 0.0218, Accuracy: 464/573 (80.9773%), train_poison_data_count: 573
Global model norm: 2.4707792609625385.
Norm before scaling: 2.632799459815629. Distance: 0.3438854275872721
Total norm for 3 adversaries is: 2.632799459815629. distance: 0.3438854275872721
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 0.9271, Accuracy: 7283/8991 (81.0032%)
time spent on training: 24.917080879211426
[foolsgold agg] training data poison_ratio: 0.3116792155489406  data num: [594, 408, 577, 617, 584, 582, 590, 588, 598, 573]
[foolsgold agg] considering poison per batch poison_fraction: 0.3116792155489406
[foolsgold agg] wv: [0. 1. 0. 0. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 53: Average loss: 1.0726, Accuracy: 7743/10000 (77.4300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 53: Average loss: 1.0511, Accuracy: 7186/8991 (79.9244%)
Done in 67.32128810882568 sec.
Server Epoch:54 choose agents : [27, 54, 48, 85, 16, 43, 52, 29, 93, 78].
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 27, internal_epoch   1,  Average loss: 0.0204, Accuracy: 479/597 (80.2345%), train_poison_data_count: 597
Global model norm: 2.473284649057045.
Norm before scaling: 2.637885574433146. Distance: 0.3452781068926564
Total norm for 3 adversaries is: 2.637885574433146. distance: 0.3452781068926564
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 0.9241, Accuracy: 7268/8991 (80.8364%)
___Train Local_Simple,  epoch  54, local model 54, internal_epoch   1,  Average loss: 0.0214, Accuracy: 443/547 (80.9872%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.9872, Accuracy: 8190/10000 (81.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 48, internal_epoch   1,  Average loss: 0.0228, Accuracy: 448/573 (78.1850%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.9737, Accuracy: 8332/10000 (83.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 85, internal_epoch   1,  Average loss: 0.0216, Accuracy: 462/584 (79.1096%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.9740, Accuracy: 8285/10000 (82.8500%), Attack Success Rate:0/10000(0.000)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 16, internal_epoch   1,  Average loss: 0.0204, Accuracy: 484/596 (81.2081%), train_poison_data_count: 596
Global model norm: 2.473284649057045.
Norm before scaling: 2.6423560794264986. Distance: 0.3703254375531663
Total norm for 3 adversaries is: 2.6423560794264986. distance: 0.3703254375531663
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 0.9428, Accuracy: 7040/8991 (78.3005%)
___Train Local_Simple,  epoch  54, local model 43, internal_epoch   1,  Average loss: 0.0221, Accuracy: 455/571 (79.6848%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.9694, Accuracy: 8343/10000 (83.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 52, internal_epoch   1,  Average loss: 0.0207, Accuracy: 478/598 (79.9331%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.9803, Accuracy: 8126/10000 (81.2600%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 29, internal_epoch   1,  Average loss: 0.0220, Accuracy: 452/573 (78.8831%), train_poison_data_count: 573
Global model norm: 2.473284649057045.
Norm before scaling: 2.6345835538694415. Distance: 0.35957084378063897
Total norm for 3 adversaries is: 2.6345835538694415. distance: 0.35957084378063897
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 0.9266, Accuracy: 7320/8991 (81.4147%)
___Train Local_Simple,  epoch  54, local model 93, internal_epoch   1,  Average loss: 0.0212, Accuracy: 420/508 (82.6772%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 1.0311, Accuracy: 7686/10000 (76.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 78, internal_epoch   1,  Average loss: 0.0230, Accuracy: 485/617 (78.6062%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 0.9749, Accuracy: 8218/10000 (82.1800%), Attack Success Rate:0/10000(0.000)
time spent on training: 25.013846397399902
[foolsgold agg] training data poison_ratio: 0.3063844552394171  data num: [597, 547, 573, 584, 596, 571, 598, 573, 508, 617]
[foolsgold agg] considering poison per batch poison_fraction: 0.3063844552394171
[foolsgold agg] wv: [0.         0.15396128 0.16220014 0.15396128 0.         0.23827966
 0.30821874 0.         1.         0.16220014]
___Test Target_Simple poisoned: False, epoch: 54: Average loss: 1.0673, Accuracy: 7773/10000 (77.7300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 54: Average loss: 1.0494, Accuracy: 7137/8991 (79.3794%)
Done in 67.05311465263367 sec.
Server Epoch:55 choose agents : [5, 85, 24, 0, 35, 65, 46, 29, 45, 69].
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 5, internal_epoch   1,  Average loss: 0.0210, Accuracy: 467/580 (80.5172%), train_poison_data_count: 580
Global model norm: 2.4801438486772973.
Norm before scaling: 2.6467076056106325. Distance: 0.36864106622081866
Total norm for 3 adversaries is: 2.6467076056106325. distance: 0.36864106622081866
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 0.9336, Accuracy: 7157/8991 (79.6018%)
___Train Local_Simple,  epoch  55, local model 85, internal_epoch   1,  Average loss: 0.0216, Accuracy: 469/584 (80.3082%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.9726, Accuracy: 8312/10000 (83.1200%), Attack Success Rate:0/10000(0.000)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 24, internal_epoch   1,  Average loss: 0.0228, Accuracy: 474/603 (78.6070%), train_poison_data_count: 603
Global model norm: 2.4801438486772973.
Norm before scaling: 2.663680152639653. Distance: 0.398158125075729
Total norm for 3 adversaries is: 2.663680152639653. distance: 0.398158125075729
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 0.9321, Accuracy: 7108/8991 (79.0568%)
___Train Local_Simple,  epoch  55, local model 0, internal_epoch   1,  Average loss: 0.0212, Accuracy: 475/598 (79.4314%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.9757, Accuracy: 8276/10000 (82.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 35, internal_epoch   1,  Average loss: 0.0227, Accuracy: 461/577 (79.8960%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.9725, Accuracy: 8285/10000 (82.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 65, internal_epoch   1,  Average loss: 0.0227, Accuracy: 447/569 (78.5589%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.9740, Accuracy: 8331/10000 (83.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 46, internal_epoch   1,  Average loss: 0.0224, Accuracy: 486/609 (79.8030%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.9640, Accuracy: 8019/10000 (80.1900%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 29, internal_epoch   1,  Average loss: 0.0217, Accuracy: 453/573 (79.0576%), train_poison_data_count: 573
Global model norm: 2.4801438486772973.
Norm before scaling: 2.6438543673356767. Distance: 0.37348219552174405
Total norm for 3 adversaries is: 2.6438543673356767. distance: 0.37348219552174405
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 0.9253, Accuracy: 7269/8991 (80.8475%)
___Train Local_Simple,  epoch  55, local model 45, internal_epoch   1,  Average loss: 0.0219, Accuracy: 453/571 (79.3345%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.9714, Accuracy: 8344/10000 (83.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 69, internal_epoch   1,  Average loss: 0.0225, Accuracy: 450/583 (77.1870%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 0.9739, Accuracy: 8340/10000 (83.4000%), Attack Success Rate:0/10000(0.000)
time spent on training: 25.3043475151062
[foolsgold agg] training data poison_ratio: 0.3003249529673337  data num: [580, 584, 603, 598, 577, 569, 609, 573, 571, 583]
[foolsgold agg] considering poison per batch poison_fraction: 0.3003249529673337
[foolsgold agg] wv: [0.         1.         1.         1.         0.87369304 0.81334119
 1.         0.         0.81334119 0.87369304]
___Test Target_Simple poisoned: False, epoch: 55: Average loss: 1.0507, Accuracy: 7835/10000 (78.3500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 55: Average loss: 1.0347, Accuracy: 7160/8991 (79.6352%)
Done in 67.43618965148926 sec.
Server Epoch:56 choose agents : [10, 16, 41, 45, 65, 81, 24, 64, 48, 29].
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 10, internal_epoch   1,  Average loss: 0.0213, Accuracy: 513/635 (80.7874%), train_poison_data_count: 635
Global model norm: 2.5044629315789595.
Norm before scaling: 2.6816858786524413. Distance: 0.37503639680343975
Total norm for 4 adversaries is: 2.6816858786524413. distance: 0.37503639680343975
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 0.8916, Accuracy: 7470/8991 (83.0831%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 16, internal_epoch   1,  Average loss: 0.0203, Accuracy: 479/596 (80.3691%), train_poison_data_count: 596
Global model norm: 2.5044629315789595.
Norm before scaling: 2.668130045939875. Distance: 0.36029480277782844
Total norm for 4 adversaries is: 2.668130045939875. distance: 0.36029480277782844
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 0.9239, Accuracy: 7166/8991 (79.7019%)
___Train Local_Simple,  epoch  56, local model 41, internal_epoch   1,  Average loss: 0.0214, Accuracy: 494/635 (77.7953%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.9468, Accuracy: 8294/10000 (82.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 45, internal_epoch   1,  Average loss: 0.0218, Accuracy: 455/571 (79.6848%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.9592, Accuracy: 8316/10000 (83.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 65, internal_epoch   1,  Average loss: 0.0225, Accuracy: 443/569 (77.8559%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.9613, Accuracy: 8330/10000 (83.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 81, internal_epoch   1,  Average loss: 0.0218, Accuracy: 451/588 (76.7007%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.9630, Accuracy: 8322/10000 (83.2200%), Attack Success Rate:0/10000(0.000)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 24, internal_epoch   1,  Average loss: 0.0226, Accuracy: 486/603 (80.5970%), train_poison_data_count: 603
Global model norm: 2.5044629315789595.
Norm before scaling: 2.6873270910662628. Distance: 0.3917060959867763
Total norm for 4 adversaries is: 2.6873270910662628. distance: 0.3917060959867763
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 0.9064, Accuracy: 7289/8991 (81.0700%)
___Train Local_Simple,  epoch  56, local model 64, internal_epoch   1,  Average loss: 0.0224, Accuracy: 481/610 (78.8525%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.9480, Accuracy: 8236/10000 (82.3600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 48, internal_epoch   1,  Average loss: 0.0227, Accuracy: 445/573 (77.6614%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 0.9584, Accuracy: 8326/10000 (83.2600%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 29, internal_epoch   1,  Average loss: 0.0216, Accuracy: 460/573 (80.2792%), train_poison_data_count: 573
Global model norm: 2.5044629315789595.
Norm before scaling: 2.665295447027644. Distance: 0.3610548893656502
Total norm for 4 adversaries is: 2.665295447027644. distance: 0.3610548893656502
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 0.9104, Accuracy: 7339/8991 (81.6261%)
time spent on training: 25.68929672241211
[foolsgold agg] training data poison_ratio: 0.404333949269276  data num: [635, 596, 635, 571, 569, 588, 603, 610, 573, 573]
[foolsgold agg] considering poison per batch poison_fraction: 0.40433394926927607
[foolsgold agg] wv: [0.         0.38919295 1.         1.         0.59108105 0.59108105
 1.         1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 56: Average loss: 1.0368, Accuracy: 7857/10000 (78.5700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 56: Average loss: 1.0217, Accuracy: 7162/8991 (79.6574%)
Done in 68.02076268196106 sec.
Server Epoch:57 choose agents : [43, 96, 61, 70, 67, 8, 68, 93, 30, 71].
___Train Local_Simple,  epoch  57, local model 43, internal_epoch   1,  Average loss: 0.0215, Accuracy: 474/571 (83.0123%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.9426, Accuracy: 8370/10000 (83.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 96, internal_epoch   1,  Average loss: 0.0190, Accuracy: 446/540 (82.5926%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 1.0098, Accuracy: 7644/10000 (76.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 61, internal_epoch   1,  Average loss: 0.0215, Accuracy: 468/585 (80.0000%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.9463, Accuracy: 8368/10000 (83.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 70, internal_epoch   1,  Average loss: 0.0221, Accuracy: 480/610 (78.6885%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.9500, Accuracy: 8305/10000 (83.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 67, internal_epoch   1,  Average loss: 0.0226, Accuracy: 448/570 (78.5965%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.9610, Accuracy: 8320/10000 (83.2000%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 8, internal_epoch   1,  Average loss: 0.0197, Accuracy: 477/593 (80.4384%), train_poison_data_count: 593
Global model norm: 2.526111237397042.
Norm before scaling: 2.6845506852626912. Distance: 0.3275076075937011
Total norm for 2 adversaries is: 2.6845506852626912. distance: 0.3275076075937011
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 0.8886, Accuracy: 7377/8991 (82.0487%)
___Train Local_Simple,  epoch  57, local model 68, internal_epoch   1,  Average loss: 0.0214, Accuracy: 456/583 (78.2161%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.9511, Accuracy: 8338/10000 (83.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 93, internal_epoch   1,  Average loss: 0.0207, Accuracy: 419/508 (82.4803%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 1.0040, Accuracy: 7695/10000 (76.9500%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 30, internal_epoch   1,  Average loss: 0.0200, Accuracy: 467/584 (79.9658%), train_poison_data_count: 584
Global model norm: 2.526111237397042.
Norm before scaling: 2.6881201272586384. Distance: 0.3686887811501737
Total norm for 2 adversaries is: 2.6881201272586384. distance: 0.3686887811501737
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 0.9214, Accuracy: 7039/8991 (78.2894%)
___Train Local_Simple,  epoch  57, local model 71, internal_epoch   1,  Average loss: 0.0219, Accuracy: 503/637 (78.9639%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 0.9416, Accuracy: 8257/10000 (82.5700%), Attack Success Rate:0/10000(0.000)
time spent on training: 25.258403301239014
[foolsgold agg] training data poison_ratio: 0.20359799342674278  data num: [571, 540, 585, 610, 570, 593, 583, 508, 584, 637]
[foolsgold agg] considering poison per batch poison_fraction: 0.20359799342674278
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.48064527
 1.         1.         0.48064527 1.        ]
___Test Target_Simple poisoned: False, epoch: 57: Average loss: 1.0181, Accuracy: 7935/10000 (79.3500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 57: Average loss: 1.0096, Accuracy: 7121/8991 (79.2014%)
Done in 67.4894871711731 sec.
Server Epoch:58 choose agents : [77, 32, 80, 30, 53, 41, 13, 49, 17, 31].
___Train Local_Simple,  epoch  58, local model 77, internal_epoch   1,  Average loss: 0.0212, Accuracy: 456/565 (80.7080%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.9415, Accuracy: 8090/10000 (80.9000%), Attack Success Rate:0/10000(0.000)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 32, internal_epoch   1,  Average loss: 0.0202, Accuracy: 503/620 (81.1290%), train_poison_data_count: 620
Global model norm: 2.554885063348284.
Norm before scaling: 2.735907424944457. Distance: 0.4003711974850392
Total norm for 5 adversaries is: 2.735907424944457. distance: 0.4003711974850392
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 0.8881, Accuracy: 7231/8991 (80.4249%)
___Train Local_Simple,  epoch  58, local model 80, internal_epoch   1,  Average loss: 0.0208, Accuracy: 474/594 (79.7980%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.9399, Accuracy: 8230/10000 (82.3000%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 30, internal_epoch   1,  Average loss: 0.0198, Accuracy: 471/584 (80.6507%), train_poison_data_count: 584
Global model norm: 2.554885063348284.
Norm before scaling: 2.714206626284826. Distance: 0.3644742143913608
Total norm for 5 adversaries is: 2.714206626284826. distance: 0.3644742143913608
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 0.8970, Accuracy: 7250/8991 (80.6362%)
___Train Local_Simple,  epoch  58, local model 53, internal_epoch   1,  Average loss: 0.0210, Accuracy: 464/568 (81.6901%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.9367, Accuracy: 8224/10000 (82.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  58, local model 41, internal_epoch   1,  Average loss: 0.0208, Accuracy: 500/635 (78.7402%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.9241, Accuracy: 8320/10000 (83.2000%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 13, internal_epoch   1,  Average loss: 0.0199, Accuracy: 504/628 (80.2548%), train_poison_data_count: 628
Global model norm: 2.554885063348284.
Norm before scaling: 2.731384036618279. Distance: 0.38335444566734395
Total norm for 5 adversaries is: 2.731384036618279. distance: 0.38335444566734395
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 0.8842, Accuracy: 7125/8991 (79.2459%)
___Train Local_Simple,  epoch  58, local model 49, internal_epoch   1,  Average loss: 0.0218, Accuracy: 501/637 (78.6499%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 0.9297, Accuracy: 8335/10000 (83.3500%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 17, internal_epoch   1,  Average loss: 0.0196, Accuracy: 483/579 (83.4197%), train_poison_data_count: 579
Global model norm: 2.554885063348284.
Norm before scaling: 2.718520319214603. Distance: 0.3415551338902266
Total norm for 5 adversaries is: 2.718520319214603. distance: 0.3415551338902266
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 0.8872, Accuracy: 7267/8991 (80.8253%)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 31, internal_epoch   1,  Average loss: 0.0207, Accuracy: 495/617 (80.2269%), train_poison_data_count: 617
Global model norm: 2.554885063348284.
Norm before scaling: 2.732752901957427. Distance: 0.3874231339172845
Total norm for 5 adversaries is: 2.732752901957427. distance: 0.3874231339172845
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 0.8837, Accuracy: 7391/8991 (82.2044%)
time spent on training: 25.855352640151978
[foolsgold agg] training data poison_ratio: 0.5024058403849344  data num: [565, 620, 594, 584, 568, 635, 628, 637, 579, 617]
[foolsgold agg] considering poison per batch poison_fraction: 0.5024058403849344
[foolsgold agg] wv: [1.         0.63287626 1.         0.35215735 1.         1.
 0.35215735 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 58: Average loss: 1.0037, Accuracy: 7905/10000 (79.0500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 58: Average loss: 0.9906, Accuracy: 7181/8991 (79.8688%)
Done in 68.05284094810486 sec.
Server Epoch:59 choose agents : [46, 56, 12, 72, 79, 17, 71, 70, 74, 27].
___Train Local_Simple,  epoch  59, local model 46, internal_epoch   1,  Average loss: 0.0208, Accuracy: 501/609 (82.2660%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.9149, Accuracy: 8190/10000 (81.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 56, internal_epoch   1,  Average loss: 0.0205, Accuracy: 479/586 (81.7406%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.9256, Accuracy: 8309/10000 (83.0900%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 12, internal_epoch   1,  Average loss: 0.0212, Accuracy: 449/555 (80.9009%), train_poison_data_count: 555
Global model norm: 2.5818821204629123.
Norm before scaling: 2.738888660926973. Distance: 0.3591666239467752
Total norm for 3 adversaries is: 2.738888660926973. distance: 0.3591666239467752
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 0.8916, Accuracy: 7238/8991 (80.5027%)
___Train Local_Simple,  epoch  59, local model 72, internal_epoch   1,  Average loss: 0.0218, Accuracy: 486/605 (80.3306%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.9172, Accuracy: 8394/10000 (83.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 79, internal_epoch   1,  Average loss: 0.0214, Accuracy: 445/565 (78.7611%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.9249, Accuracy: 8338/10000 (83.3800%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 17, internal_epoch   1,  Average loss: 0.0190, Accuracy: 492/579 (84.9741%), train_poison_data_count: 579
Global model norm: 2.5818821204629123.
Norm before scaling: 2.7421191606401614. Distance: 0.3363137134649918
Total norm for 3 adversaries is: 2.7421191606401614. distance: 0.3363137134649918
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 0.8759, Accuracy: 7316/8991 (81.3703%)
___Train Local_Simple,  epoch  59, local model 71, internal_epoch   1,  Average loss: 0.0213, Accuracy: 497/637 (78.0220%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.9152, Accuracy: 8316/10000 (83.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 70, internal_epoch   1,  Average loss: 0.0216, Accuracy: 490/610 (80.3279%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.9210, Accuracy: 8357/10000 (83.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 74, internal_epoch   1,  Average loss: 0.0202, Accuracy: 467/597 (78.2245%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 0.9249, Accuracy: 8230/10000 (82.3000%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 27, internal_epoch   1,  Average loss: 0.0194, Accuracy: 486/597 (81.4070%), train_poison_data_count: 597
Global model norm: 2.5818821204629123.
Norm before scaling: 2.7343347165001415. Distance: 0.3351819946609417
Total norm for 3 adversaries is: 2.7343347165001415. distance: 0.3351819946609417
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 0.8767, Accuracy: 7368/8991 (81.9486%)
time spent on training: 25.84527063369751
[foolsgold agg] training data poison_ratio: 0.2914141414141414  data num: [609, 586, 555, 605, 565, 579, 637, 610, 597, 597]
[foolsgold agg] considering poison per batch poison_fraction: 0.2914141414141414
[foolsgold agg] wv: [1.         1.         0.68040232 1.         1.         0.86921149
 1.         1.         1.         0.68040232]
___Test Target_Simple poisoned: False, epoch: 59: Average loss: 0.9871, Accuracy: 7927/10000 (79.2700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 59: Average loss: 0.9753, Accuracy: 7191/8991 (79.9800%)
Done in 68.06009912490845 sec.
Server Epoch:60 choose agents : [4, 49, 74, 6, 16, 59, 46, 66, 84, 63].
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 4, internal_epoch   1,  Average loss: 0.0193, Accuracy: 502/621 (80.8374%), train_poison_data_count: 621
Global model norm: 2.611761589280914.
Norm before scaling: 2.784592238320688. Distance: 0.37829828153870826
Total norm for 3 adversaries is: 2.784592238320688. distance: 0.37829828153870826
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 0.8774, Accuracy: 7088/8991 (78.8344%)
___Train Local_Simple,  epoch  60, local model 49, internal_epoch   1,  Average loss: 0.0212, Accuracy: 497/637 (78.0220%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.9059, Accuracy: 8379/10000 (83.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 74, internal_epoch   1,  Average loss: 0.0200, Accuracy: 470/597 (78.7270%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.9142, Accuracy: 8214/10000 (82.1400%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 6, internal_epoch   1,  Average loss: 0.0204, Accuracy: 495/609 (81.2808%), train_poison_data_count: 609
Global model norm: 2.611761589280914.
Norm before scaling: 2.777191887632398. Distance: 0.36242145394401326
Total norm for 3 adversaries is: 2.777191887632398. distance: 0.36242145394401326
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 0.8635, Accuracy: 7383/8991 (82.1154%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 16, internal_epoch   1,  Average loss: 0.0190, Accuracy: 484/596 (81.2081%), train_poison_data_count: 596
Global model norm: 2.611761589280914.
Norm before scaling: 2.764449996051686. Distance: 0.33819678663913166
Total norm for 3 adversaries is: 2.764449996051686. distance: 0.33819678663913166
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 0.8785, Accuracy: 7209/8991 (80.1802%)
___Train Local_Simple,  epoch  60, local model 59, internal_epoch   1,  Average loss: 0.0219, Accuracy: 469/607 (77.2652%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.9065, Accuracy: 8423/10000 (84.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 46, internal_epoch   1,  Average loss: 0.0203, Accuracy: 497/609 (81.6092%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.9040, Accuracy: 8204/10000 (82.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 66, internal_epoch   1,  Average loss: 0.0204, Accuracy: 496/622 (79.7428%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.9005, Accuracy: 8304/10000 (83.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 84, internal_epoch   1,  Average loss: 0.0201, Accuracy: 484/601 (80.5324%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.9068, Accuracy: 8295/10000 (82.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 63, internal_epoch   1,  Average loss: 0.0196, Accuracy: 492/594 (82.8283%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 0.9109, Accuracy: 8283/10000 (82.8300%), Attack Success Rate:0/10000(0.000)
time spent on training: 26.484671115875244
[foolsgold agg] training data poison_ratio: 0.29968816674872806  data num: [621, 637, 597, 609, 596, 607, 609, 622, 601, 594]
[foolsgold agg] considering poison per batch poison_fraction: 0.29968816674872806
[foolsgold agg] wv: [0.05452899 0.3177334  1.         0.05788439 0.05452899 1.
 0.93090913 0.64266152 1.         0.3177334 ]
___Test Target_Simple poisoned: False, epoch: 60: Average loss: 0.9765, Accuracy: 7988/10000 (79.8800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 60: Average loss: 0.9694, Accuracy: 7150/8991 (79.5240%)
Done in 68.76591682434082 sec.
Server Epoch:61 choose agents : [23, 92, 22, 91, 70, 58, 35, 12, 55, 94].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 23, internal_epoch   1,  Average loss: 0.0193, Accuracy: 481/602 (79.9003%), train_poison_data_count: 602
Global model norm: 2.6291569991218657.
Norm before scaling: 2.7985968377754045. Distance: 0.39429791792944596
Total norm for 3 adversaries is: 2.7985968377754045. distance: 0.39429791792944596
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 0.8771, Accuracy: 6995/8991 (77.8000%)
___Train Local_Simple,  epoch  61, local model 92, internal_epoch   1,  Average loss: 0.0206, Accuracy: 454/565 (80.3540%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.9177, Accuracy: 8079/10000 (80.7900%), Attack Success Rate:0/10000(0.000)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 22, internal_epoch   1,  Average loss: 0.0197, Accuracy: 474/581 (81.5835%), train_poison_data_count: 581
Global model norm: 2.6291569991218657.
Norm before scaling: 2.775679420946117. Distance: 0.33704353830062533
Total norm for 3 adversaries is: 2.775679420946117. distance: 0.33704353830062533
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 0.8578, Accuracy: 7469/8991 (83.0720%)
___Train Local_Simple,  epoch  61, local model 91, internal_epoch   1,  Average loss: 0.0196, Accuracy: 480/597 (80.4020%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.9016, Accuracy: 8321/10000 (83.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 70, internal_epoch   1,  Average loss: 0.0209, Accuracy: 489/610 (80.1639%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.9018, Accuracy: 8363/10000 (83.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 58, internal_epoch   1,  Average loss: 0.0206, Accuracy: 467/575 (81.2174%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.8985, Accuracy: 8373/10000 (83.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 35, internal_epoch   1,  Average loss: 0.0210, Accuracy: 467/577 (80.9359%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.9039, Accuracy: 8358/10000 (83.5800%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 12, internal_epoch   1,  Average loss: 0.0207, Accuracy: 451/555 (81.2613%), train_poison_data_count: 555
Global model norm: 2.6291569991218657.
Norm before scaling: 2.7801410307205283. Distance: 0.3629022282284182
Total norm for 3 adversaries is: 2.7801410307205283. distance: 0.3629022282284182
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 0.8778, Accuracy: 7275/8991 (80.9142%)
___Train Local_Simple,  epoch  61, local model 55, internal_epoch   1,  Average loss: 0.0203, Accuracy: 471/595 (79.1597%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.9044, Accuracy: 8327/10000 (83.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 94, internal_epoch   1,  Average loss: 0.0186, Accuracy: 451/541 (83.3641%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 0.9634, Accuracy: 7855/10000 (78.5500%), Attack Success Rate:0/10000(0.000)
time spent on training: 25.889317750930786
[foolsgold agg] training data poison_ratio: 0.29975853742669883  data num: [602, 565, 581, 597, 610, 575, 577, 555, 595, 541]
[foolsgold agg] considering poison per batch poison_fraction: 0.29975853742669883
[foolsgold agg] wv: [1.         1.         0.36537744 1.         1.         1.
 1.         0.36537744 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 61: Average loss: 0.9628, Accuracy: 7988/10000 (79.8800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 61: Average loss: 0.9565, Accuracy: 7153/8991 (79.5573%)
Done in 68.19456648826599 sec.
Server Epoch:62 choose agents : [60, 54, 79, 77, 63, 99, 67, 88, 28, 37].
___Train Local_Simple,  epoch  62, local model 60, internal_epoch   1,  Average loss: 0.0191, Accuracy: 499/600 (83.1667%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.8955, Accuracy: 8428/10000 (84.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 54, internal_epoch   1,  Average loss: 0.0193, Accuracy: 451/547 (82.4497%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.9022, Accuracy: 8276/10000 (82.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 79, internal_epoch   1,  Average loss: 0.0208, Accuracy: 448/565 (79.2920%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.8937, Accuracy: 8379/10000 (83.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 77, internal_epoch   1,  Average loss: 0.0206, Accuracy: 460/565 (81.4159%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.9001, Accuracy: 8141/10000 (81.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 63, internal_epoch   1,  Average loss: 0.0192, Accuracy: 495/594 (83.3333%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.8929, Accuracy: 8241/10000 (82.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 99, internal_epoch   1,  Average loss: 0.0165, Accuracy: 362/408 (88.7255%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 1.0567, Accuracy: 6728/10000 (67.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 67, internal_epoch   1,  Average loss: 0.0210, Accuracy: 456/570 (80.0000%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.9056, Accuracy: 8357/10000 (83.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 88, internal_epoch   1,  Average loss: 0.0209, Accuracy: 440/560 (78.5714%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.8971, Accuracy: 8358/10000 (83.5800%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 28, internal_epoch   1,  Average loss: 0.0207, Accuracy: 436/566 (77.0318%), train_poison_data_count: 566
Global model norm: 2.655819757061976.
Norm before scaling: 2.798020964548729. Distance: 0.351016659322268
Total norm for 1 adversaries is: 2.798020964548729. distance: 0.351016659322268
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 0.8818, Accuracy: 6997/8991 (77.8223%)
___Train Local_Simple,  epoch  62, local model 37, internal_epoch   1,  Average loss: 0.0211, Accuracy: 487/601 (81.0316%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.8890, Accuracy: 8132/10000 (81.3200%), Attack Success Rate:0/10000(0.000)
time spent on training: 25.536899089813232
[foolsgold agg] training data poison_ratio: 0.101506456241033  data num: [600, 547, 565, 565, 594, 408, 570, 560, 566, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.101506456241033
[foolsgold agg] wv: [0.         0.         0.         0.27830597 0.         1.
 0.         0.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 62: Average loss: 0.9604, Accuracy: 7913/10000 (79.1300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 62: Average loss: 0.9483, Accuracy: 7215/8991 (80.2469%)
Done in 67.89083290100098 sec.
Server Epoch:63 choose agents : [4, 88, 6, 99, 49, 69, 66, 79, 36, 64].
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 4, internal_epoch   1,  Average loss: 0.0190, Accuracy: 509/621 (81.9646%), train_poison_data_count: 621
Global model norm: 2.6650120449688592.
Norm before scaling: 2.8301557973834903. Distance: 0.3719748226792714
Total norm for 2 adversaries is: 2.8301557973834903. distance: 0.3719748226792714
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 0.8594, Accuracy: 7152/8991 (79.5462%)
___Train Local_Simple,  epoch  63, local model 88, internal_epoch   1,  Average loss: 0.0209, Accuracy: 445/560 (79.4643%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.8917, Accuracy: 8391/10000 (83.9100%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 6, internal_epoch   1,  Average loss: 0.0201, Accuracy: 490/609 (80.4598%), train_poison_data_count: 609
Global model norm: 2.6650120449688592.
Norm before scaling: 2.8294603767431643. Distance: 0.3587946559613285
Total norm for 2 adversaries is: 2.8294603767431643. distance: 0.3587946559613285
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 0.8370, Accuracy: 7431/8991 (82.6493%)
___Train Local_Simple,  epoch  63, local model 99, internal_epoch   1,  Average loss: 0.0165, Accuracy: 364/408 (89.2157%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 1.0556, Accuracy: 6728/10000 (67.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 49, internal_epoch   1,  Average loss: 0.0208, Accuracy: 500/637 (78.4929%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.8824, Accuracy: 8415/10000 (84.1500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 69, internal_epoch   1,  Average loss: 0.0202, Accuracy: 460/583 (78.9022%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.8894, Accuracy: 8433/10000 (84.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 66, internal_epoch   1,  Average loss: 0.0200, Accuracy: 503/622 (80.8682%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.8799, Accuracy: 8333/10000 (83.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 79, internal_epoch   1,  Average loss: 0.0210, Accuracy: 444/565 (78.5841%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.8910, Accuracy: 8382/10000 (83.8200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 36, internal_epoch   1,  Average loss: 0.0202, Accuracy: 482/601 (80.1997%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.8830, Accuracy: 8287/10000 (82.8700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 64, internal_epoch   1,  Average loss: 0.0202, Accuracy: 487/610 (79.8361%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 0.8800, Accuracy: 8326/10000 (83.2600%), Attack Success Rate:0/10000(0.000)
time spent on training: 26.248541116714478
[foolsgold agg] training data poison_ratio: 0.21148555708390646  data num: [621, 560, 609, 408, 637, 583, 622, 565, 601, 610]
[foolsgold agg] considering poison per batch poison_fraction: 0.21148555708390646
[foolsgold agg] wv: [0. 0. 0. 1. 0. 0. 0. 0. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 63: Average loss: 0.9586, Accuracy: 7898/10000 (78.9800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 63: Average loss: 0.9455, Accuracy: 7222/8991 (80.3248%)
Done in 68.54480028152466 sec.
Server Epoch:64 choose agents : [33, 90, 7, 26, 13, 51, 24, 40, 35, 98].
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 33, internal_epoch   1,  Average loss: 0.0187, Accuracy: 505/612 (82.5163%), train_poison_data_count: 612
Global model norm: 2.670429307091574.
Norm before scaling: 2.8379756444809376. Distance: 0.34790828227411824
Total norm for 5 adversaries is: 2.8379756444809376. distance: 0.34790828227411824
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 0.8325, Accuracy: 7313/8991 (81.3369%)
___Train Local_Simple,  epoch  64, local model 90, internal_epoch   1,  Average loss: 0.0192, Accuracy: 485/576 (84.2014%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.8882, Accuracy: 8386/10000 (83.8600%), Attack Success Rate:0/10000(0.000)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 7, internal_epoch   1,  Average loss: 0.0199, Accuracy: 467/570 (81.9298%), train_poison_data_count: 570
Global model norm: 2.670429307091574.
Norm before scaling: 2.812373010099658. Distance: 0.3235476568854338
Total norm for 5 adversaries is: 2.812373010099658. distance: 0.3235476568854338
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 0.8550, Accuracy: 7434/8991 (82.6827%)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 26, internal_epoch   1,  Average loss: 0.0193, Accuracy: 463/573 (80.8028%), train_poison_data_count: 573
Global model norm: 2.670429307091574.
Norm before scaling: 2.8101088637852563. Distance: 0.3055939395894981
Total norm for 5 adversaries is: 2.8101088637852563. distance: 0.3055939395894981
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 0.8411, Accuracy: 7463/8991 (83.0052%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 13, internal_epoch   1,  Average loss: 0.0187, Accuracy: 512/628 (81.5287%), train_poison_data_count: 628
Global model norm: 2.670429307091574.
Norm before scaling: 2.8322390144694722. Distance: 0.3561821580169311
Total norm for 5 adversaries is: 2.8322390144694722. distance: 0.3561821580169311
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 0.8397, Accuracy: 7222/8991 (80.3248%)
___Train Local_Simple,  epoch  64, local model 51, internal_epoch   1,  Average loss: 0.0198, Accuracy: 493/602 (81.8937%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.8835, Accuracy: 8364/10000 (83.6400%), Attack Success Rate:0/10000(0.000)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 24, internal_epoch   1,  Average loss: 0.0202, Accuracy: 496/603 (82.2554%), train_poison_data_count: 603
Global model norm: 2.670429307091574.
Norm before scaling: 2.8349094681858995. Distance: 0.36178815270612036
Total norm for 5 adversaries is: 2.8349094681858995. distance: 0.36178815270612036
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 0.8410, Accuracy: 7395/8991 (82.2489%)
___Train Local_Simple,  epoch  64, local model 40, internal_epoch   1,  Average loss: 0.0195, Accuracy: 434/548 (79.1971%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.9001, Accuracy: 8253/10000 (82.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  64, local model 35, internal_epoch   1,  Average loss: 0.0206, Accuracy: 472/577 (81.8024%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.8898, Accuracy: 8323/10000 (83.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  64, local model 98, internal_epoch   1,  Average loss: 0.0165, Accuracy: 417/499 (83.5671%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 0.9515, Accuracy: 7575/10000 (75.7500%), Attack Success Rate:0/10000(0.000)
time spent on training: 25.907699823379517
[foolsgold agg] training data poison_ratio: 0.5158949550794748  data num: [612, 576, 570, 573, 628, 602, 603, 548, 577, 499]
[foolsgold agg] considering poison per batch poison_fraction: 0.5158949550794748
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.82233194
 0.         0.49545653 0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 64: Average loss: 0.9549, Accuracy: 7912/10000 (79.1200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 64: Average loss: 0.9432, Accuracy: 7209/8991 (80.1802%)
Done in 67.98281526565552 sec.
Server Epoch:65 choose agents : [46, 27, 26, 85, 41, 77, 52, 61, 3, 82].
___Train Local_Simple,  epoch  65, local model 46, internal_epoch   1,  Average loss: 0.0203, Accuracy: 495/609 (81.2808%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.8783, Accuracy: 8247/10000 (82.4700%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 27, internal_epoch   1,  Average loss: 0.0185, Accuracy: 486/597 (81.4070%), train_poison_data_count: 597
Global model norm: 2.676879301101111.
Norm before scaling: 2.8189373520801047. Distance: 0.31315089626930126
Total norm for 3 adversaries is: 2.8189373520801047. distance: 0.31315089626930126
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 0.8399, Accuracy: 7441/8991 (82.7605%)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 26, internal_epoch   1,  Average loss: 0.0195, Accuracy: 469/573 (81.8499%), train_poison_data_count: 573
Global model norm: 2.676879301101111.
Norm before scaling: 2.814270225368862. Distance: 0.3046389565555926
Total norm for 3 adversaries is: 2.814270225368862. distance: 0.3046389565555926
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 0.8409, Accuracy: 7463/8991 (83.0052%)
___Train Local_Simple,  epoch  65, local model 85, internal_epoch   1,  Average loss: 0.0195, Accuracy: 475/584 (81.3356%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.8849, Accuracy: 8396/10000 (83.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 41, internal_epoch   1,  Average loss: 0.0196, Accuracy: 501/635 (78.8976%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.8771, Accuracy: 8306/10000 (83.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 77, internal_epoch   1,  Average loss: 0.0200, Accuracy: 464/565 (82.1239%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.8924, Accuracy: 8129/10000 (81.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 52, internal_epoch   1,  Average loss: 0.0185, Accuracy: 493/598 (82.4415%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.8927, Accuracy: 8229/10000 (82.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 61, internal_epoch   1,  Average loss: 0.0199, Accuracy: 477/585 (81.5385%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.8847, Accuracy: 8429/10000 (84.2900%), Attack Success Rate:0/10000(0.000)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 3, internal_epoch   1,  Average loss: 0.0199, Accuracy: 454/568 (79.9296%), train_poison_data_count: 568
Global model norm: 2.676879301101111.
Norm before scaling: 2.816126287039856. Distance: 0.318400971205197
Total norm for 3 adversaries is: 2.816126287039856. distance: 0.318400971205197
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 0.8452, Accuracy: 7452/8991 (82.8829%)
___Train Local_Simple,  epoch  65, local model 82, internal_epoch   1,  Average loss: 0.0188, Accuracy: 491/589 (83.3616%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 0.8820, Accuracy: 8339/10000 (83.3900%), Attack Success Rate:0/10000(0.000)
time spent on training: 26.44577193260193
[foolsgold agg] training data poison_ratio: 0.2944265627646959  data num: [609, 597, 573, 584, 635, 565, 598, 585, 568, 589]
[foolsgold agg] considering poison per batch poison_fraction: 0.2944265627646959
[foolsgold agg] wv: [1.         0.69521173 0.69521173 1.         1.         1.
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 65: Average loss: 0.9403, Accuracy: 7950/10000 (79.5000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 65: Average loss: 0.9298, Accuracy: 7218/8991 (80.2803%)
Done in 68.63271260261536 sec.
Server Epoch:66 choose agents : [78, 9, 54, 62, 26, 53, 28, 22, 94, 70].
___Train Local_Simple,  epoch  66, local model 78, internal_epoch   1,  Average loss: 0.0211, Accuracy: 493/617 (79.9028%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.8766, Accuracy: 8337/10000 (83.3700%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 9, internal_epoch   1,  Average loss: 0.0186, Accuracy: 481/587 (81.9421%), train_poison_data_count: 587
Global model norm: 2.704856714765518.
Norm before scaling: 2.84490255956602. Distance: 0.3170169893481997
Total norm for 4 adversaries is: 2.84490255956602. distance: 0.3170169893481997
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 0.8219, Accuracy: 7444/8991 (82.7939%)
___Train Local_Simple,  epoch  66, local model 54, internal_epoch   1,  Average loss: 0.0187, Accuracy: 446/547 (81.5356%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.8811, Accuracy: 8331/10000 (83.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  66, local model 62, internal_epoch   1,  Average loss: 0.0197, Accuracy: 460/582 (79.0378%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.8740, Accuracy: 8324/10000 (83.2400%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 26, internal_epoch   1,  Average loss: 0.0194, Accuracy: 466/573 (81.3264%), train_poison_data_count: 573
Global model norm: 2.704856714765518.
Norm before scaling: 2.84076156371876. Distance: 0.3009682977867274
Total norm for 4 adversaries is: 2.84076156371876. distance: 0.3009682977867274
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 0.8310, Accuracy: 7472/8991 (83.1053%)
___Train Local_Simple,  epoch  66, local model 53, internal_epoch   1,  Average loss: 0.0194, Accuracy: 469/568 (82.5704%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.8725, Accuracy: 8333/10000 (83.3300%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 28, internal_epoch   1,  Average loss: 0.0197, Accuracy: 449/566 (79.3286%), train_poison_data_count: 566
Global model norm: 2.704856714765518.
Norm before scaling: 2.8413817217158583. Distance: 0.33967549993310187
Total norm for 4 adversaries is: 2.8413817217158583. distance: 0.33967549993310187
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 0.8605, Accuracy: 7117/8991 (79.1569%)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 22, internal_epoch   1,  Average loss: 0.0192, Accuracy: 472/581 (81.2392%), train_poison_data_count: 581
Global model norm: 2.704856714765518.
Norm before scaling: 2.8441515628545173. Distance: 0.32200059107169404
Total norm for 4 adversaries is: 2.8441515628545173. distance: 0.32200059107169404
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 0.8261, Accuracy: 7528/8991 (83.7282%)
___Train Local_Simple,  epoch  66, local model 94, internal_epoch   1,  Average loss: 0.0179, Accuracy: 450/541 (83.1793%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.9302, Accuracy: 7898/10000 (78.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  66, local model 70, internal_epoch   1,  Average loss: 0.0205, Accuracy: 495/610 (81.1475%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 0.8749, Accuracy: 8381/10000 (83.8100%), Attack Success Rate:0/10000(0.000)
time spent on training: 26.32136082649231
[foolsgold agg] training data poison_ratio: 0.3996881496881497  data num: [617, 587, 547, 582, 573, 568, 566, 581, 541, 610]
[foolsgold agg] considering poison per batch poison_fraction: 0.3996881496881497
[foolsgold agg] wv: [0.7707817  0.         0.4732532  0.15674536 0.         0.15674536
 0.         0.         1.         0.50745153]
___Test Target_Simple poisoned: False, epoch: 66: Average loss: 0.9349, Accuracy: 7981/10000 (79.8100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 66: Average loss: 0.9285, Accuracy: 7176/8991 (79.8131%)
Done in 68.38078999519348 sec.
Server Epoch:67 choose agents : [68, 69, 90, 8, 66, 70, 0, 14, 40, 45].
___Train Local_Simple,  epoch  67, local model 68, internal_epoch   1,  Average loss: 0.0195, Accuracy: 462/583 (79.2453%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.8704, Accuracy: 8444/10000 (84.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 69, internal_epoch   1,  Average loss: 0.0198, Accuracy: 460/583 (78.9022%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.8706, Accuracy: 8433/10000 (84.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 90, internal_epoch   1,  Average loss: 0.0187, Accuracy: 480/576 (83.3333%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.8708, Accuracy: 8408/10000 (84.0800%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 8, internal_epoch   1,  Average loss: 0.0180, Accuracy: 482/593 (81.2816%), train_poison_data_count: 593
Global model norm: 2.713503543832467.
Norm before scaling: 2.8506290946116413. Distance: 0.3017026239685643
Total norm for 2 adversaries is: 2.8506290946116413. distance: 0.3017026239685643
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 0.8228, Accuracy: 7452/8991 (82.8829%)
___Train Local_Simple,  epoch  67, local model 66, internal_epoch   1,  Average loss: 0.0196, Accuracy: 497/622 (79.9035%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.8633, Accuracy: 8319/10000 (83.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 70, internal_epoch   1,  Average loss: 0.0204, Accuracy: 489/610 (80.1639%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.8703, Accuracy: 8391/10000 (83.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 0, internal_epoch   1,  Average loss: 0.0189, Accuracy: 475/598 (79.4314%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.8753, Accuracy: 8389/10000 (83.8900%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 14, internal_epoch   1,  Average loss: 0.0181, Accuracy: 485/594 (81.6498%), train_poison_data_count: 594
Global model norm: 2.713503543832467.
Norm before scaling: 2.8595060724953347. Distance: 0.3511992273085128
Total norm for 2 adversaries is: 2.8595060724953347. distance: 0.3511992273085128
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 0.8421, Accuracy: 7272/8991 (80.8809%)
___Train Local_Simple,  epoch  67, local model 40, internal_epoch   1,  Average loss: 0.0191, Accuracy: 442/548 (80.6569%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.8842, Accuracy: 8249/10000 (82.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 45, internal_epoch   1,  Average loss: 0.0195, Accuracy: 464/571 (81.2609%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 0.8711, Accuracy: 8424/10000 (84.2400%), Attack Success Rate:0/10000(0.000)
time spent on training: 26.49964690208435
[foolsgold agg] training data poison_ratio: 0.2019394351820347  data num: [583, 583, 576, 593, 622, 610, 598, 594, 548, 571]
[foolsgold agg] considering poison per batch poison_fraction: 0.2019394351820347
[foolsgold agg] wv: [1.         1.         1.         0.43969602 1.         1.
 1.         0.43969602 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 67: Average loss: 0.9207, Accuracy: 8084/10000 (80.8400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 67: Average loss: 0.9200, Accuracy: 7143/8991 (79.4461%)
Done in 68.59862518310547 sec.
Server Epoch:68 choose agents : [23, 19, 72, 15, 37, 80, 27, 95, 1, 46].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 23, internal_epoch   1,  Average loss: 0.0199, Accuracy: 485/602 (80.5648%), train_poison_data_count: 602
Global model norm: 2.739400898669337.
Norm before scaling: 2.8966099820518743. Distance: 0.3768796898659179
Total norm for 5 adversaries is: 2.8966099820518743. distance: 0.3768796898659179
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.8307, Accuracy: 7154/8991 (79.5685%)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 19, internal_epoch   1,  Average loss: 0.0207, Accuracy: 487/601 (81.0316%), train_poison_data_count: 601
Global model norm: 2.739400898669337.
Norm before scaling: 2.892386234983879. Distance: 0.37489408745782693
Total norm for 5 adversaries is: 2.892386234983879. distance: 0.37489408745782693
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.8389, Accuracy: 7193/8991 (80.0022%)
___Train Local_Simple,  epoch  68, local model 72, internal_epoch   1,  Average loss: 0.0207, Accuracy: 481/605 (79.5041%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.8545, Accuracy: 8433/10000 (84.3300%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 15, internal_epoch   1,  Average loss: 0.0196, Accuracy: 456/556 (82.0144%), train_poison_data_count: 556
Global model norm: 2.739400898669337.
Norm before scaling: 2.877299011528973. Distance: 0.3326283751491746
Total norm for 5 adversaries is: 2.877299011528973. distance: 0.3326283751491746
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.8294, Accuracy: 7377/8991 (82.0487%)
___Train Local_Simple,  epoch  68, local model 37, internal_epoch   1,  Average loss: 0.0194, Accuracy: 484/601 (80.5324%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.8579, Accuracy: 8270/10000 (82.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  68, local model 80, internal_epoch   1,  Average loss: 0.0191, Accuracy: 469/594 (78.9562%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.8622, Accuracy: 8310/10000 (83.1000%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 27, internal_epoch   1,  Average loss: 0.0180, Accuracy: 480/597 (80.4020%), train_poison_data_count: 597
Global model norm: 2.739400898669337.
Norm before scaling: 2.874994858446914. Distance: 0.32073711535738736
Total norm for 5 adversaries is: 2.874994858446914. distance: 0.32073711535738736
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.8254, Accuracy: 7418/8991 (82.5047%)
___Train Local_Simple,  epoch  68, local model 95, internal_epoch   1,  Average loss: 0.0172, Accuracy: 455/549 (82.8780%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.9185, Accuracy: 7858/10000 (78.5800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 1, internal_epoch   1,  Average loss: 0.0187, Accuracy: 467/600 (77.8333%), train_poison_data_count: 600
Global model norm: 2.739400898669337.
Norm before scaling: 2.871750529417632. Distance: 0.32411689767078167
Total norm for 5 adversaries is: 2.871750529417632. distance: 0.32411689767078167
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.8205, Accuracy: 7558/8991 (84.0618%)
___Train Local_Simple,  epoch  68, local model 46, internal_epoch   1,  Average loss: 0.0190, Accuracy: 502/609 (82.4302%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.8569, Accuracy: 8217/10000 (82.1700%), Attack Success Rate:0/10000(0.000)
time spent on training: 26.658389568328857
[foolsgold agg] training data poison_ratio: 0.49983090970578287  data num: [602, 601, 605, 556, 601, 594, 597, 549, 600, 609]
[foolsgold agg] considering poison per batch poison_fraction: 0.49983090970578287
[foolsgold agg] wv: [1.         1.         1.         0.         0.95962117 0.89722067
 0.         1.         0.         0.89722067]
___Test Target_Simple poisoned: False, epoch: 68: Average loss: 0.9124, Accuracy: 8065/10000 (80.6500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 68: Average loss: 0.9108, Accuracy: 7154/8991 (79.5685%)
Done in 68.49054312705994 sec.
Server Epoch:69 choose agents : [54, 97, 77, 68, 98, 52, 78, 88, 45, 95].
___Train Local_Simple,  epoch  69, local model 54, internal_epoch   1,  Average loss: 0.0182, Accuracy: 455/547 (83.1810%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.8585, Accuracy: 8388/10000 (83.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 97, internal_epoch   1,  Average loss: 0.0176, Accuracy: 450/539 (83.4879%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.8982, Accuracy: 7949/10000 (79.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 77, internal_epoch   1,  Average loss: 0.0192, Accuracy: 466/565 (82.4779%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.8595, Accuracy: 8209/10000 (82.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 68, internal_epoch   1,  Average loss: 0.0190, Accuracy: 466/583 (79.9314%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.8527, Accuracy: 8454/10000 (84.5400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 98, internal_epoch   1,  Average loss: 0.0157, Accuracy: 422/499 (84.5691%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.9055, Accuracy: 7755/10000 (77.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 52, internal_epoch   1,  Average loss: 0.0176, Accuracy: 492/598 (82.2742%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.8574, Accuracy: 8315/10000 (83.1500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 78, internal_epoch   1,  Average loss: 0.0204, Accuracy: 487/617 (78.9303%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.8566, Accuracy: 8351/10000 (83.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 88, internal_epoch   1,  Average loss: 0.0200, Accuracy: 446/560 (79.6429%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.8543, Accuracy: 8414/10000 (84.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 45, internal_epoch   1,  Average loss: 0.0192, Accuracy: 464/571 (81.2609%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.8532, Accuracy: 8407/10000 (84.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 95, internal_epoch   1,  Average loss: 0.0170, Accuracy: 454/549 (82.6958%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.9115, Accuracy: 7846/10000 (78.4600%), Attack Success Rate:0/10000(0.000)
time spent on training: 26.369637727737427
[foolsgold agg] training data poison_ratio: 0.0  data num: [547, 539, 565, 583, 499, 598, 617, 560, 571, 549]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 0. 1. 1. 1. 1. 1. 1. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 69: Average loss: 0.9005, Accuracy: 8135/10000 (81.3500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 69: Average loss: 0.9070, Accuracy: 7105/8991 (79.0235%)
Done in 68.4831395149231 sec.
Server Epoch:70 choose agents : [42, 38, 63, 31, 47, 12, 77, 37, 23, 83].
___Train Local_Simple,  epoch  70, local model 42, internal_epoch   1,  Average loss: 0.0184, Accuracy: 529/646 (81.8885%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.8361, Accuracy: 8489/10000 (84.8900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 38, internal_epoch   1,  Average loss: 0.0186, Accuracy: 487/584 (83.3904%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.8462, Accuracy: 8384/10000 (83.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 63, internal_epoch   1,  Average loss: 0.0180, Accuracy: 499/594 (84.0067%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.8430, Accuracy: 8354/10000 (83.5400%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 31, internal_epoch   1,  Average loss: 0.0186, Accuracy: 503/617 (81.5235%), train_poison_data_count: 617
Global model norm: 2.781347894553047.
Norm before scaling: 2.9342844793720646. Distance: 0.3595523811108709
Total norm for 3 adversaries is: 2.9342844793720646. distance: 0.3595523811108709
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 0.7955, Accuracy: 7584/8991 (84.3510%)
___Train Local_Simple,  epoch  70, local model 47, internal_epoch   1,  Average loss: 0.0188, Accuracy: 469/574 (81.7073%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.8455, Accuracy: 8489/10000 (84.8900%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 12, internal_epoch   1,  Average loss: 0.0192, Accuracy: 448/555 (80.7207%), train_poison_data_count: 555
Global model norm: 2.781347894553047.
Norm before scaling: 2.9173835055147466. Distance: 0.3397942210970128
Total norm for 3 adversaries is: 2.9173835055147466. distance: 0.3397942210970128
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 0.8148, Accuracy: 7457/8991 (82.9385%)
___Train Local_Simple,  epoch  70, local model 77, internal_epoch   1,  Average loss: 0.0190, Accuracy: 467/565 (82.6549%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.8500, Accuracy: 8226/10000 (82.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 37, internal_epoch   1,  Average loss: 0.0188, Accuracy: 488/601 (81.1980%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.8433, Accuracy: 8300/10000 (83.0000%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 23, internal_epoch   1,  Average loss: 0.0187, Accuracy: 486/602 (80.7309%), train_poison_data_count: 602
Global model norm: 2.781347894553047.
Norm before scaling: 2.933785870352684. Distance: 0.38084896758116005
Total norm for 3 adversaries is: 2.933785870352684. distance: 0.38084896758116005
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 0.8212, Accuracy: 7108/8991 (79.0568%)
___Train Local_Simple,  epoch  70, local model 83, internal_epoch   1,  Average loss: 0.0195, Accuracy: 495/611 (81.0147%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.8422, Accuracy: 8455/10000 (84.5500%), Attack Success Rate:0/10000(0.000)
time spent on training: 27.029021501541138
[foolsgold agg] training data poison_ratio: 0.2982013783829215  data num: [646, 584, 594, 617, 574, 555, 565, 601, 602, 611]
[foolsgold agg] considering poison per batch poison_fraction: 0.2982013783829215
[foolsgold agg] wv: [0.         0.         0.         0.         0.65866174 0.
 0.38536431 1.         0.68219126 0.4172204 ]
___Test Target_Simple poisoned: False, epoch: 70: Average loss: 0.8963, Accuracy: 8135/10000 (81.3500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 70: Average loss: 0.9024, Accuracy: 7108/8991 (79.0568%)
Done in 69.3815803527832 sec.
Server Epoch:71 choose agents : [94, 48, 35, 79, 29, 17, 27, 1, 41, 25].
___Train Local_Simple,  epoch  71, local model 94, internal_epoch   1,  Average loss: 0.0171, Accuracy: 457/541 (84.4732%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 0.8936, Accuracy: 7941/10000 (79.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 48, internal_epoch   1,  Average loss: 0.0194, Accuracy: 455/573 (79.4066%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 0.8414, Accuracy: 8464/10000 (84.6400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 35, internal_epoch   1,  Average loss: 0.0194, Accuracy: 476/577 (82.4957%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 0.8433, Accuracy: 8396/10000 (83.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 79, internal_epoch   1,  Average loss: 0.0197, Accuracy: 450/565 (79.6460%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 0.8423, Accuracy: 8431/10000 (84.3100%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 29, internal_epoch   1,  Average loss: 0.0191, Accuracy: 462/573 (80.6283%), train_poison_data_count: 573
Global model norm: 2.7905184154083984.
Norm before scaling: 2.9240773106907563. Distance: 0.3503797025477243
Total norm for 5 adversaries is: 2.9240773106907563. distance: 0.3503797025477243
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 0.8100, Accuracy: 7427/8991 (82.6048%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 17, internal_epoch   1,  Average loss: 0.0173, Accuracy: 496/579 (85.6649%), train_poison_data_count: 579
Global model norm: 2.7905184154083984.
Norm before scaling: 2.9290111523979525. Distance: 0.312773942085851
Total norm for 5 adversaries is: 2.9290111523979525. distance: 0.312773942085851
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 0.8054, Accuracy: 7425/8991 (82.5826%)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 27, internal_epoch   1,  Average loss: 0.0176, Accuracy: 488/597 (81.7420%), train_poison_data_count: 597
Global model norm: 2.7905184154083984.
Norm before scaling: 2.922667696720601. Distance: 0.3109846807751573
Total norm for 5 adversaries is: 2.922667696720601. distance: 0.3109846807751573
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 0.7993, Accuracy: 7519/8991 (83.6281%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 1, internal_epoch   1,  Average loss: 0.0183, Accuracy: 471/600 (78.5000%), train_poison_data_count: 600
Global model norm: 2.7905184154083984.
Norm before scaling: 2.919876802536742. Distance: 0.3325844139846862
Total norm for 5 adversaries is: 2.919876802536742. distance: 0.3325844139846862
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 0.8081, Accuracy: 7550/8991 (83.9729%)
___Train Local_Simple,  epoch  71, local model 41, internal_epoch   1,  Average loss: 0.0185, Accuracy: 513/635 (80.7874%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 0.8320, Accuracy: 8399/10000 (83.9900%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 25, internal_epoch   1,  Average loss: 0.0181, Accuracy: 472/581 (81.2392%), train_poison_data_count: 581
Global model norm: 2.7905184154083984.
Norm before scaling: 2.9275934899287077. Distance: 0.3350519885104497
Total norm for 5 adversaries is: 2.9275934899287077. distance: 0.3350519885104497
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 0.8115, Accuracy: 7316/8991 (81.3703%)
time spent on training: 26.37931990623474
[foolsgold agg] training data poison_ratio: 0.5033499398728741  data num: [541, 573, 577, 565, 573, 579, 597, 600, 635, 581]
[foolsgold agg] considering poison per batch poison_fraction: 0.5033499398728741
[foolsgold agg] wv: [1.         0.09850784 0.12432081 0.78953503 0.         0.
 0.         0.         0.09850784 0.        ]
___Test Target_Simple poisoned: False, epoch: 71: Average loss: 0.8937, Accuracy: 8142/10000 (81.4200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 71: Average loss: 0.9016, Accuracy: 7091/8991 (78.8678%)
Done in 68.53414058685303 sec.
Server Epoch:72 choose agents : [26, 77, 17, 61, 14, 0, 73, 94, 96, 25].
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 26, internal_epoch   1,  Average loss: 0.0185, Accuracy: 466/573 (81.3264%), train_poison_data_count: 573
Global model norm: 2.796052183027202.
Norm before scaling: 2.9217805082168304. Distance: 0.30843341863341683
Total norm for 4 adversaries is: 2.9217805082168304. distance: 0.30843341863341683
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 0.8003, Accuracy: 7511/8991 (83.5391%)
___Train Local_Simple,  epoch  72, local model 77, internal_epoch   1,  Average loss: 0.0189, Accuracy: 471/565 (83.3628%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 0.8467, Accuracy: 8223/10000 (82.2300%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 17, internal_epoch   1,  Average loss: 0.0173, Accuracy: 483/579 (83.4197%), train_poison_data_count: 579
Global model norm: 2.796052183027202.
Norm before scaling: 2.9350684633344497. Distance: 0.3204402552509101
Total norm for 4 adversaries is: 2.9350684633344497. distance: 0.3204402552509101
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 0.8004, Accuracy: 7408/8991 (82.3935%)
___Train Local_Simple,  epoch  72, local model 61, internal_epoch   1,  Average loss: 0.0187, Accuracy: 484/585 (82.7350%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 0.8380, Accuracy: 8480/10000 (84.8000%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 14, internal_epoch   1,  Average loss: 0.0177, Accuracy: 482/594 (81.1448%), train_poison_data_count: 594
Global model norm: 2.796052183027202.
Norm before scaling: 2.9344365805114863. Distance: 0.3790087217218158
Total norm for 4 adversaries is: 2.9344365805114863. distance: 0.3790087217218158
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 0.8119, Accuracy: 7379/8991 (82.0710%)
___Train Local_Simple,  epoch  72, local model 0, internal_epoch   1,  Average loss: 0.0181, Accuracy: 484/598 (80.9365%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 0.8430, Accuracy: 8388/10000 (83.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 73, internal_epoch   1,  Average loss: 0.0190, Accuracy: 495/615 (80.4878%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 0.8363, Accuracy: 8360/10000 (83.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 94, internal_epoch   1,  Average loss: 0.0170, Accuracy: 457/541 (84.4732%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 0.8918, Accuracy: 7955/10000 (79.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 96, internal_epoch   1,  Average loss: 0.0163, Accuracy: 459/540 (85.0000%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 0.8865, Accuracy: 7860/10000 (78.6000%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 25, internal_epoch   1,  Average loss: 0.0183, Accuracy: 476/581 (81.9277%), train_poison_data_count: 581
Global model norm: 2.796052183027202.
Norm before scaling: 2.9343065800271826. Distance: 0.3493945351395454
Total norm for 4 adversaries is: 2.9343065800271826. distance: 0.3493945351395454
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 0.8148, Accuracy: 7211/8991 (80.2024%)
time spent on training: 26.653055667877197
[foolsgold agg] training data poison_ratio: 0.40322301160977303  data num: [573, 565, 579, 585, 594, 598, 615, 541, 540, 581]
[foolsgold agg] considering poison per batch poison_fraction: 0.40322301160977303
[foolsgold agg] wv: [0.         1.         0.02471422 1.         0.12760528 1.
 1.         0.57499174 0.57499174 0.        ]
___Test Target_Simple poisoned: False, epoch: 72: Average loss: 0.8864, Accuracy: 8173/10000 (81.7300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 72: Average loss: 0.8987, Accuracy: 7056/8991 (78.4785%)
Done in 68.90700483322144 sec.
Server Epoch:73 choose agents : [55, 99, 45, 50, 70, 11, 57, 98, 58, 43].
___Train Local_Simple,  epoch  73, local model 55, internal_epoch   1,  Average loss: 0.0187, Accuracy: 480/595 (80.6723%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.8340, Accuracy: 8411/10000 (84.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 99, internal_epoch   1,  Average loss: 0.0158, Accuracy: 364/408 (89.2157%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.9820, Accuracy: 6909/10000 (69.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 45, internal_epoch   1,  Average loss: 0.0185, Accuracy: 466/571 (81.6112%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.8336, Accuracy: 8471/10000 (84.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 50, internal_epoch   1,  Average loss: 0.0181, Accuracy: 465/567 (82.0106%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.8333, Accuracy: 8339/10000 (83.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 70, internal_epoch   1,  Average loss: 0.0194, Accuracy: 496/610 (81.3115%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.8351, Accuracy: 8422/10000 (84.2200%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 11, internal_epoch   1,  Average loss: 0.0192, Accuracy: 466/577 (80.7626%), train_poison_data_count: 577
Global model norm: 2.8108082239556453.
Norm before scaling: 2.940404713859407. Distance: 0.3293080799735033
Total norm for 1 adversaries is: 2.940404713859407. distance: 0.3293080799735033
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 0.7977, Accuracy: 7519/8991 (83.6281%)
___Train Local_Simple,  epoch  73, local model 57, internal_epoch   1,  Average loss: 0.0189, Accuracy: 504/605 (83.3058%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.8309, Accuracy: 8426/10000 (84.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 98, internal_epoch   1,  Average loss: 0.0153, Accuracy: 427/499 (85.5711%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.8866, Accuracy: 7772/10000 (77.7200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 58, internal_epoch   1,  Average loss: 0.0189, Accuracy: 471/575 (81.9130%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.8310, Accuracy: 8397/10000 (83.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 43, internal_epoch   1,  Average loss: 0.0182, Accuracy: 475/571 (83.1874%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.8281, Accuracy: 8442/10000 (84.4200%), Attack Success Rate:0/10000(0.000)
time spent on training: 26.96092462539673
[foolsgold agg] training data poison_ratio: 0.10344209394048046  data num: [595, 408, 571, 567, 610, 577, 605, 499, 575, 571]
[foolsgold agg] considering poison per batch poison_fraction: 0.10344209394048046
[foolsgold agg] wv: [0.         0.79660313 0.         0.         0.         1.
 0.61751498 0.79660313 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 73: Average loss: 0.8842, Accuracy: 8139/10000 (81.3900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 73: Average loss: 0.8933, Accuracy: 7072/8991 (78.6564%)
Done in 69.0242669582367 sec.
Server Epoch:74 choose agents : [42, 11, 89, 50, 55, 83, 51, 21, 0, 79].
___Train Local_Simple,  epoch  74, local model 42, internal_epoch   1,  Average loss: 0.0180, Accuracy: 530/646 (82.0433%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.8256, Accuracy: 8499/10000 (84.9900%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 11, internal_epoch   1,  Average loss: 0.0189, Accuracy: 468/577 (81.1092%), train_poison_data_count: 577
Global model norm: 2.818571699978108.
Norm before scaling: 2.9427017256851054. Distance: 0.3226065595109239
Total norm for 2 adversaries is: 2.9427017256851054. distance: 0.3226065595109239
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 0.7960, Accuracy: 7552/8991 (83.9951%)
___Train Local_Simple,  epoch  74, local model 89, internal_epoch   1,  Average loss: 0.0178, Accuracy: 494/594 (83.1650%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.8313, Accuracy: 8474/10000 (84.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 50, internal_epoch   1,  Average loss: 0.0180, Accuracy: 456/567 (80.4233%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.8315, Accuracy: 8361/10000 (83.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 55, internal_epoch   1,  Average loss: 0.0185, Accuracy: 478/595 (80.3361%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.8294, Accuracy: 8422/10000 (84.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 83, internal_epoch   1,  Average loss: 0.0196, Accuracy: 496/611 (81.1784%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.8306, Accuracy: 8470/10000 (84.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 51, internal_epoch   1,  Average loss: 0.0190, Accuracy: 501/602 (83.2226%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.8327, Accuracy: 8382/10000 (83.8200%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 21, internal_epoch   1,  Average loss: 0.0179, Accuracy: 480/590 (81.3559%), train_poison_data_count: 590
Global model norm: 2.818571699978108.
Norm before scaling: 2.9422696937266912. Distance: 0.3212552270204285
Total norm for 2 adversaries is: 2.9422696937266912. distance: 0.3212552270204285
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 0.8067, Accuracy: 7452/8991 (82.8829%)
___Train Local_Simple,  epoch  74, local model 0, internal_epoch   1,  Average loss: 0.0180, Accuracy: 486/598 (81.2709%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.8328, Accuracy: 8407/10000 (84.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 79, internal_epoch   1,  Average loss: 0.0194, Accuracy: 455/565 (80.5310%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.8314, Accuracy: 8434/10000 (84.3400%), Attack Success Rate:0/10000(0.000)
time spent on training: 27.538073539733887
[foolsgold agg] training data poison_ratio: 0.19629941126997477  data num: [646, 577, 594, 567, 595, 611, 602, 590, 598, 565]
[foolsgold agg] considering poison per batch poison_fraction: 0.19629941126997477
[foolsgold agg] wv: [0.33625491 0.         0.98020088 1.         0.33625491 1.
 1.         0.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 74: Average loss: 0.8745, Accuracy: 8212/10000 (82.1200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 74: Average loss: 0.8894, Accuracy: 7062/8991 (78.5452%)
Done in 69.7674949169159 sec.
Server Epoch:75 choose agents : [7, 65, 20, 13, 16, 67, 55, 61, 24, 46].
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 7, internal_epoch   1,  Average loss: 0.0188, Accuracy: 462/570 (81.0526%), train_poison_data_count: 570
Global model norm: 2.8370881911921684.
Norm before scaling: 2.9626616035518882. Distance: 0.3258325673583768
Total norm for 5 adversaries is: 2.9626616035518882. distance: 0.3258325673583768
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 0.7982, Accuracy: 7496/8991 (83.3723%)
___Train Local_Simple,  epoch  75, local model 65, internal_epoch   1,  Average loss: 0.0195, Accuracy: 463/569 (81.3708%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 0.8249, Accuracy: 8460/10000 (84.6000%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 20, internal_epoch   1,  Average loss: 0.0181, Accuracy: 469/588 (79.7619%), train_poison_data_count: 588
Global model norm: 2.8370881911921684.
Norm before scaling: 2.9698420072205125. Distance: 0.3622817368962729
Total norm for 5 adversaries is: 2.9698420072205125. distance: 0.3622817368962729
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 0.8071, Accuracy: 7341/8991 (81.6483%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 13, internal_epoch   1,  Average loss: 0.0176, Accuracy: 504/628 (80.2548%), train_poison_data_count: 628
Global model norm: 2.8370881911921684.
Norm before scaling: 2.9845227908943293. Distance: 0.37517452152598146
Total norm for 5 adversaries is: 2.9845227908943293. distance: 0.37517452152598146
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 0.7897, Accuracy: 7275/8991 (80.9142%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 16, internal_epoch   1,  Average loss: 0.0174, Accuracy: 487/596 (81.7114%), train_poison_data_count: 596
Global model norm: 2.8370881911921684.
Norm before scaling: 2.9690631902027604. Distance: 0.347717322653711
Total norm for 5 adversaries is: 2.9690631902027604. distance: 0.347717322653711
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 0.8090, Accuracy: 7280/8991 (80.9699%)
___Train Local_Simple,  epoch  75, local model 67, internal_epoch   1,  Average loss: 0.0193, Accuracy: 462/570 (81.0526%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 0.8344, Accuracy: 8435/10000 (84.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  75, local model 55, internal_epoch   1,  Average loss: 0.0184, Accuracy: 483/595 (81.1765%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 0.8231, Accuracy: 8418/10000 (84.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  75, local model 61, internal_epoch   1,  Average loss: 0.0186, Accuracy: 484/585 (82.7350%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 0.8209, Accuracy: 8439/10000 (84.3900%), Attack Success Rate:0/10000(0.000)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 24, internal_epoch   1,  Average loss: 0.0200, Accuracy: 488/603 (80.9287%), train_poison_data_count: 603
Global model norm: 2.8370881911921684.
Norm before scaling: 2.9840616590966293. Distance: 0.3626198438970167
Total norm for 5 adversaries is: 2.9840616590966293. distance: 0.3626198438970167
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 0.7714, Accuracy: 7589/8991 (84.4066%)
___Train Local_Simple,  epoch  75, local model 46, internal_epoch   1,  Average loss: 0.0184, Accuracy: 509/609 (83.5796%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 0.8223, Accuracy: 8252/10000 (82.5200%), Attack Success Rate:0/10000(0.000)
time spent on training: 26.884321212768555
[foolsgold agg] training data poison_ratio: 0.5048198883815322  data num: [570, 569, 588, 628, 596, 570, 595, 585, 603, 609]
[foolsgold agg] considering poison per batch poison_fraction: 0.5048198883815322
[foolsgold agg] wv: [0.03327905 1.         0.         1.         0.         1.
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 75: Average loss: 0.8670, Accuracy: 8201/10000 (82.0100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 75: Average loss: 0.8789, Accuracy: 7086/8991 (78.8121%)
Done in 69.07013130187988 sec.
Server Epoch:76 choose agents : [85, 65, 12, 51, 68, 15, 75, 90, 26, 71].
___Train Local_Simple,  epoch  76, local model 85, internal_epoch   1,  Average loss: 0.0180, Accuracy: 483/584 (82.7055%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.8178, Accuracy: 8408/10000 (84.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 65, internal_epoch   1,  Average loss: 0.0189, Accuracy: 466/569 (81.8981%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.8170, Accuracy: 8486/10000 (84.8600%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 12, internal_epoch   1,  Average loss: 0.0181, Accuracy: 458/555 (82.5225%), train_poison_data_count: 555
Global model norm: 2.8563860504002077.
Norm before scaling: 2.9832205411875403. Distance: 0.33247738205555294
Total norm for 3 adversaries is: 2.9832205411875403. distance: 0.33247738205555294
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 0.7885, Accuracy: 7519/8991 (83.6281%)
___Train Local_Simple,  epoch  76, local model 51, internal_epoch   1,  Average loss: 0.0180, Accuracy: 498/602 (82.7243%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.8161, Accuracy: 8425/10000 (84.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 68, internal_epoch   1,  Average loss: 0.0180, Accuracy: 471/583 (80.7890%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.8173, Accuracy: 8488/10000 (84.8800%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 15, internal_epoch   1,  Average loss: 0.0190, Accuracy: 454/556 (81.6547%), train_poison_data_count: 556
Global model norm: 2.8563860504002077.
Norm before scaling: 2.9836135611884. Distance: 0.33766895806910213
Total norm for 3 adversaries is: 2.9836135611884. distance: 0.33766895806910213
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 0.8026, Accuracy: 7330/8991 (81.5260%)
___Train Local_Simple,  epoch  76, local model 75, internal_epoch   1,  Average loss: 0.0182, Accuracy: 486/600 (81.0000%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.8164, Accuracy: 8463/10000 (84.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 90, internal_epoch   1,  Average loss: 0.0175, Accuracy: 491/576 (85.2431%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.8161, Accuracy: 8467/10000 (84.6700%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 26, internal_epoch   1,  Average loss: 0.0182, Accuracy: 467/573 (81.5009%), train_poison_data_count: 573
Global model norm: 2.8563860504002077.
Norm before scaling: 2.978933916581217. Distance: 0.30715449822423374
Total norm for 3 adversaries is: 2.978933916581217. distance: 0.30715449822423374
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 0.7848, Accuracy: 7496/8991 (83.3723%)
___Train Local_Simple,  epoch  76, local model 71, internal_epoch   1,  Average loss: 0.0188, Accuracy: 514/637 (80.6907%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.8110, Accuracy: 8448/10000 (84.4800%), Attack Success Rate:0/10000(0.000)
time spent on training: 27.350269317626953
[foolsgold agg] training data poison_ratio: 0.2886032562125107  data num: [584, 569, 555, 602, 583, 556, 600, 576, 573, 637]
[foolsgold agg] considering poison per batch poison_fraction: 0.2886032562125107
[foolsgold agg] wv: [0.33397735 0.         0.         1.         0.         0.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 76: Average loss: 0.8653, Accuracy: 8203/10000 (82.0300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 76: Average loss: 0.8781, Accuracy: 7082/8991 (78.7677%)
Done in 69.47745442390442 sec.
Server Epoch:77 choose agents : [57, 55, 95, 96, 74, 18, 53, 39, 52, 60].
___Train Local_Simple,  epoch  77, local model 57, internal_epoch   1,  Average loss: 0.0181, Accuracy: 508/605 (83.9669%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.8202, Accuracy: 8430/10000 (84.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 55, internal_epoch   1,  Average loss: 0.0182, Accuracy: 479/595 (80.5042%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.8150, Accuracy: 8473/10000 (84.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 95, internal_epoch   1,  Average loss: 0.0161, Accuracy: 464/549 (84.5173%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.8695, Accuracy: 7935/10000 (79.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 96, internal_epoch   1,  Average loss: 0.0157, Accuracy: 459/540 (85.0000%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.8617, Accuracy: 7891/10000 (78.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 74, internal_epoch   1,  Average loss: 0.0177, Accuracy: 480/597 (80.4020%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.8172, Accuracy: 8333/10000 (83.3300%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 18, internal_epoch   1,  Average loss: 0.0179, Accuracy: 465/567 (82.0106%), train_poison_data_count: 567
Global model norm: 2.860075651115288.
Norm before scaling: 2.9882225280178054. Distance: 0.3440777343370834
Total norm for 1 adversaries is: 2.9882225280178054. distance: 0.3440777343370834
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 0.8021, Accuracy: 7326/8991 (81.4815%)
___Train Local_Simple,  epoch  77, local model 53, internal_epoch   1,  Average loss: 0.0182, Accuracy: 475/568 (83.6268%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.8168, Accuracy: 8378/10000 (83.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 39, internal_epoch   1,  Average loss: 0.0185, Accuracy: 456/560 (81.4286%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.8212, Accuracy: 8377/10000 (83.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 52, internal_epoch   1,  Average loss: 0.0167, Accuracy: 496/598 (82.9431%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.8212, Accuracy: 8379/10000 (83.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 60, internal_epoch   1,  Average loss: 0.0174, Accuracy: 506/600 (84.3333%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.8203, Accuracy: 8449/10000 (84.4900%), Attack Success Rate:0/10000(0.000)
time spent on training: 27.520156860351562
[foolsgold agg] training data poison_ratio: 0.09811386052950337  data num: [605, 595, 549, 540, 597, 567, 568, 560, 598, 600]
[foolsgold agg] considering poison per batch poison_fraction: 0.09811386052950337
[foolsgold agg] wv: [0.         0.         0.         0.         0.         1.
 0.         0.27342615 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 77: Average loss: 0.8647, Accuracy: 8185/10000 (81.8500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 77: Average loss: 0.8745, Accuracy: 7098/8991 (78.9456%)
Done in 69.8600902557373 sec.
Server Epoch:78 choose agents : [43, 49, 84, 46, 1, 11, 5, 7, 3, 45].
___Train Local_Simple,  epoch  78, local model 43, internal_epoch   1,  Average loss: 0.0182, Accuracy: 483/571 (84.5884%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 0.8110, Accuracy: 8476/10000 (84.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 49, internal_epoch   1,  Average loss: 0.0190, Accuracy: 511/637 (80.2198%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 0.8121, Accuracy: 8480/10000 (84.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 84, internal_epoch   1,  Average loss: 0.0176, Accuracy: 496/601 (82.5291%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 0.8109, Accuracy: 8450/10000 (84.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 46, internal_epoch   1,  Average loss: 0.0181, Accuracy: 510/609 (83.7438%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 0.8129, Accuracy: 8321/10000 (83.2100%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 1, internal_epoch   1,  Average loss: 0.0177, Accuracy: 480/600 (80.0000%), train_poison_data_count: 600
Global model norm: 2.8632581015115597.
Norm before scaling: 2.988470173766536. Distance: 0.3273918043749013
Total norm for 5 adversaries is: 2.988470173766536. distance: 0.3273918043749013
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 0.7863, Accuracy: 7545/8991 (83.9173%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 11, internal_epoch   1,  Average loss: 0.0187, Accuracy: 458/577 (79.3761%), train_poison_data_count: 577
Global model norm: 2.8632581015115597.
Norm before scaling: 2.982442339893768. Distance: 0.32896824748509185
Total norm for 5 adversaries is: 2.982442339893768. distance: 0.32896824748509185
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 0.7906, Accuracy: 7482/8991 (83.2165%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 5, internal_epoch   1,  Average loss: 0.0178, Accuracy: 471/580 (81.2069%), train_poison_data_count: 580
Global model norm: 2.8632581015115597.
Norm before scaling: 2.9906449686976195. Distance: 0.3433334470990989
Total norm for 5 adversaries is: 2.9906449686976195. distance: 0.3433334470990989
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 0.7928, Accuracy: 7419/8991 (82.5158%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 7, internal_epoch   1,  Average loss: 0.0185, Accuracy: 458/570 (80.3509%), train_poison_data_count: 570
Global model norm: 2.8632581015115597.
Norm before scaling: 2.986532499955595. Distance: 0.3218991941784718
Total norm for 5 adversaries is: 2.986532499955595. distance: 0.3218991941784718
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 0.7982, Accuracy: 7441/8991 (82.7605%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 3, internal_epoch   1,  Average loss: 0.0186, Accuracy: 459/568 (80.8099%), train_poison_data_count: 568
Global model norm: 2.8632581015115597.
Norm before scaling: 2.9879060796456924. Distance: 0.32484614325041317
Total norm for 5 adversaries is: 2.9879060796456924. distance: 0.32484614325041317
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 0.7873, Accuracy: 7485/8991 (83.2499%)
___Train Local_Simple,  epoch  78, local model 45, internal_epoch   1,  Average loss: 0.0180, Accuracy: 471/571 (82.4869%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 0.8167, Accuracy: 8490/10000 (84.9000%), Attack Success Rate:0/10000(0.000)
time spent on training: 27.170227766036987
[foolsgold agg] training data poison_ratio: 0.49201223657375937  data num: [571, 637, 601, 609, 600, 577, 580, 570, 568, 571]
[foolsgold agg] considering poison per batch poison_fraction: 0.49201223657375937
[foolsgold agg] wv: [1.         1.         1.         1.         0.23017624 0.68593611
 0.04310709 0.64695334 0.04310709 1.        ]
___Test Target_Simple poisoned: False, epoch: 78: Average loss: 0.8577, Accuracy: 8192/10000 (81.9200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 78: Average loss: 0.8668, Accuracy: 7118/8991 (79.1681%)
Done in 69.11784958839417 sec.
Server Epoch:79 choose agents : [54, 29, 4, 38, 52, 86, 28, 34, 15, 75].
___Train Local_Simple,  epoch  79, local model 54, internal_epoch   1,  Average loss: 0.0172, Accuracy: 461/547 (84.2779%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.8179, Accuracy: 8424/10000 (84.2400%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 29, internal_epoch   1,  Average loss: 0.0185, Accuracy: 466/573 (81.3264%), train_poison_data_count: 573
Global model norm: 2.8811898976178667.
Norm before scaling: 3.002774862624628. Distance: 0.3250319726512509
Total norm for 4 adversaries is: 3.002774862624628. distance: 0.3250319726512509
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 0.7762, Accuracy: 7523/8991 (83.6726%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 4, internal_epoch   1,  Average loss: 0.0173, Accuracy: 519/621 (83.5749%), train_poison_data_count: 621
Global model norm: 2.8811898976178667.
Norm before scaling: 3.022613334203207. Distance: 0.35448655473421725
Total norm for 4 adversaries is: 3.022613334203207. distance: 0.35448655473421725
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 0.7903, Accuracy: 7288/8991 (81.0588%)
___Train Local_Simple,  epoch  79, local model 38, internal_epoch   1,  Average loss: 0.0177, Accuracy: 487/584 (83.3904%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.8120, Accuracy: 8437/10000 (84.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  79, local model 52, internal_epoch   1,  Average loss: 0.0166, Accuracy: 497/598 (83.1104%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.8166, Accuracy: 8369/10000 (83.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  79, local model 86, internal_epoch   1,  Average loss: 0.0180, Accuracy: 494/609 (81.1166%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.8015, Accuracy: 8485/10000 (84.8500%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 28, internal_epoch   1,  Average loss: 0.0190, Accuracy: 446/566 (78.7986%), train_poison_data_count: 566
Global model norm: 2.8811898976178667.
Norm before scaling: 3.0030409976829566. Distance: 0.3444977560219397
Total norm for 4 adversaries is: 3.0030409976829566. distance: 0.3444977560219397
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 0.8029, Accuracy: 7236/8991 (80.4805%)
___Train Local_Simple,  epoch  79, local model 34, internal_epoch   1,  Average loss: 0.0174, Accuracy: 495/597 (82.9146%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.8149, Accuracy: 8335/10000 (83.3500%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 15, internal_epoch   1,  Average loss: 0.0182, Accuracy: 450/556 (80.9353%), train_poison_data_count: 556
Global model norm: 2.8811898976178667.
Norm before scaling: 3.0056809043325665. Distance: 0.34122379761312904
Total norm for 4 adversaries is: 3.0056809043325665. distance: 0.34122379761312904
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 0.7922, Accuracy: 7398/8991 (82.2823%)
___Train Local_Simple,  epoch  79, local model 75, internal_epoch   1,  Average loss: 0.0180, Accuracy: 490/600 (81.6667%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.8064, Accuracy: 8485/10000 (84.8500%), Attack Success Rate:0/10000(0.000)
time spent on training: 27.228222370147705
[foolsgold agg] training data poison_ratio: 0.39582977268842934  data num: [547, 573, 621, 584, 598, 609, 566, 597, 556, 600]
[foolsgold agg] considering poison per batch poison_fraction: 0.39582977268842934
[foolsgold agg] wv: [1.         0.6046056  0.6046056  1.         1.         1.
 0.99321311 1.         0.92307236 1.        ]
___Test Target_Simple poisoned: False, epoch: 79: Average loss: 0.8501, Accuracy: 8157/10000 (81.5700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 79: Average loss: 0.8539, Accuracy: 7182/8991 (79.8799%)
Done in 69.28640127182007 sec.
Server Epoch:80 choose agents : [66, 24, 28, 36, 54, 92, 27, 46, 29, 52].
___Train Local_Simple,  epoch  80, local model 66, internal_epoch   1,  Average loss: 0.0178, Accuracy: 510/622 (81.9936%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.7954, Accuracy: 8435/10000 (84.3500%), Attack Success Rate:0/10000(0.000)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 24, internal_epoch   1,  Average loss: 0.0180, Accuracy: 490/603 (81.2604%), train_poison_data_count: 603
Global model norm: 2.9050301893966872.
Norm before scaling: 3.045479949058471. Distance: 0.3480764913748801
Total norm for 4 adversaries is: 3.045479949058471. distance: 0.3480764913748801
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 0.7740, Accuracy: 7415/8991 (82.4714%)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 28, internal_epoch   1,  Average loss: 0.0188, Accuracy: 451/566 (79.6820%), train_poison_data_count: 566
Global model norm: 2.9050301893966872.
Norm before scaling: 3.022859108970841. Distance: 0.3154364901066005
Total norm for 4 adversaries is: 3.022859108970841. distance: 0.3154364901066005
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 0.7833, Accuracy: 7397/8991 (82.2712%)
___Train Local_Simple,  epoch  80, local model 36, internal_epoch   1,  Average loss: 0.0193, Accuracy: 489/601 (81.3644%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.8018, Accuracy: 8417/10000 (84.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  80, local model 54, internal_epoch   1,  Average loss: 0.0171, Accuracy: 460/547 (84.0951%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.8099, Accuracy: 8418/10000 (84.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  80, local model 92, internal_epoch   1,  Average loss: 0.0183, Accuracy: 461/565 (81.5929%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.8156, Accuracy: 8231/10000 (82.3100%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 27, internal_epoch   1,  Average loss: 0.0167, Accuracy: 482/597 (80.7370%), train_poison_data_count: 597
Global model norm: 2.9050301893966872.
Norm before scaling: 3.0250135941633465. Distance: 0.3095341128775827
Total norm for 4 adversaries is: 3.0250135941633465. distance: 0.3095341128775827
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 0.7684, Accuracy: 7531/8991 (83.7615%)
___Train Local_Simple,  epoch  80, local model 46, internal_epoch   1,  Average loss: 0.0180, Accuracy: 513/609 (84.2365%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.8012, Accuracy: 8289/10000 (82.8900%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 29, internal_epoch   1,  Average loss: 0.0182, Accuracy: 472/573 (82.3735%), train_poison_data_count: 573
Global model norm: 2.9050301893966872.
Norm before scaling: 3.026431314109646. Distance: 0.32670369449700665
Total norm for 4 adversaries is: 3.026431314109646. distance: 0.32670369449700665
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 0.7732, Accuracy: 7515/8991 (83.5836%)
___Train Local_Simple,  epoch  80, local model 52, internal_epoch   1,  Average loss: 0.0165, Accuracy: 500/598 (83.6120%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.8108, Accuracy: 8338/10000 (83.3800%), Attack Success Rate:0/10000(0.000)
time spent on training: 27.535189628601074
[foolsgold agg] training data poison_ratio: 0.39772147593946605  data num: [622, 603, 566, 601, 547, 565, 597, 609, 573, 598]
[foolsgold agg] considering poison per batch poison_fraction: 0.39772147593946605
[foolsgold agg] wv: [0.0390353  0.         0.         1.         0.         0.23312871
 0.         0.32102305 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 80: Average loss: 0.8481, Accuracy: 8171/10000 (81.7100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 80: Average loss: 0.8526, Accuracy: 7174/8991 (79.7909%)
Done in 69.6261899471283 sec.
Server Epoch:81 choose agents : [18, 22, 59, 69, 37, 56, 36, 68, 39, 46].
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 18, internal_epoch   1,  Average loss: 0.0176, Accuracy: 468/567 (82.5397%), train_poison_data_count: 567
Global model norm: 2.909304418639855.
Norm before scaling: 3.033952275383012. Distance: 0.32582887443229824
Total norm for 2 adversaries is: 3.033952275383012. distance: 0.32582887443229824
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 0.7854, Accuracy: 7374/8991 (82.0153%)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 22, internal_epoch   1,  Average loss: 0.0176, Accuracy: 473/581 (81.4114%), train_poison_data_count: 581
Global model norm: 2.909304418639855.
Norm before scaling: 3.0292831804272176. Distance: 0.316818663180636
Total norm for 2 adversaries is: 3.0292831804272176. distance: 0.316818663180636
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 0.7668, Accuracy: 7561/8991 (84.0952%)
___Train Local_Simple,  epoch  81, local model 59, internal_epoch   1,  Average loss: 0.0192, Accuracy: 484/607 (79.7364%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.7969, Accuracy: 8512/10000 (85.1200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 69, internal_epoch   1,  Average loss: 0.0182, Accuracy: 473/583 (81.1321%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.8014, Accuracy: 8506/10000 (85.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 37, internal_epoch   1,  Average loss: 0.0175, Accuracy: 494/601 (82.1963%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.8019, Accuracy: 8348/10000 (83.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 56, internal_epoch   1,  Average loss: 0.0173, Accuracy: 490/586 (83.6177%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.8028, Accuracy: 8448/10000 (84.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 36, internal_epoch   1,  Average loss: 0.0186, Accuracy: 492/601 (81.8636%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.8057, Accuracy: 8222/10000 (82.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 68, internal_epoch   1,  Average loss: 0.0177, Accuracy: 474/583 (81.3036%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.8029, Accuracy: 8485/10000 (84.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 39, internal_epoch   1,  Average loss: 0.0182, Accuracy: 452/560 (80.7143%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.8035, Accuracy: 8397/10000 (83.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 46, internal_epoch   1,  Average loss: 0.0177, Accuracy: 513/609 (84.2365%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.7966, Accuracy: 8348/10000 (83.4800%), Attack Success Rate:0/10000(0.000)
time spent on training: 28.583293914794922
[foolsgold agg] training data poison_ratio: 0.19530452534875808  data num: [567, 581, 607, 583, 601, 586, 601, 583, 560, 609]
[foolsgold agg] considering poison per batch poison_fraction: 0.19530452534875808
[foolsgold agg] wv: [0.         0.         1.         0.22175048 1.         0.
 1.         0.         0.         0.59241808]
___Test Target_Simple poisoned: False, epoch: 81: Average loss: 0.8433, Accuracy: 8190/10000 (81.9000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 81: Average loss: 0.8512, Accuracy: 7158/8991 (79.6129%)
Done in 70.88340353965759 sec.
Server Epoch:82 choose agents : [72, 95, 79, 51, 47, 29, 10, 16, 84, 27].
___Train Local_Simple,  epoch  82, local model 72, internal_epoch   1,  Average loss: 0.0187, Accuracy: 497/605 (82.1488%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.7935, Accuracy: 8521/10000 (85.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 95, internal_epoch   1,  Average loss: 0.0158, Accuracy: 464/549 (84.5173%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.8497, Accuracy: 7976/10000 (79.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 79, internal_epoch   1,  Average loss: 0.0187, Accuracy: 457/565 (80.8850%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.7977, Accuracy: 8488/10000 (84.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 51, internal_epoch   1,  Average loss: 0.0186, Accuracy: 498/602 (82.7243%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.7958, Accuracy: 8460/10000 (84.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 47, internal_epoch   1,  Average loss: 0.0176, Accuracy: 469/574 (81.7073%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.7997, Accuracy: 8512/10000 (85.1200%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 29, internal_epoch   1,  Average loss: 0.0182, Accuracy: 463/573 (80.8028%), train_poison_data_count: 573
Global model norm: 2.919691606200453.
Norm before scaling: 3.038744598471746. Distance: 0.3255380422493829
Total norm for 4 adversaries is: 3.038744598471746. distance: 0.3255380422493829
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 0.7681, Accuracy: 7532/8991 (83.7727%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 10, internal_epoch   1,  Average loss: 0.0181, Accuracy: 512/635 (80.6299%), train_poison_data_count: 635
Global model norm: 2.919691606200453.
Norm before scaling: 3.050213984502944. Distance: 0.3184386078700147
Total norm for 4 adversaries is: 3.050213984502944. distance: 0.3184386078700147
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 0.7544, Accuracy: 7610/8991 (84.6402%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 16, internal_epoch   1,  Average loss: 0.0167, Accuracy: 491/596 (82.3826%), train_poison_data_count: 596
Global model norm: 2.919691606200453.
Norm before scaling: 3.045124196493521. Distance: 0.32050262019236425
Total norm for 4 adversaries is: 3.045124196493521. distance: 0.32050262019236425
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 0.7785, Accuracy: 7393/8991 (82.2267%)
___Train Local_Simple,  epoch  82, local model 84, internal_epoch   1,  Average loss: 0.0204, Accuracy: 498/601 (82.8619%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.8014, Accuracy: 8439/10000 (84.3900%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 27, internal_epoch   1,  Average loss: 0.0167, Accuracy: 492/597 (82.4121%), train_poison_data_count: 597
Global model norm: 2.919691606200453.
Norm before scaling: 3.039626512924529. Distance: 0.3087646035551568
Total norm for 4 adversaries is: 3.039626512924529. distance: 0.3087646035551568
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 0.7673, Accuracy: 7508/8991 (83.5057%)
time spent on training: 27.733850955963135
[foolsgold agg] training data poison_ratio: 0.4071561811090385  data num: [605, 549, 565, 602, 574, 573, 635, 596, 601, 597]
[foolsgold agg] considering poison per batch poison_fraction: 0.40715618110903845
[foolsgold agg] wv: [0.60710532 1.         0.         1.         0.         0.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 82: Average loss: 0.8387, Accuracy: 8234/10000 (82.3400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 82: Average loss: 0.8511, Accuracy: 7139/8991 (79.4016%)
Done in 69.95050239562988 sec.
Server Epoch:83 choose agents : [47, 97, 40, 98, 33, 92, 96, 76, 73, 72].
___Train Local_Simple,  epoch  83, local model 47, internal_epoch   1,  Average loss: 0.0177, Accuracy: 470/574 (81.8815%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.7940, Accuracy: 8488/10000 (84.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 97, internal_epoch   1,  Average loss: 0.0162, Accuracy: 452/539 (83.8590%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.8348, Accuracy: 8018/10000 (80.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 40, internal_epoch   1,  Average loss: 0.0173, Accuracy: 449/548 (81.9343%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.8049, Accuracy: 8390/10000 (83.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 98, internal_epoch   1,  Average loss: 0.0146, Accuracy: 428/499 (85.7715%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.8469, Accuracy: 7791/10000 (77.9100%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 33, internal_epoch   1,  Average loss: 0.0164, Accuracy: 513/612 (83.8235%), train_poison_data_count: 612
Global model norm: 2.9287955999141797.
Norm before scaling: 3.0680740388891317. Distance: 0.33020289167900363
Total norm for 1 adversaries is: 3.0680740388891317. distance: 0.33020289167900363
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 0.7491, Accuracy: 7491/8991 (83.3166%)
___Train Local_Simple,  epoch  83, local model 92, internal_epoch   1,  Average loss: 0.0179, Accuracy: 463/565 (81.9469%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.8077, Accuracy: 8220/10000 (82.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 96, internal_epoch   1,  Average loss: 0.0152, Accuracy: 456/540 (84.4444%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.8430, Accuracy: 7864/10000 (78.6400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 76, internal_epoch   1,  Average loss: 0.0174, Accuracy: 493/597 (82.5796%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.7944, Accuracy: 8435/10000 (84.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 73, internal_epoch   1,  Average loss: 0.0179, Accuracy: 498/615 (80.9756%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.7903, Accuracy: 8442/10000 (84.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 72, internal_epoch   1,  Average loss: 0.0205, Accuracy: 493/605 (81.4876%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.7984, Accuracy: 8495/10000 (84.9500%), Attack Success Rate:0/10000(0.000)
time spent on training: 28.398462533950806
[foolsgold agg] training data poison_ratio: 0.10748155953635406  data num: [574, 539, 548, 499, 612, 565, 540, 597, 615, 605]
[foolsgold agg] considering poison per batch poison_fraction: 0.10748155953635406
[foolsgold agg] wv: [0.         0.         0.22773563 0.         1.         0.
 0.         0.         0.00543704 0.71983758]
___Test Target_Simple poisoned: False, epoch: 83: Average loss: 0.8372, Accuracy: 8228/10000 (82.2800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 83: Average loss: 0.8479, Accuracy: 7151/8991 (79.5351%)
Done in 70.4805850982666 sec.
Server Epoch:84 choose agents : [68, 38, 40, 13, 30, 2, 83, 51, 27, 88].
___Train Local_Simple,  epoch  84, local model 68, internal_epoch   1,  Average loss: 0.0175, Accuracy: 477/583 (81.8182%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.7952, Accuracy: 8489/10000 (84.8900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 38, internal_epoch   1,  Average loss: 0.0172, Accuracy: 499/584 (85.4452%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.7932, Accuracy: 8476/10000 (84.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 40, internal_epoch   1,  Average loss: 0.0172, Accuracy: 452/548 (82.4818%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.8028, Accuracy: 8405/10000 (84.0500%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 13, internal_epoch   1,  Average loss: 0.0168, Accuracy: 507/628 (80.7325%), train_poison_data_count: 628
Global model norm: 2.933815288686785.
Norm before scaling: 3.0689226649668715. Distance: 0.3493910166186046
Total norm for 4 adversaries is: 3.0689226649668715. distance: 0.3493910166186046
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 0.7577, Accuracy: 7388/8991 (82.1711%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 30, internal_epoch   1,  Average loss: 0.0165, Accuracy: 476/584 (81.5068%), train_poison_data_count: 584
Global model norm: 2.933815288686785.
Norm before scaling: 3.057943574633065. Distance: 0.3338497292000045
Total norm for 4 adversaries is: 3.057943574633065. distance: 0.3338497292000045
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 0.7604, Accuracy: 7523/8991 (83.6726%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 2, internal_epoch   1,  Average loss: 0.0172, Accuracy: 478/585 (81.7094%), train_poison_data_count: 585
Global model norm: 2.933815288686785.
Norm before scaling: 3.0533135097254385. Distance: 0.3379099404872494
Total norm for 4 adversaries is: 3.0533135097254385. distance: 0.3379099404872494
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 0.7771, Accuracy: 7462/8991 (82.9941%)
___Train Local_Simple,  epoch  84, local model 83, internal_epoch   1,  Average loss: 0.0181, Accuracy: 496/611 (81.1784%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.7891, Accuracy: 8496/10000 (84.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 51, internal_epoch   1,  Average loss: 0.0172, Accuracy: 499/602 (82.8904%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.7896, Accuracy: 8453/10000 (84.5300%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 27, internal_epoch   1,  Average loss: 0.0166, Accuracy: 485/597 (81.2395%), train_poison_data_count: 597
Global model norm: 2.933815288686785.
Norm before scaling: 3.0511647861307036. Distance: 0.29974406868997566
Total norm for 4 adversaries is: 3.0511647861307036. distance: 0.29974406868997566
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 0.7627, Accuracy: 7509/8991 (83.5169%)
___Train Local_Simple,  epoch  84, local model 88, internal_epoch   1,  Average loss: 0.0187, Accuracy: 457/560 (81.6071%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.7933, Accuracy: 8488/10000 (84.8800%), Attack Success Rate:0/10000(0.000)
time spent on training: 27.782538890838623
[foolsgold agg] training data poison_ratio: 0.40700442026521594  data num: [583, 584, 548, 628, 584, 585, 611, 602, 597, 560]
[foolsgold agg] considering poison per batch poison_fraction: 0.40700442026521594
[foolsgold agg] wv: [0.77953252 1.         1.         0.         0.         0.
 0.77953252 1.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 84: Average loss: 0.8304, Accuracy: 8278/10000 (82.7800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 84: Average loss: 0.8471, Accuracy: 7124/8991 (79.2348%)
Done in 69.72640919685364 sec.
Server Epoch:85 choose agents : [6, 49, 50, 32, 22, 78, 64, 66, 82, 47].
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 6, internal_epoch   1,  Average loss: 0.0177, Accuracy: 499/609 (81.9376%), train_poison_data_count: 609
Global model norm: 2.9479712671046854.
Norm before scaling: 3.0803792222141944. Distance: 0.35019554780695805
Total norm for 3 adversaries is: 3.0803792222141944. distance: 0.35019554780695805
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 0.7533, Accuracy: 7558/8991 (84.0618%)
___Train Local_Simple,  epoch  85, local model 49, internal_epoch   1,  Average loss: 0.0183, Accuracy: 518/637 (81.3187%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.7845, Accuracy: 8487/10000 (84.8700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 50, internal_epoch   1,  Average loss: 0.0174, Accuracy: 467/567 (82.3633%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.7883, Accuracy: 8397/10000 (83.9700%), Attack Success Rate:0/10000(0.000)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 32, internal_epoch   1,  Average loss: 0.0170, Accuracy: 515/620 (83.0645%), train_poison_data_count: 620
Global model norm: 2.9479712671046854.
Norm before scaling: 3.0851944813565595. Distance: 0.35624848248342583
Total norm for 3 adversaries is: 3.0851944813565595. distance: 0.35624848248342583
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 0.7579, Accuracy: 7456/8991 (82.9274%)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 22, internal_epoch   1,  Average loss: 0.0172, Accuracy: 473/581 (81.4114%), train_poison_data_count: 581
Global model norm: 2.9479712671046854.
Norm before scaling: 3.0640827682112666. Distance: 0.30766058721628536
Total norm for 3 adversaries is: 3.0640827682112666. distance: 0.30766058721628536
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 0.7515, Accuracy: 7622/8991 (84.7737%)
___Train Local_Simple,  epoch  85, local model 78, internal_epoch   1,  Average loss: 0.0191, Accuracy: 493/617 (79.9028%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.7926, Accuracy: 8419/10000 (84.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 64, internal_epoch   1,  Average loss: 0.0184, Accuracy: 504/610 (82.6230%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.7814, Accuracy: 8440/10000 (84.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 66, internal_epoch   1,  Average loss: 0.0176, Accuracy: 513/622 (82.4759%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.7812, Accuracy: 8455/10000 (84.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 82, internal_epoch   1,  Average loss: 0.0165, Accuracy: 503/589 (85.3990%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.7884, Accuracy: 8481/10000 (84.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 47, internal_epoch   1,  Average loss: 0.0173, Accuracy: 470/574 (81.8815%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.7889, Accuracy: 8531/10000 (85.3100%), Attack Success Rate:0/10000(0.000)
time spent on training: 28.382972717285156
[foolsgold agg] training data poison_ratio: 0.3003650846332559  data num: [609, 637, 567, 620, 581, 617, 610, 622, 589, 574]
[foolsgold agg] considering poison per batch poison_fraction: 0.3003650846332559
[foolsgold agg] wv: [0.10803698 1.         1.         0.99379789 0.10803698 1.
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 85: Average loss: 0.8223, Accuracy: 8278/10000 (82.7800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 85: Average loss: 0.8397, Accuracy: 7123/8991 (79.2237%)
Done in 70.49806952476501 sec.
Server Epoch:86 choose agents : [1, 14, 49, 15, 89, 79, 44, 9, 13, 68].
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 1, internal_epoch   1,  Average loss: 0.0171, Accuracy: 471/600 (78.5000%), train_poison_data_count: 600
Global model norm: 2.969597304045341.
Norm before scaling: 3.0840607549716728. Distance: 0.3227082420744663
Total norm for 5 adversaries is: 3.0840607549716728. distance: 0.3227082420744663
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.7514, Accuracy: 7596/8991 (84.4845%)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 14, internal_epoch   1,  Average loss: 0.0164, Accuracy: 494/594 (83.1650%), train_poison_data_count: 594
Global model norm: 2.969597304045341.
Norm before scaling: 3.0922468753181787. Distance: 0.349145528298392
Total norm for 5 adversaries is: 3.0922468753181787. distance: 0.349145528298392
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.7598, Accuracy: 7487/8991 (83.2722%)
___Train Local_Simple,  epoch  86, local model 49, internal_epoch   1,  Average loss: 0.0182, Accuracy: 512/637 (80.3768%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 0.7779, Accuracy: 8499/10000 (84.9900%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 15, internal_epoch   1,  Average loss: 0.0181, Accuracy: 459/556 (82.5540%), train_poison_data_count: 556
Global model norm: 2.969597304045341.
Norm before scaling: 3.0881262634435345. Distance: 0.3314678123808272
Total norm for 5 adversaries is: 3.0881262634435345. distance: 0.3314678123808272
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.7658, Accuracy: 7434/8991 (82.6827%)
___Train Local_Simple,  epoch  86, local model 89, internal_epoch   1,  Average loss: 0.0166, Accuracy: 500/594 (84.1751%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 0.7816, Accuracy: 8533/10000 (85.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  86, local model 79, internal_epoch   1,  Average loss: 0.0184, Accuracy: 455/565 (80.5310%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 0.7820, Accuracy: 8498/10000 (84.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  86, local model 44, internal_epoch   1,  Average loss: 0.0184, Accuracy: 487/608 (80.0987%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 0.7821, Accuracy: 8399/10000 (83.9900%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 9, internal_epoch   1,  Average loss: 0.0169, Accuracy: 477/587 (81.2606%), train_poison_data_count: 587
Global model norm: 2.969597304045341.
Norm before scaling: 3.085627982153793. Distance: 0.31385669655112053
Total norm for 5 adversaries is: 3.085627982153793. distance: 0.31385669655112053
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.7497, Accuracy: 7519/8991 (83.6281%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 13, internal_epoch   1,  Average loss: 0.0168, Accuracy: 512/628 (81.5287%), train_poison_data_count: 628
Global model norm: 2.969597304045341.
Norm before scaling: 3.0999716419030396. Distance: 0.35084018679438916
Total norm for 5 adversaries is: 3.0999716419030396. distance: 0.35084018679438916
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.7532, Accuracy: 7355/8991 (81.8040%)
___Train Local_Simple,  epoch  86, local model 68, internal_epoch   1,  Average loss: 0.0172, Accuracy: 477/583 (81.8182%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 0.7799, Accuracy: 8507/10000 (85.0700%), Attack Success Rate:0/10000(0.000)
time spent on training: 27.780576467514038
[foolsgold agg] training data poison_ratio: 0.4981518817204301  data num: [600, 594, 637, 556, 594, 565, 608, 587, 628, 583]
[foolsgold agg] considering poison per batch poison_fraction: 0.4981518817204302
[foolsgold agg] wv: [0.21168503 0.25376529 1.         0.66257351 1.         1.
 1.         0.2485984  0.21168503 1.        ]
___Test Target_Simple poisoned: False, epoch: 86: Average loss: 0.8171, Accuracy: 8268/10000 (82.6800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 86: Average loss: 0.8325, Accuracy: 7142/8991 (79.4350%)
Done in 70.27001786231995 sec.
Server Epoch:87 choose agents : [90, 51, 82, 94, 53, 48, 52, 72, 54, 36].
___Train Local_Simple,  epoch  87, local model 90, internal_epoch   1,  Average loss: 0.0164, Accuracy: 493/576 (85.5903%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.7736, Accuracy: 8498/10000 (84.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 51, internal_epoch   1,  Average loss: 0.0175, Accuracy: 511/602 (84.8837%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.7755, Accuracy: 8461/10000 (84.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 82, internal_epoch   1,  Average loss: 0.0161, Accuracy: 501/589 (85.0594%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.7747, Accuracy: 8484/10000 (84.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 94, internal_epoch   1,  Average loss: 0.0157, Accuracy: 456/541 (84.2884%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.8228, Accuracy: 8061/10000 (80.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 53, internal_epoch   1,  Average loss: 0.0173, Accuracy: 481/568 (84.6831%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.7748, Accuracy: 8478/10000 (84.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 48, internal_epoch   1,  Average loss: 0.0178, Accuracy: 463/573 (80.8028%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.7757, Accuracy: 8496/10000 (84.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 52, internal_epoch   1,  Average loss: 0.0158, Accuracy: 501/598 (83.7793%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.7828, Accuracy: 8437/10000 (84.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 72, internal_epoch   1,  Average loss: 0.0194, Accuracy: 493/605 (81.4876%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.7744, Accuracy: 8534/10000 (85.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 54, internal_epoch   1,  Average loss: 0.0163, Accuracy: 458/547 (83.7294%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.7800, Accuracy: 8478/10000 (84.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 36, internal_epoch   1,  Average loss: 0.0178, Accuracy: 489/601 (81.3644%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.7724, Accuracy: 8426/10000 (84.2600%), Attack Success Rate:0/10000(0.000)
time spent on training: 29.53936004638672
[foolsgold agg] training data poison_ratio: 0.0  data num: [576, 602, 589, 541, 568, 573, 598, 605, 547, 601]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.34960425 1.         0.24989303 1.         0.4234312  0.24989303
 0.35062813 1.         0.36356463 1.        ]
___Test Target_Simple poisoned: False, epoch: 87: Average loss: 0.8108, Accuracy: 8288/10000 (82.8800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 87: Average loss: 0.8312, Accuracy: 7119/8991 (79.1792%)
Done in 71.54942607879639 sec.
Server Epoch:88 choose agents : [94, 90, 75, 70, 69, 80, 96, 82, 37, 1].
___Train Local_Simple,  epoch  88, local model 94, internal_epoch   1,  Average loss: 0.0155, Accuracy: 462/541 (85.3974%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.8158, Accuracy: 8092/10000 (80.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 90, internal_epoch   1,  Average loss: 0.0165, Accuracy: 490/576 (85.0694%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.7708, Accuracy: 8526/10000 (85.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 75, internal_epoch   1,  Average loss: 0.0171, Accuracy: 487/600 (81.1667%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.7686, Accuracy: 8497/10000 (84.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 70, internal_epoch   1,  Average loss: 0.0176, Accuracy: 504/610 (82.6230%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.7731, Accuracy: 8501/10000 (85.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 69, internal_epoch   1,  Average loss: 0.0174, Accuracy: 476/583 (81.6467%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.7725, Accuracy: 8542/10000 (85.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 80, internal_epoch   1,  Average loss: 0.0169, Accuracy: 486/594 (81.8182%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.7708, Accuracy: 8473/10000 (84.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 96, internal_epoch   1,  Average loss: 0.0148, Accuracy: 459/540 (85.0000%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.8121, Accuracy: 7980/10000 (79.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 82, internal_epoch   1,  Average loss: 0.0160, Accuracy: 506/589 (85.9083%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.7717, Accuracy: 8475/10000 (84.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 37, internal_epoch   1,  Average loss: 0.0165, Accuracy: 498/601 (82.8619%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.7685, Accuracy: 8413/10000 (84.1300%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 1, internal_epoch   1,  Average loss: 0.0169, Accuracy: 474/600 (79.0000%), train_poison_data_count: 600
Global model norm: 3.0011948749098347.
Norm before scaling: 3.110143518601485. Distance: 0.3242906008237298
Total norm for 1 adversaries is: 3.110143518601485. distance: 0.3242906008237298
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 0.7488, Accuracy: 7566/8991 (84.1508%)
time spent on training: 28.95930027961731
[foolsgold agg] training data poison_ratio: 0.10284538909838875  data num: [541, 576, 600, 610, 583, 594, 540, 589, 601, 600]
[foolsgold agg] considering poison per batch poison_fraction: 0.10284538909838875
[foolsgold agg] wv: [0. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
___Test Target_Simple poisoned: False, epoch: 88: Average loss: 0.8109, Accuracy: 8272/10000 (82.7200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 88: Average loss: 0.8278, Accuracy: 7137/8991 (79.3794%)
Done in 70.91214084625244 sec.
Server Epoch:89 choose agents : [82, 36, 17, 29, 79, 33, 64, 19, 15, 66].
___Train Local_Simple,  epoch  89, local model 82, internal_epoch   1,  Average loss: 0.0160, Accuracy: 503/589 (85.3990%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 0.7712, Accuracy: 8481/10000 (84.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  89, local model 36, internal_epoch   1,  Average loss: 0.0171, Accuracy: 493/601 (82.0300%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 0.7661, Accuracy: 8442/10000 (84.4200%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 17, internal_epoch   1,  Average loss: 0.0161, Accuracy: 480/579 (82.9016%), train_poison_data_count: 579
Global model norm: 3.003280435562718.
Norm before scaling: 3.123337417838711. Distance: 0.3055208498337736
Total norm for 5 adversaries is: 3.123337417838711. distance: 0.3055208498337736
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 0.7459, Accuracy: 7448/8991 (82.8384%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 29, internal_epoch   1,  Average loss: 0.0178, Accuracy: 461/573 (80.4538%), train_poison_data_count: 573
Global model norm: 3.003280435562718.
Norm before scaling: 3.1158675456168887. Distance: 0.32553577643110565
Total norm for 5 adversaries is: 3.1158675456168887. distance: 0.32553577643110565
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 0.7410, Accuracy: 7572/8991 (84.2176%)
___Train Local_Simple,  epoch  89, local model 79, internal_epoch   1,  Average loss: 0.0181, Accuracy: 461/565 (81.5929%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 0.7719, Accuracy: 8521/10000 (85.2100%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 33, internal_epoch   1,  Average loss: 0.0166, Accuracy: 510/612 (83.3333%), train_poison_data_count: 612
Global model norm: 3.003280435562718.
Norm before scaling: 3.136069262615524. Distance: 0.3363830583571799
Total norm for 5 adversaries is: 3.136069262615524. distance: 0.3363830583571799
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 0.7372, Accuracy: 7469/8991 (83.0720%)
___Train Local_Simple,  epoch  89, local model 64, internal_epoch   1,  Average loss: 0.0177, Accuracy: 504/610 (82.6230%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 0.7666, Accuracy: 8434/10000 (84.3400%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 19, internal_epoch   1,  Average loss: 0.0176, Accuracy: 485/601 (80.6988%), train_poison_data_count: 601
Global model norm: 3.003280435562718.
Norm before scaling: 3.129940704905309. Distance: 0.33724959983335356
Total norm for 5 adversaries is: 3.129940704905309. distance: 0.33724959983335356
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 0.7435, Accuracy: 7524/8991 (83.6837%)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 15, internal_epoch   1,  Average loss: 0.0181, Accuracy: 462/556 (83.0935%), train_poison_data_count: 556
Global model norm: 3.003280435562718.
Norm before scaling: 3.116215834080296. Distance: 0.3220624109597863
Total norm for 5 adversaries is: 3.116215834080296. distance: 0.3220624109597863
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 0.7512, Accuracy: 7518/8991 (83.6170%)
___Train Local_Simple,  epoch  89, local model 66, internal_epoch   1,  Average loss: 0.0170, Accuracy: 511/622 (82.1543%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 0.7645, Accuracy: 8491/10000 (84.9100%), Attack Success Rate:0/10000(0.000)
time spent on training: 28.160699367523193
[foolsgold agg] training data poison_ratio: 0.49441435341909273  data num: [589, 601, 579, 573, 565, 612, 610, 601, 556, 622]
[foolsgold agg] considering poison per batch poison_fraction: 0.4944143534190928
[foolsgold agg] wv: [1.         1.         0.2738943  0.56956579 1.         0.2738943
 1.         0.855003   0.855003   1.        ]
___Test Target_Simple poisoned: False, epoch: 89: Average loss: 0.8055, Accuracy: 8245/10000 (82.4500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 89: Average loss: 0.8168, Accuracy: 7203/8991 (80.1134%)
Done in 70.22014307975769 sec.
Server Epoch:90 choose agents : [76, 67, 89, 86, 25, 4, 77, 85, 94, 91].
___Train Local_Simple,  epoch  90, local model 76, internal_epoch   1,  Average loss: 0.0169, Accuracy: 489/597 (81.9095%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.7683, Accuracy: 8447/10000 (84.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 67, internal_epoch   1,  Average loss: 0.0178, Accuracy: 462/570 (81.0526%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.7772, Accuracy: 8487/10000 (84.8700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 89, internal_epoch   1,  Average loss: 0.0162, Accuracy: 497/594 (83.6700%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.7668, Accuracy: 8519/10000 (85.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 86, internal_epoch   1,  Average loss: 0.0171, Accuracy: 499/609 (81.9376%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.7602, Accuracy: 8540/10000 (85.4000%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 25, internal_epoch   1,  Average loss: 0.0166, Accuracy: 478/581 (82.2719%), train_poison_data_count: 581
Global model norm: 3.0228493288419735.
Norm before scaling: 3.1350391114151255. Distance: 0.31155749287307544
Total norm for 2 adversaries is: 3.1350391114151255. distance: 0.31155749287307544
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 0.7443, Accuracy: 7441/8991 (82.7605%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 4, internal_epoch   1,  Average loss: 0.0166, Accuracy: 514/621 (82.7697%), train_poison_data_count: 621
Global model norm: 3.0228493288419735.
Norm before scaling: 3.1505842060701337. Distance: 0.35198395156919554
Total norm for 2 adversaries is: 3.1505842060701337. distance: 0.35198395156919554
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 0.7483, Accuracy: 7379/8991 (82.0710%)
___Train Local_Simple,  epoch  90, local model 77, internal_epoch   1,  Average loss: 0.0169, Accuracy: 469/565 (83.0088%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.7723, Accuracy: 8329/10000 (83.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 85, internal_epoch   1,  Average loss: 0.0167, Accuracy: 480/584 (82.1918%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.7673, Accuracy: 8470/10000 (84.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 94, internal_epoch   1,  Average loss: 0.0156, Accuracy: 459/541 (84.8429%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.8100, Accuracy: 8067/10000 (80.6700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 91, internal_epoch   1,  Average loss: 0.0164, Accuracy: 492/597 (82.4121%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.7640, Accuracy: 8470/10000 (84.7000%), Attack Success Rate:0/10000(0.000)
time spent on training: 29.010443449020386
[foolsgold agg] training data poison_ratio: 0.20515446321897934  data num: [597, 570, 594, 609, 581, 621, 565, 584, 541, 597]
[foolsgold agg] considering poison per batch poison_fraction: 0.20515446321897934
[foolsgold agg] wv: [0.         0.         0.         0.53450132 0.         0.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 90: Average loss: 0.8039, Accuracy: 8254/10000 (82.5400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 90: Average loss: 0.8169, Accuracy: 7177/8991 (79.8243%)
Done in 71.239825963974 sec.
Server Epoch:91 choose agents : [20, 58, 95, 86, 54, 98, 80, 19, 94, 33].
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 20, internal_epoch   1,  Average loss: 0.0170, Accuracy: 477/588 (81.1224%), train_poison_data_count: 588
Global model norm: 3.026281945848979.
Norm before scaling: 3.14448166328333. Distance: 0.34684016851866295
Total norm for 3 adversaries is: 3.14448166328333. distance: 0.34684016851866295
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 0.7507, Accuracy: 7451/8991 (82.8718%)
___Train Local_Simple,  epoch  91, local model 58, internal_epoch   1,  Average loss: 0.0173, Accuracy: 478/575 (83.1304%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.7603, Accuracy: 8496/10000 (84.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 95, internal_epoch   1,  Average loss: 0.0150, Accuracy: 457/549 (83.2423%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.8125, Accuracy: 8015/10000 (80.1500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 86, internal_epoch   1,  Average loss: 0.0163, Accuracy: 502/609 (82.4302%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.7594, Accuracy: 8539/10000 (85.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 54, internal_epoch   1,  Average loss: 0.0162, Accuracy: 451/547 (82.4497%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.7712, Accuracy: 8458/10000 (84.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 98, internal_epoch   1,  Average loss: 0.0139, Accuracy: 429/499 (85.9719%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.8054, Accuracy: 7977/10000 (79.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 80, internal_epoch   1,  Average loss: 0.0168, Accuracy: 486/594 (81.8182%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.7658, Accuracy: 8483/10000 (84.8300%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 19, internal_epoch   1,  Average loss: 0.0174, Accuracy: 492/601 (81.8636%), train_poison_data_count: 601
Global model norm: 3.026281945848979.
Norm before scaling: 3.152491380526975. Distance: 0.3149177364947124
Total norm for 3 adversaries is: 3.152491380526975. distance: 0.3149177364947124
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 0.7308, Accuracy: 7583/8991 (84.3399%)
___Train Local_Simple,  epoch  91, local model 94, internal_epoch   1,  Average loss: 0.0155, Accuracy: 463/541 (85.5823%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.8102, Accuracy: 8074/10000 (80.7400%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 33, internal_epoch   1,  Average loss: 0.0159, Accuracy: 507/612 (82.8431%), train_poison_data_count: 612
Global model norm: 3.026281945848979.
Norm before scaling: 3.1592802099540527. Distance: 0.32936152709318633
Total norm for 3 adversaries is: 3.1592802099540527. distance: 0.32936152709318633
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 0.7261, Accuracy: 7472/8991 (83.1053%)
time spent on training: 28.245819091796875
[foolsgold agg] training data poison_ratio: 0.3151356080489939  data num: [588, 575, 549, 609, 547, 499, 594, 601, 541, 612]
[foolsgold agg] considering poison per batch poison_fraction: 0.3151356080489939
[foolsgold agg] wv: [0.         1.         0.41662327 0.82872169 1.         1.
 0.82872169 1.         0.41662327 0.        ]
___Test Target_Simple poisoned: False, epoch: 91: Average loss: 0.7985, Accuracy: 8261/10000 (82.6100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 91: Average loss: 0.8136, Accuracy: 7156/8991 (79.5907%)
Done in 70.26783967018127 sec.
Server Epoch:92 choose agents : [47, 89, 52, 39, 94, 10, 36, 79, 53, 74].
___Train Local_Simple,  epoch  92, local model 47, internal_epoch   1,  Average loss: 0.0166, Accuracy: 468/574 (81.5331%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.7618, Accuracy: 8548/10000 (85.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 89, internal_epoch   1,  Average loss: 0.0161, Accuracy: 500/594 (84.1751%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.7603, Accuracy: 8534/10000 (85.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 52, internal_epoch   1,  Average loss: 0.0154, Accuracy: 501/598 (83.7793%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.7688, Accuracy: 8422/10000 (84.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 39, internal_epoch   1,  Average loss: 0.0172, Accuracy: 458/560 (81.7857%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.7640, Accuracy: 8441/10000 (84.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 94, internal_epoch   1,  Average loss: 0.0154, Accuracy: 463/541 (85.5823%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.8052, Accuracy: 8101/10000 (81.0100%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 10, internal_epoch   1,  Average loss: 0.0173, Accuracy: 520/635 (81.8898%), train_poison_data_count: 635
Global model norm: 3.0416531148808947.
Norm before scaling: 3.163101314025608. Distance: 0.3187970972795632
Total norm for 1 adversaries is: 3.163101314025608. distance: 0.3187970972795632
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 0.7288, Accuracy: 7595/8991 (84.4734%)
___Train Local_Simple,  epoch  92, local model 36, internal_epoch   1,  Average loss: 0.0197, Accuracy: 496/601 (82.5291%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.7590, Accuracy: 8463/10000 (84.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 79, internal_epoch   1,  Average loss: 0.0174, Accuracy: 459/565 (81.2389%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.7614, Accuracy: 8531/10000 (85.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 53, internal_epoch   1,  Average loss: 0.0166, Accuracy: 484/568 (85.2113%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.7614, Accuracy: 8457/10000 (84.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 74, internal_epoch   1,  Average loss: 0.0164, Accuracy: 487/597 (81.5745%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.7613, Accuracy: 8454/10000 (84.5400%), Attack Success Rate:0/10000(0.000)
time spent on training: 29.326071977615356
[foolsgold agg] training data poison_ratio: 0.10886336362077834  data num: [574, 594, 598, 560, 541, 635, 601, 565, 568, 597]
[foolsgold agg] considering poison per batch poison_fraction: 0.10886336362077835
[foolsgold agg] wv: [0.         0.         0.         0.13621063 0.87062265 1.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 92: Average loss: 0.7965, Accuracy: 8268/10000 (82.6800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 92: Average loss: 0.8107, Accuracy: 7170/8991 (79.7464%)
Done in 71.2943184375763 sec.
Server Epoch:93 choose agents : [6, 10, 27, 69, 28, 15, 13, 81, 44, 66].
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 6, internal_epoch   1,  Average loss: 0.0173, Accuracy: 492/609 (80.7882%), train_poison_data_count: 609
Global model norm: 3.048432563374959.
Norm before scaling: 3.1695948330409123. Distance: 0.33836314066920986
Total norm for 6 adversaries is: 3.1695948330409123. distance: 0.33836314066920986
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.7230, Accuracy: 7604/8991 (84.5735%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 10, internal_epoch   1,  Average loss: 0.0172, Accuracy: 526/635 (82.8346%), train_poison_data_count: 635
Global model norm: 3.048432563374959.
Norm before scaling: 3.168008185539845. Distance: 0.31938390342410566
Total norm for 6 adversaries is: 3.168008185539845. distance: 0.31938390342410566
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.7206, Accuracy: 7642/8991 (84.9961%)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 27, internal_epoch   1,  Average loss: 0.0159, Accuracy: 482/597 (80.7370%), train_poison_data_count: 597
Global model norm: 3.048432563374959.
Norm before scaling: 3.1572265625. Distance: 0.29500260416594826
Total norm for 6 adversaries is: 3.1572265625. distance: 0.29500260416594826
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.7339, Accuracy: 7566/8991 (84.1508%)
___Train Local_Simple,  epoch  93, local model 69, internal_epoch   1,  Average loss: 0.0173, Accuracy: 477/583 (81.8182%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 0.7576, Accuracy: 8550/10000 (85.5000%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 28, internal_epoch   1,  Average loss: 0.0178, Accuracy: 454/566 (80.2120%), train_poison_data_count: 566
Global model norm: 3.048432563374959.
Norm before scaling: 3.152597410071999. Distance: 0.3174032234084402
Total norm for 6 adversaries is: 3.152597410071999. distance: 0.3174032234084402
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.7504, Accuracy: 7410/8991 (82.4157%)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 15, internal_epoch   1,  Average loss: 0.0170, Accuracy: 464/556 (83.4532%), train_poison_data_count: 556
Global model norm: 3.048432563374959.
Norm before scaling: 3.1597415760458287. Distance: 0.33024662840693786
Total norm for 6 adversaries is: 3.1597415760458287. distance: 0.33024662840693786
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.7452, Accuracy: 7449/8991 (82.8495%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 13, internal_epoch   1,  Average loss: 0.0160, Accuracy: 517/628 (82.3248%), train_poison_data_count: 628
Global model norm: 3.048432563374959.
Norm before scaling: 3.172896197314161. Distance: 0.34493358544659763
Total norm for 6 adversaries is: 3.172896197314161. distance: 0.34493358544659763
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.7327, Accuracy: 7410/8991 (82.4157%)
___Train Local_Simple,  epoch  93, local model 81, internal_epoch   1,  Average loss: 0.0170, Accuracy: 478/588 (81.2925%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 0.7579, Accuracy: 8543/10000 (85.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  93, local model 44, internal_epoch   1,  Average loss: 0.0184, Accuracy: 487/608 (80.0987%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 0.7591, Accuracy: 8449/10000 (84.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  93, local model 66, internal_epoch   1,  Average loss: 0.0166, Accuracy: 522/622 (83.9228%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 0.7526, Accuracy: 8468/10000 (84.6800%), Attack Success Rate:0/10000(0.000)
time spent on training: 28.366719722747803
[foolsgold agg] training data poison_ratio: 0.5992990654205608  data num: [609, 635, 597, 583, 566, 556, 628, 588, 608, 622]
[foolsgold agg] considering poison per batch poison_fraction: 0.5992990654205608
[foolsgold agg] wv: [0. 0. 0. 1. 0. 0. 0. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 93: Average loss: 0.7925, Accuracy: 8290/10000 (82.9000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 93: Average loss: 0.8095, Accuracy: 7159/8991 (79.6241%)
Done in 70.28426218032837 sec.
Server Epoch:94 choose agents : [29, 45, 66, 74, 73, 21, 79, 80, 25, 96].
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 29, internal_epoch   1,  Average loss: 0.0172, Accuracy: 463/573 (80.8028%), train_poison_data_count: 573
Global model norm: 3.05802949302128.
Norm before scaling: 3.166318489475503. Distance: 0.3229189636805064
Total norm for 3 adversaries is: 3.166318489475503. distance: 0.3229189636805064
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 0.7244, Accuracy: 7593/8991 (84.4511%)
___Train Local_Simple,  epoch  94, local model 45, internal_epoch   1,  Average loss: 0.0167, Accuracy: 478/571 (83.7128%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.7569, Accuracy: 8534/10000 (85.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 66, internal_epoch   1,  Average loss: 0.0170, Accuracy: 512/622 (82.3151%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.7517, Accuracy: 8460/10000 (84.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 74, internal_epoch   1,  Average loss: 0.0164, Accuracy: 488/597 (81.7420%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.7568, Accuracy: 8418/10000 (84.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 73, internal_epoch   1,  Average loss: 0.0170, Accuracy: 509/615 (82.7642%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.7535, Accuracy: 8475/10000 (84.7500%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 21, internal_epoch   1,  Average loss: 0.0164, Accuracy: 478/590 (81.0169%), train_poison_data_count: 590
Global model norm: 3.05802949302128.
Norm before scaling: 3.1615341822634333. Distance: 0.30283320874794384
Total norm for 3 adversaries is: 3.1615341822634333. distance: 0.30283320874794384
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 0.7354, Accuracy: 7564/8991 (84.1286%)
___Train Local_Simple,  epoch  94, local model 79, internal_epoch   1,  Average loss: 0.0174, Accuracy: 460/565 (81.4159%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.7568, Accuracy: 8517/10000 (85.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 80, internal_epoch   1,  Average loss: 0.0166, Accuracy: 485/594 (81.6498%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.7564, Accuracy: 8475/10000 (84.7500%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 25, internal_epoch   1,  Average loss: 0.0162, Accuracy: 479/581 (82.4441%), train_poison_data_count: 581
Global model norm: 3.05802949302128.
Norm before scaling: 3.1699978389792793. Distance: 0.3162378168963435
Total norm for 3 adversaries is: 3.1699978389792793. distance: 0.3162378168963435
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 0.7318, Accuracy: 7472/8991 (83.1053%)
___Train Local_Simple,  epoch  94, local model 96, internal_epoch   1,  Average loss: 0.0145, Accuracy: 461/540 (85.3704%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.7966, Accuracy: 8058/10000 (80.5800%), Attack Success Rate:0/10000(0.000)
time spent on training: 29.201712369918823
[foolsgold agg] training data poison_ratio: 0.2982216142270862  data num: [573, 571, 622, 597, 615, 590, 565, 594, 581, 540]
[foolsgold agg] considering poison per batch poison_fraction: 0.2982216142270862
[foolsgold agg] wv: [0.         0.45953654 0.45953654 0.75261414 0.17149837 0.
 0.35929873 0.17149837 0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 94: Average loss: 0.7893, Accuracy: 8298/10000 (82.9800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 94: Average loss: 0.8093, Accuracy: 7141/8991 (79.4239%)
Done in 71.73290824890137 sec.
Server Epoch:95 choose agents : [59, 53, 27, 94, 48, 51, 20, 52, 93, 89].
___Train Local_Simple,  epoch  95, local model 59, internal_epoch   1,  Average loss: 0.0174, Accuracy: 482/607 (79.4069%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.7519, Accuracy: 8557/10000 (85.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 53, internal_epoch   1,  Average loss: 0.0162, Accuracy: 483/568 (85.0352%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.7524, Accuracy: 8478/10000 (84.7800%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 27, internal_epoch   1,  Average loss: 0.0159, Accuracy: 491/597 (82.2446%), train_poison_data_count: 597
Global model norm: 3.0658538515179075.
Norm before scaling: 3.173348371192285. Distance: 0.2971325184075877
Total norm for 2 adversaries is: 3.173348371192285. distance: 0.2971325184075877
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 0.7223, Accuracy: 7624/8991 (84.7959%)
___Train Local_Simple,  epoch  95, local model 94, internal_epoch   1,  Average loss: 0.0151, Accuracy: 462/541 (85.3974%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.7948, Accuracy: 8122/10000 (81.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 48, internal_epoch   1,  Average loss: 0.0174, Accuracy: 463/573 (80.8028%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.7533, Accuracy: 8528/10000 (85.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 51, internal_epoch   1,  Average loss: 0.0162, Accuracy: 500/602 (83.0565%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.7543, Accuracy: 8483/10000 (84.8300%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 20, internal_epoch   1,  Average loss: 0.0165, Accuracy: 473/588 (80.4422%), train_poison_data_count: 588
Global model norm: 3.0658538515179075.
Norm before scaling: 3.178162004973692. Distance: 0.34337431795936396
Total norm for 2 adversaries is: 3.178162004973692. distance: 0.34337431795936396
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 0.7320, Accuracy: 7533/8991 (83.7838%)
___Train Local_Simple,  epoch  95, local model 52, internal_epoch   1,  Average loss: 0.0153, Accuracy: 502/598 (83.9465%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.7593, Accuracy: 8443/10000 (84.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 93, internal_epoch   1,  Average loss: 0.0161, Accuracy: 432/508 (85.0394%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.7906, Accuracy: 8097/10000 (80.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 89, internal_epoch   1,  Average loss: 0.0159, Accuracy: 498/594 (83.8384%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.7532, Accuracy: 8537/10000 (85.3700%), Attack Success Rate:0/10000(0.000)
time spent on training: 29.235881805419922
[foolsgold agg] training data poison_ratio: 0.20515927977839335  data num: [607, 568, 597, 541, 573, 602, 588, 598, 508, 594]
[foolsgold agg] considering poison per batch poison_fraction: 0.20515927977839335
[foolsgold agg] wv: [0.49075493 0.23330415 0.         0.14959062 0.47969947 1.
 0.         0.06714208 0.14959062 0.06714208]
___Test Target_Simple poisoned: False, epoch: 95: Average loss: 0.7867, Accuracy: 8309/10000 (83.0900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 95: Average loss: 0.8091, Accuracy: 7125/8991 (79.2459%)
Done in 71.32143807411194 sec.
Server Epoch:96 choose agents : [46, 20, 0, 79, 78, 82, 87, 33, 62, 76].
___Train Local_Simple,  epoch  96, local model 46, internal_epoch   1,  Average loss: 0.0168, Accuracy: 517/609 (84.8933%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.7467, Accuracy: 8447/10000 (84.4700%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 20, internal_epoch   1,  Average loss: 0.0165, Accuracy: 479/588 (81.4626%), train_poison_data_count: 588
Global model norm: 3.0721616345440954.
Norm before scaling: 3.1840432066262228. Distance: 0.3287818215746553
Total norm for 2 adversaries is: 3.1840432066262228. distance: 0.3287818215746553
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 0.7324, Accuracy: 7546/8991 (83.9284%)
___Train Local_Simple,  epoch  96, local model 0, internal_epoch   1,  Average loss: 0.0161, Accuracy: 497/598 (83.1104%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.7528, Accuracy: 8517/10000 (85.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 79, internal_epoch   1,  Average loss: 0.0177, Accuracy: 460/565 (81.4159%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.7531, Accuracy: 8531/10000 (85.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 78, internal_epoch   1,  Average loss: 0.0179, Accuracy: 507/617 (82.1718%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.7545, Accuracy: 8463/10000 (84.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 82, internal_epoch   1,  Average loss: 0.0156, Accuracy: 504/589 (85.5688%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.7497, Accuracy: 8528/10000 (85.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 87, internal_epoch   1,  Average loss: 0.0158, Accuracy: 488/591 (82.5719%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.7493, Accuracy: 8514/10000 (85.1400%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 33, internal_epoch   1,  Average loss: 0.0157, Accuracy: 509/612 (83.1699%), train_poison_data_count: 612
Global model norm: 3.0721616345440954.
Norm before scaling: 3.1990759588288062. Distance: 0.3479870925748561
Total norm for 2 adversaries is: 3.1990759588288062. distance: 0.3479870925748561
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 0.7096, Accuracy: 7539/8991 (83.8505%)
___Train Local_Simple,  epoch  96, local model 62, internal_epoch   1,  Average loss: 0.0169, Accuracy: 482/582 (82.8179%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.7525, Accuracy: 8452/10000 (84.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 76, internal_epoch   1,  Average loss: 0.0164, Accuracy: 492/597 (82.4121%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.7506, Accuracy: 8527/10000 (85.2700%), Attack Success Rate:0/10000(0.000)
time spent on training: 30.046075105667114
[foolsgold agg] training data poison_ratio: 0.20174848688634836  data num: [609, 588, 598, 565, 617, 589, 591, 612, 582, 597]
[foolsgold agg] considering poison per batch poison_fraction: 0.20174848688634836
[foolsgold agg] wv: [1.         0.24357873 1.         1.         1.         0.92118979
 0.92118979 0.24357873 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 96: Average loss: 0.7790, Accuracy: 8354/10000 (83.5400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 96: Average loss: 0.8061, Accuracy: 7126/8991 (79.2570%)
Done in 71.95385766029358 sec.
Server Epoch:97 choose agents : [56, 34, 5, 20, 94, 22, 14, 63, 4, 67].
___Train Local_Simple,  epoch  97, local model 56, internal_epoch   1,  Average loss: 0.0159, Accuracy: 495/586 (84.4710%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 0.7444, Accuracy: 8506/10000 (85.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  97, local model 34, internal_epoch   1,  Average loss: 0.0159, Accuracy: 499/597 (83.5846%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 0.7477, Accuracy: 8454/10000 (84.5400%), Attack Success Rate:0/10000(0.000)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 5, internal_epoch   1,  Average loss: 0.0162, Accuracy: 473/580 (81.5517%), train_poison_data_count: 580
Global model norm: 3.0917652583960678.
Norm before scaling: 3.200605341160594. Distance: 0.34303316237048725
Total norm for 5 adversaries is: 3.200605341160594. distance: 0.34303316237048725
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.7280, Accuracy: 7502/8991 (83.4390%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 20, internal_epoch   1,  Average loss: 0.0166, Accuracy: 474/588 (80.6122%), train_poison_data_count: 588
Global model norm: 3.0917652583960678.
Norm before scaling: 3.2034462372263723. Distance: 0.3513024003762902
Total norm for 5 adversaries is: 3.2034462372263723. distance: 0.3513024003762902
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.7286, Accuracy: 7542/8991 (83.8839%)
___Train Local_Simple,  epoch  97, local model 94, internal_epoch   1,  Average loss: 0.0151, Accuracy: 461/541 (85.2126%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 0.7909, Accuracy: 8115/10000 (81.1500%), Attack Success Rate:0/10000(0.000)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 22, internal_epoch   1,  Average loss: 0.0166, Accuracy: 469/581 (80.7229%), train_poison_data_count: 581
Global model norm: 3.0917652583960678.
Norm before scaling: 3.1939913902954933. Distance: 0.3068138289423789
Total norm for 5 adversaries is: 3.1939913902954933. distance: 0.3068138289423789
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.7124, Accuracy: 7661/8991 (85.2074%)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 14, internal_epoch   1,  Average loss: 0.0156, Accuracy: 491/594 (82.6599%), train_poison_data_count: 594
Global model norm: 3.0917652583960678.
Norm before scaling: 3.202710678472603. Distance: 0.34342112848416023
Total norm for 5 adversaries is: 3.202710678472603. distance: 0.34342112848416023
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.7264, Accuracy: 7545/8991 (83.9173%)
___Train Local_Simple,  epoch  97, local model 63, internal_epoch   1,  Average loss: 0.0157, Accuracy: 505/594 (85.0168%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 0.7453, Accuracy: 8442/10000 (84.4200%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 4, internal_epoch   1,  Average loss: 0.0163, Accuracy: 521/621 (83.8969%), train_poison_data_count: 621
Global model norm: 3.0917652583960678.
Norm before scaling: 3.2148606588445063. Distance: 0.3511240450288274
Total norm for 5 adversaries is: 3.2148606588445063. distance: 0.3511240450288274
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.7332, Accuracy: 7411/8991 (82.4269%)
___Train Local_Simple,  epoch  97, local model 67, internal_epoch   1,  Average loss: 0.0174, Accuracy: 472/570 (82.8070%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 0.7547, Accuracy: 8514/10000 (85.1400%), Attack Success Rate:0/10000(0.000)
time spent on training: 28.214772939682007
[foolsgold agg] training data poison_ratio: 0.5064935064935064  data num: [586, 597, 580, 588, 541, 581, 594, 594, 621, 570]
[foolsgold agg] considering poison per batch poison_fraction: 0.5064935064935064
[foolsgold agg] wv: [0.         0.         0.         0.         1.         0.
 0.         0.34544025 0.         0.64501761]
___Test Target_Simple poisoned: False, epoch: 97: Average loss: 0.7773, Accuracy: 8347/10000 (83.4700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 97: Average loss: 0.8065, Accuracy: 7103/8991 (79.0012%)
Done in 70.15070366859436 sec.
Server Epoch:98 choose agents : [91, 64, 77, 14, 67, 90, 75, 97, 92, 40].
___Train Local_Simple,  epoch  98, local model 91, internal_epoch   1,  Average loss: 0.0158, Accuracy: 497/597 (83.2496%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.7431, Accuracy: 8502/10000 (85.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 64, internal_epoch   1,  Average loss: 0.0167, Accuracy: 503/610 (82.4590%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.7390, Accuracy: 8513/10000 (85.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 77, internal_epoch   1,  Average loss: 0.0162, Accuracy: 475/565 (84.0708%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.7488, Accuracy: 8422/10000 (84.2200%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 14, internal_epoch   1,  Average loss: 0.0157, Accuracy: 488/594 (82.1549%), train_poison_data_count: 594
Global model norm: 3.0960867947874027.
Norm before scaling: 3.204211390414254. Distance: 0.35693622384622226
Total norm for 1 adversaries is: 3.204211390414254. distance: 0.35693622384622226
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 0.7276, Accuracy: 7518/8991 (83.6170%)
___Train Local_Simple,  epoch  98, local model 67, internal_epoch   1,  Average loss: 0.0175, Accuracy: 470/570 (82.4561%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.7562, Accuracy: 8503/10000 (85.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 90, internal_epoch   1,  Average loss: 0.0157, Accuracy: 495/576 (85.9375%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.7450, Accuracy: 8545/10000 (85.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 75, internal_epoch   1,  Average loss: 0.0165, Accuracy: 494/600 (82.3333%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.7422, Accuracy: 8545/10000 (85.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 97, internal_epoch   1,  Average loss: 0.0151, Accuracy: 459/539 (85.1577%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.7808, Accuracy: 8143/10000 (81.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 92, internal_epoch   1,  Average loss: 0.0166, Accuracy: 466/565 (82.4779%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.7571, Accuracy: 8315/10000 (83.1500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 40, internal_epoch   1,  Average loss: 0.0161, Accuracy: 452/548 (82.4818%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.7516, Accuracy: 8480/10000 (84.8000%), Attack Success Rate:0/10000(0.000)
time spent on training: 30.091840505599976
[foolsgold agg] training data poison_ratio: 0.10305343511450382  data num: [597, 610, 565, 594, 570, 576, 600, 539, 565, 548]
[foolsgold agg] considering poison per batch poison_fraction: 0.10305343511450381
[foolsgold agg] wv: [0.         0.         0.         1.         0.         0.
 0.04572941 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 98: Average loss: 0.7774, Accuracy: 8335/10000 (83.3500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 98: Average loss: 0.8028, Accuracy: 7126/8991 (79.2570%)
Done in 68.16169929504395 sec.
Server Epoch:99 choose agents : [76, 6, 8, 88, 2, 82, 12, 27, 61, 21].
___Train Local_Simple,  epoch  99, local model 76, internal_epoch   1,  Average loss: 0.0163, Accuracy: 490/597 (82.0771%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 0.7433, Accuracy: 8508/10000 (85.0800%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 6, internal_epoch   1,  Average loss: 0.0166, Accuracy: 494/609 (81.1166%), train_poison_data_count: 609
Global model norm: 3.098218522867923.
Norm before scaling: 3.218981243826672. Distance: 0.34704689672476124
Total norm for 6 adversaries is: 3.218981243826672. distance: 0.34704689672476124
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.7135, Accuracy: 7601/8991 (84.5401%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 8, internal_epoch   1,  Average loss: 0.0156, Accuracy: 482/593 (81.2816%), train_poison_data_count: 593
Global model norm: 3.098218522867923.
Norm before scaling: 3.2018550681410254. Distance: 0.29128805632262084
Total norm for 6 adversaries is: 3.2018550681410254. distance: 0.29128805632262084
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.7121, Accuracy: 7598/8991 (84.5067%)
___Train Local_Simple,  epoch  99, local model 88, internal_epoch   1,  Average loss: 0.0176, Accuracy: 461/560 (82.3214%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 0.7433, Accuracy: 8507/10000 (85.0700%), Attack Success Rate:0/10000(0.000)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 2, internal_epoch   1,  Average loss: 0.0163, Accuracy: 477/585 (81.5385%), train_poison_data_count: 585
Global model norm: 3.098218522867923.
Norm before scaling: 3.2050555110414893. Distance: 0.3385458310189024
Total norm for 6 adversaries is: 3.2050555110414893. distance: 0.3385458310189024
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.7278, Accuracy: 7544/8991 (83.9061%)
___Train Local_Simple,  epoch  99, local model 82, internal_epoch   1,  Average loss: 0.0153, Accuracy: 500/589 (84.8896%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 0.7420, Accuracy: 8530/10000 (85.3000%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 12, internal_epoch   1,  Average loss: 0.0173, Accuracy: 464/555 (83.6036%), train_poison_data_count: 555
Global model norm: 3.098218522867923.
Norm before scaling: 3.2082974980982844. Distance: 0.3262165747068533
Total norm for 6 adversaries is: 3.2082974980982844. distance: 0.3262165747068533
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.7246, Accuracy: 7583/8991 (84.3399%)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 27, internal_epoch   1,  Average loss: 0.0158, Accuracy: 487/597 (81.5745%), train_poison_data_count: 597
Global model norm: 3.098218522867923.
Norm before scaling: 3.2025215883145277. Distance: 0.3005555532267021
Total norm for 6 adversaries is: 3.2025215883145277. distance: 0.3005555532267021
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.7174, Accuracy: 7611/8991 (84.6513%)
___Train Local_Simple,  epoch  99, local model 61, internal_epoch   1,  Average loss: 0.0164, Accuracy: 491/585 (83.9316%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 0.7425, Accuracy: 8548/10000 (85.4800%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 21, internal_epoch   1,  Average loss: 0.0163, Accuracy: 479/590 (81.1864%), train_poison_data_count: 590
Global model norm: 3.098218522867923.
Norm before scaling: 3.1996062513337824. Distance: 0.3100668718329303
Total norm for 6 adversaries is: 3.1996062513337824. distance: 0.3100668718329303
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.7288, Accuracy: 7554/8991 (84.0174%)
time spent on training: 24.850497245788574
[foolsgold agg] training data poison_ratio: 0.6022184300341297  data num: [597, 609, 593, 560, 585, 589, 555, 597, 585, 590]
[foolsgold agg] considering poison per batch poison_fraction: 0.6022184300341297
[foolsgold agg] wv: [1.         0.1651986  0.         1.         0.         1.
 0.55632112 0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 99: Average loss: 0.7736, Accuracy: 8352/10000 (83.5200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 99: Average loss: 0.8003, Accuracy: 7128/8991 (79.2793%)
Done in 63.03029680252075 sec.
Server Epoch:100 choose agents : [35, 57, 43, 34, 76, 26, 92, 3, 13, 16].
___Train Local_Simple,  epoch 100, local model 35, internal_epoch   1,  Average loss: 0.0171, Accuracy: 485/577 (84.0555%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.7422, Accuracy: 8517/10000 (85.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 57, internal_epoch   1,  Average loss: 0.0164, Accuracy: 518/605 (85.6198%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.7405, Accuracy: 8530/10000 (85.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 43, internal_epoch   1,  Average loss: 0.0164, Accuracy: 485/571 (84.9387%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.7356, Accuracy: 8548/10000 (85.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 34, internal_epoch   1,  Average loss: 0.0159, Accuracy: 504/597 (84.4221%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.7442, Accuracy: 8438/10000 (84.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 76, internal_epoch   1,  Average loss: 0.0162, Accuracy: 496/597 (83.0821%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.7392, Accuracy: 8528/10000 (85.2800%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 26, internal_epoch   1,  Average loss: 0.0167, Accuracy: 470/573 (82.0244%), train_poison_data_count: 573
Global model norm: 3.1089639823351174.
Norm before scaling: 3.210131021838231. Distance: 0.28663656007801347
Total norm for 4 adversaries is: 3.210131021838231. distance: 0.28663656007801347
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 0.7111, Accuracy: 7625/8991 (84.8070%)
___Train Local_Simple,  epoch 100, local model 92, internal_epoch   1,  Average loss: 0.0169, Accuracy: 467/565 (82.6549%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.7517, Accuracy: 8336/10000 (83.3600%), Attack Success Rate:0/10000(0.000)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 3, internal_epoch   1,  Average loss: 0.0169, Accuracy: 470/568 (82.7465%), train_poison_data_count: 568
Global model norm: 3.1089639823351174.
Norm before scaling: 3.2140001230673065. Distance: 0.3175064198340524
Total norm for 4 adversaries is: 3.2140001230673065. distance: 0.3175064198340524
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 0.7257, Accuracy: 7553/8991 (84.0062%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 13, internal_epoch   1,  Average loss: 0.0158, Accuracy: 509/628 (81.0510%), train_poison_data_count: 628
Global model norm: 3.1089639823351174.
Norm before scaling: 3.230028558374529. Distance: 0.35120838132532023
Total norm for 4 adversaries is: 3.230028558374529. distance: 0.35120838132532023
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 0.7162, Accuracy: 7440/8991 (82.7494%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 16, internal_epoch   1,  Average loss: 0.0158, Accuracy: 488/596 (81.8792%), train_poison_data_count: 596
Global model norm: 3.1089639823351174.
Norm before scaling: 3.216558358406492. Distance: 0.32661082945945424
Total norm for 4 adversaries is: 3.216558358406492. distance: 0.32661082945945424
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 0.7309, Accuracy: 7471/8991 (83.0942%)
time spent on training: 25.60601830482483
[foolsgold agg] training data poison_ratio: 0.40241619874085416  data num: [577, 605, 571, 597, 597, 573, 565, 568, 628, 596]
[foolsgold agg] considering poison per batch poison_fraction: 0.40241619874085416
[foolsgold agg] wv: [0.71542976 1.         1.         0.78919589 0.71542976 0.
 1.         0.         0.09474676 0.        ]
___Test Target_Simple poisoned: False, epoch: 100: Average loss: 0.7688, Accuracy: 8372/10000 (83.7200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 100: Average loss: 0.7995, Accuracy: 7112/8991 (79.1013%)
Done in 63.90422224998474 sec.
Saving all the graphs.
This run has a label: Mar.16_09.46.19. Visdom environment: mnist_DBA
