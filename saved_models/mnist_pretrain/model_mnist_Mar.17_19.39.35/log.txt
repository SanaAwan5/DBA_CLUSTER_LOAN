current path: saved_models/mnist_pretrain/model_mnist_Mar.17_19.39.35
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
create model done
Poisoned following participants: [1, 2, 3, 4, 5]
We use following environment for graphs:  mnist_DBA
Server Epoch:1 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch   1, local model 0, internal_epoch   1,  Average loss: 0.0225, Accuracy: 1965/3010 (65.2824%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.7459, Accuracy: 6123/10000 (61.2300%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 1, internal_epoch   1,  Average loss: 0.0100, Accuracy: 5019/5805 (86.4599%), train_poison_data_count: 5805
Global model norm: 1.828686293811075.
Norm before scaling: 3.334489780727828. Distance: 2.8496369850123187
Total norm for 5 adversaries is: 3.334489780727828. distance: 2.8496369850123187
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.7247, Accuracy: 4628/8991 (51.4737%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 2, internal_epoch   1,  Average loss: 0.0162, Accuracy: 3668/4779 (76.7525%), train_poison_data_count: 4779
Global model norm: 1.828686293811075.
Norm before scaling: 3.493009944050873. Distance: 3.0139593554656514
Total norm for 5 adversaries is: 3.493009944050873. distance: 3.0139593554656514
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.0727, Accuracy: 6022/8991 (66.9781%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 3, internal_epoch   1,  Average loss: 0.0145, Accuracy: 4211/5123 (82.1979%), train_poison_data_count: 5123
Global model norm: 1.828686293811075.
Norm before scaling: 3.5651857391380357. Distance: 3.1071616111151816
Total norm for 5 adversaries is: 3.5651857391380357. distance: 3.1071616111151816
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.3704, Accuracy: 5963/8991 (66.3219%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 4, internal_epoch   1,  Average loss: 0.0170, Accuracy: 3330/4462 (74.6302%), train_poison_data_count: 4462
Global model norm: 1.828686293811075.
Norm before scaling: 3.373518724687241. Distance: 2.8738090702206573
Total norm for 5 adversaries is: 3.373518724687241. distance: 2.8738090702206573
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.4436, Accuracy: 5259/8991 (58.4918%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 5, internal_epoch   1,  Average loss: 0.0150, Accuracy: 3048/3841 (79.3543%), train_poison_data_count: 3841
Global model norm: 1.828686293811075.
Norm before scaling: 3.243043496987367. Distance: 2.718394025978363
Total norm for 5 adversaries is: 3.243043496987367. distance: 2.718394025978363
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.1532, Accuracy: 5029/8991 (55.9337%)
___Train Local_Simple,  epoch   1, local model 6, internal_epoch   1,  Average loss: 0.0181, Accuracy: 2173/2945 (73.7861%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.0051, Accuracy: 4886/10000 (48.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   1, local model 7, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2263/2756 (82.1118%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.5351, Accuracy: 4616/10000 (46.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   1, local model 8, internal_epoch   1,  Average loss: 0.0206, Accuracy: 2390/3437 (69.5374%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.4956, Accuracy: 5817/10000 (58.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   1, local model 9, internal_epoch   1,  Average loss: 0.0121, Accuracy: 4797/5809 (82.5788%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 3.6142, Accuracy: 3452/10000 (34.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   1, local model 10, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2032/2592 (78.3951%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.2541, Accuracy: 3375/10000 (33.7500%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   1, local model 11, internal_epoch   1,  Average loss: 0.0209, Accuracy: 1813/2510 (72.2311%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.4937, Accuracy: 5709/10000 (57.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   1, local model 12, internal_epoch   1,  Average loss: 0.0098, Accuracy: 3725/4373 (85.1818%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 3.4958, Accuracy: 3367/10000 (33.6700%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   1, local model 13, internal_epoch   1,  Average loss: 0.0132, Accuracy: 3570/4339 (82.2770%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.6238, Accuracy: 4585/10000 (45.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   1, local model 14, internal_epoch   1,  Average loss: 0.0182, Accuracy: 2028/2782 (72.8972%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.5390, Accuracy: 4406/10000 (44.0600%), Attack Success Rate:0/10000(0.000)
time spent on training: 37.23444724082947
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.71268127 1.         0.
 1.         1.         0.12850708]
___Test Target_Simple poisoned: False, epoch: 1: Average loss: 2.2473, Accuracy: 1992/10000 (19.9200%), Attack Success Rate:30/10000(0.300)
___Test Target_Simple poisoned: True, epoch: 1: Average loss: 2.2550, Accuracy: 1545/8991 (17.1839%)
Done in 44.982598066329956 sec.
Server Epoch:2 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch   2, local model 0, internal_epoch   1,  Average loss: 0.0222, Accuracy: 2007/3010 (66.6777%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7348, Accuracy: 6253/10000 (62.5300%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 1, internal_epoch   1,  Average loss: 0.0101, Accuracy: 5080/5805 (87.5108%), train_poison_data_count: 5805
Global model norm: 1.8295145215263278.
Norm before scaling: 3.313406622272468. Distance: 2.8013943436085715
Total norm for 5 adversaries is: 3.313406622272468. distance: 2.8013943436085715
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.6483, Accuracy: 4685/8991 (52.1077%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 2, internal_epoch   1,  Average loss: 0.0163, Accuracy: 3661/4779 (76.6060%), train_poison_data_count: 4779
Global model norm: 1.8295145215263278.
Norm before scaling: 3.472380104714023. Distance: 2.9603248304546987
Total norm for 5 adversaries is: 3.472380104714023. distance: 2.9603248304546987
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.0192, Accuracy: 6116/8991 (68.0236%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 3, internal_epoch   1,  Average loss: 0.0144, Accuracy: 4202/5123 (82.0223%), train_poison_data_count: 5123
Global model norm: 1.8295145215263278.
Norm before scaling: 3.5779744079083993. Distance: 3.0933182540339663
Total norm for 5 adversaries is: 3.5779744079083993. distance: 3.0933182540339663
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.3826, Accuracy: 5993/8991 (66.6555%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 4, internal_epoch   1,  Average loss: 0.0169, Accuracy: 3363/4462 (75.3698%), train_poison_data_count: 4462
Global model norm: 1.8295145215263278.
Norm before scaling: 3.3463615130431683. Distance: 2.8073685351848967
Total norm for 5 adversaries is: 3.3463615130431683. distance: 2.8073685351848967
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.3459, Accuracy: 5702/8991 (63.4190%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 5, internal_epoch   1,  Average loss: 0.0148, Accuracy: 3109/3841 (80.9425%), train_poison_data_count: 3841
Global model norm: 1.8295145215263278.
Norm before scaling: 3.248860966547515. Distance: 2.6929927850308606
Total norm for 5 adversaries is: 3.248860966547515. distance: 2.6929927850308606
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.1422, Accuracy: 5045/8991 (56.1117%)
___Train Local_Simple,  epoch   2, local model 6, internal_epoch   1,  Average loss: 0.0179, Accuracy: 2152/2945 (73.0730%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.0138, Accuracy: 4726/10000 (47.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 7, internal_epoch   1,  Average loss: 0.0144, Accuracy: 2217/2756 (80.4427%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.5255, Accuracy: 4495/10000 (44.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 8, internal_epoch   1,  Average loss: 0.0203, Accuracy: 2411/3437 (70.1484%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.5473, Accuracy: 5703/10000 (57.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 9, internal_epoch   1,  Average loss: 0.0120, Accuracy: 4844/5809 (83.3878%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 3.5469, Accuracy: 3413/10000 (34.1300%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   2, local model 10, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2031/2592 (78.3565%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2642, Accuracy: 3321/10000 (33.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 11, internal_epoch   1,  Average loss: 0.0211, Accuracy: 1797/2510 (71.5936%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.4115, Accuracy: 5837/10000 (58.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 12, internal_epoch   1,  Average loss: 0.0097, Accuracy: 3759/4373 (85.9593%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 3.4454, Accuracy: 3414/10000 (34.1400%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   2, local model 13, internal_epoch   1,  Average loss: 0.0131, Accuracy: 3593/4339 (82.8071%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.5959, Accuracy: 4737/10000 (47.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 14, internal_epoch   1,  Average loss: 0.0185, Accuracy: 2064/2782 (74.1912%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.4499, Accuracy: 4350/10000 (43.5000%), Attack Success Rate:0/10000(0.000)
time spent on training: 44.244264364242554
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.93796    0.97074314 0.
 1.         1.         0.21687677]
___Test Target_Simple poisoned: False, epoch: 2: Average loss: 2.2079, Accuracy: 2342/10000 (23.4200%), Attack Success Rate:10/10000(0.100)
___Test Target_Simple poisoned: True, epoch: 2: Average loss: 2.2172, Accuracy: 1870/8991 (20.7986%)
Done in 52.05618333816528 sec.
Server Epoch:3 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch   3, local model 0, internal_epoch   1,  Average loss: 0.0220, Accuracy: 1986/3010 (65.9801%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.7049, Accuracy: 6381/10000 (63.8100%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 1, internal_epoch   1,  Average loss: 0.0099, Accuracy: 5057/5805 (87.1146%), train_poison_data_count: 5805
Global model norm: 1.8317435553150867.
Norm before scaling: 3.3359243495422883. Distance: 2.8056689911960713
Total norm for 5 adversaries is: 3.3359243495422883. distance: 2.8056689911960713
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.6667, Accuracy: 4715/8991 (52.4413%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 2, internal_epoch   1,  Average loss: 0.0161, Accuracy: 3662/4779 (76.6269%), train_poison_data_count: 4779
Global model norm: 1.8317435553150867.
Norm before scaling: 3.5002961714637615. Distance: 2.961956724418691
Total norm for 5 adversaries is: 3.5002961714637615. distance: 2.961956724418691
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.0475, Accuracy: 6066/8991 (67.4675%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 3, internal_epoch   1,  Average loss: 0.0142, Accuracy: 4199/5123 (81.9637%), train_poison_data_count: 5123
Global model norm: 1.8317435553150867.
Norm before scaling: 3.576222009479275. Distance: 3.060926227636451
Total norm for 5 adversaries is: 3.576222009479275. distance: 3.060926227636451
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.3469, Accuracy: 6026/8991 (67.0226%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 4, internal_epoch   1,  Average loss: 0.0167, Accuracy: 3403/4462 (76.2662%), train_poison_data_count: 4462
Global model norm: 1.8317435553150867.
Norm before scaling: 3.3688569853431463. Distance: 2.7948776017687087
Total norm for 5 adversaries is: 3.3688569853431463. distance: 2.7948776017687087
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.4011, Accuracy: 5398/8991 (60.0378%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 5, internal_epoch   1,  Average loss: 0.0150, Accuracy: 3082/3841 (80.2395%), train_poison_data_count: 3841
Global model norm: 1.8317435553150867.
Norm before scaling: 3.266141567715099. Distance: 2.6776459593752393
Total norm for 5 adversaries is: 3.266141567715099. distance: 2.6776459593752393
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.1155, Accuracy: 5087/8991 (56.5788%)
___Train Local_Simple,  epoch   3, local model 6, internal_epoch   1,  Average loss: 0.0176, Accuracy: 2165/2945 (73.5144%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.9696, Accuracy: 4783/10000 (47.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 7, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2278/2756 (82.6560%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.5425, Accuracy: 4239/10000 (42.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 8, internal_epoch   1,  Average loss: 0.0202, Accuracy: 2423/3437 (70.4975%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.4668, Accuracy: 5876/10000 (58.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 9, internal_epoch   1,  Average loss: 0.0119, Accuracy: 4842/5809 (83.3534%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 3.4870, Accuracy: 3423/10000 (34.2300%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   3, local model 10, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2052/2592 (79.1667%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2021, Accuracy: 3550/10000 (35.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 11, internal_epoch   1,  Average loss: 0.0206, Accuracy: 1827/2510 (72.7888%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.4370, Accuracy: 5680/10000 (56.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 12, internal_epoch   1,  Average loss: 0.0096, Accuracy: 3762/4373 (86.0279%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 3.4125, Accuracy: 3383/10000 (33.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 13, internal_epoch   1,  Average loss: 0.0131, Accuracy: 3604/4339 (83.0606%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.5145, Accuracy: 4700/10000 (47.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 14, internal_epoch   1,  Average loss: 0.0180, Accuracy: 2068/2782 (74.3350%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.5051, Accuracy: 4166/10000 (41.6600%), Attack Success Rate:0/10000(0.000)
time spent on training: 51.44600439071655
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.64204944 1.         0.
 1.         1.         0.06678806]
___Test Target_Simple poisoned: False, epoch: 3: Average loss: 2.1745, Accuracy: 2592/10000 (25.9200%), Attack Success Rate:15/10000(0.150)
___Test Target_Simple poisoned: True, epoch: 3: Average loss: 2.1865, Accuracy: 2110/8991 (23.4679%)
Done in 59.296122550964355 sec.
Server Epoch:4 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch   4, local model 0, internal_epoch   1,  Average loss: 0.0217, Accuracy: 2016/3010 (66.9767%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.7134, Accuracy: 6308/10000 (63.0800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 1, internal_epoch   1,  Average loss: 0.0099, Accuracy: 5086/5805 (87.6141%), train_poison_data_count: 5805
Global model norm: 1.8349385892066437.
Norm before scaling: 3.3352930665966807. Distance: 2.787551598862486
Total norm for 5 adversaries is: 3.3352930665966807. distance: 2.787551598862486
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 2.6580, Accuracy: 4558/8991 (50.6951%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 2, internal_epoch   1,  Average loss: 0.0160, Accuracy: 3697/4779 (77.3593%), train_poison_data_count: 4779
Global model norm: 1.8349385892066437.
Norm before scaling: 3.490036406450106. Distance: 2.9213734568607768
Total norm for 5 adversaries is: 3.490036406450106. distance: 2.9213734568607768
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.0079, Accuracy: 6135/8991 (68.2349%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 3, internal_epoch   1,  Average loss: 0.0142, Accuracy: 4212/5123 (82.2175%), train_poison_data_count: 5123
Global model norm: 1.8349385892066437.
Norm before scaling: 3.5746105542168993. Distance: 3.0349922283142234
Total norm for 5 adversaries is: 3.5746105542168993. distance: 3.0349922283142234
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.3586, Accuracy: 6113/8991 (67.9902%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 4, internal_epoch   1,  Average loss: 0.0165, Accuracy: 3412/4462 (76.4680%), train_poison_data_count: 4462
Global model norm: 1.8349385892066437.
Norm before scaling: 3.377515208833393. Distance: 2.7692620451905343
Total norm for 5 adversaries is: 3.377515208833393. distance: 2.7692620451905343
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.4208, Accuracy: 5308/8991 (59.0368%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 5, internal_epoch   1,  Average loss: 0.0146, Accuracy: 3082/3841 (80.2395%), train_poison_data_count: 3841
Global model norm: 1.8349385892066437.
Norm before scaling: 3.248854068323658. Distance: 2.6282721515695564
Total norm for 5 adversaries is: 3.248854068323658. distance: 2.6282721515695564
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 2.0680, Accuracy: 5220/8991 (58.0581%)
___Train Local_Simple,  epoch   4, local model 6, internal_epoch   1,  Average loss: 0.0179, Accuracy: 2173/2945 (73.7861%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.9508, Accuracy: 4763/10000 (47.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 7, internal_epoch   1,  Average loss: 0.0142, Accuracy: 2248/2756 (81.5675%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.4918, Accuracy: 4386/10000 (43.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 8, internal_epoch   1,  Average loss: 0.0202, Accuracy: 2455/3437 (71.4286%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.4962, Accuracy: 5734/10000 (57.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 9, internal_epoch   1,  Average loss: 0.0119, Accuracy: 4859/5809 (83.6461%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 3.4853, Accuracy: 3494/10000 (34.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 10, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2053/2592 (79.2052%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.2105, Accuracy: 3506/10000 (35.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 11, internal_epoch   1,  Average loss: 0.0203, Accuracy: 1851/2510 (73.7450%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.4539, Accuracy: 5700/10000 (57.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 12, internal_epoch   1,  Average loss: 0.0093, Accuracy: 3799/4373 (86.8740%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 3.4138, Accuracy: 3386/10000 (33.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 13, internal_epoch   1,  Average loss: 0.0131, Accuracy: 3612/4339 (83.2450%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.5090, Accuracy: 4619/10000 (46.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 14, internal_epoch   1,  Average loss: 0.0179, Accuracy: 2078/2782 (74.6945%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.4227, Accuracy: 4405/10000 (44.0500%), Attack Success Rate:0/10000(0.000)
time spent on training: 54.86525797843933
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.71653864 0.86943707 0.
 1.         1.         0.10081313]
___Test Target_Simple poisoned: False, epoch: 4: Average loss: 2.1432, Accuracy: 2779/10000 (27.7900%), Attack Success Rate:8/10000(0.080)
___Test Target_Simple poisoned: True, epoch: 4: Average loss: 2.1575, Accuracy: 2283/8991 (25.3921%)
Done in 62.652976512908936 sec.
Server Epoch:5 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch   5, local model 0, internal_epoch   1,  Average loss: 0.0216, Accuracy: 2054/3010 (68.2392%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.6951, Accuracy: 6300/10000 (63.0000%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 1, internal_epoch   1,  Average loss: 0.0099, Accuracy: 5059/5805 (87.1490%), train_poison_data_count: 5805
Global model norm: 1.8391241460303105.
Norm before scaling: 3.345381436802482. Distance: 2.7779092333736006
Total norm for 5 adversaries is: 3.345381436802482. distance: 2.7779092333736006
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.5955, Accuracy: 4630/8991 (51.4959%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 2, internal_epoch   1,  Average loss: 0.0156, Accuracy: 3713/4779 (77.6941%), train_poison_data_count: 4779
Global model norm: 1.8391241460303105.
Norm before scaling: 3.500099180723647. Distance: 2.906884893163899
Total norm for 5 adversaries is: 3.500099180723647. distance: 2.906884893163899
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.0392, Accuracy: 6129/8991 (68.1682%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 3, internal_epoch   1,  Average loss: 0.0142, Accuracy: 4207/5123 (82.1199%), train_poison_data_count: 5123
Global model norm: 1.8391241460303105.
Norm before scaling: 3.561040211125663. Distance: 2.9943100694063145
Total norm for 5 adversaries is: 3.561040211125663. distance: 2.9943100694063145
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.3280, Accuracy: 6052/8991 (67.3118%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 4, internal_epoch   1,  Average loss: 0.0165, Accuracy: 3384/4462 (75.8404%), train_poison_data_count: 4462
Global model norm: 1.8391241460303105.
Norm before scaling: 3.343490447906819. Distance: 2.699866916767494
Total norm for 5 adversaries is: 3.343490447906819. distance: 2.699866916767494
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.3347, Accuracy: 5646/8991 (62.7961%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 5, internal_epoch   1,  Average loss: 0.0144, Accuracy: 3108/3841 (80.9164%), train_poison_data_count: 3841
Global model norm: 1.8391241460303105.
Norm before scaling: 3.232087436673585. Distance: 2.580010019770838
Total norm for 5 adversaries is: 3.232087436673585. distance: 2.580010019770838
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.0528, Accuracy: 5127/8991 (57.0237%)
___Train Local_Simple,  epoch   5, local model 6, internal_epoch   1,  Average loss: 0.0175, Accuracy: 2159/2945 (73.3107%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.9074, Accuracy: 4984/10000 (49.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   5, local model 7, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2285/2756 (82.9100%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.4495, Accuracy: 4620/10000 (46.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   5, local model 8, internal_epoch   1,  Average loss: 0.0199, Accuracy: 2442/3437 (71.0503%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.4621, Accuracy: 5829/10000 (58.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   5, local model 9, internal_epoch   1,  Average loss: 0.0116, Accuracy: 4889/5809 (84.1625%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 3.3578, Accuracy: 3500/10000 (35.0000%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   5, local model 10, internal_epoch   1,  Average loss: 0.0132, Accuracy: 2070/2592 (79.8611%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.2015, Accuracy: 3514/10000 (35.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   5, local model 11, internal_epoch   1,  Average loss: 0.0205, Accuracy: 1821/2510 (72.5498%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.4020, Accuracy: 5743/10000 (57.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   5, local model 12, internal_epoch   1,  Average loss: 0.0093, Accuracy: 3777/4373 (86.3709%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 3.3790, Accuracy: 3367/10000 (33.6700%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   5, local model 13, internal_epoch   1,  Average loss: 0.0126, Accuracy: 3640/4339 (83.8903%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.4986, Accuracy: 4701/10000 (47.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   5, local model 14, internal_epoch   1,  Average loss: 0.0177, Accuracy: 2090/2782 (75.1258%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.3853, Accuracy: 4520/10000 (45.2000%), Attack Success Rate:0/10000(0.000)
time spent on training: 63.176920890808105
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.63297095 0.97737643 0.
 1.         1.         0.22011805]
___Test Target_Simple poisoned: False, epoch: 5: Average loss: 2.1116, Accuracy: 2936/10000 (29.3600%), Attack Success Rate:7/10000(0.070)
___Test Target_Simple poisoned: True, epoch: 5: Average loss: 2.1283, Accuracy: 2419/8991 (26.9047%)
Done in 71.03267312049866 sec.
Server Epoch:6 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch   6, local model 0, internal_epoch   1,  Average loss: 0.0212, Accuracy: 2070/3010 (68.7708%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.6632, Accuracy: 6468/10000 (64.6800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 1, internal_epoch   1,  Average loss: 0.0097, Accuracy: 5062/5805 (87.2007%), train_poison_data_count: 5805
Global model norm: 1.844412215971342.
Norm before scaling: 3.355057465790248. Distance: 2.7694863986969027
Total norm for 5 adversaries is: 3.355057465790248. distance: 2.7694863986969027
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.5622, Accuracy: 4646/8991 (51.6739%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 2, internal_epoch   1,  Average loss: 0.0158, Accuracy: 3733/4779 (78.1126%), train_poison_data_count: 4779
Global model norm: 1.844412215971342.
Norm before scaling: 3.513712994608963. Distance: 2.8943666727946673
Total norm for 5 adversaries is: 3.513712994608963. distance: 2.8943666727946673
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.0203, Accuracy: 6083/8991 (67.6565%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 3, internal_epoch   1,  Average loss: 0.0141, Accuracy: 4230/5123 (82.5688%), train_poison_data_count: 5123
Global model norm: 1.844412215971342.
Norm before scaling: 3.579532263264976. Distance: 2.9882250811714615
Total norm for 5 adversaries is: 3.579532263264976. distance: 2.9882250811714615
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.3584, Accuracy: 5989/8991 (66.6111%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 4, internal_epoch   1,  Average loss: 0.0162, Accuracy: 3420/4462 (76.6472%), train_poison_data_count: 4462
Global model norm: 1.844412215971342.
Norm before scaling: 3.3540133960526872. Distance: 2.675326610840331
Total norm for 5 adversaries is: 3.3540133960526872. distance: 2.675326610840331
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.3509, Accuracy: 5664/8991 (62.9963%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 5, internal_epoch   1,  Average loss: 0.0143, Accuracy: 3142/3841 (81.8016%), train_poison_data_count: 3841
Global model norm: 1.844412215971342.
Norm before scaling: 3.259532885874023. Distance: 2.5806978277054413
Total norm for 5 adversaries is: 3.259532885874023. distance: 2.5806978277054413
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.0587, Accuracy: 5136/8991 (57.1238%)
___Train Local_Simple,  epoch   6, local model 6, internal_epoch   1,  Average loss: 0.0174, Accuracy: 2190/2945 (74.3633%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.9642, Accuracy: 4745/10000 (47.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 7, internal_epoch   1,  Average loss: 0.0148, Accuracy: 2257/2756 (81.8940%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.3902, Accuracy: 4505/10000 (45.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 8, internal_epoch   1,  Average loss: 0.0199, Accuracy: 2456/3437 (71.4577%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.4233, Accuracy: 5980/10000 (59.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 9, internal_epoch   1,  Average loss: 0.0115, Accuracy: 4902/5809 (84.3863%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 3.4159, Accuracy: 3443/10000 (34.4300%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   6, local model 10, internal_epoch   1,  Average loss: 0.0128, Accuracy: 2065/2592 (79.6682%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.1547, Accuracy: 3457/10000 (34.5700%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   6, local model 11, internal_epoch   1,  Average loss: 0.0202, Accuracy: 1835/2510 (73.1076%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.4166, Accuracy: 5699/10000 (56.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 12, internal_epoch   1,  Average loss: 0.0093, Accuracy: 3783/4373 (86.5081%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 3.2686, Accuracy: 3420/10000 (34.2000%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch   6, local model 13, internal_epoch   1,  Average loss: 0.0126, Accuracy: 3627/4339 (83.5907%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.4085, Accuracy: 4828/10000 (48.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 14, internal_epoch   1,  Average loss: 0.0176, Accuracy: 2093/2782 (75.2336%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.4398, Accuracy: 4190/10000 (41.9000%), Attack Success Rate:0/10000(0.000)
time spent on training: 65.66940593719482
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.52538371 0.92987861 0.
 1.         1.         0.00435355]
___Test Target_Simple poisoned: False, epoch: 6: Average loss: 2.0845, Accuracy: 3115/10000 (31.1500%), Attack Success Rate:4/10000(0.040)
___Test Target_Simple poisoned: True, epoch: 6: Average loss: 2.1041, Accuracy: 2561/8991 (28.4840%)
Done in 73.470698595047 sec.
Server Epoch:7 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch   7, local model 0, internal_epoch   1,  Average loss: 0.0210, Accuracy: 2060/3010 (68.4385%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.6824, Accuracy: 6348/10000 (63.4800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 1, internal_epoch   1,  Average loss: 0.0097, Accuracy: 5077/5805 (87.4591%), train_poison_data_count: 5805
Global model norm: 1.8500635703222197.
Norm before scaling: 3.3337878553131417. Distance: 2.7274275230057925
Total norm for 5 adversaries is: 3.3337878553131417. distance: 2.7274275230057925
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.5271, Accuracy: 4648/8991 (51.6961%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 2, internal_epoch   1,  Average loss: 0.0156, Accuracy: 3711/4779 (77.6522%), train_poison_data_count: 4779
Global model norm: 1.8500635703222197.
Norm before scaling: 3.5344696221135576. Distance: 2.89442169764638
Total norm for 5 adversaries is: 3.5344696221135576. distance: 2.89442169764638
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.0458, Accuracy: 6062/8991 (67.4230%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 3, internal_epoch   1,  Average loss: 0.0140, Accuracy: 4198/5123 (81.9442%), train_poison_data_count: 5123
Global model norm: 1.8500635703222197.
Norm before scaling: 3.577921099454388. Distance: 2.9631429626396724
Total norm for 5 adversaries is: 3.577921099454388. distance: 2.9631429626396724
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.2758, Accuracy: 6207/8991 (69.0357%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 4, internal_epoch   1,  Average loss: 0.0162, Accuracy: 3439/4462 (77.0731%), train_poison_data_count: 4462
Global model norm: 1.8500635703222197.
Norm before scaling: 3.3473424419448063. Distance: 2.6434800102584908
Total norm for 5 adversaries is: 3.3473424419448063. distance: 2.6434800102584908
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.3284, Accuracy: 5610/8991 (62.3957%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 5, internal_epoch   1,  Average loss: 0.0143, Accuracy: 3088/3841 (80.3957%), train_poison_data_count: 3841
Global model norm: 1.8500635703222197.
Norm before scaling: 3.2449505533880028. Distance: 2.537006097090826
Total norm for 5 adversaries is: 3.2449505533880028. distance: 2.537006097090826
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.0485, Accuracy: 5105/8991 (56.7790%)
___Train Local_Simple,  epoch   7, local model 6, internal_epoch   1,  Average loss: 0.0173, Accuracy: 2180/2945 (74.0238%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.9121, Accuracy: 5003/10000 (50.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 7, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2277/2756 (82.6197%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.4642, Accuracy: 4375/10000 (43.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 8, internal_epoch   1,  Average loss: 0.0196, Accuracy: 2431/3437 (70.7303%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.4678, Accuracy: 5831/10000 (58.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 9, internal_epoch   1,  Average loss: 0.0114, Accuracy: 4909/5809 (84.5068%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 3.3696, Accuracy: 3481/10000 (34.8100%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   7, local model 10, internal_epoch   1,  Average loss: 0.0127, Accuracy: 2084/2592 (80.4012%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.1701, Accuracy: 3502/10000 (35.0200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   7, local model 11, internal_epoch   1,  Average loss: 0.0203, Accuracy: 1869/2510 (74.4622%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.3718, Accuracy: 5808/10000 (58.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 12, internal_epoch   1,  Average loss: 0.0090, Accuracy: 3829/4373 (87.5600%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 3.2462, Accuracy: 3463/10000 (34.6300%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   7, local model 13, internal_epoch   1,  Average loss: 0.0123, Accuracy: 3620/4339 (83.4294%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.4715, Accuracy: 4756/10000 (47.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 14, internal_epoch   1,  Average loss: 0.0175, Accuracy: 2088/2782 (75.0539%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.4015, Accuracy: 4476/10000 (44.7600%), Attack Success Rate:0/10000(0.000)
time spent on training: 71.61540007591248
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.71115442 0.75966074 0.
 1.         1.         0.01068241]
___Test Target_Simple poisoned: False, epoch: 7: Average loss: 2.0594, Accuracy: 3209/10000 (32.0900%), Attack Success Rate:2/10000(0.020)
___Test Target_Simple poisoned: True, epoch: 7: Average loss: 2.0814, Accuracy: 2648/8991 (29.4517%)
Done in 79.44599175453186 sec.
Server Epoch:8 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch   8, local model 0, internal_epoch   1,  Average loss: 0.0211, Accuracy: 2059/3010 (68.4053%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6612, Accuracy: 6355/10000 (63.5500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 1, internal_epoch   1,  Average loss: 0.0096, Accuracy: 5079/5805 (87.4935%), train_poison_data_count: 5805
Global model norm: 1.8567024707024344.
Norm before scaling: 3.3493986814202352. Distance: 2.7278682347578984
Total norm for 5 adversaries is: 3.3493986814202352. distance: 2.7278682347578984
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 2.5650, Accuracy: 4665/8991 (51.8852%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 2, internal_epoch   1,  Average loss: 0.0154, Accuracy: 3718/4779 (77.7987%), train_poison_data_count: 4779
Global model norm: 1.8567024707024344.
Norm before scaling: 3.524715352571097. Distance: 2.8581803958411895
Total norm for 5 adversaries is: 3.524715352571097. distance: 2.8581803958411895
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.0127, Accuracy: 6068/8991 (67.4897%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 3, internal_epoch   1,  Average loss: 0.0138, Accuracy: 4253/5123 (83.0178%), train_poison_data_count: 5123
Global model norm: 1.8567024707024344.
Norm before scaling: 3.5938939604742517. Distance: 2.9562147013389604
Total norm for 5 adversaries is: 3.5938939604742517. distance: 2.9562147013389604
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.3344, Accuracy: 6021/8991 (66.9670%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 4, internal_epoch   1,  Average loss: 0.0160, Accuracy: 3461/4462 (77.5661%), train_poison_data_count: 4462
Global model norm: 1.8567024707024344.
Norm before scaling: 3.3767992098202084. Distance: 2.6481878562455785
Total norm for 5 adversaries is: 3.3767992098202084. distance: 2.6481878562455785
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.3539, Accuracy: 5458/8991 (60.7051%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 5, internal_epoch   1,  Average loss: 0.0140, Accuracy: 3132/3841 (81.5413%), train_poison_data_count: 3841
Global model norm: 1.8567024707024344.
Norm before scaling: 3.2609839062754213. Distance: 2.5260877362536758
Total norm for 5 adversaries is: 3.2609839062754213. distance: 2.5260877362536758
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 2.0214, Accuracy: 5220/8991 (58.0581%)
___Train Local_Simple,  epoch   8, local model 6, internal_epoch   1,  Average loss: 0.0170, Accuracy: 2185/2945 (74.1935%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.8791, Accuracy: 5067/10000 (50.6700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 7, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2270/2756 (82.3657%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.4218, Accuracy: 4488/10000 (44.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 8, internal_epoch   1,  Average loss: 0.0193, Accuracy: 2501/3437 (72.7669%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.4338, Accuracy: 5657/10000 (56.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 9, internal_epoch   1,  Average loss: 0.0114, Accuracy: 4949/5809 (85.1954%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 3.3366, Accuracy: 3542/10000 (35.4200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   8, local model 10, internal_epoch   1,  Average loss: 0.0127, Accuracy: 2076/2592 (80.0926%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.0752, Accuracy: 3798/10000 (37.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 11, internal_epoch   1,  Average loss: 0.0202, Accuracy: 1845/2510 (73.5060%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.4039, Accuracy: 5704/10000 (57.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 12, internal_epoch   1,  Average loss: 0.0088, Accuracy: 3807/4373 (87.0569%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 3.2664, Accuracy: 3396/10000 (33.9600%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   8, local model 13, internal_epoch   1,  Average loss: 0.0122, Accuracy: 3656/4339 (84.2590%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.5191, Accuracy: 4676/10000 (46.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 14, internal_epoch   1,  Average loss: 0.0172, Accuracy: 2083/2782 (74.8742%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.4724, Accuracy: 4074/10000 (40.7400%), Attack Success Rate:0/10000(0.000)
time spent on training: 76.59017014503479
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.6045275  0.81183896 0.
 1.         1.         0.10460021]
___Test Target_Simple poisoned: False, epoch: 8: Average loss: 2.0345, Accuracy: 3280/10000 (32.8000%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 8: Average loss: 2.0586, Accuracy: 2727/8991 (30.3303%)
Done in 84.42935633659363 sec.
Server Epoch:9 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch   9, local model 0, internal_epoch   1,  Average loss: 0.0210, Accuracy: 2089/3010 (69.4020%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.6709, Accuracy: 6303/10000 (63.0300%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 1, internal_epoch   1,  Average loss: 0.0095, Accuracy: 5070/5805 (87.3385%), train_poison_data_count: 5805
Global model norm: 1.864045184455509.
Norm before scaling: 3.366552731188109. Distance: 2.7302633707630606
Total norm for 5 adversaries is: 3.366552731188109. distance: 2.7302633707630606
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.5642, Accuracy: 4694/8991 (52.2078%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 2, internal_epoch   1,  Average loss: 0.0155, Accuracy: 3710/4779 (77.6313%), train_poison_data_count: 4779
Global model norm: 1.864045184455509.
Norm before scaling: 3.5150272115465335. Distance: 2.823306958759555
Total norm for 5 adversaries is: 3.5150272115465335. distance: 2.823306958759555
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 0.9610, Accuracy: 6104/8991 (67.8901%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 3, internal_epoch   1,  Average loss: 0.0138, Accuracy: 4217/5123 (82.3150%), train_poison_data_count: 5123
Global model norm: 1.864045184455509.
Norm before scaling: 3.5920042358747284. Distance: 2.933254826824522
Total norm for 5 adversaries is: 3.5920042358747284. distance: 2.933254826824522
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.3356, Accuracy: 5987/8991 (66.5888%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 4, internal_epoch   1,  Average loss: 0.0160, Accuracy: 3451/4462 (77.3420%), train_poison_data_count: 4462
Global model norm: 1.864045184455509.
Norm before scaling: 3.3735272055038203. Distance: 2.613778789695563
Total norm for 5 adversaries is: 3.3735272055038203. distance: 2.613778789695563
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.3538, Accuracy: 5495/8991 (61.1167%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 5, internal_epoch   1,  Average loss: 0.0141, Accuracy: 3124/3841 (81.3330%), train_poison_data_count: 3841
Global model norm: 1.864045184455509.
Norm before scaling: 3.2556968057981353. Distance: 2.4968176614338984
Total norm for 5 adversaries is: 3.2556968057981353. distance: 2.4968176614338984
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.9839, Accuracy: 5314/8991 (59.1035%)
___Train Local_Simple,  epoch   9, local model 6, internal_epoch   1,  Average loss: 0.0171, Accuracy: 2187/2945 (74.2615%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.8248, Accuracy: 5271/10000 (52.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   9, local model 7, internal_epoch   1,  Average loss: 0.0136, Accuracy: 2266/2756 (82.2206%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.4034, Accuracy: 4393/10000 (43.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   9, local model 8, internal_epoch   1,  Average loss: 0.0191, Accuracy: 2495/3437 (72.5924%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.4204, Accuracy: 5924/10000 (59.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   9, local model 9, internal_epoch   1,  Average loss: 0.0114, Accuracy: 4912/5809 (84.5584%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 3.2558, Accuracy: 3482/10000 (34.8200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   9, local model 10, internal_epoch   1,  Average loss: 0.0122, Accuracy: 2091/2592 (80.6713%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.1590, Accuracy: 3503/10000 (35.0300%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   9, local model 11, internal_epoch   1,  Average loss: 0.0198, Accuracy: 1890/2510 (75.2988%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.3439, Accuracy: 5830/10000 (58.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   9, local model 12, internal_epoch   1,  Average loss: 0.0089, Accuracy: 3826/4373 (87.4914%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 3.2297, Accuracy: 3360/10000 (33.6000%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch   9, local model 13, internal_epoch   1,  Average loss: 0.0120, Accuracy: 3662/4339 (84.3973%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.4200, Accuracy: 4752/10000 (47.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   9, local model 14, internal_epoch   1,  Average loss: 0.0172, Accuracy: 2062/2782 (74.1193%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.4213, Accuracy: 4111/10000 (41.1100%), Attack Success Rate:1/10000(0.010)
time spent on training: 86.05851984024048
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.53715158 0.70367774 0.
 1.         1.         0.30264032]
___Test Target_Simple poisoned: False, epoch: 9: Average loss: 2.0102, Accuracy: 3360/10000 (33.6000%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 9: Average loss: 2.0360, Accuracy: 2810/8991 (31.2535%)
Done in 94.82668805122375 sec.
Server Epoch:10 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  10, local model 0, internal_epoch   1,  Average loss: 0.0207, Accuracy: 2080/3010 (69.1030%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.6341, Accuracy: 6487/10000 (64.8700%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 1, internal_epoch   1,  Average loss: 0.0096, Accuracy: 5070/5805 (87.3385%), train_poison_data_count: 5805
Global model norm: 1.8720798641432776.
Norm before scaling: 3.3398835832328557. Distance: 2.679994526615532
Total norm for 5 adversaries is: 3.3398835832328557. distance: 2.679994526615532
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.5123, Accuracy: 4665/8991 (51.8852%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 2, internal_epoch   1,  Average loss: 0.0152, Accuracy: 3759/4779 (78.6566%), train_poison_data_count: 4779
Global model norm: 1.8720798641432776.
Norm before scaling: 3.52874248226823. Distance: 2.8084547833481466
Total norm for 5 adversaries is: 3.52874248226823. distance: 2.8084547833481466
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.0063, Accuracy: 6140/8991 (68.2905%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 3, internal_epoch   1,  Average loss: 0.0137, Accuracy: 4235/5123 (82.6664%), train_poison_data_count: 5123
Global model norm: 1.8720798641432776.
Norm before scaling: 3.585175077879781. Distance: 2.902687596609098
Total norm for 5 adversaries is: 3.585175077879781. distance: 2.902687596609098
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.2890, Accuracy: 6138/8991 (68.2683%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 4, internal_epoch   1,  Average loss: 0.0158, Accuracy: 3484/4462 (78.0816%), train_poison_data_count: 4462
Global model norm: 1.8720798641432776.
Norm before scaling: 3.404108476705641. Distance: 2.6180947624349105
Total norm for 5 adversaries is: 3.404108476705641. distance: 2.6180947624349105
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.3783, Accuracy: 5321/8991 (59.1814%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 5, internal_epoch   1,  Average loss: 0.0137, Accuracy: 3137/3841 (81.6714%), train_poison_data_count: 3841
Global model norm: 1.8720798641432776.
Norm before scaling: 3.2681654398304336. Distance: 2.4822720438162533
Total norm for 5 adversaries is: 3.2681654398304336. distance: 2.4822720438162533
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.0222, Accuracy: 5224/8991 (58.1025%)
___Train Local_Simple,  epoch  10, local model 6, internal_epoch   1,  Average loss: 0.0172, Accuracy: 2211/2945 (75.0764%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.7755, Accuracy: 5284/10000 (52.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  10, local model 7, internal_epoch   1,  Average loss: 0.0136, Accuracy: 2276/2756 (82.5835%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.3425, Accuracy: 4493/10000 (44.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  10, local model 8, internal_epoch   1,  Average loss: 0.0191, Accuracy: 2495/3437 (72.5924%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.4187, Accuracy: 5745/10000 (57.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  10, local model 9, internal_epoch   1,  Average loss: 0.0112, Accuracy: 4940/5809 (85.0405%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 3.3263, Accuracy: 3475/10000 (34.7500%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  10, local model 10, internal_epoch   1,  Average loss: 0.0125, Accuracy: 2077/2592 (80.1312%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.1138, Accuracy: 3488/10000 (34.8800%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  10, local model 11, internal_epoch   1,  Average loss: 0.0197, Accuracy: 1854/2510 (73.8645%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.3674, Accuracy: 5805/10000 (58.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  10, local model 12, internal_epoch   1,  Average loss: 0.0087, Accuracy: 3845/4373 (87.9259%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 3.1914, Accuracy: 3388/10000 (33.8800%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  10, local model 13, internal_epoch   1,  Average loss: 0.0118, Accuracy: 3683/4339 (84.8813%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.4296, Accuracy: 4778/10000 (47.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  10, local model 14, internal_epoch   1,  Average loss: 0.0170, Accuracy: 2120/2782 (76.2042%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.2861, Accuracy: 4591/10000 (45.9100%), Attack Success Rate:0/10000(0.000)
time spent on training: 88.50216698646545
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.8203603  0.82455056 0.
 1.         1.         0.13325043]
___Test Target_Simple poisoned: False, epoch: 10: Average loss: 1.9864, Accuracy: 3397/10000 (33.9700%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 10: Average loss: 2.0142, Accuracy: 2849/8991 (31.6872%)
Done in 96.34228754043579 sec.
Server Epoch:11 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  11, local model 0, internal_epoch   1,  Average loss: 0.0201, Accuracy: 2107/3010 (70.0000%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.6338, Accuracy: 6507/10000 (65.0700%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 1, internal_epoch   1,  Average loss: 0.0095, Accuracy: 5084/5805 (87.5797%), train_poison_data_count: 5805
Global model norm: 1.8815457209846482.
Norm before scaling: 3.3352170072352956. Distance: 2.651780171133966
Total norm for 5 adversaries is: 3.3352170072352956. distance: 2.651780171133966
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 2.4847, Accuracy: 4648/8991 (51.6961%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 2, internal_epoch   1,  Average loss: 0.0152, Accuracy: 3770/4779 (78.8868%), train_poison_data_count: 4779
Global model norm: 1.8815457209846482.
Norm before scaling: 3.5514643214594064. Distance: 2.8093952420092076
Total norm for 5 adversaries is: 3.5514643214594064. distance: 2.8093952420092076
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.0056, Accuracy: 6095/8991 (67.7900%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 3, internal_epoch   1,  Average loss: 0.0137, Accuracy: 4250/5123 (82.9592%), train_poison_data_count: 5123
Global model norm: 1.8815457209846482.
Norm before scaling: 3.6204576643486415. Distance: 2.91615788699779
Total norm for 5 adversaries is: 3.6204576643486415. distance: 2.91615788699779
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.3099, Accuracy: 6148/8991 (68.3795%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 4, internal_epoch   1,  Average loss: 0.0156, Accuracy: 3501/4462 (78.4626%), train_poison_data_count: 4462
Global model norm: 1.8815457209846482.
Norm before scaling: 3.399114010879888. Distance: 2.5816318589735707
Total norm for 5 adversaries is: 3.399114010879888. distance: 2.5816318589735707
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.3409, Accuracy: 5450/8991 (60.6162%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 5, internal_epoch   1,  Average loss: 0.0137, Accuracy: 3141/3841 (81.7756%), train_poison_data_count: 3841
Global model norm: 1.8815457209846482.
Norm before scaling: 3.2628424804526026. Distance: 2.4478529143993613
Total norm for 5 adversaries is: 3.2628424804526026. distance: 2.4478529143993613
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.9853, Accuracy: 5332/8991 (59.3037%)
___Train Local_Simple,  epoch  11, local model 6, internal_epoch   1,  Average loss: 0.0170, Accuracy: 2193/2945 (74.4652%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.8077, Accuracy: 5198/10000 (51.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 7, internal_epoch   1,  Average loss: 0.0133, Accuracy: 2256/2756 (81.8578%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.3250, Accuracy: 4555/10000 (45.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 8, internal_epoch   1,  Average loss: 0.0188, Accuracy: 2499/3437 (72.7088%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.4087, Accuracy: 6051/10000 (60.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 9, internal_epoch   1,  Average loss: 0.0112, Accuracy: 4957/5809 (85.3331%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 3.2893, Accuracy: 3475/10000 (34.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 10, internal_epoch   1,  Average loss: 0.0121, Accuracy: 2108/2592 (81.3272%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.0720, Accuracy: 3640/10000 (36.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 11, internal_epoch   1,  Average loss: 0.0196, Accuracy: 1870/2510 (74.5020%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.3600, Accuracy: 5737/10000 (57.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 12, internal_epoch   1,  Average loss: 0.0084, Accuracy: 3895/4373 (89.0693%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 3.1974, Accuracy: 3423/10000 (34.2300%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  11, local model 13, internal_epoch   1,  Average loss: 0.0119, Accuracy: 3677/4339 (84.7430%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.3699, Accuracy: 4783/10000 (47.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 14, internal_epoch   1,  Average loss: 0.0170, Accuracy: 2100/2782 (75.4853%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.3440, Accuracy: 4270/10000 (42.7000%), Attack Success Rate:0/10000(0.000)
time spent on training: 93.4675087928772
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.67290842 0.86484158 0.
 1.         1.         0.29449814]
___Test Target_Simple poisoned: False, epoch: 11: Average loss: 1.9627, Accuracy: 3425/10000 (34.2500%), Attack Success Rate:2/10000(0.020)
___Test Target_Simple poisoned: True, epoch: 11: Average loss: 1.9921, Accuracy: 2893/8991 (32.1766%)
Done in 101.47863245010376 sec.
Server Epoch:12 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  12, local model 0, internal_epoch   1,  Average loss: 0.0201, Accuracy: 2141/3010 (71.1296%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.6194, Accuracy: 6422/10000 (64.2200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 1, internal_epoch   1,  Average loss: 0.0096, Accuracy: 5098/5805 (87.8208%), train_poison_data_count: 5805
Global model norm: 1.8916392482613444.
Norm before scaling: 3.3696284463415314. Distance: 2.6695141093725576
Total norm for 5 adversaries is: 3.3696284463415314. distance: 2.6695141093725576
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 2.5248, Accuracy: 4654/8991 (51.7629%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 2, internal_epoch   1,  Average loss: 0.0152, Accuracy: 3719/4779 (77.8196%), train_poison_data_count: 4779
Global model norm: 1.8916392482613444.
Norm before scaling: 3.5514625760147056. Distance: 2.7806992574882496
Total norm for 5 adversaries is: 3.5514625760147056. distance: 2.7806992574882496
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 0.9919, Accuracy: 6191/8991 (68.8577%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 3, internal_epoch   1,  Average loss: 0.0135, Accuracy: 4243/5123 (82.8226%), train_poison_data_count: 5123
Global model norm: 1.8916392482613444.
Norm before scaling: 3.630494656028119. Distance: 2.9023133554830927
Total norm for 5 adversaries is: 3.630494656028119. distance: 2.9023133554830927
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.3358, Accuracy: 6058/8991 (67.3785%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 4, internal_epoch   1,  Average loss: 0.0155, Accuracy: 3468/4462 (77.7230%), train_poison_data_count: 4462
Global model norm: 1.8916392482613444.
Norm before scaling: 3.408168427473809. Distance: 2.555687105091717
Total norm for 5 adversaries is: 3.408168427473809. distance: 2.555687105091717
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.3832, Accuracy: 5329/8991 (59.2704%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 5, internal_epoch   1,  Average loss: 0.0136, Accuracy: 3140/3841 (81.7495%), train_poison_data_count: 3841
Global model norm: 1.8916392482613444.
Norm before scaling: 3.2764725555895837. Distance: 2.4378600221463382
Total norm for 5 adversaries is: 3.2764725555895837. distance: 2.4378600221463382
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.9623, Accuracy: 5264/8991 (58.5474%)
___Train Local_Simple,  epoch  12, local model 6, internal_epoch   1,  Average loss: 0.0168, Accuracy: 2202/2945 (74.7708%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.8578, Accuracy: 4889/10000 (48.8900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  12, local model 7, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2284/2756 (82.8737%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.3091, Accuracy: 4633/10000 (46.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  12, local model 8, internal_epoch   1,  Average loss: 0.0188, Accuracy: 2506/3437 (72.9124%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.4357, Accuracy: 5719/10000 (57.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  12, local model 9, internal_epoch   1,  Average loss: 0.0110, Accuracy: 4936/5809 (84.9716%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 3.3246, Accuracy: 3498/10000 (34.9800%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch  12, local model 10, internal_epoch   1,  Average loss: 0.0120, Accuracy: 2114/2592 (81.5586%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.9959, Accuracy: 3990/10000 (39.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  12, local model 11, internal_epoch   1,  Average loss: 0.0193, Accuracy: 1884/2510 (75.0598%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.3521, Accuracy: 5844/10000 (58.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  12, local model 12, internal_epoch   1,  Average loss: 0.0086, Accuracy: 3848/4373 (87.9945%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 3.1489, Accuracy: 3379/10000 (33.7900%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch  12, local model 13, internal_epoch   1,  Average loss: 0.0118, Accuracy: 3656/4339 (84.2590%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.4367, Accuracy: 4646/10000 (46.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  12, local model 14, internal_epoch   1,  Average loss: 0.0167, Accuracy: 2121/2782 (76.2401%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.3315, Accuracy: 4336/10000 (43.3600%), Attack Success Rate:0/10000(0.000)
time spent on training: 101.10591650009155
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.65668588 0.76923434 0.
 1.         1.         0.19295336]
___Test Target_Simple poisoned: False, epoch: 12: Average loss: 1.9416, Accuracy: 3464/10000 (34.6400%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 12: Average loss: 1.9725, Accuracy: 2963/8991 (32.9552%)
Done in 109.01103854179382 sec.
Server Epoch:13 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  13, local model 0, internal_epoch   1,  Average loss: 0.0200, Accuracy: 2129/3010 (70.7309%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.6125, Accuracy: 6405/10000 (64.0500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 1, internal_epoch   1,  Average loss: 0.0096, Accuracy: 5085/5805 (87.5969%), train_poison_data_count: 5805
Global model norm: 1.9019571338359824.
Norm before scaling: 3.359882121289007. Distance: 2.643110561372004
Total norm for 5 adversaries is: 3.359882121289007. distance: 2.643110561372004
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 2.4244, Accuracy: 4715/8991 (52.4413%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 2, internal_epoch   1,  Average loss: 0.0150, Accuracy: 3745/4779 (78.3637%), train_poison_data_count: 4779
Global model norm: 1.9019571338359824.
Norm before scaling: 3.5518931378021104. Distance: 2.7612795554738354
Total norm for 5 adversaries is: 3.5518931378021104. distance: 2.7612795554738354
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.0015, Accuracy: 6154/8991 (68.4462%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 3, internal_epoch   1,  Average loss: 0.0134, Accuracy: 4270/5123 (83.3496%), train_poison_data_count: 5123
Global model norm: 1.9019571338359824.
Norm before scaling: 3.6191646041940366. Distance: 2.870112701755171
Total norm for 5 adversaries is: 3.6191646041940366. distance: 2.870112701755171
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.3165, Accuracy: 6072/8991 (67.5342%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 4, internal_epoch   1,  Average loss: 0.0153, Accuracy: 3474/4462 (77.8575%), train_poison_data_count: 4462
Global model norm: 1.9019571338359824.
Norm before scaling: 3.3990414839096004. Distance: 2.5216883215654122
Total norm for 5 adversaries is: 3.3990414839096004. distance: 2.5216883215654122
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.3458, Accuracy: 5404/8991 (60.1045%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 5, internal_epoch   1,  Average loss: 0.0134, Accuracy: 3150/3841 (82.0099%), train_poison_data_count: 3841
Global model norm: 1.9019571338359824.
Norm before scaling: 3.284183898070078. Distance: 2.419208461476217
Total norm for 5 adversaries is: 3.284183898070078. distance: 2.419208461476217
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.9901, Accuracy: 5195/8991 (57.7800%)
___Train Local_Simple,  epoch  13, local model 6, internal_epoch   1,  Average loss: 0.0167, Accuracy: 2195/2945 (74.5331%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.8647, Accuracy: 4821/10000 (48.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 7, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2295/2756 (83.2729%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.2772, Accuracy: 4478/10000 (44.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 8, internal_epoch   1,  Average loss: 0.0185, Accuracy: 2524/3437 (73.4361%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.4340, Accuracy: 5765/10000 (57.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 9, internal_epoch   1,  Average loss: 0.0110, Accuracy: 4952/5809 (85.2470%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 3.2361, Accuracy: 3478/10000 (34.7800%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  13, local model 10, internal_epoch   1,  Average loss: 0.0118, Accuracy: 2117/2592 (81.6744%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.0359, Accuracy: 3753/10000 (37.5300%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  13, local model 11, internal_epoch   1,  Average loss: 0.0192, Accuracy: 1874/2510 (74.6614%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.3603, Accuracy: 5713/10000 (57.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 12, internal_epoch   1,  Average loss: 0.0083, Accuracy: 3900/4373 (89.1836%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 3.1286, Accuracy: 3432/10000 (34.3200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  13, local model 13, internal_epoch   1,  Average loss: 0.0115, Accuracy: 3702/4339 (85.3192%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.3776, Accuracy: 4811/10000 (48.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 14, internal_epoch   1,  Average loss: 0.0164, Accuracy: 2148/2782 (77.2106%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.4220, Accuracy: 4220/10000 (42.2000%), Attack Success Rate:0/10000(0.000)
time spent on training: 104.51672291755676
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.55067539 0.6646116  0.
 1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 13: Average loss: 1.9247, Accuracy: 3499/10000 (34.9900%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 13: Average loss: 1.9580, Accuracy: 2980/8991 (33.1443%)
Done in 112.4090666770935 sec.
Server Epoch:14 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  14, local model 0, internal_epoch   1,  Average loss: 0.0200, Accuracy: 2118/3010 (70.3654%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.5960, Accuracy: 6458/10000 (64.5800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 1, internal_epoch   1,  Average loss: 0.0094, Accuracy: 5084/5805 (87.5797%), train_poison_data_count: 5805
Global model norm: 1.9117128235694305.
Norm before scaling: 3.3573294155844366. Distance: 2.6195552307178036
Total norm for 5 adversaries is: 3.3573294155844366. distance: 2.6195552307178036
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 2.4014, Accuracy: 4678/8991 (52.0298%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 2, internal_epoch   1,  Average loss: 0.0148, Accuracy: 3761/4779 (78.6985%), train_poison_data_count: 4779
Global model norm: 1.9117128235694305.
Norm before scaling: 3.551744655598397. Distance: 2.733790482307224
Total norm for 5 adversaries is: 3.551744655598397. distance: 2.733790482307224
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 0.9503, Accuracy: 6130/8991 (68.1793%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 3, internal_epoch   1,  Average loss: 0.0134, Accuracy: 4258/5123 (83.1154%), train_poison_data_count: 5123
Global model norm: 1.9117128235694305.
Norm before scaling: 3.633885772656568. Distance: 2.860134670047994
Total norm for 5 adversaries is: 3.633885772656568. distance: 2.860134670047994
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.2640, Accuracy: 6223/8991 (69.2137%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 4, internal_epoch   1,  Average loss: 0.0154, Accuracy: 3529/4462 (79.0901%), train_poison_data_count: 4462
Global model norm: 1.9117128235694305.
Norm before scaling: 3.4036562782522326. Distance: 2.5003873524989326
Total norm for 5 adversaries is: 3.4036562782522326. distance: 2.5003873524989326
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.2875, Accuracy: 5678/8991 (63.1520%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 5, internal_epoch   1,  Average loss: 0.0134, Accuracy: 3139/3841 (81.7235%), train_poison_data_count: 3841
Global model norm: 1.9117128235694305.
Norm before scaling: 3.2682718018363635. Distance: 2.3763900503659476
Total norm for 5 adversaries is: 3.2682718018363635. distance: 2.3763900503659476
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.9563, Accuracy: 5274/8991 (58.6587%)
___Train Local_Simple,  epoch  14, local model 6, internal_epoch   1,  Average loss: 0.0169, Accuracy: 2179/2945 (73.9898%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.7610, Accuracy: 5148/10000 (51.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 7, internal_epoch   1,  Average loss: 0.0131, Accuracy: 2290/2756 (83.0914%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.2312, Accuracy: 4604/10000 (46.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 8, internal_epoch   1,  Average loss: 0.0187, Accuracy: 2516/3437 (73.2034%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.3584, Accuracy: 5917/10000 (59.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 9, internal_epoch   1,  Average loss: 0.0108, Accuracy: 4955/5809 (85.2987%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 3.1593, Accuracy: 3530/10000 (35.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 10, internal_epoch   1,  Average loss: 0.0119, Accuracy: 2094/2592 (80.7870%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.0143, Accuracy: 3664/10000 (36.6400%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  14, local model 11, internal_epoch   1,  Average loss: 0.0191, Accuracy: 1910/2510 (76.0956%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.2861, Accuracy: 6005/10000 (60.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 12, internal_epoch   1,  Average loss: 0.0080, Accuracy: 3907/4373 (89.3437%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 3.1080, Accuracy: 3421/10000 (34.2100%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  14, local model 13, internal_epoch   1,  Average loss: 0.0115, Accuracy: 3693/4339 (85.1118%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.3820, Accuracy: 4761/10000 (47.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 14, internal_epoch   1,  Average loss: 0.0163, Accuracy: 2130/2782 (76.5636%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.2767, Accuracy: 4539/10000 (45.3900%), Attack Success Rate:0/10000(0.000)
time spent on training: 112.35225749015808
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.71700383 0.85150549 0.
 1.         1.         0.21680957]
___Test Target_Simple poisoned: False, epoch: 14: Average loss: 1.9045, Accuracy: 3532/10000 (35.3200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 14: Average loss: 1.9392, Accuracy: 3036/8991 (33.7671%)
Done in 120.32537794113159 sec.
Server Epoch:15 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  15, local model 0, internal_epoch   1,  Average loss: 0.0196, Accuracy: 2152/3010 (71.4950%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.6007, Accuracy: 6511/10000 (65.1100%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 1, internal_epoch   1,  Average loss: 0.0094, Accuracy: 5085/5805 (87.5969%), train_poison_data_count: 5805
Global model norm: 1.9235208178772725.
Norm before scaling: 3.3803463727903122. Distance: 2.629209866498817
Total norm for 5 adversaries is: 3.3803463727903122. distance: 2.629209866498817
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 2.4489, Accuracy: 4630/8991 (51.4959%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 2, internal_epoch   1,  Average loss: 0.0149, Accuracy: 3733/4779 (78.1126%), train_poison_data_count: 4779
Global model norm: 1.9235208178772725.
Norm before scaling: 3.548305407895464. Distance: 2.7068382733851943
Total norm for 5 adversaries is: 3.548305407895464. distance: 2.7068382733851943
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 0.9111, Accuracy: 6233/8991 (69.3249%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 3, internal_epoch   1,  Average loss: 0.0134, Accuracy: 4270/5123 (83.3496%), train_poison_data_count: 5123
Global model norm: 1.9235208178772725.
Norm before scaling: 3.6212306979227553. Distance: 2.822179963286931
Total norm for 5 adversaries is: 3.6212306979227553. distance: 2.822179963286931
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.2566, Accuracy: 6161/8991 (68.5241%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 4, internal_epoch   1,  Average loss: 0.0153, Accuracy: 3516/4462 (78.7987%), train_poison_data_count: 4462
Global model norm: 1.9235208178772725.
Norm before scaling: 3.426944409060072. Distance: 2.50213474683535
Total norm for 5 adversaries is: 3.426944409060072. distance: 2.50213474683535
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3452, Accuracy: 5409/8991 (60.1602%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 5, internal_epoch   1,  Average loss: 0.0131, Accuracy: 3186/3841 (82.9471%), train_poison_data_count: 3841
Global model norm: 1.9235208178772725.
Norm before scaling: 3.294249008568803. Distance: 2.3795170242652834
Total norm for 5 adversaries is: 3.294249008568803. distance: 2.3795170242652834
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.9402, Accuracy: 5338/8991 (59.3705%)
___Train Local_Simple,  epoch  15, local model 6, internal_epoch   1,  Average loss: 0.0167, Accuracy: 2183/2945 (74.1256%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.7348, Accuracy: 5263/10000 (52.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 7, internal_epoch   1,  Average loss: 0.0129, Accuracy: 2289/2756 (83.0552%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.2453, Accuracy: 4531/10000 (45.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 8, internal_epoch   1,  Average loss: 0.0184, Accuracy: 2530/3437 (73.6107%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.3564, Accuracy: 6074/10000 (60.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 9, internal_epoch   1,  Average loss: 0.0107, Accuracy: 4968/5809 (85.5225%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 3.1745, Accuracy: 3506/10000 (35.0600%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  15, local model 10, internal_epoch   1,  Average loss: 0.0115, Accuracy: 2135/2592 (82.3688%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.0212, Accuracy: 3685/10000 (36.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 11, internal_epoch   1,  Average loss: 0.0191, Accuracy: 1875/2510 (74.7012%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.2917, Accuracy: 5816/10000 (58.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 12, internal_epoch   1,  Average loss: 0.0079, Accuracy: 3900/4373 (89.1836%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 3.1423, Accuracy: 3358/10000 (33.5800%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch  15, local model 13, internal_epoch   1,  Average loss: 0.0114, Accuracy: 3686/4339 (84.9504%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.3364, Accuracy: 4846/10000 (48.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 14, internal_epoch   1,  Average loss: 0.0164, Accuracy: 2157/2782 (77.5341%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.2897, Accuracy: 4475/10000 (44.7500%), Attack Success Rate:0/10000(0.000)
time spent on training: 117.5218448638916
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.75795683 0.82903605 0.
 1.         1.         0.17772612]
___Test Target_Simple poisoned: False, epoch: 15: Average loss: 1.8863, Accuracy: 3564/10000 (35.6400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 15: Average loss: 1.9224, Accuracy: 3075/8991 (34.2009%)
Done in 125.47671103477478 sec.
Server Epoch:16 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  16, local model 0, internal_epoch   1,  Average loss: 0.0198, Accuracy: 2138/3010 (71.0299%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.5644, Accuracy: 6540/10000 (65.4000%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 1, internal_epoch   1,  Average loss: 0.0093, Accuracy: 5106/5805 (87.9587%), train_poison_data_count: 5805
Global model norm: 1.9359979652401973.
Norm before scaling: 3.3704966417428026. Distance: 2.592497557709738
Total norm for 5 adversaries is: 3.3704966417428026. distance: 2.592497557709738
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 2.3659, Accuracy: 4684/8991 (52.0965%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 2, internal_epoch   1,  Average loss: 0.0148, Accuracy: 3781/4779 (79.1170%), train_poison_data_count: 4779
Global model norm: 1.9359979652401973.
Norm before scaling: 3.5636369998910085. Distance: 2.696235034460732
Total norm for 5 adversaries is: 3.5636369998910085. distance: 2.696235034460732
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 0.9004, Accuracy: 6265/8991 (69.6808%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 3, internal_epoch   1,  Average loss: 0.0133, Accuracy: 4265/5123 (83.2520%), train_poison_data_count: 5123
Global model norm: 1.9359979652401973.
Norm before scaling: 3.6253984166577324. Distance: 2.8051533006741725
Total norm for 5 adversaries is: 3.6253984166577324. distance: 2.8051533006741725
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.2268, Accuracy: 6260/8991 (69.6252%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 4, internal_epoch   1,  Average loss: 0.0151, Accuracy: 3508/4462 (78.6195%), train_poison_data_count: 4462
Global model norm: 1.9359979652401973.
Norm before scaling: 3.4099467804187333. Distance: 2.4500402019082865
Total norm for 5 adversaries is: 3.4099467804187333. distance: 2.4500402019082865
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.2704, Accuracy: 5703/8991 (63.4301%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 5, internal_epoch   1,  Average loss: 0.0133, Accuracy: 3142/3841 (81.8016%), train_poison_data_count: 3841
Global model norm: 1.9359979652401973.
Norm before scaling: 3.2897046837258705. Distance: 2.351463138344127
Total norm for 5 adversaries is: 3.2897046837258705. distance: 2.351463138344127
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.9861, Accuracy: 5069/8991 (56.3786%)
___Train Local_Simple,  epoch  16, local model 6, internal_epoch   1,  Average loss: 0.0164, Accuracy: 2211/2945 (75.0764%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.7214, Accuracy: 5353/10000 (53.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 7, internal_epoch   1,  Average loss: 0.0129, Accuracy: 2274/2756 (82.5109%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.2058, Accuracy: 4581/10000 (45.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 8, internal_epoch   1,  Average loss: 0.0183, Accuracy: 2536/3437 (73.7853%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.3588, Accuracy: 6074/10000 (60.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 9, internal_epoch   1,  Average loss: 0.0106, Accuracy: 4991/5809 (85.9184%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 3.1588, Accuracy: 3493/10000 (34.9300%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  16, local model 10, internal_epoch   1,  Average loss: 0.0114, Accuracy: 2124/2592 (81.9444%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.9790, Accuracy: 3872/10000 (38.7200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 11, internal_epoch   1,  Average loss: 0.0189, Accuracy: 1878/2510 (74.8207%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.2878, Accuracy: 5918/10000 (59.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 12, internal_epoch   1,  Average loss: 0.0079, Accuracy: 3921/4373 (89.6638%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 3.1411, Accuracy: 3441/10000 (34.4100%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  16, local model 13, internal_epoch   1,  Average loss: 0.0115, Accuracy: 3692/4339 (85.0887%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.3272, Accuracy: 4782/10000 (47.8200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 14, internal_epoch   1,  Average loss: 0.0165, Accuracy: 2147/2782 (77.1747%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.2010, Accuracy: 4586/10000 (45.8600%), Attack Success Rate:0/10000(0.000)
time spent on training: 120.90147995948792
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.59570648 0.69257204 0.
 1.         1.         0.15180083]
___Test Target_Simple poisoned: False, epoch: 16: Average loss: 1.8704, Accuracy: 3598/10000 (35.9800%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 16: Average loss: 1.9084, Accuracy: 3098/8991 (34.4567%)
Done in 128.75010681152344 sec.
Server Epoch:17 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  17, local model 0, internal_epoch   1,  Average loss: 0.0196, Accuracy: 2147/3010 (71.3289%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.5836, Accuracy: 6469/10000 (64.6900%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 1, internal_epoch   1,  Average loss: 0.0094, Accuracy: 5067/5805 (87.2868%), train_poison_data_count: 5805
Global model norm: 1.94779876787378.
Norm before scaling: 3.3657115702001703. Distance: 2.569209734761615
Total norm for 5 adversaries is: 3.3657115702001703. distance: 2.569209734761615
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 2.3214, Accuracy: 4706/8991 (52.3412%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 2, internal_epoch   1,  Average loss: 0.0148, Accuracy: 3756/4779 (78.5938%), train_poison_data_count: 4779
Global model norm: 1.94779876787378.
Norm before scaling: 3.581528024050705. Distance: 2.699914425800701
Total norm for 5 adversaries is: 3.581528024050705. distance: 2.699914425800701
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 0.9218, Accuracy: 6203/8991 (68.9912%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 3, internal_epoch   1,  Average loss: 0.0131, Accuracy: 4299/5123 (83.9157%), train_poison_data_count: 5123
Global model norm: 1.94779876787378.
Norm before scaling: 3.6404693963192587. Distance: 2.7997862087101657
Total norm for 5 adversaries is: 3.6404693963192587. distance: 2.7997862087101657
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.2514, Accuracy: 6211/8991 (69.0802%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 4, internal_epoch   1,  Average loss: 0.0152, Accuracy: 3488/4462 (78.1712%), train_poison_data_count: 4462
Global model norm: 1.94779876787378.
Norm before scaling: 3.4275179107220306. Distance: 2.446122690356736
Total norm for 5 adversaries is: 3.4275179107220306. distance: 2.446122690356736
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.3270, Accuracy: 5449/8991 (60.6050%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 5, internal_epoch   1,  Average loss: 0.0133, Accuracy: 3164/3841 (82.3744%), train_poison_data_count: 3841
Global model norm: 1.94779876787378.
Norm before scaling: 3.295606034483109. Distance: 2.3330460326112736
Total norm for 5 adversaries is: 3.295606034483109. distance: 2.3330460326112736
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.9473, Accuracy: 5282/8991 (58.7476%)
___Train Local_Simple,  epoch  17, local model 6, internal_epoch   1,  Average loss: 0.0167, Accuracy: 2179/2945 (73.9898%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.7056, Accuracy: 5265/10000 (52.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 7, internal_epoch   1,  Average loss: 0.0131, Accuracy: 2281/2756 (82.7649%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 2.2168, Accuracy: 4474/10000 (44.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 8, internal_epoch   1,  Average loss: 0.0180, Accuracy: 2554/3437 (74.3090%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4104, Accuracy: 5835/10000 (58.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 9, internal_epoch   1,  Average loss: 0.0105, Accuracy: 4995/5809 (85.9873%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 3.1074, Accuracy: 3518/10000 (35.1800%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch  17, local model 10, internal_epoch   1,  Average loss: 0.0113, Accuracy: 2150/2592 (82.9475%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.9799, Accuracy: 3808/10000 (38.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 11, internal_epoch   1,  Average loss: 0.0189, Accuracy: 1848/2510 (73.6255%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.3671, Accuracy: 5800/10000 (58.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 12, internal_epoch   1,  Average loss: 0.0078, Accuracy: 3944/4373 (90.1898%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 3.1672, Accuracy: 3361/10000 (33.6100%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  17, local model 13, internal_epoch   1,  Average loss: 0.0112, Accuracy: 3706/4339 (85.4114%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 2.2974, Accuracy: 4716/10000 (47.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 14, internal_epoch   1,  Average loss: 0.0165, Accuracy: 2125/2782 (76.3839%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 2.2463, Accuracy: 4412/10000 (44.1200%), Attack Success Rate:0/10000(0.000)
time spent on training: 129.16267800331116
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.75892051 0.88992711 0.
 1.         1.         0.14725257]
___Test Target_Simple poisoned: False, epoch: 17: Average loss: 1.8540, Accuracy: 3637/10000 (36.3700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 17: Average loss: 1.8937, Accuracy: 3133/8991 (34.8460%)
Done in 137.26024889945984 sec.
Server Epoch:18 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  18, local model 0, internal_epoch   1,  Average loss: 0.0192, Accuracy: 2181/3010 (72.4585%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.5614, Accuracy: 6552/10000 (65.5200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 1, internal_epoch   1,  Average loss: 0.0092, Accuracy: 5081/5805 (87.5280%), train_poison_data_count: 5805
Global model norm: 1.9612449617728394.
Norm before scaling: 3.368745164743892. Distance: 2.5536559469162925
Total norm for 5 adversaries is: 3.368745164743892. distance: 2.5536559469162925
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 2.3474, Accuracy: 4673/8991 (51.9742%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 2, internal_epoch   1,  Average loss: 0.0146, Accuracy: 3791/4779 (79.3262%), train_poison_data_count: 4779
Global model norm: 1.9612449617728394.
Norm before scaling: 3.585304752947619. Distance: 2.6765338813779405
Total norm for 5 adversaries is: 3.585304752947619. distance: 2.6765338813779405
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 0.9321, Accuracy: 6173/8991 (68.6575%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 3, internal_epoch   1,  Average loss: 0.0132, Accuracy: 4257/5123 (83.0958%), train_poison_data_count: 5123
Global model norm: 1.9612449617728394.
Norm before scaling: 3.6356049992583523. Distance: 2.7713549894921803
Total norm for 5 adversaries is: 3.6356049992583523. distance: 2.7713549894921803
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.2531, Accuracy: 6194/8991 (68.8911%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 4, internal_epoch   1,  Average loss: 0.0148, Accuracy: 3536/4462 (79.2470%), train_poison_data_count: 4462
Global model norm: 1.9612449617728394.
Norm before scaling: 3.417368669421211. Distance: 2.4070496654703692
Total norm for 5 adversaries is: 3.417368669421211. distance: 2.4070496654703692
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.3084, Accuracy: 5463/8991 (60.7608%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 5, internal_epoch   1,  Average loss: 0.0128, Accuracy: 3167/3841 (82.4525%), train_poison_data_count: 3841
Global model norm: 1.9612449617728394.
Norm before scaling: 3.2959298320264043. Distance: 2.304443036061299
Total norm for 5 adversaries is: 3.2959298320264043. distance: 2.304443036061299
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.8954, Accuracy: 5448/8991 (60.5939%)
___Train Local_Simple,  epoch  18, local model 6, internal_epoch   1,  Average loss: 0.0162, Accuracy: 2227/2945 (75.6197%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.7260, Accuracy: 5226/10000 (52.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 7, internal_epoch   1,  Average loss: 0.0129, Accuracy: 2293/2756 (83.2003%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.2599, Accuracy: 4270/10000 (42.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 8, internal_epoch   1,  Average loss: 0.0180, Accuracy: 2556/3437 (74.3672%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.3561, Accuracy: 5918/10000 (59.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 9, internal_epoch   1,  Average loss: 0.0107, Accuracy: 4972/5809 (85.5913%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.9931, Accuracy: 3540/10000 (35.4000%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  18, local model 10, internal_epoch   1,  Average loss: 0.0112, Accuracy: 2131/2592 (82.2145%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.9615, Accuracy: 3703/10000 (37.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 11, internal_epoch   1,  Average loss: 0.0187, Accuracy: 1878/2510 (74.8207%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.2995, Accuracy: 5946/10000 (59.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 12, internal_epoch   1,  Average loss: 0.0080, Accuracy: 3906/4373 (89.3208%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 3.0045, Accuracy: 3446/10000 (34.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 13, internal_epoch   1,  Average loss: 0.0111, Accuracy: 3724/4339 (85.8262%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.2377, Accuracy: 4819/10000 (48.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 14, internal_epoch   1,  Average loss: 0.0162, Accuracy: 2150/2782 (77.2825%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.2565, Accuracy: 4475/10000 (44.7500%), Attack Success Rate:0/10000(0.000)
time spent on training: 133.49544167518616
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.63109977 0.79272064 0.
 1.         1.         0.22471731]
___Test Target_Simple poisoned: False, epoch: 18: Average loss: 1.8374, Accuracy: 3697/10000 (36.9700%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 18: Average loss: 1.8791, Accuracy: 3181/8991 (35.3798%)
Done in 141.36230516433716 sec.
Server Epoch:19 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  19, local model 0, internal_epoch   1,  Average loss: 0.0192, Accuracy: 2186/3010 (72.6246%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.5805, Accuracy: 6372/10000 (63.7200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 1, internal_epoch   1,  Average loss: 0.0092, Accuracy: 5094/5805 (87.7519%), train_poison_data_count: 5805
Global model norm: 1.9744410532703567.
Norm before scaling: 3.3844337014472874. Distance: 2.5546892731919972
Total norm for 5 adversaries is: 3.3844337014472874. distance: 2.5546892731919972
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 2.3584, Accuracy: 4683/8991 (52.0854%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 2, internal_epoch   1,  Average loss: 0.0145, Accuracy: 3773/4779 (78.9496%), train_poison_data_count: 4779
Global model norm: 1.9744410532703567.
Norm before scaling: 3.6111058960575364. Distance: 2.6830960940890596
Total norm for 5 adversaries is: 3.6111058960575364. distance: 2.6830960940890596
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 0.9644, Accuracy: 6118/8991 (68.0458%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 3, internal_epoch   1,  Average loss: 0.0130, Accuracy: 4285/5123 (83.6424%), train_poison_data_count: 5123
Global model norm: 1.9744410532703567.
Norm before scaling: 3.654961644296265. Distance: 2.7735764159752128
Total norm for 5 adversaries is: 3.654961644296265. distance: 2.7735764159752128
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2592, Accuracy: 6212/8991 (69.0913%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 4, internal_epoch   1,  Average loss: 0.0149, Accuracy: 3523/4462 (78.9556%), train_poison_data_count: 4462
Global model norm: 1.9744410532703567.
Norm before scaling: 3.4240282503994752. Distance: 2.3845062739681064
Total norm for 5 adversaries is: 3.4240282503994752. distance: 2.3845062739681064
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.3083, Accuracy: 5529/8991 (61.4948%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 5, internal_epoch   1,  Average loss: 0.0129, Accuracy: 3167/3841 (82.4525%), train_poison_data_count: 3841
Global model norm: 1.9744410532703567.
Norm before scaling: 3.294169830261559. Distance: 2.2761953085247426
Total norm for 5 adversaries is: 3.294169830261559. distance: 2.2761953085247426
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.9159, Accuracy: 5339/8991 (59.3816%)
___Train Local_Simple,  epoch  19, local model 6, internal_epoch   1,  Average loss: 0.0164, Accuracy: 2203/2945 (74.8048%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.7471, Accuracy: 5048/10000 (50.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 7, internal_epoch   1,  Average loss: 0.0128, Accuracy: 2286/2756 (82.9463%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 2.2365, Accuracy: 4475/10000 (44.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 8, internal_epoch   1,  Average loss: 0.0178, Accuracy: 2568/3437 (74.7163%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.3459, Accuracy: 5993/10000 (59.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 9, internal_epoch   1,  Average loss: 0.0104, Accuracy: 5023/5809 (86.4693%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 3.0466, Accuracy: 3455/10000 (34.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 10, internal_epoch   1,  Average loss: 0.0111, Accuracy: 2157/2592 (83.2176%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.9858, Accuracy: 3832/10000 (38.3200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  19, local model 11, internal_epoch   1,  Average loss: 0.0189, Accuracy: 1894/2510 (75.4582%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.2480, Accuracy: 5998/10000 (59.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 12, internal_epoch   1,  Average loss: 0.0077, Accuracy: 3942/4373 (90.1441%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 3.0616, Accuracy: 3394/10000 (33.9400%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  19, local model 13, internal_epoch   1,  Average loss: 0.0112, Accuracy: 3716/4339 (85.6419%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 2.2726, Accuracy: 4684/10000 (46.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 14, internal_epoch   1,  Average loss: 0.0159, Accuracy: 2135/2782 (76.7434%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 2.3013, Accuracy: 4254/10000 (42.5400%), Attack Success Rate:0/10000(0.000)
time spent on training: 137.89217948913574
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.51991761 0.76335829 0.
 1.         1.         0.13740714]
___Test Target_Simple poisoned: False, epoch: 19: Average loss: 1.8233, Accuracy: 3739/10000 (37.3900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 19: Average loss: 1.8673, Accuracy: 3196/8991 (35.5467%)
Done in 145.78214049339294 sec.
Server Epoch:20 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  20, local model 0, internal_epoch   1,  Average loss: 0.0192, Accuracy: 2165/3010 (71.9269%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.5460, Accuracy: 6490/10000 (64.9000%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 1, internal_epoch   1,  Average loss: 0.0093, Accuracy: 5086/5805 (87.6141%), train_poison_data_count: 5805
Global model norm: 1.9871804538295341.
Norm before scaling: 3.381852575399442. Distance: 2.53142113754635
Total norm for 5 adversaries is: 3.381852575399442. distance: 2.53142113754635
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 2.3202, Accuracy: 4711/8991 (52.3968%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 2, internal_epoch   1,  Average loss: 0.0143, Accuracy: 3830/4779 (80.1423%), train_poison_data_count: 4779
Global model norm: 1.9871804538295341.
Norm before scaling: 3.588152033337392. Distance: 2.6342029013027703
Total norm for 5 adversaries is: 3.588152033337392. distance: 2.6342029013027703
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 0.9200, Accuracy: 6215/8991 (69.1247%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 3, internal_epoch   1,  Average loss: 0.0130, Accuracy: 4283/5123 (83.6034%), train_poison_data_count: 5123
Global model norm: 1.9871804538295341.
Norm before scaling: 3.669883804976502. Distance: 2.771818478254231
Total norm for 5 adversaries is: 3.669883804976502. distance: 2.771818478254231
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2937, Accuracy: 6174/8991 (68.6687%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 4, internal_epoch   1,  Average loss: 0.0147, Accuracy: 3524/4462 (78.9780%), train_poison_data_count: 4462
Global model norm: 1.9871804538295341.
Norm before scaling: 3.426637305518601. Distance: 2.362812292055853
Total norm for 5 adversaries is: 3.426637305518601. distance: 2.362812292055853
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2727, Accuracy: 5591/8991 (62.1844%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 5, internal_epoch   1,  Average loss: 0.0127, Accuracy: 3217/3841 (83.7542%), train_poison_data_count: 3841
Global model norm: 1.9871804538295341.
Norm before scaling: 3.3160775496890538. Distance: 2.278806972073962
Total norm for 5 adversaries is: 3.3160775496890538. distance: 2.278806972073962
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.9021, Accuracy: 5468/8991 (60.8164%)
___Train Local_Simple,  epoch  20, local model 6, internal_epoch   1,  Average loss: 0.0162, Accuracy: 2230/2945 (75.7216%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.7028, Accuracy: 5254/10000 (52.5400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  20, local model 7, internal_epoch   1,  Average loss: 0.0128, Accuracy: 2293/2756 (83.2003%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 2.0712, Accuracy: 4772/10000 (47.7200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  20, local model 8, internal_epoch   1,  Average loss: 0.0178, Accuracy: 2543/3437 (73.9889%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.3617, Accuracy: 5964/10000 (59.6400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  20, local model 9, internal_epoch   1,  Average loss: 0.0104, Accuracy: 5006/5809 (86.1766%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 3.0887, Accuracy: 3457/10000 (34.5700%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  20, local model 10, internal_epoch   1,  Average loss: 0.0112, Accuracy: 2155/2592 (83.1404%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.8903, Accuracy: 4117/10000 (41.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  20, local model 11, internal_epoch   1,  Average loss: 0.0185, Accuracy: 1897/2510 (75.5777%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.2368, Accuracy: 6025/10000 (60.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  20, local model 12, internal_epoch   1,  Average loss: 0.0076, Accuracy: 3929/4373 (89.8468%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 2.9966, Accuracy: 3434/10000 (34.3400%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  20, local model 13, internal_epoch   1,  Average loss: 0.0107, Accuracy: 3739/4339 (86.1719%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 2.3271, Accuracy: 4741/10000 (47.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  20, local model 14, internal_epoch   1,  Average loss: 0.0160, Accuracy: 2131/2782 (76.5996%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 2.1592, Accuracy: 4589/10000 (45.8900%), Attack Success Rate:0/10000(0.000)
time spent on training: 144.3899793624878
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.42691724 0.82067354 0.
 1.         1.         0.13964482]
___Test Target_Simple poisoned: False, epoch: 20: Average loss: 1.8094, Accuracy: 3794/10000 (37.9400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 20: Average loss: 1.8554, Accuracy: 3235/8991 (35.9804%)
Done in 152.36761808395386 sec.
Server Epoch:21 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  21, local model 0, internal_epoch   1,  Average loss: 0.0187, Accuracy: 2202/3010 (73.1561%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.5733, Accuracy: 6396/10000 (63.9600%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 1, internal_epoch   1,  Average loss: 0.0091, Accuracy: 5084/5805 (87.5797%), train_poison_data_count: 5805
Global model norm: 1.999966799937299.
Norm before scaling: 3.4107057318797733. Distance: 2.5550785990231843
Total norm for 5 adversaries is: 3.4107057318797733. distance: 2.5550785990231843
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 2.3486, Accuracy: 4640/8991 (51.6072%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 2, internal_epoch   1,  Average loss: 0.0143, Accuracy: 3771/4779 (78.9077%), train_poison_data_count: 4779
Global model norm: 1.999966799937299.
Norm before scaling: 3.6114325665586353. Distance: 2.6433052139742834
Total norm for 5 adversaries is: 3.6114325665586353. distance: 2.6433052139742834
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 0.9387, Accuracy: 6152/8991 (68.4240%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 3, internal_epoch   1,  Average loss: 0.0129, Accuracy: 4279/5123 (83.5253%), train_poison_data_count: 5123
Global model norm: 1.999966799937299.
Norm before scaling: 3.6586198218111314. Distance: 2.7337632721141394
Total norm for 5 adversaries is: 3.6586198218111314. distance: 2.7337632721141394
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.2229, Accuracy: 6322/8991 (70.3148%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 4, internal_epoch   1,  Average loss: 0.0147, Accuracy: 3531/4462 (79.1349%), train_poison_data_count: 4462
Global model norm: 1.999966799937299.
Norm before scaling: 3.450473509649929. Distance: 2.365964668106855
Total norm for 5 adversaries is: 3.450473509649929. distance: 2.365964668106855
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.3309, Accuracy: 5341/8991 (59.4038%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 5, internal_epoch   1,  Average loss: 0.0126, Accuracy: 3207/3841 (83.4939%), train_poison_data_count: 3841
Global model norm: 1.999966799937299.
Norm before scaling: 3.307730642106824. Distance: 2.246767052615981
Total norm for 5 adversaries is: 3.307730642106824. distance: 2.246767052615981
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.8866, Accuracy: 5408/8991 (60.1490%)
___Train Local_Simple,  epoch  21, local model 6, internal_epoch   1,  Average loss: 0.0161, Accuracy: 2239/2945 (76.0272%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.6907, Accuracy: 5157/10000 (51.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 7, internal_epoch   1,  Average loss: 0.0125, Accuracy: 2283/2756 (82.8374%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 2.0947, Accuracy: 4590/10000 (45.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 8, internal_epoch   1,  Average loss: 0.0176, Accuracy: 2567/3437 (74.6872%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.3456, Accuracy: 6022/10000 (60.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 9, internal_epoch   1,  Average loss: 0.0103, Accuracy: 5028/5809 (86.5553%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 3.0693, Accuracy: 3526/10000 (35.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 10, internal_epoch   1,  Average loss: 0.0111, Accuracy: 2142/2592 (82.6389%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.9532, Accuracy: 3677/10000 (36.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 11, internal_epoch   1,  Average loss: 0.0185, Accuracy: 1869/2510 (74.4622%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.2369, Accuracy: 6086/10000 (60.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 12, internal_epoch   1,  Average loss: 0.0076, Accuracy: 3949/4373 (90.3041%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 2.9961, Accuracy: 3360/10000 (33.6000%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  21, local model 13, internal_epoch   1,  Average loss: 0.0109, Accuracy: 3716/4339 (85.6419%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 2.2868, Accuracy: 4804/10000 (48.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 14, internal_epoch   1,  Average loss: 0.0157, Accuracy: 2157/2782 (77.5341%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 2.2015, Accuracy: 4409/10000 (44.0900%), Attack Success Rate:0/10000(0.000)
time spent on training: 150.87700295448303
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.62275534 0.80666362 0.
 1.         1.         0.25221812]
___Test Target_Simple poisoned: False, epoch: 21: Average loss: 1.7950, Accuracy: 3840/10000 (38.4000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 21: Average loss: 1.8428, Accuracy: 3251/8991 (36.1584%)
Done in 158.80673241615295 sec.
Server Epoch:22 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  22, local model 0, internal_epoch   1,  Average loss: 0.0186, Accuracy: 2222/3010 (73.8206%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.5592, Accuracy: 6418/10000 (64.1800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 1, internal_epoch   1,  Average loss: 0.0091, Accuracy: 5119/5805 (88.1826%), train_poison_data_count: 5805
Global model norm: 2.0143236794415844.
Norm before scaling: 3.3976408627622803. Distance: 2.516130479531389
Total norm for 5 adversaries is: 3.3976408627622803. distance: 2.516130479531389
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 2.2887, Accuracy: 4729/8991 (52.5970%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 2, internal_epoch   1,  Average loss: 0.0143, Accuracy: 3823/4779 (79.9958%), train_poison_data_count: 4779
Global model norm: 2.0143236794415844.
Norm before scaling: 3.6068077039612874. Distance: 2.6162994244495876
Total norm for 5 adversaries is: 3.6068077039612874. distance: 2.6162994244495876
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 0.9176, Accuracy: 6127/8991 (68.1459%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 3, internal_epoch   1,  Average loss: 0.0130, Accuracy: 4277/5123 (83.4862%), train_poison_data_count: 5123
Global model norm: 2.0143236794415844.
Norm before scaling: 3.661457754526685. Distance: 2.7153818598899733
Total norm for 5 adversaries is: 3.661457754526685. distance: 2.7153818598899733
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2155, Accuracy: 6273/8991 (69.7698%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 4, internal_epoch   1,  Average loss: 0.0147, Accuracy: 3514/4462 (78.7539%), train_poison_data_count: 4462
Global model norm: 2.0143236794415844.
Norm before scaling: 3.4381531528359752. Distance: 2.3289611134278063
Total norm for 5 adversaries is: 3.4381531528359752. distance: 2.3289611134278063
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2623, Accuracy: 5629/8991 (62.6071%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 5, internal_epoch   1,  Average loss: 0.0127, Accuracy: 3201/3841 (83.3377%), train_poison_data_count: 3841
Global model norm: 2.0143236794415844.
Norm before scaling: 3.3149452540967688. Distance: 2.2302774056635597
Total norm for 5 adversaries is: 3.3149452540967688. distance: 2.2302774056635597
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.8867, Accuracy: 5470/8991 (60.8386%)
___Train Local_Simple,  epoch  22, local model 6, internal_epoch   1,  Average loss: 0.0164, Accuracy: 2204/2945 (74.8387%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.6236, Accuracy: 5481/10000 (54.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  22, local model 7, internal_epoch   1,  Average loss: 0.0126, Accuracy: 2290/2756 (83.0914%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.0507, Accuracy: 4801/10000 (48.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  22, local model 8, internal_epoch   1,  Average loss: 0.0175, Accuracy: 2563/3437 (74.5708%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.3229, Accuracy: 6067/10000 (60.6700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  22, local model 9, internal_epoch   1,  Average loss: 0.0101, Accuracy: 5016/5809 (86.3488%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 3.0503, Accuracy: 3522/10000 (35.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  22, local model 10, internal_epoch   1,  Average loss: 0.0107, Accuracy: 2171/2592 (83.7577%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.9058, Accuracy: 3993/10000 (39.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  22, local model 11, internal_epoch   1,  Average loss: 0.0187, Accuracy: 1887/2510 (75.1793%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.2284, Accuracy: 5985/10000 (59.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  22, local model 12, internal_epoch   1,  Average loss: 0.0075, Accuracy: 3965/4373 (90.6700%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.9179, Accuracy: 3455/10000 (34.5500%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  22, local model 13, internal_epoch   1,  Average loss: 0.0108, Accuracy: 3747/4339 (86.3563%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.1883, Accuracy: 4867/10000 (48.6700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  22, local model 14, internal_epoch   1,  Average loss: 0.0154, Accuracy: 2170/2782 (78.0014%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.1440, Accuracy: 4726/10000 (47.2600%), Attack Success Rate:0/10000(0.000)
time spent on training: 155.84929132461548
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.64246751 0.64971407 0.
 1.         1.         0.33228687]
___Test Target_Simple poisoned: False, epoch: 22: Average loss: 1.7814, Accuracy: 3866/10000 (38.6600%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 22: Average loss: 1.8301, Accuracy: 3285/8991 (36.5365%)
Done in 163.81842637062073 sec.
Server Epoch:23 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  23, local model 0, internal_epoch   1,  Average loss: 0.0188, Accuracy: 2191/3010 (72.7907%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.5467, Accuracy: 6442/10000 (64.4200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 1, internal_epoch   1,  Average loss: 0.0091, Accuracy: 5085/5805 (87.5969%), train_poison_data_count: 5805
Global model norm: 2.0287891446683584.
Norm before scaling: 3.4036939637512877. Distance: 2.508554509276843
Total norm for 5 adversaries is: 3.4036939637512877. distance: 2.508554509276843
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 2.2516, Accuracy: 4517/8991 (50.2391%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 2, internal_epoch   1,  Average loss: 0.0143, Accuracy: 3804/4779 (79.5982%), train_poison_data_count: 4779
Global model norm: 2.0287891446683584.
Norm before scaling: 3.6214948347687637. Distance: 2.6082795179216545
Total norm for 5 adversaries is: 3.6214948347687637. distance: 2.6082795179216545
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 0.8961, Accuracy: 6230/8991 (69.2915%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 3, internal_epoch   1,  Average loss: 0.0129, Accuracy: 4284/5123 (83.6229%), train_poison_data_count: 5123
Global model norm: 2.0287891446683584.
Norm before scaling: 3.6716311109994137. Distance: 2.711913622923758
Total norm for 5 adversaries is: 3.6716311109994137. distance: 2.711913622923758
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.2329, Accuracy: 6214/8991 (69.1136%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 4, internal_epoch   1,  Average loss: 0.0145, Accuracy: 3538/4462 (79.2918%), train_poison_data_count: 4462
Global model norm: 2.0287891446683584.
Norm before scaling: 3.449318423186484. Distance: 2.318772649525867
Total norm for 5 adversaries is: 3.449318423186484. distance: 2.318772649525867
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.2434, Accuracy: 5658/8991 (62.9296%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 5, internal_epoch   1,  Average loss: 0.0125, Accuracy: 3207/3841 (83.4939%), train_poison_data_count: 3841
Global model norm: 2.0287891446683584.
Norm before scaling: 3.3275595887635823. Distance: 2.2261632728711676
Total norm for 5 adversaries is: 3.3275595887635823. distance: 2.2261632728711676
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.8603, Accuracy: 5402/8991 (60.0823%)
___Train Local_Simple,  epoch  23, local model 6, internal_epoch   1,  Average loss: 0.0157, Accuracy: 2224/2945 (75.5178%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.6448, Accuracy: 5326/10000 (53.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 7, internal_epoch   1,  Average loss: 0.0127, Accuracy: 2292/2756 (83.1640%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 2.0581, Accuracy: 4670/10000 (46.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 8, internal_epoch   1,  Average loss: 0.0172, Accuracy: 2585/3437 (75.2109%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3565, Accuracy: 6129/10000 (61.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 9, internal_epoch   1,  Average loss: 0.0101, Accuracy: 5035/5809 (86.6758%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 3.0130, Accuracy: 3551/10000 (35.5100%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  23, local model 10, internal_epoch   1,  Average loss: 0.0107, Accuracy: 2189/2592 (84.4522%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.8964, Accuracy: 4129/10000 (41.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 11, internal_epoch   1,  Average loss: 0.0181, Accuracy: 1896/2510 (75.5378%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.2798, Accuracy: 5768/10000 (57.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 12, internal_epoch   1,  Average loss: 0.0073, Accuracy: 3982/4373 (91.0588%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 2.9174, Accuracy: 3408/10000 (34.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 13, internal_epoch   1,  Average loss: 0.0107, Accuracy: 3757/4339 (86.5868%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 2.1778, Accuracy: 4821/10000 (48.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 14, internal_epoch   1,  Average loss: 0.0156, Accuracy: 2180/2782 (78.3609%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 2.1866, Accuracy: 4657/10000 (46.5700%), Attack Success Rate:0/10000(0.000)
time spent on training: 158.83309316635132
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.55688884 0.65834755 0.
 1.         1.         0.03682045]
___Test Target_Simple poisoned: False, epoch: 23: Average loss: 1.7709, Accuracy: 3907/10000 (39.0700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 23: Average loss: 1.8215, Accuracy: 3305/8991 (36.7590%)
Done in 166.79401850700378 sec.
Server Epoch:24 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  24, local model 0, internal_epoch   1,  Average loss: 0.0186, Accuracy: 2205/3010 (73.2558%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.5763, Accuracy: 6233/10000 (62.3300%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 1, internal_epoch   1,  Average loss: 0.0090, Accuracy: 5121/5805 (88.2171%), train_poison_data_count: 5805
Global model norm: 2.0421696516919217.
Norm before scaling: 3.4134168909196867. Distance: 2.489655838127386
Total norm for 5 adversaries is: 3.4134168909196867. distance: 2.489655838127386
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 2.1695, Accuracy: 4688/8991 (52.1410%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 2, internal_epoch   1,  Average loss: 0.0143, Accuracy: 3804/4779 (79.5982%), train_poison_data_count: 4779
Global model norm: 2.0421696516919217.
Norm before scaling: 3.6341328508261244. Distance: 2.6106335009253145
Total norm for 5 adversaries is: 3.6341328508261244. distance: 2.6106335009253145
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 0.9123, Accuracy: 6170/8991 (68.6242%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 3, internal_epoch   1,  Average loss: 0.0127, Accuracy: 4300/5123 (83.9352%), train_poison_data_count: 5123
Global model norm: 2.0421696516919217.
Norm before scaling: 3.6763654806034527. Distance: 2.6945820136416274
Total norm for 5 adversaries is: 3.6763654806034527. distance: 2.6945820136416274
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.2073, Accuracy: 6333/8991 (70.4371%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 4, internal_epoch   1,  Average loss: 0.0145, Accuracy: 3539/4462 (79.3142%), train_poison_data_count: 4462
Global model norm: 2.0421696516919217.
Norm before scaling: 3.4453472386552955. Distance: 2.2880356083413216
Total norm for 5 adversaries is: 3.4453472386552955. distance: 2.2880356083413216
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.2541, Accuracy: 5607/8991 (62.3624%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 5, internal_epoch   1,  Average loss: 0.0124, Accuracy: 3201/3841 (83.3377%), train_poison_data_count: 3841
Global model norm: 2.0421696516919217.
Norm before scaling: 3.3357027851232055. Distance: 2.2089176724428574
Total norm for 5 adversaries is: 3.3357027851232055. distance: 2.2089176724428574
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.9051, Accuracy: 5272/8991 (58.6364%)
___Train Local_Simple,  epoch  24, local model 6, internal_epoch   1,  Average loss: 0.0159, Accuracy: 2231/2945 (75.7555%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.6623, Accuracy: 5260/10000 (52.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 7, internal_epoch   1,  Average loss: 0.0124, Accuracy: 2318/2756 (84.1074%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.0527, Accuracy: 4729/10000 (47.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 8, internal_epoch   1,  Average loss: 0.0173, Accuracy: 2591/3437 (75.3855%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2910, Accuracy: 6222/10000 (62.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 9, internal_epoch   1,  Average loss: 0.0101, Accuracy: 5037/5809 (86.7103%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.9446, Accuracy: 3566/10000 (35.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 10, internal_epoch   1,  Average loss: 0.0106, Accuracy: 2175/2592 (83.9120%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.8809, Accuracy: 3964/10000 (39.6400%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  24, local model 11, internal_epoch   1,  Average loss: 0.0181, Accuracy: 1895/2510 (75.4980%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2150, Accuracy: 6084/10000 (60.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 12, internal_epoch   1,  Average loss: 0.0074, Accuracy: 3954/4373 (90.4185%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.9269, Accuracy: 3427/10000 (34.2700%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  24, local model 13, internal_epoch   1,  Average loss: 0.0107, Accuracy: 3725/4339 (85.8493%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.2656, Accuracy: 4695/10000 (46.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 14, internal_epoch   1,  Average loss: 0.0156, Accuracy: 2122/2782 (76.2761%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.2455, Accuracy: 4387/10000 (43.8700%), Attack Success Rate:0/10000(0.000)
time spent on training: 168.90992784500122
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.62243878 0.51193098 0.
 1.         1.         0.0836411 ]
___Test Target_Simple poisoned: False, epoch: 24: Average loss: 1.7611, Accuracy: 3924/10000 (39.2400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 24: Average loss: 1.8134, Accuracy: 3318/8991 (36.9036%)
Done in 176.92941975593567 sec.
Server Epoch:25 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  25, local model 0, internal_epoch   1,  Average loss: 0.0186, Accuracy: 2211/3010 (73.4551%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.5375, Accuracy: 6406/10000 (64.0600%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 1, internal_epoch   1,  Average loss: 0.0089, Accuracy: 5098/5805 (87.8208%), train_poison_data_count: 5805
Global model norm: 2.0559292946098155.
Norm before scaling: 3.420000651621617. Distance: 2.4847644044884794
Total norm for 5 adversaries is: 3.420000651621617. distance: 2.4847644044884794
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 2.2123, Accuracy: 4623/8991 (51.4181%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 2, internal_epoch   1,  Average loss: 0.0142, Accuracy: 3785/4779 (79.2007%), train_poison_data_count: 4779
Global model norm: 2.0559292946098155.
Norm before scaling: 3.6187763061621436. Distance: 2.5711713011274084
Total norm for 5 adversaries is: 3.6187763061621436. distance: 2.5711713011274084
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 0.8683, Accuracy: 6288/8991 (69.9366%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 3, internal_epoch   1,  Average loss: 0.0127, Accuracy: 4318/5123 (84.2866%), train_poison_data_count: 5123
Global model norm: 2.0559292946098155.
Norm before scaling: 3.6762752059181367. Distance: 2.6756465237524107
Total norm for 5 adversaries is: 3.6762752059181367. distance: 2.6756465237524107
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1989, Accuracy: 6364/8991 (70.7819%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 4, internal_epoch   1,  Average loss: 0.0143, Accuracy: 3560/4462 (79.7848%), train_poison_data_count: 4462
Global model norm: 2.0559292946098155.
Norm before scaling: 3.4682333621627808. Distance: 2.298087597942821
Total norm for 5 adversaries is: 3.4682333621627808. distance: 2.298087597942821
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.2850, Accuracy: 5471/8991 (60.8497%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 5, internal_epoch   1,  Average loss: 0.0123, Accuracy: 3198/3841 (83.2596%), train_poison_data_count: 3841
Global model norm: 2.0559292946098155.
Norm before scaling: 3.3441593953432305. Distance: 2.2023237137493714
Total norm for 5 adversaries is: 3.3441593953432305. distance: 2.2023237137493714
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.8694, Accuracy: 5432/8991 (60.4160%)
___Train Local_Simple,  epoch  25, local model 6, internal_epoch   1,  Average loss: 0.0159, Accuracy: 2229/2945 (75.6876%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.5976, Accuracy: 5439/10000 (54.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  25, local model 7, internal_epoch   1,  Average loss: 0.0121, Accuracy: 2305/2756 (83.6357%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 2.0366, Accuracy: 4791/10000 (47.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  25, local model 8, internal_epoch   1,  Average loss: 0.0171, Accuracy: 2619/3437 (76.2002%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.3242, Accuracy: 6056/10000 (60.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  25, local model 9, internal_epoch   1,  Average loss: 0.0101, Accuracy: 5030/5809 (86.5898%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 3.0164, Accuracy: 3531/10000 (35.3100%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  25, local model 10, internal_epoch   1,  Average loss: 0.0107, Accuracy: 2170/2592 (83.7191%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.8784, Accuracy: 4058/10000 (40.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  25, local model 11, internal_epoch   1,  Average loss: 0.0182, Accuracy: 1903/2510 (75.8167%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.1996, Accuracy: 6122/10000 (61.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  25, local model 12, internal_epoch   1,  Average loss: 0.0072, Accuracy: 3988/4373 (91.1960%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 2.9596, Accuracy: 3429/10000 (34.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  25, local model 13, internal_epoch   1,  Average loss: 0.0106, Accuracy: 3757/4339 (86.5868%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 2.2213, Accuracy: 4824/10000 (48.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  25, local model 14, internal_epoch   1,  Average loss: 0.0155, Accuracy: 2155/2782 (77.4623%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 2.1356, Accuracy: 4649/10000 (46.4900%), Attack Success Rate:0/10000(0.000)
time spent on training: 169.90979313850403
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.83003299 0.70251842 0.
 1.         1.         0.15216959]
___Test Target_Simple poisoned: False, epoch: 25: Average loss: 1.7494, Accuracy: 3939/10000 (39.3900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 25: Average loss: 1.8028, Accuracy: 3344/8991 (37.1927%)
Done in 177.98675537109375 sec.
Server Epoch:26 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  26, local model 0, internal_epoch   1,  Average loss: 0.0182, Accuracy: 2229/3010 (74.0532%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.5123, Accuracy: 6542/10000 (65.4200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 1, internal_epoch   1,  Average loss: 0.0090, Accuracy: 5091/5805 (87.7003%), train_poison_data_count: 5805
Global model norm: 2.071636539505119.
Norm before scaling: 3.4415798598111187. Distance: 2.4911499733757205
Total norm for 5 adversaries is: 3.4415798598111187. distance: 2.4911499733757205
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 2.2057, Accuracy: 4668/8991 (51.9186%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 2, internal_epoch   1,  Average loss: 0.0141, Accuracy: 3792/4779 (79.3471%), train_poison_data_count: 4779
Global model norm: 2.071636539505119.
Norm before scaling: 3.6350744281269485. Distance: 2.566296718820632
Total norm for 5 adversaries is: 3.6350744281269485. distance: 2.566296718820632
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 0.8718, Accuracy: 6317/8991 (70.2591%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 3, internal_epoch   1,  Average loss: 0.0128, Accuracy: 4261/5123 (83.1739%), train_poison_data_count: 5123
Global model norm: 2.071636539505119.
Norm before scaling: 3.6974683606262313. Distance: 2.678006459553843
Total norm for 5 adversaries is: 3.6974683606262313. distance: 2.678006459553843
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.2115, Accuracy: 6234/8991 (69.3360%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 4, internal_epoch   1,  Average loss: 0.0143, Accuracy: 3578/4462 (80.1883%), train_poison_data_count: 4462
Global model norm: 2.071636539505119.
Norm before scaling: 3.474173078329005. Distance: 2.278674723124152
Total norm for 5 adversaries is: 3.474173078329005. distance: 2.278674723124152
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.3123, Accuracy: 5393/8991 (59.9822%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 5, internal_epoch   1,  Average loss: 0.0122, Accuracy: 3213/3841 (83.6501%), train_poison_data_count: 3841
Global model norm: 2.071636539505119.
Norm before scaling: 3.3390328476927555. Distance: 2.1669578601100383
Total norm for 5 adversaries is: 3.3390328476927555. distance: 2.1669578601100383
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.8427, Accuracy: 5546/8991 (61.6839%)
___Train Local_Simple,  epoch  26, local model 6, internal_epoch   1,  Average loss: 0.0158, Accuracy: 2246/2945 (76.2649%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.6330, Accuracy: 5246/10000 (52.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  26, local model 7, internal_epoch   1,  Average loss: 0.0122, Accuracy: 2280/2756 (82.7286%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 2.0411, Accuracy: 4544/10000 (45.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  26, local model 8, internal_epoch   1,  Average loss: 0.0174, Accuracy: 2564/3437 (74.5999%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.2599, Accuracy: 6247/10000 (62.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  26, local model 9, internal_epoch   1,  Average loss: 0.0100, Accuracy: 5043/5809 (86.8136%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 2.9324, Accuracy: 3555/10000 (35.5500%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  26, local model 10, internal_epoch   1,  Average loss: 0.0105, Accuracy: 2183/2592 (84.2207%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.8650, Accuracy: 4018/10000 (40.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  26, local model 11, internal_epoch   1,  Average loss: 0.0183, Accuracy: 1900/2510 (75.6972%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.2600, Accuracy: 6069/10000 (60.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  26, local model 12, internal_epoch   1,  Average loss: 0.0073, Accuracy: 3965/4373 (90.6700%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 2.9878, Accuracy: 3395/10000 (33.9500%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  26, local model 13, internal_epoch   1,  Average loss: 0.0103, Accuracy: 3774/4339 (86.9786%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 2.1788, Accuracy: 4771/10000 (47.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  26, local model 14, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2181/2782 (78.3968%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 2.1469, Accuracy: 4597/10000 (45.9700%), Attack Success Rate:0/10000(0.000)
time spent on training: 177.48466086387634
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.71228766 0.70722548 0.
 1.         1.         0.24247529]
___Test Target_Simple poisoned: False, epoch: 26: Average loss: 1.7381, Accuracy: 3956/10000 (39.5600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 26: Average loss: 1.7923, Accuracy: 3373/8991 (37.5153%)
Done in 185.4730978012085 sec.
Server Epoch:27 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  27, local model 0, internal_epoch   1,  Average loss: 0.0187, Accuracy: 2211/3010 (73.4551%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.5079, Accuracy: 6447/10000 (64.4700%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 1, internal_epoch   1,  Average loss: 0.0088, Accuracy: 5101/5805 (87.8725%), train_poison_data_count: 5805
Global model norm: 2.0873214188443536.
Norm before scaling: 3.445713011283431. Distance: 2.478135532967695
Total norm for 5 adversaries is: 3.445713011283431. distance: 2.478135532967695
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 2.2367, Accuracy: 4624/8991 (51.4292%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 2, internal_epoch   1,  Average loss: 0.0138, Accuracy: 3845/4779 (80.4562%), train_poison_data_count: 4779
Global model norm: 2.0873214188443536.
Norm before scaling: 3.658379220059237. Distance: 2.5588096469324597
Total norm for 5 adversaries is: 3.658379220059237. distance: 2.5588096469324597
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 0.8910, Accuracy: 6349/8991 (70.6151%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 3, internal_epoch   1,  Average loss: 0.0126, Accuracy: 4303/5123 (83.9938%), train_poison_data_count: 5123
Global model norm: 2.0873214188443536.
Norm before scaling: 3.69070256706465. Distance: 2.648098904281003
Total norm for 5 adversaries is: 3.69070256706465. distance: 2.648098904281003
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1941, Accuracy: 6325/8991 (70.3481%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 4, internal_epoch   1,  Average loss: 0.0142, Accuracy: 3565/4462 (79.8969%), train_poison_data_count: 4462
Global model norm: 2.0873214188443536.
Norm before scaling: 3.4861411506672373. Distance: 2.2688034387605485
Total norm for 5 adversaries is: 3.4861411506672373. distance: 2.2688034387605485
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.3088, Accuracy: 5396/8991 (60.0156%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 5, internal_epoch   1,  Average loss: 0.0122, Accuracy: 3212/3841 (83.6241%), train_poison_data_count: 3841
Global model norm: 2.0873214188443536.
Norm before scaling: 3.346341991278718. Distance: 2.1536501262088477
Total norm for 5 adversaries is: 3.346341991278718. distance: 2.1536501262088477
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.8346, Accuracy: 5407/8991 (60.1379%)
___Train Local_Simple,  epoch  27, local model 6, internal_epoch   1,  Average loss: 0.0158, Accuracy: 2241/2945 (76.0951%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.5918, Accuracy: 5366/10000 (53.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 7, internal_epoch   1,  Average loss: 0.0127, Accuracy: 2303/2756 (83.5631%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.9587, Accuracy: 4758/10000 (47.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 8, internal_epoch   1,  Average loss: 0.0171, Accuracy: 2596/3437 (75.5310%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.2541, Accuracy: 6381/10000 (63.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 9, internal_epoch   1,  Average loss: 0.0098, Accuracy: 5034/5809 (86.6586%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 2.9341, Accuracy: 3592/10000 (35.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 10, internal_epoch   1,  Average loss: 0.0103, Accuracy: 2172/2592 (83.7963%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.8274, Accuracy: 4202/10000 (42.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 11, internal_epoch   1,  Average loss: 0.0179, Accuracy: 1913/2510 (76.2151%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.2362, Accuracy: 5974/10000 (59.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 12, internal_epoch   1,  Average loss: 0.0072, Accuracy: 3966/4373 (90.6929%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 2.8824, Accuracy: 3405/10000 (34.0500%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  27, local model 13, internal_epoch   1,  Average loss: 0.0104, Accuracy: 3765/4339 (86.7711%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 2.1434, Accuracy: 4881/10000 (48.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 14, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2197/2782 (78.9720%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 2.1219, Accuracy: 4686/10000 (46.8600%), Attack Success Rate:0/10000(0.000)
time spent on training: 183.5371389389038
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.78682012 0.72573974 0.
 1.         1.         0.3619261 ]
___Test Target_Simple poisoned: False, epoch: 27: Average loss: 1.7262, Accuracy: 3981/10000 (39.8100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 27: Average loss: 1.7810, Accuracy: 3399/8991 (37.8045%)
Done in 191.7608675956726 sec.
Server Epoch:28 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  28, local model 0, internal_epoch   1,  Average loss: 0.0185, Accuracy: 2225/3010 (73.9203%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.5111, Accuracy: 6466/10000 (64.6600%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 1, internal_epoch   1,  Average loss: 0.0089, Accuracy: 5114/5805 (88.0965%), train_poison_data_count: 5805
Global model norm: 2.1041070784890685.
Norm before scaling: 3.44053183281343. Distance: 2.447854277985857
Total norm for 5 adversaries is: 3.44053183281343. distance: 2.447854277985857
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 2.2206, Accuracy: 4657/8991 (51.7962%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 2, internal_epoch   1,  Average loss: 0.0140, Accuracy: 3838/4779 (80.3097%), train_poison_data_count: 4779
Global model norm: 2.1041070784890685.
Norm before scaling: 3.6689789734698226. Distance: 2.5579713020593924
Total norm for 5 adversaries is: 3.6689789734698226. distance: 2.5579713020593924
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 0.8946, Accuracy: 6193/8991 (68.8800%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 3, internal_epoch   1,  Average loss: 0.0126, Accuracy: 4346/5123 (84.8331%), train_poison_data_count: 5123
Global model norm: 2.1041070784890685.
Norm before scaling: 3.6931555100150852. Distance: 2.6296722973788125
Total norm for 5 adversaries is: 3.6931555100150852. distance: 2.6296722973788125
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.1678, Accuracy: 6355/8991 (70.6818%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 4, internal_epoch   1,  Average loss: 0.0142, Accuracy: 3574/4462 (80.0986%), train_poison_data_count: 4462
Global model norm: 2.1041070784890685.
Norm before scaling: 3.4940932704047265. Distance: 2.246984474369563
Total norm for 5 adversaries is: 3.4940932704047265. distance: 2.246984474369563
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.2710, Accuracy: 5539/8991 (61.6061%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 5, internal_epoch   1,  Average loss: 0.0121, Accuracy: 3226/3841 (83.9885%), train_poison_data_count: 3841
Global model norm: 2.1041070784890685.
Norm before scaling: 3.35085717806949. Distance: 2.1400581221842794
Total norm for 5 adversaries is: 3.35085717806949. distance: 2.1400581221842794
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.8669, Accuracy: 5291/8991 (58.8477%)
___Train Local_Simple,  epoch  28, local model 6, internal_epoch   1,  Average loss: 0.0153, Accuracy: 2289/2945 (77.7250%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.6015, Accuracy: 5408/10000 (54.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 7, internal_epoch   1,  Average loss: 0.0123, Accuracy: 2318/2756 (84.1074%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.9509, Accuracy: 4853/10000 (48.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 8, internal_epoch   1,  Average loss: 0.0170, Accuracy: 2592/3437 (75.4146%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.2965, Accuracy: 6097/10000 (60.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 9, internal_epoch   1,  Average loss: 0.0099, Accuracy: 5069/5809 (87.2611%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 2.8731, Accuracy: 3580/10000 (35.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 10, internal_epoch   1,  Average loss: 0.0105, Accuracy: 2182/2592 (84.1821%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.8334, Accuracy: 4269/10000 (42.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 11, internal_epoch   1,  Average loss: 0.0176, Accuracy: 1927/2510 (76.7729%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.2315, Accuracy: 6048/10000 (60.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 12, internal_epoch   1,  Average loss: 0.0072, Accuracy: 3962/4373 (90.6014%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 2.8922, Accuracy: 3401/10000 (34.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 13, internal_epoch   1,  Average loss: 0.0102, Accuracy: 3769/4339 (86.8633%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 2.1221, Accuracy: 4900/10000 (49.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 14, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2157/2782 (77.5341%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 2.2039, Accuracy: 4501/10000 (45.0100%), Attack Success Rate:0/10000(0.000)
time spent on training: 188.26551270484924
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.65345972 0.61458439 0.
 1.         1.         0.31204667]
___Test Target_Simple poisoned: False, epoch: 28: Average loss: 1.7153, Accuracy: 4011/10000 (40.1100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 28: Average loss: 1.7713, Accuracy: 3432/8991 (38.1715%)
Done in 196.21796417236328 sec.
Server Epoch:29 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  29, local model 0, internal_epoch   1,  Average loss: 0.0182, Accuracy: 2235/3010 (74.2525%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.4985, Accuracy: 6554/10000 (65.5400%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 1, internal_epoch   1,  Average loss: 0.0089, Accuracy: 5108/5805 (87.9931%), train_poison_data_count: 5805
Global model norm: 2.1197485267192238.
Norm before scaling: 3.4576241712139266. Distance: 2.449570333990635
Total norm for 5 adversaries is: 3.4576241712139266. distance: 2.449570333990635
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 2.1560, Accuracy: 4673/8991 (51.9742%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 2, internal_epoch   1,  Average loss: 0.0138, Accuracy: 3843/4779 (80.4143%), train_poison_data_count: 4779
Global model norm: 2.1197485267192238.
Norm before scaling: 3.6600870718265774. Distance: 2.5258185429036715
Total norm for 5 adversaries is: 3.6600870718265774. distance: 2.5258185429036715
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 0.8760, Accuracy: 6274/8991 (69.7809%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 3, internal_epoch   1,  Average loss: 0.0128, Accuracy: 4305/5123 (84.0328%), train_poison_data_count: 5123
Global model norm: 2.1197485267192238.
Norm before scaling: 3.711854584460005. Distance: 2.6246832701926808
Total norm for 5 adversaries is: 3.711854584460005. distance: 2.6246832701926808
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.2098, Accuracy: 6306/8991 (70.1368%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 4, internal_epoch   1,  Average loss: 0.0140, Accuracy: 3599/4462 (80.6589%), train_poison_data_count: 4462
Global model norm: 2.1197485267192238.
Norm before scaling: 3.4870558206320146. Distance: 2.2169781984626047
Total norm for 5 adversaries is: 3.4870558206320146. distance: 2.2169781984626047
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.2252, Accuracy: 5685/8991 (63.2299%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 5, internal_epoch   1,  Average loss: 0.0121, Accuracy: 3236/3841 (84.2489%), train_poison_data_count: 3841
Global model norm: 2.1197485267192238.
Norm before scaling: 3.3616343862420757. Distance: 2.1221573834170395
Total norm for 5 adversaries is: 3.3616343862420757. distance: 2.1221573834170395
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.8127, Accuracy: 5567/8991 (61.9175%)
___Train Local_Simple,  epoch  29, local model 6, internal_epoch   1,  Average loss: 0.0154, Accuracy: 2265/2945 (76.9100%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.5951, Accuracy: 5324/10000 (53.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 7, internal_epoch   1,  Average loss: 0.0126, Accuracy: 2317/2756 (84.0711%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.9660, Accuracy: 4753/10000 (47.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 8, internal_epoch   1,  Average loss: 0.0173, Accuracy: 2555/3437 (74.3381%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.2504, Accuracy: 6187/10000 (61.8700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 9, internal_epoch   1,  Average loss: 0.0098, Accuracy: 5059/5809 (87.0890%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 2.9314, Accuracy: 3592/10000 (35.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 10, internal_epoch   1,  Average loss: 0.0103, Accuracy: 2192/2592 (84.5679%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.7939, Accuracy: 4538/10000 (45.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 11, internal_epoch   1,  Average loss: 0.0178, Accuracy: 1909/2510 (76.0558%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.2369, Accuracy: 6117/10000 (61.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 12, internal_epoch   1,  Average loss: 0.0073, Accuracy: 3975/4373 (90.8987%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 2.8131, Accuracy: 3385/10000 (33.8500%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  29, local model 13, internal_epoch   1,  Average loss: 0.0103, Accuracy: 3766/4339 (86.7942%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 2.0336, Accuracy: 4943/10000 (49.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 14, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2186/2782 (78.5766%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 2.1261, Accuracy: 4633/10000 (46.3300%), Attack Success Rate:0/10000(0.000)
time spent on training: 194.5443036556244
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.73387401 0.59638271 0.
 1.         1.         0.10951222]
___Test Target_Simple poisoned: False, epoch: 29: Average loss: 1.7069, Accuracy: 4028/10000 (40.2800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 29: Average loss: 1.7638, Accuracy: 3450/8991 (38.3717%)
Done in 203.5083031654358 sec.
Server Epoch:30 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  30, local model 0, internal_epoch   1,  Average loss: 0.0181, Accuracy: 2220/3010 (73.7542%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.4932, Accuracy: 6524/10000 (65.2400%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 1, internal_epoch   1,  Average loss: 0.0088, Accuracy: 5120/5805 (88.1998%), train_poison_data_count: 5805
Global model norm: 2.1352973966707784.
Norm before scaling: 3.462145867812297. Distance: 2.4389971512343447
Total norm for 5 adversaries is: 3.462145867812297. distance: 2.4389971512343447
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 2.1958, Accuracy: 4694/8991 (52.2078%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 2, internal_epoch   1,  Average loss: 0.0138, Accuracy: 3833/4779 (80.2051%), train_poison_data_count: 4779
Global model norm: 2.1352973966707784.
Norm before scaling: 3.673654717465197. Distance: 2.5245589371508914
Total norm for 5 adversaries is: 3.673654717465197. distance: 2.5245589371508914
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 0.8878, Accuracy: 6263/8991 (69.6585%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 3, internal_epoch   1,  Average loss: 0.0125, Accuracy: 4348/5123 (84.8721%), train_poison_data_count: 5123
Global model norm: 2.1352973966707784.
Norm before scaling: 3.719479529364337. Distance: 2.627146070690704
Total norm for 5 adversaries is: 3.719479529364337. distance: 2.627146070690704
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.1906, Accuracy: 6301/8991 (70.0812%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 4, internal_epoch   1,  Average loss: 0.0140, Accuracy: 3563/4462 (79.8521%), train_poison_data_count: 4462
Global model norm: 2.1352973966707784.
Norm before scaling: 3.513452969443828. Distance: 2.222399007864855
Total norm for 5 adversaries is: 3.513452969443828. distance: 2.222399007864855
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.2839, Accuracy: 5431/8991 (60.4048%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 5, internal_epoch   1,  Average loss: 0.0120, Accuracy: 3212/3841 (83.6241%), train_poison_data_count: 3841
Global model norm: 2.1352973966707784.
Norm before scaling: 3.374560574782438. Distance: 2.1250884093798694
Total norm for 5 adversaries is: 3.374560574782438. distance: 2.1250884093798694
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.7894, Accuracy: 5586/8991 (62.1288%)
___Train Local_Simple,  epoch  30, local model 6, internal_epoch   1,  Average loss: 0.0153, Accuracy: 2270/2945 (77.0798%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.5859, Accuracy: 5389/10000 (53.8900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 7, internal_epoch   1,  Average loss: 0.0122, Accuracy: 2308/2756 (83.7446%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.9384, Accuracy: 4803/10000 (48.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 8, internal_epoch   1,  Average loss: 0.0170, Accuracy: 2574/3437 (74.8909%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.2682, Accuracy: 6142/10000 (61.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 9, internal_epoch   1,  Average loss: 0.0098, Accuracy: 5052/5809 (86.9685%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 2.9290, Accuracy: 3526/10000 (35.2600%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  30, local model 10, internal_epoch   1,  Average loss: 0.0100, Accuracy: 2181/2592 (84.1435%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.8646, Accuracy: 3909/10000 (39.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 11, internal_epoch   1,  Average loss: 0.0175, Accuracy: 1915/2510 (76.2948%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.2121, Accuracy: 6133/10000 (61.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 12, internal_epoch   1,  Average loss: 0.0070, Accuracy: 4001/4373 (91.4933%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 2.8308, Accuracy: 3447/10000 (34.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 13, internal_epoch   1,  Average loss: 0.0102, Accuracy: 3773/4339 (86.9555%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 2.1792, Accuracy: 4863/10000 (48.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 14, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2191/2782 (78.7563%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 2.1511, Accuracy: 4488/10000 (44.8800%), Attack Success Rate:0/10000(0.000)
time spent on training: 197.68861937522888
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.75503308 0.90475904 0.
 1.         1.         0.25234634]
___Test Target_Simple poisoned: False, epoch: 30: Average loss: 1.6952, Accuracy: 4071/10000 (40.7100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 30: Average loss: 1.7537, Accuracy: 3483/8991 (38.7387%)
Done in 205.65904903411865 sec.
Server Epoch:31 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  31, local model 0, internal_epoch   1,  Average loss: 0.0180, Accuracy: 2257/3010 (74.9834%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.5020, Accuracy: 6399/10000 (63.9900%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 1, internal_epoch   1,  Average loss: 0.0087, Accuracy: 5105/5805 (87.9414%), train_poison_data_count: 5805
Global model norm: 2.1523735473564107.
Norm before scaling: 3.4739552525969444. Distance: 2.4378877967068697
Total norm for 5 adversaries is: 3.4739552525969444. distance: 2.4378877967068697
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 2.2056, Accuracy: 4638/8991 (51.5849%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 2, internal_epoch   1,  Average loss: 0.0138, Accuracy: 3829/4779 (80.1214%), train_poison_data_count: 4779
Global model norm: 2.1523735473564107.
Norm before scaling: 3.6806662648822677. Distance: 2.502421065085011
Total norm for 5 adversaries is: 3.6806662648822677. distance: 2.502421065085011
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 0.8759, Accuracy: 6336/8991 (70.4705%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 3, internal_epoch   1,  Average loss: 0.0124, Accuracy: 4301/5123 (83.9547%), train_poison_data_count: 5123
Global model norm: 2.1523735473564107.
Norm before scaling: 3.725601680217394. Distance: 2.6061308103975365
Total norm for 5 adversaries is: 3.725601680217394. distance: 2.6061308103975365
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.1760, Accuracy: 6395/8991 (71.1267%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 4, internal_epoch   1,  Average loss: 0.0140, Accuracy: 3565/4462 (79.8969%), train_poison_data_count: 4462
Global model norm: 2.1523735473564107.
Norm before scaling: 3.5082942232563097. Distance: 2.1904193471459563
Total norm for 5 adversaries is: 3.5082942232563097. distance: 2.1904193471459563
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.2302, Accuracy: 5598/8991 (62.2623%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 5, internal_epoch   1,  Average loss: 0.0120, Accuracy: 3205/3841 (83.4418%), train_poison_data_count: 3841
Global model norm: 2.1523735473564107.
Norm before scaling: 3.36979683940005. Distance: 2.091640833458313
Total norm for 5 adversaries is: 3.36979683940005. distance: 2.091640833458313
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.7909, Accuracy: 5630/8991 (62.6182%)
___Train Local_Simple,  epoch  31, local model 6, internal_epoch   1,  Average loss: 0.0154, Accuracy: 2218/2945 (75.3141%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.5529, Accuracy: 5413/10000 (54.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 7, internal_epoch   1,  Average loss: 0.0121, Accuracy: 2307/2756 (83.7083%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.8518, Accuracy: 4890/10000 (48.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 8, internal_epoch   1,  Average loss: 0.0168, Accuracy: 2600/3437 (75.6474%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.2512, Accuracy: 6234/10000 (62.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 9, internal_epoch   1,  Average loss: 0.0097, Accuracy: 5057/5809 (87.0546%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 2.8671, Accuracy: 3594/10000 (35.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 10, internal_epoch   1,  Average loss: 0.0100, Accuracy: 2205/2592 (85.0694%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.8703, Accuracy: 3871/10000 (38.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 11, internal_epoch   1,  Average loss: 0.0179, Accuracy: 1904/2510 (75.8566%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.1947, Accuracy: 6242/10000 (62.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 12, internal_epoch   1,  Average loss: 0.0070, Accuracy: 3999/4373 (91.4475%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 2.8337, Accuracy: 3461/10000 (34.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 13, internal_epoch   1,  Average loss: 0.0100, Accuracy: 3763/4339 (86.7251%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 2.0549, Accuracy: 5009/10000 (50.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 14, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2207/2782 (79.3314%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 2.0801, Accuracy: 4704/10000 (47.0400%), Attack Success Rate:0/10000(0.000)
time spent on training: 204.97387790679932
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.81906966 0.63076651 0.
 1.         1.         0.33796053]
___Test Target_Simple poisoned: False, epoch: 31: Average loss: 1.6857, Accuracy: 4087/10000 (40.8700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 31: Average loss: 1.7446, Accuracy: 3507/8991 (39.0057%)
Done in 212.96201181411743 sec.
Server Epoch:32 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  32, local model 0, internal_epoch   1,  Average loss: 0.0177, Accuracy: 2270/3010 (75.4153%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.4875, Accuracy: 6498/10000 (64.9800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 1, internal_epoch   1,  Average loss: 0.0086, Accuracy: 5103/5805 (87.9070%), train_poison_data_count: 5805
Global model norm: 2.169654424547939.
Norm before scaling: 3.4716358723940455. Distance: 2.4127015657173274
Total norm for 5 adversaries is: 3.4716358723940455. distance: 2.4127015657173274
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 2.1279, Accuracy: 4719/8991 (52.4858%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 2, internal_epoch   1,  Average loss: 0.0137, Accuracy: 3844/4779 (80.4352%), train_poison_data_count: 4779
Global model norm: 2.169654424547939.
Norm before scaling: 3.6878968364742866. Distance: 2.492331569417782
Total norm for 5 adversaries is: 3.6878968364742866. distance: 2.492331569417782
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 0.8327, Accuracy: 6426/8991 (71.4715%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 3, internal_epoch   1,  Average loss: 0.0124, Accuracy: 4340/5123 (84.7160%), train_poison_data_count: 5123
Global model norm: 2.169654424547939.
Norm before scaling: 3.747112561251916. Distance: 2.6116108709175974
Total norm for 5 adversaries is: 3.747112561251916. distance: 2.6116108709175974
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.2075, Accuracy: 6272/8991 (69.7586%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 4, internal_epoch   1,  Average loss: 0.0139, Accuracy: 3565/4462 (79.8969%), train_poison_data_count: 4462
Global model norm: 2.169654424547939.
Norm before scaling: 3.513472105563422. Distance: 2.172048548069798
Total norm for 5 adversaries is: 3.513472105563422. distance: 2.172048548069798
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.2625, Accuracy: 5455/8991 (60.6718%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 5, internal_epoch   1,  Average loss: 0.0119, Accuracy: 3226/3841 (83.9885%), train_poison_data_count: 3841
Global model norm: 2.169654424547939.
Norm before scaling: 3.3822775190876175. Distance: 2.078682616719307
Total norm for 5 adversaries is: 3.3822775190876175. distance: 2.078682616719307
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.7686, Accuracy: 5683/8991 (63.2077%)
___Train Local_Simple,  epoch  32, local model 6, internal_epoch   1,  Average loss: 0.0151, Accuracy: 2260/2945 (76.7402%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.5604, Accuracy: 5276/10000 (52.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 7, internal_epoch   1,  Average loss: 0.0121, Accuracy: 2310/2756 (83.8171%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.9145, Accuracy: 4774/10000 (47.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 8, internal_epoch   1,  Average loss: 0.0166, Accuracy: 2620/3437 (76.2293%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.2664, Accuracy: 6262/10000 (62.6200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 9, internal_epoch   1,  Average loss: 0.0096, Accuracy: 5067/5809 (87.2267%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 2.7930, Accuracy: 3625/10000 (36.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 10, internal_epoch   1,  Average loss: 0.0099, Accuracy: 2202/2592 (84.9537%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.8756, Accuracy: 3828/10000 (38.2800%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  32, local model 11, internal_epoch   1,  Average loss: 0.0177, Accuracy: 1933/2510 (77.0120%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1736, Accuracy: 6280/10000 (62.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 12, internal_epoch   1,  Average loss: 0.0069, Accuracy: 3994/4373 (91.3332%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 2.8080, Accuracy: 3462/10000 (34.6200%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch  32, local model 13, internal_epoch   1,  Average loss: 0.0098, Accuracy: 3794/4339 (87.4395%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 2.1656, Accuracy: 4790/10000 (47.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 14, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2182/2782 (78.4328%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 2.0976, Accuracy: 4674/10000 (46.7400%), Attack Success Rate:0/10000(0.000)
time spent on training: 210.578058719635
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.82636402 0.90001525 0.
 1.         1.         0.26921337]
___Test Target_Simple poisoned: False, epoch: 32: Average loss: 1.6751, Accuracy: 4129/10000 (41.2900%), Attack Success Rate:1/10000(0.010)
___Test Target_Simple poisoned: True, epoch: 32: Average loss: 1.7355, Accuracy: 3537/8991 (39.3393%)
Done in 218.57466340065002 sec.
Server Epoch:33 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  33, local model 0, internal_epoch   1,  Average loss: 0.0175, Accuracy: 2265/3010 (75.2492%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.4793, Accuracy: 6572/10000 (65.7200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 1, internal_epoch   1,  Average loss: 0.0086, Accuracy: 5114/5805 (88.0965%), train_poison_data_count: 5805
Global model norm: 2.187737588241534.
Norm before scaling: 3.4686600956993567. Distance: 2.3878671533575186
Total norm for 5 adversaries is: 3.4686600956993567. distance: 2.3878671533575186
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 2.1314, Accuracy: 4682/8991 (52.0743%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 2, internal_epoch   1,  Average loss: 0.0137, Accuracy: 3856/4779 (80.6863%), train_poison_data_count: 4779
Global model norm: 2.187737588241534.
Norm before scaling: 3.6796322958140073. Distance: 2.463740614317228
Total norm for 5 adversaries is: 3.6796322958140073. distance: 2.463740614317228
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 0.8530, Accuracy: 6304/8991 (70.1146%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 3, internal_epoch   1,  Average loss: 0.0124, Accuracy: 4316/5123 (84.2475%), train_poison_data_count: 5123
Global model norm: 2.187737588241534.
Norm before scaling: 3.7408911384868935. Distance: 2.5781116832042437
Total norm for 5 adversaries is: 3.7408911384868935. distance: 2.5781116832042437
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.1564, Accuracy: 6440/8991 (71.6272%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 4, internal_epoch   1,  Average loss: 0.0138, Accuracy: 3588/4462 (80.4124%), train_poison_data_count: 4462
Global model norm: 2.187737588241534.
Norm before scaling: 3.5325034288523365. Distance: 2.1746935222907973
Total norm for 5 adversaries is: 3.5325034288523365. distance: 2.1746935222907973
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.2397, Accuracy: 5551/8991 (61.7395%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 5, internal_epoch   1,  Average loss: 0.0119, Accuracy: 3237/3841 (84.2749%), train_poison_data_count: 3841
Global model norm: 2.187737588241534.
Norm before scaling: 3.399762055541793. Distance: 2.0879857440403358
Total norm for 5 adversaries is: 3.399762055541793. distance: 2.0879857440403358
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.7742, Accuracy: 5585/8991 (62.1177%)
___Train Local_Simple,  epoch  33, local model 6, internal_epoch   1,  Average loss: 0.0153, Accuracy: 2247/2945 (76.2988%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.5284, Accuracy: 5422/10000 (54.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 7, internal_epoch   1,  Average loss: 0.0121, Accuracy: 2315/2756 (83.9985%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.8556, Accuracy: 4747/10000 (47.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 8, internal_epoch   1,  Average loss: 0.0165, Accuracy: 2639/3437 (76.7821%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.2268, Accuracy: 6401/10000 (64.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 9, internal_epoch   1,  Average loss: 0.0096, Accuracy: 5079/5809 (87.4333%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 2.7792, Accuracy: 3640/10000 (36.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 10, internal_epoch   1,  Average loss: 0.0097, Accuracy: 2223/2592 (85.7639%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.8533, Accuracy: 4263/10000 (42.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 11, internal_epoch   1,  Average loss: 0.0173, Accuracy: 1900/2510 (75.6972%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1786, Accuracy: 6262/10000 (62.6200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 12, internal_epoch   1,  Average loss: 0.0069, Accuracy: 3984/4373 (91.1045%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 2.7890, Accuracy: 3398/10000 (33.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 13, internal_epoch   1,  Average loss: 0.0098, Accuracy: 3802/4339 (87.6239%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 2.1198, Accuracy: 4825/10000 (48.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 14, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2180/2782 (78.3609%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 2.0600, Accuracy: 4747/10000 (47.4700%), Attack Success Rate:0/10000(0.000)
time spent on training: 216.32239413261414
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.77646542 0.9607189  0.
 1.         1.         0.14263915]
___Test Target_Simple poisoned: False, epoch: 33: Average loss: 1.6653, Accuracy: 4161/10000 (41.6100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 33: Average loss: 1.7269, Accuracy: 3567/8991 (39.6730%)
Done in 224.487060546875 sec.
Server Epoch:34 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  34, local model 0, internal_epoch   1,  Average loss: 0.0175, Accuracy: 2240/3010 (74.4186%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.4864, Accuracy: 6358/10000 (63.5800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 1, internal_epoch   1,  Average loss: 0.0086, Accuracy: 5119/5805 (88.1826%), train_poison_data_count: 5805
Global model norm: 2.205226031631664.
Norm before scaling: 3.4842452636651524. Distance: 2.387756122212614
Total norm for 5 adversaries is: 3.4842452636651524. distance: 2.387756122212614
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 2.1455, Accuracy: 4639/8991 (51.5960%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 2, internal_epoch   1,  Average loss: 0.0135, Accuracy: 3869/4779 (80.9584%), train_poison_data_count: 4779
Global model norm: 2.205226031631664.
Norm before scaling: 3.691372406012182. Distance: 2.451552743691748
Total norm for 5 adversaries is: 3.691372406012182. distance: 2.451552743691748
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 0.8537, Accuracy: 6414/8991 (71.3380%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 3, internal_epoch   1,  Average loss: 0.0124, Accuracy: 4336/5123 (84.6379%), train_poison_data_count: 5123
Global model norm: 2.205226031631664.
Norm before scaling: 3.7288314981278874. Distance: 2.5400469470754214
Total norm for 5 adversaries is: 3.7288314981278874. distance: 2.5400469470754214
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.1263, Accuracy: 6501/8991 (72.3056%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 4, internal_epoch   1,  Average loss: 0.0138, Accuracy: 3566/4462 (79.9193%), train_poison_data_count: 4462
Global model norm: 2.205226031631664.
Norm before scaling: 3.5124117259815226. Distance: 2.1340105094615134
Total norm for 5 adversaries is: 3.5124117259815226. distance: 2.1340105094615134
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.1707, Accuracy: 5798/8991 (64.4867%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 5, internal_epoch   1,  Average loss: 0.0118, Accuracy: 3233/3841 (84.1708%), train_poison_data_count: 3841
Global model norm: 2.205226031631664.
Norm before scaling: 3.391159929541013. Distance: 2.056232756104676
Total norm for 5 adversaries is: 3.391159929541013. distance: 2.056232756104676
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.8010, Accuracy: 5470/8991 (60.8386%)
___Train Local_Simple,  epoch  34, local model 6, internal_epoch   1,  Average loss: 0.0153, Accuracy: 2238/2945 (75.9932%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.5673, Accuracy: 5314/10000 (53.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 7, internal_epoch   1,  Average loss: 0.0117, Accuracy: 2320/2756 (84.1800%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.8145, Accuracy: 4916/10000 (49.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 8, internal_epoch   1,  Average loss: 0.0165, Accuracy: 2630/3437 (76.5202%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.2371, Accuracy: 6294/10000 (62.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 9, internal_epoch   1,  Average loss: 0.0095, Accuracy: 5068/5809 (87.2439%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 2.7554, Accuracy: 3655/10000 (36.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 10, internal_epoch   1,  Average loss: 0.0097, Accuracy: 2222/2592 (85.7253%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.7803, Accuracy: 4327/10000 (43.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 11, internal_epoch   1,  Average loss: 0.0176, Accuracy: 1906/2510 (75.9363%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.1489, Accuracy: 6397/10000 (63.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 12, internal_epoch   1,  Average loss: 0.0067, Accuracy: 4015/4373 (91.8134%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 2.7486, Accuracy: 3394/10000 (33.9400%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  34, local model 13, internal_epoch   1,  Average loss: 0.0097, Accuracy: 3792/4339 (87.3934%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 2.1567, Accuracy: 4794/10000 (47.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 14, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2219/2782 (79.7628%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 2.0701, Accuracy: 4612/10000 (46.1200%), Attack Success Rate:0/10000(0.000)
time spent on training: 222.0846815109253
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.88161619 0.79960916 0.
 1.         1.         0.02064545]
___Test Target_Simple poisoned: False, epoch: 34: Average loss: 1.6578, Accuracy: 4197/10000 (41.9700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 34: Average loss: 1.7208, Accuracy: 3590/8991 (39.9288%)
Done in 230.30974793434143 sec.
Server Epoch:35 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  35, local model 0, internal_epoch   1,  Average loss: 0.0176, Accuracy: 2261/3010 (75.1163%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.4704, Accuracy: 6502/10000 (65.0200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 1, internal_epoch   1,  Average loss: 0.0087, Accuracy: 5115/5805 (88.1137%), train_poison_data_count: 5805
Global model norm: 2.22246037107823.
Norm before scaling: 3.4910059216464675. Distance: 2.3816577552253184
Total norm for 5 adversaries is: 3.4910059216464675. distance: 2.3816577552253184
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 2.1531, Accuracy: 4631/8991 (51.5071%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 2, internal_epoch   1,  Average loss: 0.0137, Accuracy: 3832/4779 (80.1841%), train_poison_data_count: 4779
Global model norm: 2.22246037107823.
Norm before scaling: 3.7078536219834333. Distance: 2.451838356384079
Total norm for 5 adversaries is: 3.7078536219834333. distance: 2.451838356384079
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 0.8390, Accuracy: 6396/8991 (71.1378%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 3, internal_epoch   1,  Average loss: 0.0122, Accuracy: 4330/5123 (84.5208%), train_poison_data_count: 5123
Global model norm: 2.22246037107823.
Norm before scaling: 3.7391101392555806. Distance: 2.54028309753799
Total norm for 5 adversaries is: 3.7391101392555806. distance: 2.54028309753799
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.1629, Accuracy: 6377/8991 (70.9265%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 4, internal_epoch   1,  Average loss: 0.0138, Accuracy: 3596/4462 (80.5917%), train_poison_data_count: 4462
Global model norm: 2.22246037107823.
Norm before scaling: 3.5406555228335996. Distance: 2.1339107382713816
Total norm for 5 adversaries is: 3.5406555228335996. distance: 2.1339107382713816
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.2301, Accuracy: 5555/8991 (61.7840%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 5, internal_epoch   1,  Average loss: 0.0117, Accuracy: 3241/3841 (84.3791%), train_poison_data_count: 3841
Global model norm: 2.22246037107823.
Norm before scaling: 3.4024342854451226. Distance: 2.0366101480728105
Total norm for 5 adversaries is: 3.4024342854451226. distance: 2.0366101480728105
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.7736, Accuracy: 5502/8991 (61.1945%)
___Train Local_Simple,  epoch  35, local model 6, internal_epoch   1,  Average loss: 0.0154, Accuracy: 2250/2945 (76.4007%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.5305, Accuracy: 5441/10000 (54.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 7, internal_epoch   1,  Average loss: 0.0119, Accuracy: 2324/2756 (84.3251%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.8546, Accuracy: 4746/10000 (47.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 8, internal_epoch   1,  Average loss: 0.0164, Accuracy: 2611/3437 (75.9674%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.2674, Accuracy: 6224/10000 (62.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 9, internal_epoch   1,  Average loss: 0.0095, Accuracy: 5070/5809 (87.2784%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 2.8001, Accuracy: 3630/10000 (36.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 10, internal_epoch   1,  Average loss: 0.0096, Accuracy: 2221/2592 (85.6867%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.7533, Accuracy: 4434/10000 (44.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 11, internal_epoch   1,  Average loss: 0.0175, Accuracy: 1907/2510 (75.9761%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.1725, Accuracy: 6309/10000 (63.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 12, internal_epoch   1,  Average loss: 0.0068, Accuracy: 3992/4373 (91.2874%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 2.7386, Accuracy: 3412/10000 (34.1200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 13, internal_epoch   1,  Average loss: 0.0097, Accuracy: 3795/4339 (87.4625%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 2.0469, Accuracy: 4978/10000 (49.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 14, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2222/2782 (79.8706%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 2.0515, Accuracy: 4736/10000 (47.3600%), Attack Success Rate:0/10000(0.000)
time spent on training: 226.47568798065186
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.81200077 0.74971725 0.
 1.         1.         0.19396694]
___Test Target_Simple poisoned: False, epoch: 35: Average loss: 1.6500, Accuracy: 4231/10000 (42.3100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 35: Average loss: 1.7137, Accuracy: 3626/8991 (40.3292%)
Done in 234.5874581336975 sec.
Server Epoch:36 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  36, local model 0, internal_epoch   1,  Average loss: 0.0174, Accuracy: 2272/3010 (75.4817%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.4673, Accuracy: 6437/10000 (64.3700%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 1, internal_epoch   1,  Average loss: 0.0086, Accuracy: 5111/5805 (88.0448%), train_poison_data_count: 5805
Global model norm: 2.2398716467459656.
Norm before scaling: 3.5135875986540492. Distance: 2.385023648286734
Total norm for 5 adversaries is: 3.5135875986540492. distance: 2.385023648286734
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 2.0729, Accuracy: 4668/8991 (51.9186%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 2, internal_epoch   1,  Average loss: 0.0135, Accuracy: 3864/4779 (80.8537%), train_poison_data_count: 4779
Global model norm: 2.2398716467459656.
Norm before scaling: 3.7064451632650677. Distance: 2.4344914772070974
Total norm for 5 adversaries is: 3.7064451632650677. distance: 2.4344914772070974
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 0.8709, Accuracy: 6301/8991 (70.0812%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 3, internal_epoch   1,  Average loss: 0.0123, Accuracy: 4344/5123 (84.7941%), train_poison_data_count: 5123
Global model norm: 2.2398716467459656.
Norm before scaling: 3.7420562529991916. Distance: 2.5242138309129762
Total norm for 5 adversaries is: 3.7420562529991916. distance: 2.5242138309129762
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.1594, Accuracy: 6353/8991 (70.6595%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 4, internal_epoch   1,  Average loss: 0.0141, Accuracy: 3572/4462 (80.0538%), train_poison_data_count: 4462
Global model norm: 2.2398716467459656.
Norm before scaling: 3.531849903023597. Distance: 2.109993285941339
Total norm for 5 adversaries is: 3.531849903023597. distance: 2.109993285941339
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.1682, Accuracy: 5819/8991 (64.7203%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 5, internal_epoch   1,  Average loss: 0.0116, Accuracy: 3259/3841 (84.8477%), train_poison_data_count: 3841
Global model norm: 2.2398716467459656.
Norm before scaling: 3.400303400751628. Distance: 2.018787121505278
Total norm for 5 adversaries is: 3.400303400751628. distance: 2.018787121505278
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.7298, Accuracy: 5676/8991 (63.1298%)
___Train Local_Simple,  epoch  36, local model 6, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2267/2945 (76.9779%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.5095, Accuracy: 5508/10000 (55.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 7, internal_epoch   1,  Average loss: 0.0118, Accuracy: 2314/2756 (83.9623%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.8448, Accuracy: 4772/10000 (47.7200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 8, internal_epoch   1,  Average loss: 0.0162, Accuracy: 2635/3437 (76.6657%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.2218, Accuracy: 6337/10000 (63.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 9, internal_epoch   1,  Average loss: 0.0095, Accuracy: 5092/5809 (87.6571%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 2.7689, Accuracy: 3652/10000 (36.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 10, internal_epoch   1,  Average loss: 0.0095, Accuracy: 2213/2592 (85.3781%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.7631, Accuracy: 4537/10000 (45.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 11, internal_epoch   1,  Average loss: 0.0169, Accuracy: 1935/2510 (77.0916%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.2270, Accuracy: 6110/10000 (61.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 12, internal_epoch   1,  Average loss: 0.0066, Accuracy: 3995/4373 (91.3560%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 2.7561, Accuracy: 3395/10000 (33.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 13, internal_epoch   1,  Average loss: 0.0097, Accuracy: 3787/4339 (87.2782%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 2.0586, Accuracy: 4909/10000 (49.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 14, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2177/2782 (78.2531%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 2.0632, Accuracy: 4790/10000 (47.9000%), Attack Success Rate:0/10000(0.000)
time spent on training: 234.68497681617737
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.90885909 0.56244439 0.
 1.         1.         0.34171229]
___Test Target_Simple poisoned: False, epoch: 36: Average loss: 1.6421, Accuracy: 4243/10000 (42.4300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 36: Average loss: 1.7060, Accuracy: 3644/8991 (40.5294%)
Done in 242.59504222869873 sec.
Server Epoch:37 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  37, local model 0, internal_epoch   1,  Average loss: 0.0172, Accuracy: 2288/3010 (76.0133%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.4822, Accuracy: 6350/10000 (63.5000%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 1, internal_epoch   1,  Average loss: 0.0087, Accuracy: 5129/5805 (88.3549%), train_poison_data_count: 5805
Global model norm: 2.2578783916639464.
Norm before scaling: 3.5118734051995593. Distance: 2.3550832758796716
Total norm for 5 adversaries is: 3.5118734051995593. distance: 2.3550832758796716
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 2.0549, Accuracy: 4647/8991 (51.6850%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 2, internal_epoch   1,  Average loss: 0.0133, Accuracy: 3887/4779 (81.3350%), train_poison_data_count: 4779
Global model norm: 2.2578783916639464.
Norm before scaling: 3.7214762207403185. Distance: 2.424122807051448
Total norm for 5 adversaries is: 3.7214762207403185. distance: 2.424122807051448
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.8265, Accuracy: 6489/8991 (72.1722%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 3, internal_epoch   1,  Average loss: 0.0123, Accuracy: 4313/5123 (84.1890%), train_poison_data_count: 5123
Global model norm: 2.2578783916639464.
Norm before scaling: 3.7589495360246437. Distance: 2.5201997091995048
Total norm for 5 adversaries is: 3.7589495360246437. distance: 2.5201997091995048
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.1380, Accuracy: 6450/8991 (71.7384%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 4, internal_epoch   1,  Average loss: 0.0137, Accuracy: 3577/4462 (80.1658%), train_poison_data_count: 4462
Global model norm: 2.2578783916639464.
Norm before scaling: 3.556639820582693. Distance: 2.1105057687831934
Total norm for 5 adversaries is: 3.556639820582693. distance: 2.1105057687831934
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.2024, Accuracy: 5679/8991 (63.1632%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 5, internal_epoch   1,  Average loss: 0.0115, Accuracy: 3262/3841 (84.9258%), train_poison_data_count: 3841
Global model norm: 2.2578783916639464.
Norm before scaling: 3.4160989584335866. Distance: 2.0090170486585066
Total norm for 5 adversaries is: 3.4160989584335866. distance: 2.0090170486585066
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.8003, Accuracy: 5344/8991 (59.4372%)
___Train Local_Simple,  epoch  37, local model 6, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2257/2945 (76.6384%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.5389, Accuracy: 5405/10000 (54.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 7, internal_epoch   1,  Average loss: 0.0117, Accuracy: 2316/2756 (84.0348%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.8428, Accuracy: 4706/10000 (47.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 8, internal_epoch   1,  Average loss: 0.0163, Accuracy: 2642/3437 (76.8694%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.2041, Accuracy: 6375/10000 (63.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 9, internal_epoch   1,  Average loss: 0.0093, Accuracy: 5097/5809 (87.7432%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 2.8815, Accuracy: 3573/10000 (35.7300%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  37, local model 10, internal_epoch   1,  Average loss: 0.0095, Accuracy: 2222/2592 (85.7253%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.7183, Accuracy: 4616/10000 (46.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 11, internal_epoch   1,  Average loss: 0.0172, Accuracy: 1921/2510 (76.5339%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.1076, Accuracy: 6425/10000 (64.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 12, internal_epoch   1,  Average loss: 0.0066, Accuracy: 4012/4373 (91.7448%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 2.7215, Accuracy: 3405/10000 (34.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 13, internal_epoch   1,  Average loss: 0.0096, Accuracy: 3813/4339 (87.8774%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 2.0566, Accuracy: 4866/10000 (48.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 14, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2178/2782 (78.2890%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.9896, Accuracy: 4782/10000 (47.8200%), Attack Success Rate:0/10000(0.000)
time spent on training: 235.54545044898987
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.93403199 0.58176117 0.
 1.         1.         0.21282518]
___Test Target_Simple poisoned: False, epoch: 37: Average loss: 1.6356, Accuracy: 4254/10000 (42.5400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 37: Average loss: 1.6998, Accuracy: 3672/8991 (40.8408%)
Done in 243.53242993354797 sec.
Server Epoch:38 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  38, local model 0, internal_epoch   1,  Average loss: 0.0174, Accuracy: 2272/3010 (75.4817%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.4419, Accuracy: 6537/10000 (65.3700%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 1, internal_epoch   1,  Average loss: 0.0086, Accuracy: 5120/5805 (88.1998%), train_poison_data_count: 5805
Global model norm: 2.2756840987311966.
Norm before scaling: 3.5066932982773946. Distance: 2.3282983702553754
Total norm for 5 adversaries is: 3.5066932982773946. distance: 2.3282983702553754
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 2.0064, Accuracy: 4677/8991 (52.0187%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 2, internal_epoch   1,  Average loss: 0.0133, Accuracy: 3878/4779 (81.1467%), train_poison_data_count: 4779
Global model norm: 2.2756840987311966.
Norm before scaling: 3.7241534557664466. Distance: 2.4012777304847766
Total norm for 5 adversaries is: 3.7241534557664466. distance: 2.4012777304847766
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 0.8414, Accuracy: 6474/8991 (72.0053%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 3, internal_epoch   1,  Average loss: 0.0121, Accuracy: 4346/5123 (84.8331%), train_poison_data_count: 5123
Global model norm: 2.2756840987311966.
Norm before scaling: 3.7688164700392175. Distance: 2.5182291140682893
Total norm for 5 adversaries is: 3.7688164700392175. distance: 2.5182291140682893
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.1909, Accuracy: 6301/8991 (70.0812%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 4, internal_epoch   1,  Average loss: 0.0135, Accuracy: 3588/4462 (80.4124%), train_poison_data_count: 4462
Global model norm: 2.2756840987311966.
Norm before scaling: 3.5478645994375806. Distance: 2.077126743649937
Total norm for 5 adversaries is: 3.5478645994375806. distance: 2.077126743649937
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.2135, Accuracy: 5614/8991 (62.4402%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 5, internal_epoch   1,  Average loss: 0.0115, Accuracy: 3250/3841 (84.6134%), train_poison_data_count: 3841
Global model norm: 2.2756840987311966.
Norm before scaling: 3.403782782198881. Distance: 1.9710940378788373
Total norm for 5 adversaries is: 3.403782782198881. distance: 1.9710940378788373
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.7161, Accuracy: 5719/8991 (63.6081%)
___Train Local_Simple,  epoch  38, local model 6, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2258/2945 (76.6723%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.5149, Accuracy: 5393/10000 (53.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 7, internal_epoch   1,  Average loss: 0.0117, Accuracy: 2334/2756 (84.6880%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.8218, Accuracy: 4748/10000 (47.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 8, internal_epoch   1,  Average loss: 0.0163, Accuracy: 2608/3437 (75.8801%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.2381, Accuracy: 6138/10000 (61.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 9, internal_epoch   1,  Average loss: 0.0092, Accuracy: 5118/5809 (88.1047%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 2.7281, Accuracy: 3730/10000 (37.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 10, internal_epoch   1,  Average loss: 0.0095, Accuracy: 2230/2592 (86.0340%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.7807, Accuracy: 4239/10000 (42.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 11, internal_epoch   1,  Average loss: 0.0170, Accuracy: 1932/2510 (76.9721%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.1287, Accuracy: 6329/10000 (63.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 12, internal_epoch   1,  Average loss: 0.0064, Accuracy: 4023/4373 (91.9963%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 2.7631, Accuracy: 3404/10000 (34.0400%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  38, local model 13, internal_epoch   1,  Average loss: 0.0095, Accuracy: 3813/4339 (87.8774%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 2.0956, Accuracy: 4879/10000 (48.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 14, internal_epoch   1,  Average loss: 0.0142, Accuracy: 2212/2782 (79.5111%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.9697, Accuracy: 4918/10000 (49.1800%), Attack Success Rate:0/10000(0.000)
time spent on training: 245.70028042793274
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.69919604 0.
 1.         1.         0.06365357]
___Test Target_Simple poisoned: False, epoch: 38: Average loss: 1.6294, Accuracy: 4269/10000 (42.6900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 38: Average loss: 1.6943, Accuracy: 3685/8991 (40.9854%)
Done in 254.1211850643158 sec.
Server Epoch:39 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  39, local model 0, internal_epoch   1,  Average loss: 0.0170, Accuracy: 2286/3010 (75.9468%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.4625, Accuracy: 6319/10000 (63.1900%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 1, internal_epoch   1,  Average loss: 0.0085, Accuracy: 5149/5805 (88.6994%), train_poison_data_count: 5805
Global model norm: 2.293705108785372.
Norm before scaling: 3.5161561013766223. Distance: 2.3243460484112286
Total norm for 5 adversaries is: 3.5161561013766223. distance: 2.3243460484112286
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 2.0272, Accuracy: 4650/8991 (51.7184%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 2, internal_epoch   1,  Average loss: 0.0133, Accuracy: 3865/4779 (80.8747%), train_poison_data_count: 4779
Global model norm: 2.293705108785372.
Norm before scaling: 3.7330876769124544. Distance: 2.405166679364173
Total norm for 5 adversaries is: 3.7330876769124544. distance: 2.405166679364173
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.8175, Accuracy: 6431/8991 (71.5271%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 3, internal_epoch   1,  Average loss: 0.0121, Accuracy: 4353/5123 (84.9697%), train_poison_data_count: 5123
Global model norm: 2.293705108785372.
Norm before scaling: 3.766699546625446. Distance: 2.492487778705414
Total norm for 5 adversaries is: 3.766699546625446. distance: 2.492487778705414
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.1536, Accuracy: 6433/8991 (71.5493%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 4, internal_epoch   1,  Average loss: 0.0132, Accuracy: 3611/4462 (80.9278%), train_poison_data_count: 4462
Global model norm: 2.293705108785372.
Norm before scaling: 3.5655163493473676. Distance: 2.0645005898265776
Total norm for 5 adversaries is: 3.5655163493473676. distance: 2.0645005898265776
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.2456, Accuracy: 5490/8991 (61.0611%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 5, internal_epoch   1,  Average loss: 0.0114, Accuracy: 3259/3841 (84.8477%), train_poison_data_count: 3841
Global model norm: 2.293705108785372.
Norm before scaling: 3.4285701939035644. Distance: 1.988292401775271
Total norm for 5 adversaries is: 3.4285701939035644. distance: 1.988292401775271
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.7335, Accuracy: 5572/8991 (61.9731%)
___Train Local_Simple,  epoch  39, local model 6, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2255/2945 (76.5705%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.4786, Accuracy: 5531/10000 (55.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 7, internal_epoch   1,  Average loss: 0.0117, Accuracy: 2331/2756 (84.5791%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.7871, Accuracy: 4768/10000 (47.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 8, internal_epoch   1,  Average loss: 0.0162, Accuracy: 2636/3437 (76.6948%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.2256, Accuracy: 6178/10000 (61.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 9, internal_epoch   1,  Average loss: 0.0093, Accuracy: 5095/5809 (87.7087%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 2.7575, Accuracy: 3663/10000 (36.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 10, internal_epoch   1,  Average loss: 0.0093, Accuracy: 2219/2592 (85.6096%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.7528, Accuracy: 4258/10000 (42.5800%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  39, local model 11, internal_epoch   1,  Average loss: 0.0172, Accuracy: 1911/2510 (76.1355%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.1190, Accuracy: 6406/10000 (64.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 12, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4031/4373 (92.1793%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 2.6584, Accuracy: 3448/10000 (34.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 13, internal_epoch   1,  Average loss: 0.0095, Accuracy: 3795/4339 (87.4625%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 2.0806, Accuracy: 4865/10000 (48.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 14, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2217/2782 (79.6909%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 2.0598, Accuracy: 4650/10000 (46.5000%), Attack Success Rate:0/10000(0.000)
time spent on training: 250.96533751487732
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.76038561 0.61648066 0.
 1.         1.         0.28780031]
___Test Target_Simple poisoned: False, epoch: 39: Average loss: 1.6224, Accuracy: 4292/10000 (42.9200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 39: Average loss: 1.6883, Accuracy: 3707/8991 (41.2301%)
Done in 258.9505476951599 sec.
Server Epoch:40 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  40, local model 0, internal_epoch   1,  Average loss: 0.0168, Accuracy: 2316/3010 (76.9435%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.4502, Accuracy: 6445/10000 (64.4500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 1, internal_epoch   1,  Average loss: 0.0085, Accuracy: 5140/5805 (88.5444%), train_poison_data_count: 5805
Global model norm: 2.3109047000767715.
Norm before scaling: 3.5230596301673414. Distance: 2.313258794065535
Total norm for 5 adversaries is: 3.5230596301673414. distance: 2.313258794065535
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 2.0428, Accuracy: 4650/8991 (51.7184%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 2, internal_epoch   1,  Average loss: 0.0133, Accuracy: 3870/4779 (80.9793%), train_poison_data_count: 4779
Global model norm: 2.3109047000767715.
Norm before scaling: 3.751217962202566. Distance: 2.4106739545405342
Total norm for 5 adversaries is: 3.751217962202566. distance: 2.4106739545405342
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 0.8418, Accuracy: 6418/8991 (71.3825%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 3, internal_epoch   1,  Average loss: 0.0120, Accuracy: 4364/5123 (85.1845%), train_poison_data_count: 5123
Global model norm: 2.3109047000767715.
Norm before scaling: 3.7730097241917115. Distance: 2.4764895262932836
Total norm for 5 adversaries is: 3.7730097241917115. distance: 2.4764895262932836
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.1458, Accuracy: 6378/8991 (70.9376%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 4, internal_epoch   1,  Average loss: 0.0134, Accuracy: 3608/4462 (80.8606%), train_poison_data_count: 4462
Global model norm: 2.3109047000767715.
Norm before scaling: 3.5555107756284965. Distance: 2.0368691994981556
Total norm for 5 adversaries is: 3.5555107756284965. distance: 2.0368691994981556
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.1704, Accuracy: 5743/8991 (63.8750%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 5, internal_epoch   1,  Average loss: 0.0114, Accuracy: 3252/3841 (84.6655%), train_poison_data_count: 3841
Global model norm: 2.3109047000767715.
Norm before scaling: 3.4311414691041024. Distance: 1.9729733656000497
Total norm for 5 adversaries is: 3.4311414691041024. distance: 1.9729733656000497
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.6823, Accuracy: 5715/8991 (63.5636%)
___Train Local_Simple,  epoch  40, local model 6, internal_epoch   1,  Average loss: 0.0148, Accuracy: 2259/2945 (76.7063%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.4673, Accuracy: 5486/10000 (54.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 7, internal_epoch   1,  Average loss: 0.0116, Accuracy: 2346/2756 (85.1234%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.7544, Accuracy: 4825/10000 (48.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 8, internal_epoch   1,  Average loss: 0.0160, Accuracy: 2640/3437 (76.8112%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.2118, Accuracy: 6265/10000 (62.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 9, internal_epoch   1,  Average loss: 0.0092, Accuracy: 5091/5809 (87.6399%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 2.7568, Accuracy: 3706/10000 (37.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 10, internal_epoch   1,  Average loss: 0.0093, Accuracy: 2230/2592 (86.0340%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.7160, Accuracy: 4572/10000 (45.7200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 11, internal_epoch   1,  Average loss: 0.0174, Accuracy: 1912/2510 (76.1753%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0975, Accuracy: 6497/10000 (64.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 12, internal_epoch   1,  Average loss: 0.0065, Accuracy: 4000/4373 (91.4704%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 2.6611, Accuracy: 3441/10000 (34.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 13, internal_epoch   1,  Average loss: 0.0095, Accuracy: 3796/4339 (87.4856%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 2.0206, Accuracy: 5042/10000 (50.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 14, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2205/2782 (79.2595%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.9597, Accuracy: 4927/10000 (49.2700%), Attack Success Rate:0/10000(0.000)
time spent on training: 252.5397551059723
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.88563238 0.79760745 0.
 1.         1.         0.20574558]
___Test Target_Simple poisoned: False, epoch: 40: Average loss: 1.6151, Accuracy: 4329/10000 (43.2900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 40: Average loss: 1.6815, Accuracy: 3742/8991 (41.6194%)
Done in 260.6112678050995 sec.
Server Epoch:41 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  41, local model 0, internal_epoch   1,  Average loss: 0.0169, Accuracy: 2306/3010 (76.6113%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.4225, Accuracy: 6587/10000 (65.8700%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 1, internal_epoch   1,  Average loss: 0.0085, Accuracy: 5130/5805 (88.3721%), train_poison_data_count: 5805
Global model norm: 2.3291202952273404.
Norm before scaling: 3.561634025394407. Distance: 2.333783946349736
Total norm for 5 adversaries is: 3.561634025394407. distance: 2.333783946349736
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 2.0240, Accuracy: 4627/8991 (51.4626%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 2, internal_epoch   1,  Average loss: 0.0133, Accuracy: 3848/4779 (80.5189%), train_poison_data_count: 4779
Global model norm: 2.3291202952273404.
Norm before scaling: 3.752902497136734. Distance: 2.380361528426294
Total norm for 5 adversaries is: 3.752902497136734. distance: 2.380361528426294
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.7972, Accuracy: 6525/8991 (72.5726%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 3, internal_epoch   1,  Average loss: 0.0120, Accuracy: 4354/5123 (84.9893%), train_poison_data_count: 5123
Global model norm: 2.3291202952273404.
Norm before scaling: 3.77641428544945. Distance: 2.4642778281960362
Total norm for 5 adversaries is: 3.77641428544945. distance: 2.4642778281960362
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.1262, Accuracy: 6422/8991 (71.4270%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 4, internal_epoch   1,  Average loss: 0.0134, Accuracy: 3610/4462 (80.9054%), train_poison_data_count: 4462
Global model norm: 2.3291202952273404.
Norm before scaling: 3.5778370037534195. Distance: 2.04145187753227
Total norm for 5 adversaries is: 3.5778370037534195. distance: 2.04145187753227
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.1617, Accuracy: 5821/8991 (64.7425%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 5, internal_epoch   1,  Average loss: 0.0114, Accuracy: 3242/3841 (84.4051%), train_poison_data_count: 3841
Global model norm: 2.3291202952273404.
Norm before scaling: 3.440083174698009. Distance: 1.953234310905932
Total norm for 5 adversaries is: 3.440083174698009. distance: 1.953234310905932
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.7386, Accuracy: 5648/8991 (62.8184%)
___Train Local_Simple,  epoch  41, local model 6, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2276/2945 (77.2835%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.4680, Accuracy: 5411/10000 (54.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 7, internal_epoch   1,  Average loss: 0.0116, Accuracy: 2321/2756 (84.2163%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.7885, Accuracy: 4737/10000 (47.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 8, internal_epoch   1,  Average loss: 0.0160, Accuracy: 2648/3437 (77.0439%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.1758, Accuracy: 6402/10000 (64.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 9, internal_epoch   1,  Average loss: 0.0091, Accuracy: 5112/5809 (88.0014%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 2.7615, Accuracy: 3623/10000 (36.2300%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  41, local model 10, internal_epoch   1,  Average loss: 0.0092, Accuracy: 2208/2592 (85.1852%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.7682, Accuracy: 4300/10000 (43.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 11, internal_epoch   1,  Average loss: 0.0169, Accuracy: 1936/2510 (77.1315%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.1265, Accuracy: 6481/10000 (64.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 12, internal_epoch   1,  Average loss: 0.0064, Accuracy: 4039/4373 (92.3622%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 2.6345, Accuracy: 3473/10000 (34.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 13, internal_epoch   1,  Average loss: 0.0093, Accuracy: 3811/4339 (87.8313%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 2.0093, Accuracy: 4997/10000 (49.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 14, internal_epoch   1,  Average loss: 0.0142, Accuracy: 2190/2782 (78.7203%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 2.0335, Accuracy: 4695/10000 (46.9500%), Attack Success Rate:0/10000(0.000)
time spent on training: 261.0346601009369
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.92100314 0.
 1.         1.         0.1555296 ]
___Test Target_Simple poisoned: False, epoch: 41: Average loss: 1.6073, Accuracy: 4367/10000 (43.6700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 41: Average loss: 1.6746, Accuracy: 3772/8991 (41.9531%)
Done in 268.9658010005951 sec.
Server Epoch:42 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  42, local model 0, internal_epoch   1,  Average loss: 0.0169, Accuracy: 2290/3010 (76.0797%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.4154, Accuracy: 6532/10000 (65.3200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 1, internal_epoch   1,  Average loss: 0.0084, Accuracy: 5123/5805 (88.2515%), train_poison_data_count: 5805
Global model norm: 2.348261953405698.
Norm before scaling: 3.5455599460184772. Distance: 2.3030293334802234
Total norm for 5 adversaries is: 3.5455599460184772. distance: 2.3030293334802234
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 2.0044, Accuracy: 4690/8991 (52.1633%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 2, internal_epoch   1,  Average loss: 0.0130, Accuracy: 3874/4779 (81.0630%), train_poison_data_count: 4779
Global model norm: 2.348261953405698.
Norm before scaling: 3.7506199642148226. Distance: 2.3475112235519022
Total norm for 5 adversaries is: 3.7506199642148226. distance: 2.3475112235519022
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 0.8288, Accuracy: 6509/8991 (72.3946%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 3, internal_epoch   1,  Average loss: 0.0119, Accuracy: 4342/5123 (84.7550%), train_poison_data_count: 5123
Global model norm: 2.348261953405698.
Norm before scaling: 3.812319141538189. Distance: 2.4839074996519885
Total norm for 5 adversaries is: 3.812319141538189. distance: 2.4839074996519885
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.1512, Accuracy: 6394/8991 (71.1156%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 4, internal_epoch   1,  Average loss: 0.0132, Accuracy: 3619/4462 (81.1071%), train_poison_data_count: 4462
Global model norm: 2.348261953405698.
Norm before scaling: 3.5672153252925387. Distance: 2.0081472154962206
Total norm for 5 adversaries is: 3.5672153252925387. distance: 2.0081472154962206
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.1519, Accuracy: 5830/8991 (64.8426%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 5, internal_epoch   1,  Average loss: 0.0113, Accuracy: 3238/3841 (84.3010%), train_poison_data_count: 3841
Global model norm: 2.348261953405698.
Norm before scaling: 3.4298771347416848. Distance: 1.9304292311226228
Total norm for 5 adversaries is: 3.4298771347416848. distance: 1.9304292311226228
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.6697, Accuracy: 5722/8991 (63.6414%)
___Train Local_Simple,  epoch  42, local model 6, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2229/2945 (75.6876%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.4338, Accuracy: 5476/10000 (54.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 7, internal_epoch   1,  Average loss: 0.0117, Accuracy: 2330/2756 (84.5428%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.7711, Accuracy: 4850/10000 (48.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 8, internal_epoch   1,  Average loss: 0.0159, Accuracy: 2663/3437 (77.4804%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.2129, Accuracy: 6179/10000 (61.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 9, internal_epoch   1,  Average loss: 0.0092, Accuracy: 5112/5809 (88.0014%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 2.6623, Accuracy: 3714/10000 (37.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 10, internal_epoch   1,  Average loss: 0.0091, Accuracy: 2236/2592 (86.2654%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.7645, Accuracy: 4324/10000 (43.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 11, internal_epoch   1,  Average loss: 0.0168, Accuracy: 1957/2510 (77.9681%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.1398, Accuracy: 6366/10000 (63.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 12, internal_epoch   1,  Average loss: 0.0063, Accuracy: 4021/4373 (91.9506%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 2.6619, Accuracy: 3427/10000 (34.2700%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  42, local model 13, internal_epoch   1,  Average loss: 0.0092, Accuracy: 3818/4339 (87.9926%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 2.0953, Accuracy: 4906/10000 (49.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 14, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2210/2782 (79.4393%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.9309, Accuracy: 4898/10000 (48.9800%), Attack Success Rate:0/10000(0.000)
time spent on training: 264.4866406917572
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.92610814 0.70785521 0.
 1.         1.         0.22738827]
___Test Target_Simple poisoned: False, epoch: 42: Average loss: 1.6005, Accuracy: 4398/10000 (43.9800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 42: Average loss: 1.6686, Accuracy: 3791/8991 (42.1644%)
Done in 273.4427373409271 sec.
Server Epoch:43 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  43, local model 0, internal_epoch   1,  Average loss: 0.0168, Accuracy: 2301/3010 (76.4452%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.4347, Accuracy: 6482/10000 (64.8200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 1, internal_epoch   1,  Average loss: 0.0083, Accuracy: 5146/5805 (88.6477%), train_poison_data_count: 5805
Global model norm: 2.3665557118943976.
Norm before scaling: 3.558523803425502. Distance: 2.303531990685303
Total norm for 5 adversaries is: 3.558523803425502. distance: 2.303531990685303
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 2.0357, Accuracy: 4552/8991 (50.6284%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 2, internal_epoch   1,  Average loss: 0.0132, Accuracy: 3906/4779 (81.7326%), train_poison_data_count: 4779
Global model norm: 2.3665557118943976.
Norm before scaling: 3.778810328823174. Distance: 2.3644202648068195
Total norm for 5 adversaries is: 3.778810328823174. distance: 2.3644202648068195
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.7997, Accuracy: 6591/8991 (73.3066%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 3, internal_epoch   1,  Average loss: 0.0120, Accuracy: 4335/5123 (84.6184%), train_poison_data_count: 5123
Global model norm: 2.3665557118943976.
Norm before scaling: 3.8100245209152637. Distance: 2.4647464400487347
Total norm for 5 adversaries is: 3.8100245209152637. distance: 2.4647464400487347
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 1.1463, Accuracy: 6346/8991 (70.5817%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 4, internal_epoch   1,  Average loss: 0.0131, Accuracy: 3620/4462 (81.1295%), train_poison_data_count: 4462
Global model norm: 2.3665557118943976.
Norm before scaling: 3.5999254324925727. Distance: 2.01804590849362
Total norm for 5 adversaries is: 3.5999254324925727. distance: 2.01804590849362
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 1.2018, Accuracy: 5617/8991 (62.4736%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 5, internal_epoch   1,  Average loss: 0.0112, Accuracy: 3261/3841 (84.8998%), train_poison_data_count: 3841
Global model norm: 2.3665557118943976.
Norm before scaling: 3.4612166246959015. Distance: 1.9347119113452325
Total norm for 5 adversaries is: 3.4612166246959015. distance: 1.9347119113452325
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 1.6918, Accuracy: 5665/8991 (63.0075%)
___Train Local_Simple,  epoch  43, local model 6, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2263/2945 (76.8421%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.4173, Accuracy: 5470/10000 (54.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 7, internal_epoch   1,  Average loss: 0.0118, Accuracy: 2334/2756 (84.6880%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.6959, Accuracy: 4846/10000 (48.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 8, internal_epoch   1,  Average loss: 0.0157, Accuracy: 2659/3437 (77.3640%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.1664, Accuracy: 6588/10000 (65.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 9, internal_epoch   1,  Average loss: 0.0091, Accuracy: 5104/5809 (87.8637%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 2.6703, Accuracy: 3752/10000 (37.5200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  43, local model 10, internal_epoch   1,  Average loss: 0.0095, Accuracy: 2208/2592 (85.1852%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.6535, Accuracy: 4780/10000 (47.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 11, internal_epoch   1,  Average loss: 0.0166, Accuracy: 1931/2510 (76.9323%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.1582, Accuracy: 6210/10000 (62.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 12, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4027/4373 (92.0878%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 2.5826, Accuracy: 3434/10000 (34.3400%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  43, local model 13, internal_epoch   1,  Average loss: 0.0094, Accuracy: 3816/4339 (87.9465%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 2.0299, Accuracy: 4996/10000 (49.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 14, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2249/2782 (80.8411%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 2.0141, Accuracy: 4666/10000 (46.6600%), Attack Success Rate:0/10000(0.000)
time spent on training: 269.9979717731476
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.92645191 0.81235237 0.
 1.         1.         0.23513229]
___Test Target_Simple poisoned: False, epoch: 43: Average loss: 1.5929, Accuracy: 4424/10000 (44.2400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 43: Average loss: 1.6621, Accuracy: 3804/8991 (42.3090%)
Done in 277.97646141052246 sec.
Server Epoch:44 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  44, local model 0, internal_epoch   1,  Average loss: 0.0169, Accuracy: 2250/3010 (74.7508%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.4277, Accuracy: 6468/10000 (64.6800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 1, internal_epoch   1,  Average loss: 0.0083, Accuracy: 5150/5805 (88.7166%), train_poison_data_count: 5805
Global model norm: 2.3851908836511675.
Norm before scaling: 3.5675477523120636. Distance: 2.284038250651296
Total norm for 5 adversaries is: 3.5675477523120636. distance: 2.284038250651296
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 2.0032, Accuracy: 4671/8991 (51.9520%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 2, internal_epoch   1,  Average loss: 0.0131, Accuracy: 3857/4779 (80.7073%), train_poison_data_count: 4779
Global model norm: 2.3851908836511675.
Norm before scaling: 3.7662070683192024. Distance: 2.3385624760733443
Total norm for 5 adversaries is: 3.7662070683192024. distance: 2.3385624760733443
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.7848, Accuracy: 6595/8991 (73.3511%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 3, internal_epoch   1,  Average loss: 0.0119, Accuracy: 4316/5123 (84.2475%), train_poison_data_count: 5123
Global model norm: 2.3851908836511675.
Norm before scaling: 3.812753387535711. Distance: 2.434883376036956
Total norm for 5 adversaries is: 3.812753387535711. distance: 2.434883376036956
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.0850, Accuracy: 6565/8991 (73.0175%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 4, internal_epoch   1,  Average loss: 0.0132, Accuracy: 3628/4462 (81.3088%), train_poison_data_count: 4462
Global model norm: 2.3851908836511675.
Norm before scaling: 3.6083438605903075. Distance: 2.012643782887487
Total norm for 5 adversaries is: 3.6083438605903075. distance: 2.012643782887487
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.2078, Accuracy: 5523/8991 (61.4281%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 5, internal_epoch   1,  Average loss: 0.0112, Accuracy: 3273/3841 (85.2122%), train_poison_data_count: 3841
Global model norm: 2.3851908836511675.
Norm before scaling: 3.4701395086997393. Distance: 1.9332375554772343
Total norm for 5 adversaries is: 3.4701395086997393. distance: 1.9332375554772343
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.6807, Accuracy: 5712/8991 (63.5302%)
___Train Local_Simple,  epoch  44, local model 6, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2268/2945 (77.0119%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.4302, Accuracy: 5457/10000 (54.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 7, internal_epoch   1,  Average loss: 0.0114, Accuracy: 2322/2756 (84.2525%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.7344, Accuracy: 4823/10000 (48.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 8, internal_epoch   1,  Average loss: 0.0157, Accuracy: 2652/3437 (77.1603%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.1823, Accuracy: 6438/10000 (64.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 9, internal_epoch   1,  Average loss: 0.0090, Accuracy: 5115/5809 (88.0530%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 2.7780, Accuracy: 3669/10000 (36.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 10, internal_epoch   1,  Average loss: 0.0090, Accuracy: 2239/2592 (86.3812%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.6988, Accuracy: 4430/10000 (44.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 11, internal_epoch   1,  Average loss: 0.0167, Accuracy: 1946/2510 (77.5299%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.1402, Accuracy: 6255/10000 (62.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 12, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4027/4373 (92.0878%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 2.6355, Accuracy: 3475/10000 (34.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 13, internal_epoch   1,  Average loss: 0.0092, Accuracy: 3839/4339 (88.4766%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 2.0302, Accuracy: 4996/10000 (49.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 14, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2208/2782 (79.3674%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.9463, Accuracy: 4864/10000 (48.6400%), Attack Success Rate:0/10000(0.000)
time spent on training: 276.5727424621582
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.87748288 0.66054097 0.
 1.         1.         0.16811184]
___Test Target_Simple poisoned: False, epoch: 44: Average loss: 1.5882, Accuracy: 4438/10000 (44.3800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 44: Average loss: 1.6578, Accuracy: 3820/8991 (42.4869%)
Done in 284.67766880989075 sec.
Server Epoch:45 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  45, local model 0, internal_epoch   1,  Average loss: 0.0165, Accuracy: 2316/3010 (76.9435%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.3984, Accuracy: 6606/10000 (66.0600%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 1, internal_epoch   1,  Average loss: 0.0081, Accuracy: 5155/5805 (88.8028%), train_poison_data_count: 5805
Global model norm: 2.4029681130975242.
Norm before scaling: 3.583051197270726. Distance: 2.295515839027063
Total norm for 5 adversaries is: 3.583051197270726. distance: 2.295515839027063
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 2.1016, Accuracy: 4653/8991 (51.7518%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 2, internal_epoch   1,  Average loss: 0.0129, Accuracy: 3901/4779 (81.6280%), train_poison_data_count: 4779
Global model norm: 2.4029681130975242.
Norm before scaling: 3.7618610992909995. Distance: 2.307177010493877
Total norm for 5 adversaries is: 3.7618610992909995. distance: 2.307177010493877
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.7865, Accuracy: 6650/8991 (73.9629%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 3, internal_epoch   1,  Average loss: 0.0118, Accuracy: 4344/5123 (84.7941%), train_poison_data_count: 5123
Global model norm: 2.4029681130975242.
Norm before scaling: 3.8099051227921326. Distance: 2.422029158085168
Total norm for 5 adversaries is: 3.8099051227921326. distance: 2.422029158085168
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 1.1103, Accuracy: 6534/8991 (72.6727%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 4, internal_epoch   1,  Average loss: 0.0131, Accuracy: 3624/4462 (81.2192%), train_poison_data_count: 4462
Global model norm: 2.4029681130975242.
Norm before scaling: 3.601954771843445. Distance: 1.9820813116683844
Total norm for 5 adversaries is: 3.601954771843445. distance: 1.9820813116683844
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 1.1682, Accuracy: 5681/8991 (63.1854%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 5, internal_epoch   1,  Average loss: 0.0111, Accuracy: 3265/3841 (85.0039%), train_poison_data_count: 3841
Global model norm: 2.4029681130975242.
Norm before scaling: 3.4648434747568944. Distance: 1.907125115809575
Total norm for 5 adversaries is: 3.4648434747568944. distance: 1.907125115809575
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 1.6761, Accuracy: 5662/8991 (62.9741%)
___Train Local_Simple,  epoch  45, local model 6, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2287/2945 (77.6570%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.4395, Accuracy: 5562/10000 (55.6200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 7, internal_epoch   1,  Average loss: 0.0115, Accuracy: 2338/2756 (84.8331%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.7146, Accuracy: 4792/10000 (47.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 8, internal_epoch   1,  Average loss: 0.0157, Accuracy: 2651/3437 (77.1312%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.1940, Accuracy: 6319/10000 (63.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 9, internal_epoch   1,  Average loss: 0.0090, Accuracy: 5130/5809 (88.3112%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 2.6598, Accuracy: 3752/10000 (37.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 10, internal_epoch   1,  Average loss: 0.0089, Accuracy: 2234/2592 (86.1883%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.6733, Accuracy: 4765/10000 (47.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 11, internal_epoch   1,  Average loss: 0.0169, Accuracy: 1921/2510 (76.5339%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0919, Accuracy: 6456/10000 (64.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 12, internal_epoch   1,  Average loss: 0.0063, Accuracy: 4026/4373 (92.0649%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 2.5713, Accuracy: 3486/10000 (34.8600%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  45, local model 13, internal_epoch   1,  Average loss: 0.0090, Accuracy: 3828/4339 (88.2231%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 2.0051, Accuracy: 4955/10000 (49.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 14, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2221/2782 (79.8347%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.9395, Accuracy: 4905/10000 (49.0500%), Attack Success Rate:0/10000(0.000)
time spent on training: 282.69385385513306
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.95291622 0.95388176 0.
 1.         1.         0.16129696]
___Test Target_Simple poisoned: False, epoch: 45: Average loss: 1.5816, Accuracy: 4461/10000 (44.6100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 45: Average loss: 1.6520, Accuracy: 3839/8991 (42.6983%)
Done in 291.1611773967743 sec.
Server Epoch:46 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  46, local model 0, internal_epoch   1,  Average loss: 0.0165, Accuracy: 2296/3010 (76.2791%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.3946, Accuracy: 6612/10000 (66.1200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 1, internal_epoch   1,  Average loss: 0.0083, Accuracy: 5130/5805 (88.3721%), train_poison_data_count: 5805
Global model norm: 2.4218643680462195.
Norm before scaling: 3.580675840038518. Distance: 2.2692846797870603
Total norm for 5 adversaries is: 3.580675840038518. distance: 2.2692846797870603
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 2.0180, Accuracy: 4627/8991 (51.4626%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 2, internal_epoch   1,  Average loss: 0.0130, Accuracy: 3892/4779 (81.4396%), train_poison_data_count: 4779
Global model norm: 2.4218643680462195.
Norm before scaling: 3.786335575399858. Distance: 2.316065539669681
Total norm for 5 adversaries is: 3.786335575399858. distance: 2.316065539669681
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.8087, Accuracy: 6527/8991 (72.5948%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 3, internal_epoch   1,  Average loss: 0.0118, Accuracy: 4354/5123 (84.9893%), train_poison_data_count: 5123
Global model norm: 2.4218643680462195.
Norm before scaling: 3.825821039181045. Distance: 2.425022762231082
Total norm for 5 adversaries is: 3.825821039181045. distance: 2.425022762231082
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 1.1211, Accuracy: 6400/8991 (71.1823%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 4, internal_epoch   1,  Average loss: 0.0132, Accuracy: 3631/4462 (81.3761%), train_poison_data_count: 4462
Global model norm: 2.4218643680462195.
Norm before scaling: 3.6211344398755525. Distance: 1.9808116367720845
Total norm for 5 adversaries is: 3.6211344398755525. distance: 1.9808116367720845
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 1.1438, Accuracy: 5763/8991 (64.0974%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 5, internal_epoch   1,  Average loss: 0.0111, Accuracy: 3254/3841 (84.7175%), train_poison_data_count: 3841
Global model norm: 2.4218643680462195.
Norm before scaling: 3.4796937706920374. Distance: 1.9014739568402903
Total norm for 5 adversaries is: 3.4796937706920374. distance: 1.9014739568402903
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 1.6659, Accuracy: 5738/8991 (63.8194%)
___Train Local_Simple,  epoch  46, local model 6, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2237/2945 (75.9593%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.3915, Accuracy: 5623/10000 (56.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 7, internal_epoch   1,  Average loss: 0.0114, Accuracy: 2338/2756 (84.8331%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.6607, Accuracy: 4957/10000 (49.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 8, internal_epoch   1,  Average loss: 0.0154, Accuracy: 2670/3437 (77.6840%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.2011, Accuracy: 6361/10000 (63.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 9, internal_epoch   1,  Average loss: 0.0089, Accuracy: 5139/5809 (88.4662%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 2.6363, Accuracy: 3777/10000 (37.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 10, internal_epoch   1,  Average loss: 0.0091, Accuracy: 2247/2592 (86.6898%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.6629, Accuracy: 4507/10000 (45.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 11, internal_epoch   1,  Average loss: 0.0167, Accuracy: 1912/2510 (76.1753%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.1080, Accuracy: 6385/10000 (63.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 12, internal_epoch   1,  Average loss: 0.0062, Accuracy: 4025/4373 (92.0421%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 2.5738, Accuracy: 3462/10000 (34.6200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  46, local model 13, internal_epoch   1,  Average loss: 0.0091, Accuracy: 3830/4339 (88.2692%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.9731, Accuracy: 4926/10000 (49.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 14, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2208/2782 (79.3674%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.9470, Accuracy: 4805/10000 (48.0500%), Attack Success Rate:0/10000(0.000)
time spent on training: 287.9863519668579
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.97112794 0.66862223 0.
 1.         1.         0.19416906]
___Test Target_Simple poisoned: False, epoch: 46: Average loss: 1.5755, Accuracy: 4495/10000 (44.9500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 46: Average loss: 1.6464, Accuracy: 3870/8991 (43.0430%)
Done in 296.04766154289246 sec.
Server Epoch:47 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  47, local model 0, internal_epoch   1,  Average loss: 0.0163, Accuracy: 2334/3010 (77.5415%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.4227, Accuracy: 6354/10000 (63.5400%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 1, internal_epoch   1,  Average loss: 0.0083, Accuracy: 5137/5805 (88.4927%), train_poison_data_count: 5805
Global model norm: 2.4401471362542515.
Norm before scaling: 3.5944000982987956. Distance: 2.2608012445040098
Total norm for 5 adversaries is: 3.5944000982987956. distance: 2.2608012445040098
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 1.9631, Accuracy: 4621/8991 (51.3958%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 2, internal_epoch   1,  Average loss: 0.0130, Accuracy: 3916/4779 (81.9418%), train_poison_data_count: 4779
Global model norm: 2.4401471362542515.
Norm before scaling: 3.8131035498988193. Distance: 2.3328267183272957
Total norm for 5 adversaries is: 3.8131035498988193. distance: 2.3328267183272957
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.8174, Accuracy: 6430/8991 (71.5160%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 3, internal_epoch   1,  Average loss: 0.0119, Accuracy: 4343/5123 (84.7745%), train_poison_data_count: 5123
Global model norm: 2.4401471362542515.
Norm before scaling: 3.837675551583431. Distance: 2.403918933060109
Total norm for 5 adversaries is: 3.837675551583431. distance: 2.403918933060109
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 1.0837, Accuracy: 6572/8991 (73.0953%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 4, internal_epoch   1,  Average loss: 0.0130, Accuracy: 3637/4462 (81.5105%), train_poison_data_count: 4462
Global model norm: 2.4401471362542515.
Norm before scaling: 3.6328142063588063. Distance: 1.97062974836683
Total norm for 5 adversaries is: 3.6328142063588063. distance: 1.97062974836683
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 1.1810, Accuracy: 5596/8991 (62.2400%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 5, internal_epoch   1,  Average loss: 0.0110, Accuracy: 3275/3841 (85.2643%), train_poison_data_count: 3841
Global model norm: 2.4401471362542515.
Norm before scaling: 3.4781043587592255. Distance: 1.8690131292438175
Total norm for 5 adversaries is: 3.4781043587592255. distance: 1.8690131292438175
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 1.6374, Accuracy: 5722/8991 (63.6414%)
___Train Local_Simple,  epoch  47, local model 6, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2263/2945 (76.8421%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.4177, Accuracy: 5502/10000 (55.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 7, internal_epoch   1,  Average loss: 0.0110, Accuracy: 2337/2756 (84.7968%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.6810, Accuracy: 4881/10000 (48.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 8, internal_epoch   1,  Average loss: 0.0156, Accuracy: 2646/3437 (76.9857%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.1898, Accuracy: 6369/10000 (63.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 9, internal_epoch   1,  Average loss: 0.0089, Accuracy: 5135/5809 (88.3973%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 2.6504, Accuracy: 3740/10000 (37.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 10, internal_epoch   1,  Average loss: 0.0089, Accuracy: 2227/2592 (85.9182%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.6464, Accuracy: 4745/10000 (47.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 11, internal_epoch   1,  Average loss: 0.0165, Accuracy: 1951/2510 (77.7291%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.0897, Accuracy: 6506/10000 (65.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 12, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4047/4373 (92.5452%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 2.5944, Accuracy: 3427/10000 (34.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 13, internal_epoch   1,  Average loss: 0.0092, Accuracy: 3814/4339 (87.9004%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.9245, Accuracy: 5012/10000 (50.1200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 14, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2261/2782 (81.2725%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.9010, Accuracy: 4913/10000 (49.1300%), Attack Success Rate:0/10000(0.000)
time spent on training: 291.738240480423
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.50395073 0.
 1.         1.         0.31357989]
___Test Target_Simple poisoned: False, epoch: 47: Average loss: 1.5708, Accuracy: 4507/10000 (45.0700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 47: Average loss: 1.6416, Accuracy: 3890/8991 (43.2655%)
Done in 299.7279489040375 sec.
Server Epoch:48 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  48, local model 0, internal_epoch   1,  Average loss: 0.0163, Accuracy: 2313/3010 (76.8439%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.4023, Accuracy: 6480/10000 (64.8000%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 1, internal_epoch   1,  Average loss: 0.0083, Accuracy: 5127/5805 (88.3204%), train_poison_data_count: 5805
Global model norm: 2.4585977724598194.
Norm before scaling: 3.6067587878672205. Distance: 2.249717800669165
Total norm for 5 adversaries is: 3.6067587878672205. distance: 2.249717800669165
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 1.8720, Accuracy: 4757/8991 (52.9085%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 2, internal_epoch   1,  Average loss: 0.0129, Accuracy: 3902/4779 (81.6489%), train_poison_data_count: 4779
Global model norm: 2.4585977724598194.
Norm before scaling: 3.809146844855019. Distance: 2.3065366406626273
Total norm for 5 adversaries is: 3.809146844855019. distance: 2.3065366406626273
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 0.8135, Accuracy: 6508/8991 (72.3835%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 3, internal_epoch   1,  Average loss: 0.0117, Accuracy: 4361/5123 (85.1259%), train_poison_data_count: 5123
Global model norm: 2.4585977724598194.
Norm before scaling: 3.826448158932836. Distance: 2.3780396735665277
Total norm for 5 adversaries is: 3.826448158932836. distance: 2.3780396735665277
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 1.0533, Accuracy: 6602/8991 (73.4290%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 4, internal_epoch   1,  Average loss: 0.0129, Accuracy: 3622/4462 (81.1744%), train_poison_data_count: 4462
Global model norm: 2.4585977724598194.
Norm before scaling: 3.63053208836238. Distance: 1.9475088933660842
Total norm for 5 adversaries is: 3.63053208836238. distance: 1.9475088933660842
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 1.1506, Accuracy: 5783/8991 (64.3199%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 5, internal_epoch   1,  Average loss: 0.0109, Accuracy: 3289/3841 (85.6287%), train_poison_data_count: 3841
Global model norm: 2.4585977724598194.
Norm before scaling: 3.5068784969831133. Distance: 1.890400140174541
Total norm for 5 adversaries is: 3.5068784969831133. distance: 1.890400140174541
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 1.6668, Accuracy: 5675/8991 (63.1187%)
___Train Local_Simple,  epoch  48, local model 6, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2285/2945 (77.5891%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.4041, Accuracy: 5564/10000 (55.6400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 7, internal_epoch   1,  Average loss: 0.0113, Accuracy: 2346/2756 (85.1234%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.6728, Accuracy: 4893/10000 (48.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 8, internal_epoch   1,  Average loss: 0.0154, Accuracy: 2662/3437 (77.4513%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.1575, Accuracy: 6360/10000 (63.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 9, internal_epoch   1,  Average loss: 0.0088, Accuracy: 5136/5809 (88.4145%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 2.6534, Accuracy: 3753/10000 (37.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 10, internal_epoch   1,  Average loss: 0.0088, Accuracy: 2251/2592 (86.8441%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.6725, Accuracy: 4608/10000 (46.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 11, internal_epoch   1,  Average loss: 0.0164, Accuracy: 1944/2510 (77.4502%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.1042, Accuracy: 6616/10000 (66.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 12, internal_epoch   1,  Average loss: 0.0061, Accuracy: 4024/4373 (92.0192%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 2.5255, Accuracy: 3515/10000 (35.1500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 13, internal_epoch   1,  Average loss: 0.0089, Accuracy: 3846/4339 (88.6379%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.9932, Accuracy: 5005/10000 (50.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 14, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2214/2782 (79.5830%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.9643, Accuracy: 4822/10000 (48.2200%), Attack Success Rate:0/10000(0.000)
time spent on training: 300.05677318573
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         0.96548467 0.57661446 0.
 1.         1.         0.27136273]
___Test Target_Simple poisoned: False, epoch: 48: Average loss: 1.5654, Accuracy: 4531/10000 (45.3100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 48: Average loss: 1.6367, Accuracy: 3907/8991 (43.4546%)
Done in 308.1952819824219 sec.
Server Epoch:49 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  49, local model 0, internal_epoch   1,  Average loss: 0.0163, Accuracy: 2318/3010 (77.0100%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.3630, Accuracy: 6638/10000 (66.3800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 1, internal_epoch   1,  Average loss: 0.0083, Accuracy: 5151/5805 (88.7339%), train_poison_data_count: 5805
Global model norm: 2.4768364691594993.
Norm before scaling: 3.605492026604171. Distance: 2.2261936886159295
Total norm for 5 adversaries is: 3.605492026604171. distance: 2.2261936886159295
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 1.8822, Accuracy: 4707/8991 (52.3524%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 2, internal_epoch   1,  Average loss: 0.0128, Accuracy: 3906/4779 (81.7326%), train_poison_data_count: 4779
Global model norm: 2.4768364691594993.
Norm before scaling: 3.815299335300487. Distance: 2.292931213591557
Total norm for 5 adversaries is: 3.815299335300487. distance: 2.292931213591557
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.7947, Accuracy: 6562/8991 (72.9841%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 3, internal_epoch   1,  Average loss: 0.0117, Accuracy: 4365/5123 (85.2040%), train_poison_data_count: 5123
Global model norm: 2.4768364691594993.
Norm before scaling: 3.8399216109460426. Distance: 2.3879612062775992
Total norm for 5 adversaries is: 3.8399216109460426. distance: 2.3879612062775992
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 1.1417, Accuracy: 6369/8991 (70.8375%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 4, internal_epoch   1,  Average loss: 0.0128, Accuracy: 3639/4462 (81.5554%), train_poison_data_count: 4462
Global model norm: 2.4768364691594993.
Norm before scaling: 3.6374247487467573. Distance: 1.937049321087788
Total norm for 5 adversaries is: 3.6374247487467573. distance: 1.937049321087788
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 1.1563, Accuracy: 5699/8991 (63.3856%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 5, internal_epoch   1,  Average loss: 0.0111, Accuracy: 3265/3841 (85.0039%), train_poison_data_count: 3841
Global model norm: 2.4768364691594993.
Norm before scaling: 3.489247153111342. Distance: 1.854055729951237
Total norm for 5 adversaries is: 3.489247153111342. distance: 1.854055729951237
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 1.6146, Accuracy: 5749/8991 (63.9417%)
___Train Local_Simple,  epoch  49, local model 6, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2247/2945 (76.2988%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.4079, Accuracy: 5344/10000 (53.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 7, internal_epoch   1,  Average loss: 0.0110, Accuracy: 2351/2756 (85.3048%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.6863, Accuracy: 4877/10000 (48.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 8, internal_epoch   1,  Average loss: 0.0154, Accuracy: 2660/3437 (77.3931%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.1469, Accuracy: 6394/10000 (63.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 9, internal_epoch   1,  Average loss: 0.0088, Accuracy: 5120/5809 (88.1391%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 2.6766, Accuracy: 3662/10000 (36.6200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 10, internal_epoch   1,  Average loss: 0.0089, Accuracy: 2231/2592 (86.0725%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.6526, Accuracy: 4868/10000 (48.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 11, internal_epoch   1,  Average loss: 0.0166, Accuracy: 1928/2510 (76.8127%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.0542, Accuracy: 6619/10000 (66.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 12, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4037/4373 (92.3165%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 2.5657, Accuracy: 3472/10000 (34.7200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  49, local model 13, internal_epoch   1,  Average loss: 0.0090, Accuracy: 3848/4339 (88.6840%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.9522, Accuracy: 4935/10000 (49.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 14, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2223/2782 (79.9065%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.9307, Accuracy: 4959/10000 (49.5900%), Attack Success Rate:0/10000(0.000)
time spent on training: 301.070809841156
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.63306673 0.
 1.         1.         0.18702866]
___Test Target_Simple poisoned: False, epoch: 49: Average loss: 1.5603, Accuracy: 4546/10000 (45.4600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 49: Average loss: 1.6318, Accuracy: 3929/8991 (43.6993%)
Done in 309.22470211982727 sec.
Server Epoch:50 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  50, local model 0, internal_epoch   1,  Average loss: 0.0167, Accuracy: 2296/3010 (76.2791%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.3647, Accuracy: 6642/10000 (66.4200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 1, internal_epoch   1,  Average loss: 0.0081, Accuracy: 5168/5805 (89.0267%), train_poison_data_count: 5805
Global model norm: 2.4949410751509427.
Norm before scaling: 3.617471308933835. Distance: 2.2216887019047893
Total norm for 5 adversaries is: 3.617471308933835. distance: 2.2216887019047893
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 1.8750, Accuracy: 4709/8991 (52.3746%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 2, internal_epoch   1,  Average loss: 0.0127, Accuracy: 3906/4779 (81.7326%), train_poison_data_count: 4779
Global model norm: 2.4949410751509427.
Norm before scaling: 3.8275327886152466. Distance: 2.2840405471128817
Total norm for 5 adversaries is: 3.8275327886152466. distance: 2.2840405471128817
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.8201, Accuracy: 6491/8991 (72.1944%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 3, internal_epoch   1,  Average loss: 0.0116, Accuracy: 4370/5123 (85.3016%), train_poison_data_count: 5123
Global model norm: 2.4949410751509427.
Norm before scaling: 3.8545315269084455. Distance: 2.3852946376544035
Total norm for 5 adversaries is: 3.8545315269084455. distance: 2.3852946376544035
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 1.1155, Accuracy: 6418/8991 (71.3825%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 4, internal_epoch   1,  Average loss: 0.0129, Accuracy: 3641/4462 (81.6002%), train_poison_data_count: 4462
Global model norm: 2.4949410751509427.
Norm before scaling: 3.649432355035102. Distance: 1.9323614335810615
Total norm for 5 adversaries is: 3.649432355035102. distance: 1.9323614335810615
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 1.1488, Accuracy: 5692/8991 (63.3078%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 5, internal_epoch   1,  Average loss: 0.0108, Accuracy: 3286/3841 (85.5506%), train_poison_data_count: 3841
Global model norm: 2.4949410751509427.
Norm before scaling: 3.50616416350097. Distance: 1.8457128130946132
Total norm for 5 adversaries is: 3.50616416350097. distance: 1.8457128130946132
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 1.6532, Accuracy: 5710/8991 (63.5080%)
___Train Local_Simple,  epoch  50, local model 6, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2264/2945 (76.8761%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.3925, Accuracy: 5439/10000 (54.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 7, internal_epoch   1,  Average loss: 0.0109, Accuracy: 2341/2756 (84.9419%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.6108, Accuracy: 5010/10000 (50.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 8, internal_epoch   1,  Average loss: 0.0154, Accuracy: 2698/3437 (78.4987%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.1637, Accuracy: 6424/10000 (64.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 9, internal_epoch   1,  Average loss: 0.0088, Accuracy: 5130/5809 (88.3112%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 2.5394, Accuracy: 3936/10000 (39.3600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 10, internal_epoch   1,  Average loss: 0.0089, Accuracy: 2242/2592 (86.4969%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.6292, Accuracy: 4947/10000 (49.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 11, internal_epoch   1,  Average loss: 0.0164, Accuracy: 1913/2510 (76.2151%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.0866, Accuracy: 6557/10000 (65.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 12, internal_epoch   1,  Average loss: 0.0060, Accuracy: 4029/4373 (92.1335%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 2.5200, Accuracy: 3473/10000 (34.7300%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  50, local model 13, internal_epoch   1,  Average loss: 0.0088, Accuracy: 3837/4339 (88.4305%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.9999, Accuracy: 4950/10000 (49.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 14, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2243/2782 (80.6254%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.9455, Accuracy: 4819/10000 (48.1900%), Attack Success Rate:0/10000(0.000)
time spent on training: 310.8304169178009
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.79883931 0.
 1.         1.         0.14269499]
___Test Target_Simple poisoned: False, epoch: 50: Average loss: 1.5541, Accuracy: 4585/10000 (45.8500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 50: Average loss: 1.6265, Accuracy: 3958/8991 (44.0218%)
Done in 318.9880414009094 sec.
Server Epoch:51 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  51, local model 0, internal_epoch   1,  Average loss: 0.0162, Accuracy: 2317/3010 (76.9767%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 1.3791, Accuracy: 6496/10000 (64.9600%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 1, internal_epoch   1,  Average loss: 0.0081, Accuracy: 5153/5805 (88.7683%), train_poison_data_count: 5805
Global model norm: 2.513242363265762.
Norm before scaling: 3.6250794500654893. Distance: 2.2104589800390557
Total norm for 5 adversaries is: 3.6250794500654893. distance: 2.2104589800390557
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 1.8195, Accuracy: 4778/8991 (53.1420%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 2, internal_epoch   1,  Average loss: 0.0128, Accuracy: 3914/4779 (81.9000%), train_poison_data_count: 4779
Global model norm: 2.513242363265762.
Norm before scaling: 3.825134978063236. Distance: 2.2603906609464643
Total norm for 5 adversaries is: 3.825134978063236. distance: 2.2603906609464643
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 0.7856, Accuracy: 6616/8991 (73.5847%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 3, internal_epoch   1,  Average loss: 0.0117, Accuracy: 4354/5123 (84.9893%), train_poison_data_count: 5123
Global model norm: 2.513242363265762.
Norm before scaling: 3.8777581520154736. Distance: 2.3928015281542274
Total norm for 5 adversaries is: 3.8777581520154736. distance: 2.3928015281542274
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 1.1305, Accuracy: 6423/8991 (71.4381%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 4, internal_epoch   1,  Average loss: 0.0131, Accuracy: 3610/4462 (80.9054%), train_poison_data_count: 4462
Global model norm: 2.513242363265762.
Norm before scaling: 3.656102886663762. Distance: 1.9164995521447354
Total norm for 5 adversaries is: 3.656102886663762. distance: 1.9164995521447354
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 1.1565, Accuracy: 5661/8991 (62.9630%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  51, local model 5, internal_epoch   1,  Average loss: 0.0109, Accuracy: 3275/3841 (85.2643%), train_poison_data_count: 3841
Global model norm: 2.513242363265762.
Norm before scaling: 3.5238728391759726. Distance: 1.8553565704164392
Total norm for 5 adversaries is: 3.5238728391759726. distance: 1.8553565704164392
___Test Local_Simple poisoned: True, epoch: 51: Average loss: 1.6571, Accuracy: 5631/8991 (62.6293%)
___Train Local_Simple,  epoch  51, local model 6, internal_epoch   1,  Average loss: 0.0144, Accuracy: 2258/2945 (76.6723%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 1.3800, Accuracy: 5505/10000 (55.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  51, local model 7, internal_epoch   1,  Average loss: 0.0112, Accuracy: 2334/2756 (84.6880%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 1.6097, Accuracy: 4920/10000 (49.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  51, local model 8, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2689/3437 (78.2368%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 1.1581, Accuracy: 6502/10000 (65.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  51, local model 9, internal_epoch   1,  Average loss: 0.0087, Accuracy: 5158/5809 (88.7933%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 2.5867, Accuracy: 3878/10000 (38.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  51, local model 10, internal_epoch   1,  Average loss: 0.0088, Accuracy: 2257/2592 (87.0756%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 1.5870, Accuracy: 5027/10000 (50.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  51, local model 11, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1944/2510 (77.4502%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 1.1083, Accuracy: 6472/10000 (64.7200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  51, local model 12, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4041/4373 (92.4080%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 2.4669, Accuracy: 3522/10000 (35.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  51, local model 13, internal_epoch   1,  Average loss: 0.0087, Accuracy: 3828/4339 (88.2231%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 1.9285, Accuracy: 5060/10000 (50.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  51, local model 14, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2207/2782 (79.3314%)
___Test Local_Simple poisoned: False, epoch: 51: Average loss: 1.8803, Accuracy: 4976/10000 (49.7600%), Attack Success Rate:0/10000(0.000)
time spent on training: 313.4060733318329
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.54499828 0.
 1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 51: Average loss: 1.5510, Accuracy: 4604/10000 (46.0400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 51: Average loss: 1.6246, Accuracy: 3964/8991 (44.0885%)
Done in 321.38322043418884 sec.
Server Epoch:52 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  52, local model 0, internal_epoch   1,  Average loss: 0.0161, Accuracy: 2330/3010 (77.4086%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 1.3943, Accuracy: 6494/10000 (64.9400%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 1, internal_epoch   1,  Average loss: 0.0081, Accuracy: 5155/5805 (88.8028%), train_poison_data_count: 5805
Global model norm: 2.5304415318296334.
Norm before scaling: 3.6392276030350033. Distance: 2.2193559705626913
Total norm for 5 adversaries is: 3.6392276030350033. distance: 2.2193559705626913
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 1.8640, Accuracy: 4732/8991 (52.6304%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 2, internal_epoch   1,  Average loss: 0.0127, Accuracy: 3913/4779 (81.8791%), train_poison_data_count: 4779
Global model norm: 2.5304415318296334.
Norm before scaling: 3.8344955064759914. Distance: 2.2695798885103846
Total norm for 5 adversaries is: 3.8344955064759914. distance: 2.2695798885103846
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 0.7634, Accuracy: 6707/8991 (74.5968%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 3, internal_epoch   1,  Average loss: 0.0118, Accuracy: 4319/5123 (84.3061%), train_poison_data_count: 5123
Global model norm: 2.5304415318296334.
Norm before scaling: 3.8756110417139737. Distance: 2.3693739861818486
Total norm for 5 adversaries is: 3.8756110417139737. distance: 2.3693739861818486
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 1.0865, Accuracy: 6530/8991 (72.6282%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 4, internal_epoch   1,  Average loss: 0.0127, Accuracy: 3616/4462 (81.0399%), train_poison_data_count: 4462
Global model norm: 2.5304415318296334.
Norm before scaling: 3.671934086750328. Distance: 1.9089441490735728
Total norm for 5 adversaries is: 3.671934086750328. distance: 1.9089441490735728
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 1.1106, Accuracy: 5870/8991 (65.2875%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  52, local model 5, internal_epoch   1,  Average loss: 0.0107, Accuracy: 3313/3841 (86.2536%), train_poison_data_count: 3841
Global model norm: 2.5304415318296334.
Norm before scaling: 3.5118841316904157. Distance: 1.8102888234093384
Total norm for 5 adversaries is: 3.5118841316904157. distance: 1.8102888234093384
___Test Local_Simple poisoned: True, epoch: 52: Average loss: 1.6211, Accuracy: 5763/8991 (64.0974%)
___Train Local_Simple,  epoch  52, local model 6, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2283/2945 (77.5212%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 1.3581, Accuracy: 5630/10000 (56.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  52, local model 7, internal_epoch   1,  Average loss: 0.0112, Accuracy: 2341/2756 (84.9419%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 1.6083, Accuracy: 4926/10000 (49.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  52, local model 8, internal_epoch   1,  Average loss: 0.0151, Accuracy: 2700/3437 (78.5569%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 1.1255, Accuracy: 6517/10000 (65.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  52, local model 9, internal_epoch   1,  Average loss: 0.0087, Accuracy: 5155/5809 (88.7416%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 2.6071, Accuracy: 3806/10000 (38.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  52, local model 10, internal_epoch   1,  Average loss: 0.0087, Accuracy: 2247/2592 (86.6898%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 1.5984, Accuracy: 4900/10000 (49.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  52, local model 11, internal_epoch   1,  Average loss: 0.0163, Accuracy: 1934/2510 (77.0518%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 1.0242, Accuracy: 6697/10000 (66.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  52, local model 12, internal_epoch   1,  Average loss: 0.0059, Accuracy: 4034/4373 (92.2479%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 2.4513, Accuracy: 3479/10000 (34.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  52, local model 13, internal_epoch   1,  Average loss: 0.0087, Accuracy: 3874/4339 (89.2832%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 1.9805, Accuracy: 4959/10000 (49.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  52, local model 14, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2217/2782 (79.6909%)
___Test Local_Simple poisoned: False, epoch: 52: Average loss: 1.8522, Accuracy: 4995/10000 (49.9500%), Attack Success Rate:0/10000(0.000)
time spent on training: 319.7182717323303
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.47287675 0.
 1.         1.         0.16019267]
___Test Target_Simple poisoned: False, epoch: 52: Average loss: 1.5474, Accuracy: 4626/10000 (46.2600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 52: Average loss: 1.6219, Accuracy: 3977/8991 (44.2331%)
Done in 327.7309558391571 sec.
Server Epoch:53 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  53, local model 0, internal_epoch   1,  Average loss: 0.0162, Accuracy: 2318/3010 (77.0100%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 1.3534, Accuracy: 6559/10000 (65.5900%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 1, internal_epoch   1,  Average loss: 0.0081, Accuracy: 5149/5805 (88.6994%), train_poison_data_count: 5805
Global model norm: 2.5479130414020474.
Norm before scaling: 3.6406010311794805. Distance: 2.2036177713123157
Total norm for 5 adversaries is: 3.6406010311794805. distance: 2.2036177713123157
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 1.8546, Accuracy: 4697/8991 (52.2411%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 2, internal_epoch   1,  Average loss: 0.0126, Accuracy: 3929/4779 (82.2139%), train_poison_data_count: 4779
Global model norm: 2.5479130414020474.
Norm before scaling: 3.846016440504685. Distance: 2.2579040508782504
Total norm for 5 adversaries is: 3.846016440504685. distance: 2.2579040508782504
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 0.7791, Accuracy: 6642/8991 (73.8739%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 3, internal_epoch   1,  Average loss: 0.0115, Accuracy: 4367/5123 (85.2430%), train_poison_data_count: 5123
Global model norm: 2.5479130414020474.
Norm before scaling: 3.872940254378998. Distance: 2.3532284130053407
Total norm for 5 adversaries is: 3.872940254378998. distance: 2.3532284130053407
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 1.0969, Accuracy: 6478/8991 (72.0498%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 4, internal_epoch   1,  Average loss: 0.0126, Accuracy: 3652/4462 (81.8467%), train_poison_data_count: 4462
Global model norm: 2.5479130414020474.
Norm before scaling: 3.6630587311123097. Distance: 1.8832174158572832
Total norm for 5 adversaries is: 3.6630587311123097. distance: 1.8832174158572832
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 1.0711, Accuracy: 6037/8991 (67.1449%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  53, local model 5, internal_epoch   1,  Average loss: 0.0106, Accuracy: 3291/3841 (85.6808%), train_poison_data_count: 3841
Global model norm: 2.5479130414020474.
Norm before scaling: 3.5215690039834366. Distance: 1.8108785545623372
Total norm for 5 adversaries is: 3.5215690039834366. distance: 1.8108785545623372
___Test Local_Simple poisoned: True, epoch: 53: Average loss: 1.6187, Accuracy: 5742/8991 (63.8639%)
___Train Local_Simple,  epoch  53, local model 6, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2266/2945 (76.9440%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 1.3497, Accuracy: 5602/10000 (56.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 7, internal_epoch   1,  Average loss: 0.0109, Accuracy: 2341/2756 (84.9419%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 1.5837, Accuracy: 4993/10000 (49.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 8, internal_epoch   1,  Average loss: 0.0153, Accuracy: 2697/3437 (78.4696%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 1.1366, Accuracy: 6496/10000 (64.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 9, internal_epoch   1,  Average loss: 0.0086, Accuracy: 5160/5809 (88.8277%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 2.6026, Accuracy: 3804/10000 (38.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 10, internal_epoch   1,  Average loss: 0.0086, Accuracy: 2252/2592 (86.8827%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 1.5885, Accuracy: 5120/10000 (51.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 11, internal_epoch   1,  Average loss: 0.0163, Accuracy: 1940/2510 (77.2908%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 1.0343, Accuracy: 6656/10000 (66.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 12, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4056/4373 (92.7510%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 2.5034, Accuracy: 3486/10000 (34.8600%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  53, local model 13, internal_epoch   1,  Average loss: 0.0088, Accuracy: 3862/4339 (89.0067%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 1.8646, Accuracy: 5069/10000 (50.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  53, local model 14, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2239/2782 (80.4817%)
___Test Local_Simple poisoned: False, epoch: 53: Average loss: 1.8413, Accuracy: 5191/10000 (51.9100%), Attack Success Rate:0/10000(0.000)
time spent on training: 324.15782499313354
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.8037197  0.
 1.         1.         0.19420687]
___Test Target_Simple poisoned: False, epoch: 53: Average loss: 1.5413, Accuracy: 4649/10000 (46.4900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 53: Average loss: 1.6164, Accuracy: 3998/8991 (44.4667%)
Done in 332.245552778244 sec.
Server Epoch:54 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  54, local model 0, internal_epoch   1,  Average loss: 0.0161, Accuracy: 2315/3010 (76.9103%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 1.3367, Accuracy: 6690/10000 (66.9000%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 1, internal_epoch   1,  Average loss: 0.0081, Accuracy: 5145/5805 (88.6305%), train_poison_data_count: 5805
Global model norm: 2.5664223216118254.
Norm before scaling: 3.672048881147236. Distance: 2.221525685768246
Total norm for 5 adversaries is: 3.672048881147236. distance: 2.221525685768246
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 1.8859, Accuracy: 4762/8991 (52.9641%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 2, internal_epoch   1,  Average loss: 0.0128, Accuracy: 3877/4779 (81.1258%), train_poison_data_count: 4779
Global model norm: 2.5664223216118254.
Norm before scaling: 3.868267363238179. Distance: 2.2638388071065854
Total norm for 5 adversaries is: 3.868267363238179. distance: 2.2638388071065854
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 0.7844, Accuracy: 6627/8991 (73.7070%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 3, internal_epoch   1,  Average loss: 0.0118, Accuracy: 4349/5123 (84.8917%), train_poison_data_count: 5123
Global model norm: 2.5664223216118254.
Norm before scaling: 3.892443863715665. Distance: 2.3493267596488776
Total norm for 5 adversaries is: 3.892443863715665. distance: 2.3493267596488776
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 1.0768, Accuracy: 6555/8991 (72.9062%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 4, internal_epoch   1,  Average loss: 0.0126, Accuracy: 3632/4462 (81.3985%), train_poison_data_count: 4462
Global model norm: 2.5664223216118254.
Norm before scaling: 3.685709761197512. Distance: 1.893866164670201
Total norm for 5 adversaries is: 3.685709761197512. distance: 1.893866164670201
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 1.1324, Accuracy: 5704/8991 (63.4412%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  54, local model 5, internal_epoch   1,  Average loss: 0.0107, Accuracy: 3266/3841 (85.0299%), train_poison_data_count: 3841
Global model norm: 2.5664223216118254.
Norm before scaling: 3.536056218533218. Distance: 1.809099163844313
Total norm for 5 adversaries is: 3.536056218533218. distance: 1.809099163844313
___Test Local_Simple poisoned: True, epoch: 54: Average loss: 1.5827, Accuracy: 5854/8991 (65.1096%)
___Train Local_Simple,  epoch  54, local model 6, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2263/2945 (76.8421%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 1.3470, Accuracy: 5536/10000 (55.3600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 7, internal_epoch   1,  Average loss: 0.0110, Accuracy: 2331/2756 (84.5791%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 1.6234, Accuracy: 4869/10000 (48.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 8, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2707/3437 (78.7605%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 1.1594, Accuracy: 6362/10000 (63.6200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 9, internal_epoch   1,  Average loss: 0.0085, Accuracy: 5172/5809 (89.0343%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 2.5832, Accuracy: 3838/10000 (38.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 10, internal_epoch   1,  Average loss: 0.0088, Accuracy: 2250/2592 (86.8056%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 1.5524, Accuracy: 5087/10000 (50.8700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 11, internal_epoch   1,  Average loss: 0.0163, Accuracy: 1939/2510 (77.2510%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 1.0263, Accuracy: 6701/10000 (67.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 12, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4046/4373 (92.5223%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 2.5415, Accuracy: 3408/10000 (34.0800%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  54, local model 13, internal_epoch   1,  Average loss: 0.0086, Accuracy: 3868/4339 (89.1450%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 1.9082, Accuracy: 4998/10000 (49.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  54, local model 14, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2209/2782 (79.4033%)
___Test Local_Simple poisoned: False, epoch: 54: Average loss: 1.8348, Accuracy: 5088/10000 (50.8800%), Attack Success Rate:0/10000(0.000)
time spent on training: 331.7224986553192
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.98782486 0.
 1.         1.         0.35482897]
___Test Target_Simple poisoned: False, epoch: 54: Average loss: 1.5339, Accuracy: 4677/10000 (46.7700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 54: Average loss: 1.6093, Accuracy: 4019/8991 (44.7003%)
Done in 339.7504172325134 sec.
Server Epoch:55 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  55, local model 0, internal_epoch   1,  Average loss: 0.0159, Accuracy: 2313/3010 (76.8439%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 1.3682, Accuracy: 6496/10000 (64.9600%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 1, internal_epoch   1,  Average loss: 0.0081, Accuracy: 5164/5805 (88.9578%), train_poison_data_count: 5805
Global model norm: 2.5859046772605385.
Norm before scaling: 3.6665296239963174. Distance: 2.1943566898982536
Total norm for 5 adversaries is: 3.6665296239963174. distance: 2.1943566898982536
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 1.8484, Accuracy: 4726/8991 (52.5637%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 2, internal_epoch   1,  Average loss: 0.0125, Accuracy: 3920/4779 (82.0255%), train_poison_data_count: 4779
Global model norm: 2.5859046772605385.
Norm before scaling: 3.853916895565763. Distance: 2.2213929244875565
Total norm for 5 adversaries is: 3.853916895565763. distance: 2.2213929244875565
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 0.7991, Accuracy: 6545/8991 (72.7950%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 3, internal_epoch   1,  Average loss: 0.0114, Accuracy: 4367/5123 (85.2430%), train_poison_data_count: 5123
Global model norm: 2.5859046772605385.
Norm before scaling: 3.8894592744848193. Distance: 2.333974466342722
Total norm for 5 adversaries is: 3.8894592744848193. distance: 2.333974466342722
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 1.0817, Accuracy: 6473/8991 (71.9942%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 4, internal_epoch   1,  Average loss: 0.0126, Accuracy: 3641/4462 (81.6002%), train_poison_data_count: 4462
Global model norm: 2.5859046772605385.
Norm before scaling: 3.6864591519643293. Distance: 1.8689252356591914
Total norm for 5 adversaries is: 3.6864591519643293. distance: 1.8689252356591914
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 1.0973, Accuracy: 5875/8991 (65.3431%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  55, local model 5, internal_epoch   1,  Average loss: 0.0107, Accuracy: 3260/3841 (84.8737%), train_poison_data_count: 3841
Global model norm: 2.5859046772605385.
Norm before scaling: 3.546132014089794. Distance: 1.7989842515884842
Total norm for 5 adversaries is: 3.546132014089794. distance: 1.7989842515884842
___Test Local_Simple poisoned: True, epoch: 55: Average loss: 1.5942, Accuracy: 5787/8991 (64.3644%)
___Train Local_Simple,  epoch  55, local model 6, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2278/2945 (77.3514%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 1.3686, Accuracy: 5456/10000 (54.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 7, internal_epoch   1,  Average loss: 0.0110, Accuracy: 2357/2756 (85.5225%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 1.5891, Accuracy: 4903/10000 (49.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 8, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2708/3437 (78.7896%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 1.1414, Accuracy: 6439/10000 (64.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 9, internal_epoch   1,  Average loss: 0.0086, Accuracy: 5153/5809 (88.7072%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 2.5777, Accuracy: 3846/10000 (38.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 10, internal_epoch   1,  Average loss: 0.0086, Accuracy: 2245/2592 (86.6127%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 1.6145, Accuracy: 4914/10000 (49.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 11, internal_epoch   1,  Average loss: 0.0155, Accuracy: 1979/2510 (78.8446%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 1.0802, Accuracy: 6496/10000 (64.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 12, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4044/4373 (92.4766%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 2.4366, Accuracy: 3464/10000 (34.6400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 13, internal_epoch   1,  Average loss: 0.0088, Accuracy: 3851/4339 (88.7532%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 1.8829, Accuracy: 5020/10000 (50.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  55, local model 14, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2206/2782 (79.2955%)
___Test Local_Simple poisoned: False, epoch: 55: Average loss: 1.8125, Accuracy: 5148/10000 (51.4800%), Attack Success Rate:0/10000(0.000)
time spent on training: 339.08973717689514
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.55274795 0.
 1.         1.         0.04525697]
___Test Target_Simple poisoned: False, epoch: 55: Average loss: 1.5316, Accuracy: 4688/10000 (46.8800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 55: Average loss: 1.6074, Accuracy: 4030/8991 (44.8226%)
Done in 347.1337413787842 sec.
Server Epoch:56 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  56, local model 0, internal_epoch   1,  Average loss: 0.0163, Accuracy: 2304/3010 (76.5449%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 1.3243, Accuracy: 6633/10000 (66.3300%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 1, internal_epoch   1,  Average loss: 0.0082, Accuracy: 5141/5805 (88.5616%), train_poison_data_count: 5805
Global model norm: 2.603070254626025.
Norm before scaling: 3.667609801517736. Distance: 2.1716945216436208
Total norm for 5 adversaries is: 3.667609801517736. distance: 2.1716945216436208
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 1.8296, Accuracy: 4669/8991 (51.9297%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 2, internal_epoch   1,  Average loss: 0.0125, Accuracy: 3934/4779 (82.3185%), train_poison_data_count: 4779
Global model norm: 2.603070254626025.
Norm before scaling: 3.868628770842371. Distance: 2.2243174159545993
Total norm for 5 adversaries is: 3.868628770842371. distance: 2.2243174159545993
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 0.7788, Accuracy: 6589/8991 (73.2844%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 3, internal_epoch   1,  Average loss: 0.0116, Accuracy: 4350/5123 (84.9112%), train_poison_data_count: 5123
Global model norm: 2.603070254626025.
Norm before scaling: 3.908466900222111. Distance: 2.333653791310998
Total norm for 5 adversaries is: 3.908466900222111. distance: 2.333653791310998
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 1.0788, Accuracy: 6509/8991 (72.3946%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 4, internal_epoch   1,  Average loss: 0.0126, Accuracy: 3661/4462 (82.0484%), train_poison_data_count: 4462
Global model norm: 2.603070254626025.
Norm before scaling: 3.6967699592223333. Distance: 1.8731774691340866
Total norm for 5 adversaries is: 3.6967699592223333. distance: 1.8731774691340866
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 1.1385, Accuracy: 5727/8991 (63.6970%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  56, local model 5, internal_epoch   1,  Average loss: 0.0106, Accuracy: 3299/3841 (85.8891%), train_poison_data_count: 3841
Global model norm: 2.603070254626025.
Norm before scaling: 3.54908031854492. Distance: 1.782053247673064
Total norm for 5 adversaries is: 3.54908031854492. distance: 1.782053247673064
___Test Local_Simple poisoned: True, epoch: 56: Average loss: 1.6213, Accuracy: 5732/8991 (63.7526%)
___Train Local_Simple,  epoch  56, local model 6, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2298/2945 (78.0306%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 1.2860, Accuracy: 5721/10000 (57.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 7, internal_epoch   1,  Average loss: 0.0109, Accuracy: 2352/2756 (85.3411%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 1.5121, Accuracy: 5152/10000 (51.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 8, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2712/3437 (78.9060%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 1.1371, Accuracy: 6498/10000 (64.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 9, internal_epoch   1,  Average loss: 0.0084, Accuracy: 5159/5809 (88.8105%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 2.5564, Accuracy: 3885/10000 (38.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 10, internal_epoch   1,  Average loss: 0.0084, Accuracy: 2264/2592 (87.3457%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 1.6655, Accuracy: 4550/10000 (45.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 11, internal_epoch   1,  Average loss: 0.0161, Accuracy: 1927/2510 (76.7729%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 1.0409, Accuracy: 6678/10000 (66.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 12, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4043/4373 (92.4537%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 2.4605, Accuracy: 3479/10000 (34.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 13, internal_epoch   1,  Average loss: 0.0085, Accuracy: 3861/4339 (88.9836%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 1.9257, Accuracy: 4975/10000 (49.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  56, local model 14, internal_epoch   1,  Average loss: 0.0132, Accuracy: 2246/2782 (80.7333%)
___Test Local_Simple poisoned: False, epoch: 56: Average loss: 1.8413, Accuracy: 4958/10000 (49.5800%), Attack Success Rate:0/10000(0.000)
time spent on training: 338.54234862327576
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.84012852 0.
 1.         1.         0.1799834 ]
___Test Target_Simple poisoned: False, epoch: 56: Average loss: 1.5264, Accuracy: 4712/10000 (47.1200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 56: Average loss: 1.6031, Accuracy: 4042/8991 (44.9561%)
Done in 346.5390160083771 sec.
Server Epoch:57 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  57, local model 0, internal_epoch   1,  Average loss: 0.0159, Accuracy: 2315/3010 (76.9103%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 1.3441, Accuracy: 6625/10000 (66.2500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 1, internal_epoch   1,  Average loss: 0.0081, Accuracy: 5148/5805 (88.6822%), train_poison_data_count: 5805
Global model norm: 2.6213994537227214.
Norm before scaling: 3.684116686436159. Distance: 2.177261369595576
Total norm for 5 adversaries is: 3.684116686436159. distance: 2.177261369595576
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 1.8152, Accuracy: 4764/8991 (52.9863%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 2, internal_epoch   1,  Average loss: 0.0126, Accuracy: 3911/4779 (81.8372%), train_poison_data_count: 4779
Global model norm: 2.6213994537227214.
Norm before scaling: 3.8713232255316177. Distance: 2.216921523030557
Total norm for 5 adversaries is: 3.8713232255316177. distance: 2.216921523030557
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 0.7740, Accuracy: 6617/8991 (73.5958%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 3, internal_epoch   1,  Average loss: 0.0114, Accuracy: 4380/5123 (85.4968%), train_poison_data_count: 5123
Global model norm: 2.6213994537227214.
Norm before scaling: 3.923574011223111. Distance: 2.328463228990002
Total norm for 5 adversaries is: 3.923574011223111. distance: 2.328463228990002
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 1.0723, Accuracy: 6524/8991 (72.5615%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 4, internal_epoch   1,  Average loss: 0.0126, Accuracy: 3653/4462 (81.8691%), train_poison_data_count: 4462
Global model norm: 2.6213994537227214.
Norm before scaling: 3.695544632764089. Distance: 1.841726647632987
Total norm for 5 adversaries is: 3.695544632764089. distance: 1.841726647632987
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 1.0994, Accuracy: 5811/8991 (64.6313%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  57, local model 5, internal_epoch   1,  Average loss: 0.0107, Accuracy: 3282/3841 (85.4465%), train_poison_data_count: 3841
Global model norm: 2.6213994537227214.
Norm before scaling: 3.5604180392729003. Distance: 1.7858305811478838
Total norm for 5 adversaries is: 3.5604180392729003. distance: 1.7858305811478838
___Test Local_Simple poisoned: True, epoch: 57: Average loss: 1.5871, Accuracy: 5824/8991 (64.7759%)
___Train Local_Simple,  epoch  57, local model 6, internal_epoch   1,  Average loss: 0.0142, Accuracy: 2298/2945 (78.0306%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 1.3122, Accuracy: 5714/10000 (57.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 7, internal_epoch   1,  Average loss: 0.0108, Accuracy: 2352/2756 (85.3411%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 1.5896, Accuracy: 4907/10000 (49.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 8, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2678/3437 (77.9168%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 1.1159, Accuracy: 6484/10000 (64.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 9, internal_epoch   1,  Average loss: 0.0084, Accuracy: 5163/5809 (88.8793%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 2.6418, Accuracy: 3730/10000 (37.3000%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  57, local model 10, internal_epoch   1,  Average loss: 0.0086, Accuracy: 2237/2592 (86.3040%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 1.5815, Accuracy: 5059/10000 (50.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 11, internal_epoch   1,  Average loss: 0.0159, Accuracy: 1931/2510 (76.9323%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 1.0732, Accuracy: 6524/10000 (65.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 12, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4042/4373 (92.4308%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 2.4392, Accuracy: 3457/10000 (34.5700%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  57, local model 13, internal_epoch   1,  Average loss: 0.0085, Accuracy: 3858/4339 (88.9145%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 1.9706, Accuracy: 4818/10000 (48.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  57, local model 14, internal_epoch   1,  Average loss: 0.0133, Accuracy: 2218/2782 (79.7268%)
___Test Local_Simple poisoned: False, epoch: 57: Average loss: 1.7990, Accuracy: 5022/10000 (50.2200%), Attack Success Rate:0/10000(0.000)
time spent on training: 348.3042936325073
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.97033503 0.
 1.         1.         0.2806301 ]
___Test Target_Simple poisoned: False, epoch: 57: Average loss: 1.5190, Accuracy: 4735/10000 (47.3500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 57: Average loss: 1.5965, Accuracy: 4049/8991 (45.0339%)
Done in 356.412868976593 sec.
Server Epoch:58 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  58, local model 0, internal_epoch   1,  Average loss: 0.0159, Accuracy: 2312/3010 (76.8106%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 1.3280, Accuracy: 6615/10000 (66.1500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 1, internal_epoch   1,  Average loss: 0.0080, Accuracy: 5162/5805 (88.9233%), train_poison_data_count: 5805
Global model norm: 2.640325314823331.
Norm before scaling: 3.6863349755221395. Distance: 2.1636503081823117
Total norm for 5 adversaries is: 3.6863349755221395. distance: 2.1636503081823117
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 1.8663, Accuracy: 4645/8991 (51.6628%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 2, internal_epoch   1,  Average loss: 0.0126, Accuracy: 3905/4779 (81.7117%), train_poison_data_count: 4779
Global model norm: 2.640325314823331.
Norm before scaling: 3.882894779922351. Distance: 2.203181489260833
Total norm for 5 adversaries is: 3.882894779922351. distance: 2.203181489260833
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 0.7679, Accuracy: 6650/8991 (73.9629%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 3, internal_epoch   1,  Average loss: 0.0114, Accuracy: 4359/5123 (85.0869%), train_poison_data_count: 5123
Global model norm: 2.640325314823331.
Norm before scaling: 3.9121505727517487. Distance: 2.2991189181255103
Total norm for 5 adversaries is: 3.9121505727517487. distance: 2.2991189181255103
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 1.0856, Accuracy: 6467/8991 (71.9275%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 4, internal_epoch   1,  Average loss: 0.0126, Accuracy: 3646/4462 (81.7122%), train_poison_data_count: 4462
Global model norm: 2.640325314823331.
Norm before scaling: 3.710343805304901. Distance: 1.8482892683995074
Total norm for 5 adversaries is: 3.710343805304901. distance: 1.8482892683995074
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 1.1206, Accuracy: 5803/8991 (64.5423%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  58, local model 5, internal_epoch   1,  Average loss: 0.0106, Accuracy: 3298/3841 (85.8631%), train_poison_data_count: 3841
Global model norm: 2.640325314823331.
Norm before scaling: 3.5701006736772047. Distance: 1.7637914403728254
Total norm for 5 adversaries is: 3.5701006736772047. distance: 1.7637914403728254
___Test Local_Simple poisoned: True, epoch: 58: Average loss: 1.5815, Accuracy: 5727/8991 (63.6970%)
___Train Local_Simple,  epoch  58, local model 6, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2295/2945 (77.9287%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 1.2961, Accuracy: 5614/10000 (56.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  58, local model 7, internal_epoch   1,  Average loss: 0.0106, Accuracy: 2361/2756 (85.6676%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 1.4809, Accuracy: 5251/10000 (52.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  58, local model 8, internal_epoch   1,  Average loss: 0.0148, Accuracy: 2693/3437 (78.3532%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 1.1216, Accuracy: 6422/10000 (64.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  58, local model 9, internal_epoch   1,  Average loss: 0.0083, Accuracy: 5185/5809 (89.2580%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 2.5711, Accuracy: 3788/10000 (37.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  58, local model 10, internal_epoch   1,  Average loss: 0.0087, Accuracy: 2252/2592 (86.8827%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 1.5426, Accuracy: 5250/10000 (52.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  58, local model 11, internal_epoch   1,  Average loss: 0.0158, Accuracy: 1958/2510 (78.0080%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 1.0168, Accuracy: 6771/10000 (67.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  58, local model 12, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4062/4373 (92.8882%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 2.4099, Accuracy: 3474/10000 (34.7400%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  58, local model 13, internal_epoch   1,  Average loss: 0.0084, Accuracy: 3878/4339 (89.3754%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 1.9317, Accuracy: 4982/10000 (49.8200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  58, local model 14, internal_epoch   1,  Average loss: 0.0130, Accuracy: 2254/2782 (81.0208%)
___Test Local_Simple poisoned: False, epoch: 58: Average loss: 1.8210, Accuracy: 5068/10000 (50.6800%), Attack Success Rate:0/10000(0.000)
time spent on training: 352.24750995635986
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.52678938 0.
 1.         1.         0.01271115]
___Test Target_Simple poisoned: False, epoch: 58: Average loss: 1.5171, Accuracy: 4746/10000 (47.4600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 58: Average loss: 1.5955, Accuracy: 4054/8991 (45.0895%)
Done in 360.27859139442444 sec.
Server Epoch:59 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  59, local model 0, internal_epoch   1,  Average loss: 0.0157, Accuracy: 2342/3010 (77.8073%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 1.3438, Accuracy: 6530/10000 (65.3000%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 1, internal_epoch   1,  Average loss: 0.0080, Accuracy: 5151/5805 (88.7339%), train_poison_data_count: 5805
Global model norm: 2.657083896562926.
Norm before scaling: 3.6811227773239783. Distance: 2.139845657487056
Total norm for 5 adversaries is: 3.6811227773239783. distance: 2.139845657487056
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 1.8404, Accuracy: 4644/8991 (51.6517%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 2, internal_epoch   1,  Average loss: 0.0125, Accuracy: 3903/4779 (81.6698%), train_poison_data_count: 4779
Global model norm: 2.657083896562926.
Norm before scaling: 3.8934732452057266. Distance: 2.2090626238144173
Total norm for 5 adversaries is: 3.8934732452057266. distance: 2.2090626238144173
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 0.7716, Accuracy: 6627/8991 (73.7070%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 3, internal_epoch   1,  Average loss: 0.0113, Accuracy: 4400/5123 (85.8872%), train_poison_data_count: 5123
Global model norm: 2.657083896562926.
Norm before scaling: 3.919807770745235. Distance: 2.298158870693297
Total norm for 5 adversaries is: 3.919807770745235. distance: 2.298158870693297
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 1.0777, Accuracy: 6520/8991 (72.5170%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 4, internal_epoch   1,  Average loss: 0.0125, Accuracy: 3649/4462 (81.7795%), train_poison_data_count: 4462
Global model norm: 2.657083896562926.
Norm before scaling: 3.7247221619082738. Distance: 1.840845697769263
Total norm for 5 adversaries is: 3.7247221619082738. distance: 1.840845697769263
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 1.1559, Accuracy: 5652/8991 (62.8629%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  59, local model 5, internal_epoch   1,  Average loss: 0.0106, Accuracy: 3275/3841 (85.2643%), train_poison_data_count: 3841
Global model norm: 2.657083896562926.
Norm before scaling: 3.576847831306945. Distance: 1.7725170284254956
Total norm for 5 adversaries is: 3.576847831306945. distance: 1.7725170284254956
___Test Local_Simple poisoned: True, epoch: 59: Average loss: 1.5343, Accuracy: 5863/8991 (65.2097%)
___Train Local_Simple,  epoch  59, local model 6, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2259/2945 (76.7063%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 1.3032, Accuracy: 5658/10000 (56.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 7, internal_epoch   1,  Average loss: 0.0110, Accuracy: 2327/2756 (84.4340%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 1.5036, Accuracy: 5139/10000 (51.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 8, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2706/3437 (78.7315%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 1.1296, Accuracy: 6526/10000 (65.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 9, internal_epoch   1,  Average loss: 0.0084, Accuracy: 5156/5809 (88.7588%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 2.6191, Accuracy: 3737/10000 (37.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 10, internal_epoch   1,  Average loss: 0.0084, Accuracy: 2270/2592 (87.5772%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 1.5855, Accuracy: 4949/10000 (49.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 11, internal_epoch   1,  Average loss: 0.0163, Accuracy: 1928/2510 (76.8127%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 1.0008, Accuracy: 6782/10000 (67.8200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 12, internal_epoch   1,  Average loss: 0.0057, Accuracy: 4048/4373 (92.5680%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 2.4332, Accuracy: 3488/10000 (34.8800%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  59, local model 13, internal_epoch   1,  Average loss: 0.0083, Accuracy: 3855/4339 (88.8454%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 1.7880, Accuracy: 5240/10000 (52.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  59, local model 14, internal_epoch   1,  Average loss: 0.0131, Accuracy: 2223/2782 (79.9065%)
___Test Local_Simple poisoned: False, epoch: 59: Average loss: 1.8601, Accuracy: 4904/10000 (49.0400%), Attack Success Rate:0/10000(0.000)
time spent on training: 358.91749382019043
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.716652   0.
 1.         1.         0.36103577]
___Test Target_Simple poisoned: False, epoch: 59: Average loss: 1.5108, Accuracy: 4779/10000 (47.7900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 59: Average loss: 1.5892, Accuracy: 4086/8991 (45.4454%)
Done in 367.5088951587677 sec.
Server Epoch:60 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  60, local model 0, internal_epoch   1,  Average loss: 0.0156, Accuracy: 2335/3010 (77.5748%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 1.3325, Accuracy: 6552/10000 (65.5200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 1, internal_epoch   1,  Average loss: 0.0079, Accuracy: 5165/5805 (88.9750%), train_poison_data_count: 5805
Global model norm: 2.675319214072646.
Norm before scaling: 3.692510143103386. Distance: 2.142015437165811
Total norm for 5 adversaries is: 3.692510143103386. distance: 2.142015437165811
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 1.8042, Accuracy: 4709/8991 (52.3746%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 2, internal_epoch   1,  Average loss: 0.0125, Accuracy: 3911/4779 (81.8372%), train_poison_data_count: 4779
Global model norm: 2.675319214072646.
Norm before scaling: 3.9120864600864085. Distance: 2.197683770976697
Total norm for 5 adversaries is: 3.9120864600864085. distance: 2.197683770976697
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 0.7604, Accuracy: 6702/8991 (74.5412%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 3, internal_epoch   1,  Average loss: 0.0112, Accuracy: 4405/5123 (85.9848%), train_poison_data_count: 5123
Global model norm: 2.675319214072646.
Norm before scaling: 3.9294705340514406. Distance: 2.291649512024453
Total norm for 5 adversaries is: 3.9294705340514406. distance: 2.291649512024453
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 1.0646, Accuracy: 6535/8991 (72.6838%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 4, internal_epoch   1,  Average loss: 0.0123, Accuracy: 3669/4462 (82.2277%), train_poison_data_count: 4462
Global model norm: 2.675319214072646.
Norm before scaling: 3.7305068408559245. Distance: 1.8251752612470367
Total norm for 5 adversaries is: 3.7305068408559245. distance: 1.8251752612470367
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 1.1218, Accuracy: 5760/8991 (64.0641%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  60, local model 5, internal_epoch   1,  Average loss: 0.0104, Accuracy: 3301/3841 (85.9412%), train_poison_data_count: 3841
Global model norm: 2.675319214072646.
Norm before scaling: 3.5930358177075137. Distance: 1.7646979539824013
Total norm for 5 adversaries is: 3.5930358177075137. distance: 1.7646979539824013
___Test Local_Simple poisoned: True, epoch: 60: Average loss: 1.5888, Accuracy: 5737/8991 (63.8083%)
___Train Local_Simple,  epoch  60, local model 6, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2297/2945 (77.9966%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 1.3190, Accuracy: 5525/10000 (55.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 7, internal_epoch   1,  Average loss: 0.0106, Accuracy: 2357/2756 (85.5225%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 1.4639, Accuracy: 5339/10000 (53.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 8, internal_epoch   1,  Average loss: 0.0148, Accuracy: 2720/3437 (79.1388%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 1.1000, Accuracy: 6646/10000 (66.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 9, internal_epoch   1,  Average loss: 0.0083, Accuracy: 5178/5809 (89.1375%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 2.5763, Accuracy: 3785/10000 (37.8500%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  60, local model 10, internal_epoch   1,  Average loss: 0.0082, Accuracy: 2263/2592 (87.3071%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 1.5845, Accuracy: 5044/10000 (50.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 11, internal_epoch   1,  Average loss: 0.0157, Accuracy: 1958/2510 (78.0080%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 1.0204, Accuracy: 6760/10000 (67.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 12, internal_epoch   1,  Average loss: 0.0058, Accuracy: 4044/4373 (92.4766%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 2.4097, Accuracy: 3447/10000 (34.4700%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  60, local model 13, internal_epoch   1,  Average loss: 0.0083, Accuracy: 3874/4339 (89.2832%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 1.8193, Accuracy: 5125/10000 (51.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  60, local model 14, internal_epoch   1,  Average loss: 0.0130, Accuracy: 2232/2782 (80.2301%)
___Test Local_Simple poisoned: False, epoch: 60: Average loss: 1.8377, Accuracy: 5058/10000 (50.5800%), Attack Success Rate:0/10000(0.000)
time spent on training: 362.51152873039246
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.76462112 0.
 1.         1.         0.36240378]
___Test Target_Simple poisoned: False, epoch: 60: Average loss: 1.5041, Accuracy: 4801/10000 (48.0100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 60: Average loss: 1.5826, Accuracy: 4105/8991 (45.6568%)
Done in 370.56280183792114 sec.
Server Epoch:61 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  61, local model 0, internal_epoch   1,  Average loss: 0.0158, Accuracy: 2318/3010 (77.0100%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 1.3122, Accuracy: 6621/10000 (66.2100%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 1, internal_epoch   1,  Average loss: 0.0079, Accuracy: 5188/5805 (89.3712%), train_poison_data_count: 5805
Global model norm: 2.6937563619516394.
Norm before scaling: 3.703467373372192. Distance: 2.122908853573284
Total norm for 5 adversaries is: 3.703467373372192. distance: 2.122908853573284
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 1.7690, Accuracy: 4761/8991 (52.9530%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 2, internal_epoch   1,  Average loss: 0.0123, Accuracy: 3951/4779 (82.6742%), train_poison_data_count: 4779
Global model norm: 2.6937563619516394.
Norm before scaling: 3.905337417814863. Distance: 2.179465880800553
Total norm for 5 adversaries is: 3.905337417814863. distance: 2.179465880800553
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 0.7363, Accuracy: 6766/8991 (75.2530%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 3, internal_epoch   1,  Average loss: 0.0113, Accuracy: 4399/5123 (85.8677%), train_poison_data_count: 5123
Global model norm: 2.6937563619516394.
Norm before scaling: 3.9408490909082032. Distance: 2.284646732225916
Total norm for 5 adversaries is: 3.9408490909082032. distance: 2.284646732225916
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 1.0721, Accuracy: 6502/8991 (72.3168%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 4, internal_epoch   1,  Average loss: 0.0123, Accuracy: 3654/4462 (81.8915%), train_poison_data_count: 4462
Global model norm: 2.6937563619516394.
Norm before scaling: 3.7340588296139066. Distance: 1.813872902595107
Total norm for 5 adversaries is: 3.7340588296139066. distance: 1.813872902595107
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 1.1091, Accuracy: 5850/8991 (65.0651%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  61, local model 5, internal_epoch   1,  Average loss: 0.0105, Accuracy: 3300/3841 (85.9151%), train_poison_data_count: 3841
Global model norm: 2.6937563619516394.
Norm before scaling: 3.610505162449733. Distance: 1.7556306989230328
Total norm for 5 adversaries is: 3.610505162449733. distance: 1.7556306989230328
___Test Local_Simple poisoned: True, epoch: 61: Average loss: 1.5634, Accuracy: 5795/8991 (64.4533%)
___Train Local_Simple,  epoch  61, local model 6, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2296/2945 (77.9626%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 1.2918, Accuracy: 5663/10000 (56.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 7, internal_epoch   1,  Average loss: 0.0107, Accuracy: 2354/2756 (85.4136%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 1.4883, Accuracy: 5150/10000 (51.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 8, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2730/3437 (79.4297%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 1.1315, Accuracy: 6374/10000 (63.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 9, internal_epoch   1,  Average loss: 0.0083, Accuracy: 5162/5809 (88.8621%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 2.4732, Accuracy: 3876/10000 (38.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 10, internal_epoch   1,  Average loss: 0.0082, Accuracy: 2258/2592 (87.1142%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 1.5454, Accuracy: 5197/10000 (51.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 11, internal_epoch   1,  Average loss: 0.0154, Accuracy: 1980/2510 (78.8845%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 1.0908, Accuracy: 6392/10000 (63.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 12, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4047/4373 (92.5452%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 2.4558, Accuracy: 3446/10000 (34.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 13, internal_epoch   1,  Average loss: 0.0082, Accuracy: 3882/4339 (89.4676%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 1.8771, Accuracy: 5006/10000 (50.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  61, local model 14, internal_epoch   1,  Average loss: 0.0129, Accuracy: 2215/2782 (79.6190%)
___Test Local_Simple poisoned: False, epoch: 61: Average loss: 1.7322, Accuracy: 5269/10000 (52.6900%), Attack Success Rate:0/10000(0.000)
time spent on training: 366.9304096698761
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.70213267 0.
 1.         1.         0.16435624]
___Test Target_Simple poisoned: False, epoch: 61: Average loss: 1.4998, Accuracy: 4823/10000 (48.2300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 61: Average loss: 1.5790, Accuracy: 4124/8991 (45.8681%)
Done in 375.11433601379395 sec.
Server Epoch:62 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  62, local model 0, internal_epoch   1,  Average loss: 0.0156, Accuracy: 2312/3010 (76.8106%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 1.3139, Accuracy: 6669/10000 (66.6900%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 1, internal_epoch   1,  Average loss: 0.0078, Accuracy: 5170/5805 (89.0612%), train_poison_data_count: 5805
Global model norm: 2.711261828806968.
Norm before scaling: 3.7307696315998102. Distance: 2.142512582143296
Total norm for 5 adversaries is: 3.7307696315998102. distance: 2.142512582143296
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 1.7901, Accuracy: 4721/8991 (52.5081%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 2, internal_epoch   1,  Average loss: 0.0124, Accuracy: 3940/4779 (82.4440%), train_poison_data_count: 4779
Global model norm: 2.711261828806968.
Norm before scaling: 3.9284577464710124. Distance: 2.187349913761663
Total norm for 5 adversaries is: 3.9284577464710124. distance: 2.187349913761663
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 0.7315, Accuracy: 6782/8991 (75.4310%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 3, internal_epoch   1,  Average loss: 0.0111, Accuracy: 4393/5123 (85.7505%), train_poison_data_count: 5123
Global model norm: 2.711261828806968.
Norm before scaling: 3.940113955945925. Distance: 2.260300687518819
Total norm for 5 adversaries is: 3.940113955945925. distance: 2.260300687518819
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 1.0452, Accuracy: 6572/8991 (73.0953%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 4, internal_epoch   1,  Average loss: 0.0122, Accuracy: 3696/4462 (82.8328%), train_poison_data_count: 4462
Global model norm: 2.711261828806968.
Norm before scaling: 3.7405038761424274. Distance: 1.8000381492174842
Total norm for 5 adversaries is: 3.7405038761424274. distance: 1.8000381492174842
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 1.1498, Accuracy: 5585/8991 (62.1177%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  62, local model 5, internal_epoch   1,  Average loss: 0.0104, Accuracy: 3302/3841 (85.9672%), train_poison_data_count: 3841
Global model norm: 2.711261828806968.
Norm before scaling: 3.605438199228975. Distance: 1.7533834311117442
Total norm for 5 adversaries is: 3.605438199228975. distance: 1.7533834311117442
___Test Local_Simple poisoned: True, epoch: 62: Average loss: 1.5467, Accuracy: 5795/8991 (64.4533%)
___Train Local_Simple,  epoch  62, local model 6, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2270/2945 (77.0798%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 1.2532, Accuracy: 5728/10000 (57.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 7, internal_epoch   1,  Average loss: 0.0109, Accuracy: 2349/2756 (85.2322%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 1.5120, Accuracy: 5109/10000 (51.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 8, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2710/3437 (78.8478%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 1.1224, Accuracy: 6512/10000 (65.1200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 9, internal_epoch   1,  Average loss: 0.0083, Accuracy: 5176/5809 (89.1031%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 2.4873, Accuracy: 3965/10000 (39.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 10, internal_epoch   1,  Average loss: 0.0083, Accuracy: 2262/2592 (87.2685%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 1.5244, Accuracy: 5522/10000 (55.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 11, internal_epoch   1,  Average loss: 0.0154, Accuracy: 1965/2510 (78.2869%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 0.9850, Accuracy: 6831/10000 (68.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 12, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4053/4373 (92.6824%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 2.4424, Accuracy: 3432/10000 (34.3200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  62, local model 13, internal_epoch   1,  Average loss: 0.0083, Accuracy: 3870/4339 (89.1911%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 1.8136, Accuracy: 5110/10000 (51.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  62, local model 14, internal_epoch   1,  Average loss: 0.0128, Accuracy: 2262/2782 (81.3084%)
___Test Local_Simple poisoned: False, epoch: 62: Average loss: 1.8767, Accuracy: 4775/10000 (47.7500%), Attack Success Rate:0/10000(0.000)
time spent on training: 375.3546633720398
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.72399399 0.
 1.         1.         0.43270407]
___Test Target_Simple poisoned: False, epoch: 62: Average loss: 1.4930, Accuracy: 4852/10000 (48.5200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 62: Average loss: 1.5723, Accuracy: 4153/8991 (46.1906%)
Done in 383.5811519622803 sec.
Server Epoch:63 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  63, local model 0, internal_epoch   1,  Average loss: 0.0156, Accuracy: 2329/3010 (77.3754%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 1.2991, Accuracy: 6619/10000 (66.1900%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 1, internal_epoch   1,  Average loss: 0.0079, Accuracy: 5166/5805 (88.9922%), train_poison_data_count: 5805
Global model norm: 2.729508871119629.
Norm before scaling: 3.733927552299363. Distance: 2.1253916435610845
Total norm for 5 adversaries is: 3.733927552299363. distance: 2.1253916435610845
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 1.7814, Accuracy: 4729/8991 (52.5970%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 2, internal_epoch   1,  Average loss: 0.0123, Accuracy: 3916/4779 (81.9418%), train_poison_data_count: 4779
Global model norm: 2.729508871119629.
Norm before scaling: 3.944403273557135. Distance: 2.1950849639159333
Total norm for 5 adversaries is: 3.944403273557135. distance: 2.1950849639159333
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 0.7479, Accuracy: 6717/8991 (74.7080%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 3, internal_epoch   1,  Average loss: 0.0111, Accuracy: 4422/5123 (86.3166%), train_poison_data_count: 5123
Global model norm: 2.729508871119629.
Norm before scaling: 3.948028173692041. Distance: 2.2521497205559067
Total norm for 5 adversaries is: 3.948028173692041. distance: 2.2521497205559067
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 1.0429, Accuracy: 6593/8991 (73.3289%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 4, internal_epoch   1,  Average loss: 0.0122, Accuracy: 3695/4462 (82.8104%), train_poison_data_count: 4462
Global model norm: 2.729508871119629.
Norm before scaling: 3.7491914513260443. Distance: 1.7885176982691826
Total norm for 5 adversaries is: 3.7491914513260443. distance: 1.7885176982691826
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 1.0938, Accuracy: 5781/8991 (64.2976%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  63, local model 5, internal_epoch   1,  Average loss: 0.0104, Accuracy: 3297/3841 (85.8370%), train_poison_data_count: 3841
Global model norm: 2.729508871119629.
Norm before scaling: 3.624909103832448. Distance: 1.7377337675844289
Total norm for 5 adversaries is: 3.624909103832448. distance: 1.7377337675844289
___Test Local_Simple poisoned: True, epoch: 63: Average loss: 1.5461, Accuracy: 5819/8991 (64.7203%)
___Train Local_Simple,  epoch  63, local model 6, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2291/2945 (77.7929%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 1.2505, Accuracy: 5701/10000 (57.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 7, internal_epoch   1,  Average loss: 0.0105, Accuracy: 2362/2756 (85.7039%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 1.4856, Accuracy: 5110/10000 (51.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 8, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2710/3437 (78.8478%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 1.0902, Accuracy: 6548/10000 (65.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 9, internal_epoch   1,  Average loss: 0.0082, Accuracy: 5190/5809 (89.3441%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 2.4295, Accuracy: 4070/10000 (40.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 10, internal_epoch   1,  Average loss: 0.0082, Accuracy: 2251/2592 (86.8441%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 1.5009, Accuracy: 5422/10000 (54.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 11, internal_epoch   1,  Average loss: 0.0156, Accuracy: 1957/2510 (77.9681%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 1.0147, Accuracy: 6679/10000 (66.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 12, internal_epoch   1,  Average loss: 0.0056, Accuracy: 4062/4373 (92.8882%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 2.3651, Accuracy: 3486/10000 (34.8600%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  63, local model 13, internal_epoch   1,  Average loss: 0.0083, Accuracy: 3871/4339 (89.2141%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 1.8394, Accuracy: 4993/10000 (49.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  63, local model 14, internal_epoch   1,  Average loss: 0.0128, Accuracy: 2266/2782 (81.4522%)
___Test Local_Simple poisoned: False, epoch: 63: Average loss: 1.8121, Accuracy: 4970/10000 (49.7000%), Attack Success Rate:0/10000(0.000)
time spent on training: 378.33657240867615
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.78077394 0.
 1.         1.         0.41663892]
___Test Target_Simple poisoned: False, epoch: 63: Average loss: 1.4859, Accuracy: 4888/10000 (48.8800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 63: Average loss: 1.5651, Accuracy: 4184/8991 (46.5354%)
Done in 387.40119457244873 sec.
Server Epoch:64 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  64, local model 0, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2368/3010 (78.6711%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 1.2873, Accuracy: 6754/10000 (67.5400%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 1, internal_epoch   1,  Average loss: 0.0077, Accuracy: 5178/5805 (89.1990%), train_poison_data_count: 5805
Global model norm: 2.74773929612535.
Norm before scaling: 3.731718898428665. Distance: 2.1091671311423057
Total norm for 5 adversaries is: 3.731718898428665. distance: 2.1091671311423057
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 1.7620, Accuracy: 4736/8991 (52.6749%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 2, internal_epoch   1,  Average loss: 0.0123, Accuracy: 3953/4779 (82.7160%), train_poison_data_count: 4779
Global model norm: 2.74773929612535.
Norm before scaling: 3.9330227540670024. Distance: 2.1632122476524476
Total norm for 5 adversaries is: 3.9330227540670024. distance: 2.1632122476524476
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 0.7721, Accuracy: 6686/8991 (74.3633%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 3, internal_epoch   1,  Average loss: 0.0112, Accuracy: 4396/5123 (85.8091%), train_poison_data_count: 5123
Global model norm: 2.74773929612535.
Norm before scaling: 3.9689842815784737. Distance: 2.271973128475531
Total norm for 5 adversaries is: 3.9689842815784737. distance: 2.271973128475531
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 1.1100, Accuracy: 6407/8991 (71.2601%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 4, internal_epoch   1,  Average loss: 0.0121, Accuracy: 3669/4462 (82.2277%), train_poison_data_count: 4462
Global model norm: 2.74773929612535.
Norm before scaling: 3.7464192142652846. Distance: 1.777265408644323
Total norm for 5 adversaries is: 3.7464192142652846. distance: 1.777265408644323
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 1.0932, Accuracy: 5889/8991 (65.4988%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  64, local model 5, internal_epoch   1,  Average loss: 0.0103, Accuracy: 3312/3841 (86.2275%), train_poison_data_count: 3841
Global model norm: 2.74773929612535.
Norm before scaling: 3.6295584594542216. Distance: 1.7241044995749857
Total norm for 5 adversaries is: 3.6295584594542216. distance: 1.7241044995749857
___Test Local_Simple poisoned: True, epoch: 64: Average loss: 1.5288, Accuracy: 5843/8991 (64.9872%)
___Train Local_Simple,  epoch  64, local model 6, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2292/2945 (77.8268%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 1.2755, Accuracy: 5579/10000 (55.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  64, local model 7, internal_epoch   1,  Average loss: 0.0105, Accuracy: 2350/2756 (85.2685%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 1.4680, Accuracy: 5172/10000 (51.7200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  64, local model 8, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2735/3437 (79.5752%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 1.0976, Accuracy: 6656/10000 (66.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  64, local model 9, internal_epoch   1,  Average loss: 0.0084, Accuracy: 5172/5809 (89.0343%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 2.3627, Accuracy: 4171/10000 (41.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  64, local model 10, internal_epoch   1,  Average loss: 0.0081, Accuracy: 2280/2592 (87.9630%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 1.5567, Accuracy: 5086/10000 (50.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  64, local model 11, internal_epoch   1,  Average loss: 0.0154, Accuracy: 1959/2510 (78.0478%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 1.0105, Accuracy: 6679/10000 (66.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  64, local model 12, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4070/4373 (93.0711%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 2.3735, Accuracy: 3481/10000 (34.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  64, local model 13, internal_epoch   1,  Average loss: 0.0082, Accuracy: 3884/4339 (89.5137%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 1.8288, Accuracy: 5119/10000 (51.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  64, local model 14, internal_epoch   1,  Average loss: 0.0130, Accuracy: 2238/2782 (80.4457%)
___Test Local_Simple poisoned: False, epoch: 64: Average loss: 1.8258, Accuracy: 4889/10000 (48.8900%), Attack Success Rate:0/10000(0.000)
time spent on training: 383.328982591629
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         1.         0.
 1.         1.         0.33495947]
___Test Target_Simple poisoned: False, epoch: 64: Average loss: 1.4771, Accuracy: 4914/10000 (49.1400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 64: Average loss: 1.5564, Accuracy: 4210/8991 (46.8246%)
Done in 391.4404265880585 sec.
Server Epoch:65 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  65, local model 0, internal_epoch   1,  Average loss: 0.0155, Accuracy: 2343/3010 (77.8405%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 1.3096, Accuracy: 6607/10000 (66.0700%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 1, internal_epoch   1,  Average loss: 0.0077, Accuracy: 5171/5805 (89.0784%), train_poison_data_count: 5805
Global model norm: 2.766097637243383.
Norm before scaling: 3.757024670533852. Distance: 2.1101587040592795
Total norm for 5 adversaries is: 3.757024670533852. distance: 2.1101587040592795
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 1.7254, Accuracy: 4786/8991 (53.2310%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 2, internal_epoch   1,  Average loss: 0.0121, Accuracy: 3952/4779 (82.6951%), train_poison_data_count: 4779
Global model norm: 2.766097637243383.
Norm before scaling: 3.940733535566677. Distance: 2.141601785154457
Total norm for 5 adversaries is: 3.940733535566677. distance: 2.141601785154457
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 0.7531, Accuracy: 6686/8991 (74.3633%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 3, internal_epoch   1,  Average loss: 0.0112, Accuracy: 4391/5123 (85.7115%), train_poison_data_count: 5123
Global model norm: 2.766097637243383.
Norm before scaling: 3.9662064939866526. Distance: 2.236373647701244
Total norm for 5 adversaries is: 3.9662064939866526. distance: 2.236373647701244
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 1.0263, Accuracy: 6604/8991 (73.4512%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 4, internal_epoch   1,  Average loss: 0.0122, Accuracy: 3678/4462 (82.4294%), train_poison_data_count: 4462
Global model norm: 2.766097637243383.
Norm before scaling: 3.759041123376589. Distance: 1.7549474127952198
Total norm for 5 adversaries is: 3.759041123376589. distance: 1.7549474127952198
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 1.1071, Accuracy: 5758/8991 (64.0418%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  65, local model 5, internal_epoch   1,  Average loss: 0.0103, Accuracy: 3302/3841 (85.9672%), train_poison_data_count: 3841
Global model norm: 2.766097637243383.
Norm before scaling: 3.639340153507183. Distance: 1.7263185492736512
Total norm for 5 adversaries is: 3.639340153507183. distance: 1.7263185492736512
___Test Local_Simple poisoned: True, epoch: 65: Average loss: 1.5278, Accuracy: 5832/8991 (64.8649%)
___Train Local_Simple,  epoch  65, local model 6, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2288/2945 (77.6910%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 1.2659, Accuracy: 5617/10000 (56.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 7, internal_epoch   1,  Average loss: 0.0104, Accuracy: 2358/2756 (85.5588%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 1.5543, Accuracy: 4869/10000 (48.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 8, internal_epoch   1,  Average loss: 0.0146, Accuracy: 2717/3437 (79.0515%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 1.0731, Accuracy: 6668/10000 (66.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 9, internal_epoch   1,  Average loss: 0.0082, Accuracy: 5196/5809 (89.4474%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 2.4520, Accuracy: 3916/10000 (39.1600%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  65, local model 10, internal_epoch   1,  Average loss: 0.0080, Accuracy: 2286/2592 (88.1944%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 1.5434, Accuracy: 5074/10000 (50.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 11, internal_epoch   1,  Average loss: 0.0152, Accuracy: 1981/2510 (78.9243%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 1.0442, Accuracy: 6658/10000 (66.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 12, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4067/4373 (93.0025%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 2.3378, Accuracy: 3481/10000 (34.8100%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  65, local model 13, internal_epoch   1,  Average loss: 0.0082, Accuracy: 3881/4339 (89.4446%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 1.7998, Accuracy: 5110/10000 (51.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  65, local model 14, internal_epoch   1,  Average loss: 0.0125, Accuracy: 2270/2782 (81.5960%)
___Test Local_Simple poisoned: False, epoch: 65: Average loss: 1.8389, Accuracy: 4846/10000 (48.4600%), Attack Success Rate:0/10000(0.000)
time spent on training: 391.88549995422363
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.81178751 0.
 1.         1.         0.34279705]
___Test Target_Simple poisoned: False, epoch: 65: Average loss: 1.4698, Accuracy: 4937/10000 (49.3700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 65: Average loss: 1.5496, Accuracy: 4221/8991 (46.9469%)
Done in 400.0796468257904 sec.
Server Epoch:66 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  66, local model 0, internal_epoch   1,  Average loss: 0.0153, Accuracy: 2349/3010 (78.0399%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 1.2811, Accuracy: 6758/10000 (67.5800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 1, internal_epoch   1,  Average loss: 0.0078, Accuracy: 5176/5805 (89.1645%), train_poison_data_count: 5805
Global model norm: 2.784040958048446.
Norm before scaling: 3.767667983878511. Distance: 2.1084624400458227
Total norm for 5 adversaries is: 3.767667983878511. distance: 2.1084624400458227
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 1.7360, Accuracy: 4739/8991 (52.7083%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 2, internal_epoch   1,  Average loss: 0.0122, Accuracy: 3954/4779 (82.7370%), train_poison_data_count: 4779
Global model norm: 2.784040958048446.
Norm before scaling: 3.958009740084036. Distance: 2.156304621350182
Total norm for 5 adversaries is: 3.958009740084036. distance: 2.156304621350182
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 0.7575, Accuracy: 6702/8991 (74.5412%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 3, internal_epoch   1,  Average loss: 0.0110, Accuracy: 4396/5123 (85.8091%), train_poison_data_count: 5123
Global model norm: 2.784040958048446.
Norm before scaling: 3.9656280493517877. Distance: 2.209949178154474
Total norm for 5 adversaries is: 3.9656280493517877. distance: 2.209949178154474
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 1.0038, Accuracy: 6700/8991 (74.5190%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 4, internal_epoch   1,  Average loss: 0.0120, Accuracy: 3684/4462 (82.5639%), train_poison_data_count: 4462
Global model norm: 2.784040958048446.
Norm before scaling: 3.762272398898786. Distance: 1.744727434332978
Total norm for 5 adversaries is: 3.762272398898786. distance: 1.744727434332978
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 1.0480, Accuracy: 5978/8991 (66.4887%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  66, local model 5, internal_epoch   1,  Average loss: 0.0103, Accuracy: 3303/3841 (85.9932%), train_poison_data_count: 3841
Global model norm: 2.784040958048446.
Norm before scaling: 3.65428004217629. Distance: 1.7272005585145247
Total norm for 5 adversaries is: 3.65428004217629. distance: 1.7272005585145247
___Test Local_Simple poisoned: True, epoch: 66: Average loss: 1.5414, Accuracy: 5793/8991 (64.4311%)
___Train Local_Simple,  epoch  66, local model 6, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2312/2945 (78.5059%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 1.2494, Accuracy: 5744/10000 (57.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  66, local model 7, internal_epoch   1,  Average loss: 0.0106, Accuracy: 2357/2756 (85.5225%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 1.4444, Accuracy: 5276/10000 (52.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  66, local model 8, internal_epoch   1,  Average loss: 0.0142, Accuracy: 2739/3437 (79.6916%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 1.0843, Accuracy: 6626/10000 (66.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  66, local model 9, internal_epoch   1,  Average loss: 0.0081, Accuracy: 5180/5809 (89.1720%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 2.4769, Accuracy: 3922/10000 (39.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  66, local model 10, internal_epoch   1,  Average loss: 0.0079, Accuracy: 2270/2592 (87.5772%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 1.5453, Accuracy: 5195/10000 (51.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  66, local model 11, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1978/2510 (78.8048%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 1.0310, Accuracy: 6627/10000 (66.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  66, local model 12, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4060/4373 (92.8424%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 2.3594, Accuracy: 3488/10000 (34.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  66, local model 13, internal_epoch   1,  Average loss: 0.0080, Accuracy: 3899/4339 (89.8594%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 1.8646, Accuracy: 4987/10000 (49.8700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  66, local model 14, internal_epoch   1,  Average loss: 0.0129, Accuracy: 2225/2782 (79.9784%)
___Test Local_Simple poisoned: False, epoch: 66: Average loss: 1.7086, Accuracy: 5289/10000 (52.8900%), Attack Success Rate:0/10000(0.000)
time spent on training: 394.1431739330292
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.97622583 0.
 1.         1.         0.18828625]
___Test Target_Simple poisoned: False, epoch: 66: Average loss: 1.4637, Accuracy: 4972/10000 (49.7200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 66: Average loss: 1.5445, Accuracy: 4242/8991 (47.1805%)
Done in 402.2277150154114 sec.
Server Epoch:67 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  67, local model 0, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2372/3010 (78.8040%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 1.2931, Accuracy: 6662/10000 (66.6200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 1, internal_epoch   1,  Average loss: 0.0077, Accuracy: 5172/5805 (89.0956%), train_poison_data_count: 5805
Global model norm: 2.8017912550559436.
Norm before scaling: 3.7461633765280626. Distance: 2.0618782262207396
Total norm for 5 adversaries is: 3.7461633765280626. distance: 2.0618782262207396
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 1.6818, Accuracy: 4834/8991 (53.7649%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 2, internal_epoch   1,  Average loss: 0.0121, Accuracy: 3951/4779 (82.6742%), train_poison_data_count: 4779
Global model norm: 2.8017912550559436.
Norm before scaling: 3.9543878400318917. Distance: 2.134543921291527
Total norm for 5 adversaries is: 3.9543878400318917. distance: 2.134543921291527
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 0.7393, Accuracy: 6758/8991 (75.1641%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 3, internal_epoch   1,  Average loss: 0.0111, Accuracy: 4392/5123 (85.7310%), train_poison_data_count: 5123
Global model norm: 2.8017912550559436.
Norm before scaling: 3.9928452160854793. Distance: 2.2394933164973345
Total norm for 5 adversaries is: 3.9928452160854793. distance: 2.2394933164973345
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 1.0481, Accuracy: 6548/8991 (72.8284%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 4, internal_epoch   1,  Average loss: 0.0121, Accuracy: 3680/4462 (82.4742%), train_poison_data_count: 4462
Global model norm: 2.8017912550559436.
Norm before scaling: 3.7789386589359304. Distance: 1.7394313479366095
Total norm for 5 adversaries is: 3.7789386589359304. distance: 1.7394313479366095
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 1.0310, Accuracy: 6116/8991 (68.0236%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  67, local model 5, internal_epoch   1,  Average loss: 0.0103, Accuracy: 3294/3841 (85.7589%), train_poison_data_count: 3841
Global model norm: 2.8017912550559436.
Norm before scaling: 3.662370433403383. Distance: 1.7153114602114792
Total norm for 5 adversaries is: 3.662370433403383. distance: 1.7153114602114792
___Test Local_Simple poisoned: True, epoch: 67: Average loss: 1.4972, Accuracy: 5870/8991 (65.2875%)
___Train Local_Simple,  epoch  67, local model 6, internal_epoch   1,  Average loss: 0.0142, Accuracy: 2294/2945 (77.8947%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 1.2676, Accuracy: 5565/10000 (55.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 7, internal_epoch   1,  Average loss: 0.0103, Accuracy: 2360/2756 (85.6313%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 1.4151, Accuracy: 5246/10000 (52.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 8, internal_epoch   1,  Average loss: 0.0144, Accuracy: 2719/3437 (79.1097%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 1.0899, Accuracy: 6561/10000 (65.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 9, internal_epoch   1,  Average loss: 0.0081, Accuracy: 5185/5809 (89.2580%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 2.4687, Accuracy: 3915/10000 (39.1500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 10, internal_epoch   1,  Average loss: 0.0080, Accuracy: 2274/2592 (87.7315%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 1.5025, Accuracy: 5396/10000 (53.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 11, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1997/2510 (79.5618%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 1.0364, Accuracy: 6667/10000 (66.6700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 12, internal_epoch   1,  Average loss: 0.0055, Accuracy: 4063/4373 (92.9110%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 2.3061, Accuracy: 3456/10000 (34.5600%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  67, local model 13, internal_epoch   1,  Average loss: 0.0080, Accuracy: 3898/4339 (89.8364%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 1.8429, Accuracy: 5046/10000 (50.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  67, local model 14, internal_epoch   1,  Average loss: 0.0127, Accuracy: 2259/2782 (81.2006%)
___Test Local_Simple poisoned: False, epoch: 67: Average loss: 1.8092, Accuracy: 4995/10000 (49.9500%), Attack Success Rate:0/10000(0.000)
time spent on training: 403.3397274017334
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.75858083 0.
 1.         1.         0.004185  ]
___Test Target_Simple poisoned: False, epoch: 67: Average loss: 1.4606, Accuracy: 4987/10000 (49.8700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 67: Average loss: 1.5424, Accuracy: 4254/8991 (47.3140%)
Done in 411.491916179657 sec.
Server Epoch:68 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  68, local model 0, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2364/3010 (78.5382%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 1.2937, Accuracy: 6604/10000 (66.0400%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 1, internal_epoch   1,  Average loss: 0.0078, Accuracy: 5182/5805 (89.2679%), train_poison_data_count: 5805
Global model norm: 2.818377816608497.
Norm before scaling: 3.758734132043742. Distance: 2.0582555388088015
Total norm for 5 adversaries is: 3.758734132043742. distance: 2.0582555388088015
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 1.6574, Accuracy: 4880/8991 (54.2765%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 2, internal_epoch   1,  Average loss: 0.0120, Accuracy: 3974/4779 (83.1555%), train_poison_data_count: 4779
Global model norm: 2.818377816608497.
Norm before scaling: 3.9663875486974796. Distance: 2.1299630717985094
Total norm for 5 adversaries is: 3.9663875486974796. distance: 2.1299630717985094
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 0.7529, Accuracy: 6752/8991 (75.0973%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 3, internal_epoch   1,  Average loss: 0.0110, Accuracy: 4398/5123 (85.8481%), train_poison_data_count: 5123
Global model norm: 2.818377816608497.
Norm before scaling: 3.9982635782211977. Distance: 2.2353438830962453
Total norm for 5 adversaries is: 3.9982635782211977. distance: 2.2353438830962453
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 1.0772, Accuracy: 6510/8991 (72.4057%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 4, internal_epoch   1,  Average loss: 0.0121, Accuracy: 3662/4462 (82.0708%), train_poison_data_count: 4462
Global model norm: 2.818377816608497.
Norm before scaling: 3.7912059266458824. Distance: 1.7478267254004116
Total norm for 5 adversaries is: 3.7912059266458824. distance: 1.7478267254004116
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 1.0689, Accuracy: 5877/8991 (65.3654%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  68, local model 5, internal_epoch   1,  Average loss: 0.0102, Accuracy: 3322/3841 (86.4879%), train_poison_data_count: 3841
Global model norm: 2.818377816608497.
Norm before scaling: 3.675018653043781. Distance: 1.7221775903695287
Total norm for 5 adversaries is: 3.675018653043781. distance: 1.7221775903695287
___Test Local_Simple poisoned: True, epoch: 68: Average loss: 1.5192, Accuracy: 5825/8991 (64.7870%)
___Train Local_Simple,  epoch  68, local model 6, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2284/2945 (77.5552%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 1.2385, Accuracy: 5758/10000 (57.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  68, local model 7, internal_epoch   1,  Average loss: 0.0105, Accuracy: 2361/2756 (85.6676%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 1.4842, Accuracy: 5096/10000 (50.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  68, local model 8, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2720/3437 (79.1388%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 1.0587, Accuracy: 6693/10000 (66.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  68, local model 9, internal_epoch   1,  Average loss: 0.0080, Accuracy: 5193/5809 (89.3958%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 2.3960, Accuracy: 4097/10000 (40.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  68, local model 10, internal_epoch   1,  Average loss: 0.0080, Accuracy: 2270/2592 (87.5772%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 1.5104, Accuracy: 5411/10000 (54.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  68, local model 11, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1978/2510 (78.8048%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 0.9832, Accuracy: 6830/10000 (68.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  68, local model 12, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4047/4373 (92.5452%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 2.3080, Accuracy: 3507/10000 (35.0700%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  68, local model 13, internal_epoch   1,  Average loss: 0.0081, Accuracy: 3870/4339 (89.1911%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 1.7854, Accuracy: 5111/10000 (51.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  68, local model 14, internal_epoch   1,  Average loss: 0.0124, Accuracy: 2270/2782 (81.5960%)
___Test Local_Simple poisoned: False, epoch: 68: Average loss: 1.7341, Accuracy: 5174/10000 (51.7400%), Attack Success Rate:0/10000(0.000)
time spent on training: 405.8010711669922
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.65124472 0.
 1.         1.         0.29866215]
___Test Target_Simple poisoned: False, epoch: 68: Average loss: 1.4555, Accuracy: 5014/10000 (50.1400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 68: Average loss: 1.5377, Accuracy: 4278/8991 (47.5809%)
Done in 413.7660448551178 sec.
Server Epoch:69 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  69, local model 0, internal_epoch   1,  Average loss: 0.0151, Accuracy: 2360/3010 (78.4053%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 1.2766, Accuracy: 6642/10000 (66.4200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 1, internal_epoch   1,  Average loss: 0.0078, Accuracy: 5179/5805 (89.2162%), train_poison_data_count: 5805
Global model norm: 2.835520648007325.
Norm before scaling: 3.7628045500623886. Distance: 2.0552736323855987
Total norm for 5 adversaries is: 3.7628045500623886. distance: 2.0552736323855987
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 1.7038, Accuracy: 4776/8991 (53.1198%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 2, internal_epoch   1,  Average loss: 0.0121, Accuracy: 3932/4779 (82.2766%), train_poison_data_count: 4779
Global model norm: 2.835520648007325.
Norm before scaling: 3.9873190381354537. Distance: 2.1225055190375186
Total norm for 5 adversaries is: 3.9873190381354537. distance: 2.1225055190375186
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 0.7466, Accuracy: 6759/8991 (75.1752%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 3, internal_epoch   1,  Average loss: 0.0111, Accuracy: 4399/5123 (85.8677%), train_poison_data_count: 5123
Global model norm: 2.835520648007325.
Norm before scaling: 4.01274629116285. Distance: 2.233205742773577
Total norm for 5 adversaries is: 4.01274629116285. distance: 2.233205742773577
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 1.0422, Accuracy: 6544/8991 (72.7839%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 4, internal_epoch   1,  Average loss: 0.0121, Accuracy: 3689/4462 (82.6759%), train_poison_data_count: 4462
Global model norm: 2.835520648007325.
Norm before scaling: 3.7859290311421865. Distance: 1.7225082922128252
Total norm for 5 adversaries is: 3.7859290311421865. distance: 1.7225082922128252
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 1.0635, Accuracy: 5874/8991 (65.3320%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  69, local model 5, internal_epoch   1,  Average loss: 0.0103, Accuracy: 3310/3841 (86.1755%), train_poison_data_count: 3841
Global model norm: 2.835520648007325.
Norm before scaling: 3.67290803703092. Distance: 1.6821527886321679
Total norm for 5 adversaries is: 3.67290803703092. distance: 1.6821527886321679
___Test Local_Simple poisoned: True, epoch: 69: Average loss: 1.4961, Accuracy: 5890/8991 (65.5100%)
___Train Local_Simple,  epoch  69, local model 6, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2310/2945 (78.4380%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 1.2093, Accuracy: 5883/10000 (58.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 7, internal_epoch   1,  Average loss: 0.0106, Accuracy: 2361/2756 (85.6676%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 1.4275, Accuracy: 5314/10000 (53.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 8, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2745/3437 (79.8662%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 1.0832, Accuracy: 6599/10000 (65.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 9, internal_epoch   1,  Average loss: 0.0080, Accuracy: 5193/5809 (89.3958%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 2.4836, Accuracy: 3908/10000 (39.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 10, internal_epoch   1,  Average loss: 0.0077, Accuracy: 2281/2592 (88.0015%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 1.4609, Accuracy: 5558/10000 (55.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 11, internal_epoch   1,  Average loss: 0.0156, Accuracy: 1976/2510 (78.7251%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 0.9679, Accuracy: 6864/10000 (68.6400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 12, internal_epoch   1,  Average loss: 0.0054, Accuracy: 4071/4373 (93.0940%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 2.3056, Accuracy: 3494/10000 (34.9400%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  69, local model 13, internal_epoch   1,  Average loss: 0.0080, Accuracy: 3888/4339 (89.6059%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 1.8338, Accuracy: 5048/10000 (50.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  69, local model 14, internal_epoch   1,  Average loss: 0.0126, Accuracy: 2274/2782 (81.7398%)
___Test Local_Simple poisoned: False, epoch: 69: Average loss: 1.6912, Accuracy: 5267/10000 (52.6700%), Attack Success Rate:0/10000(0.000)
time spent on training: 411.30357670783997
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.46958143 0.
 1.         1.         0.30376178]
___Test Target_Simple poisoned: False, epoch: 69: Average loss: 1.4527, Accuracy: 5027/10000 (50.2700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 69: Average loss: 1.5352, Accuracy: 4288/8991 (47.6921%)
Done in 419.3964624404907 sec.
Server Epoch:70 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  70, local model 0, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2368/3010 (78.6711%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 1.2668, Accuracy: 6704/10000 (67.0400%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 1, internal_epoch   1,  Average loss: 0.0076, Accuracy: 5188/5805 (89.3712%), train_poison_data_count: 5805
Global model norm: 2.8522333061591705.
Norm before scaling: 3.8037610815853946. Distance: 2.097245671672404
Total norm for 5 adversaries is: 3.8037610815853946. distance: 2.097245671672404
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 1.7826, Accuracy: 4702/8991 (52.2967%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 2, internal_epoch   1,  Average loss: 0.0121, Accuracy: 3986/4779 (83.4066%), train_poison_data_count: 4779
Global model norm: 2.8522333061591705.
Norm before scaling: 3.986983698122459. Distance: 2.1008445903270188
Total norm for 5 adversaries is: 3.986983698122459. distance: 2.1008445903270188
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 0.7220, Accuracy: 6851/8991 (76.1984%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 3, internal_epoch   1,  Average loss: 0.0110, Accuracy: 4397/5123 (85.8286%), train_poison_data_count: 5123
Global model norm: 2.8522333061591705.
Norm before scaling: 4.016859525321615. Distance: 2.2277224012464796
Total norm for 5 adversaries is: 4.016859525321615. distance: 2.2277224012464796
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 1.0487, Accuracy: 6528/8991 (72.6059%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 4, internal_epoch   1,  Average loss: 0.0120, Accuracy: 3688/4462 (82.6535%), train_poison_data_count: 4462
Global model norm: 2.8522333061591705.
Norm before scaling: 3.8103008493905324. Distance: 1.726018828672788
Total norm for 5 adversaries is: 3.8103008493905324. distance: 1.726018828672788
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 1.0822, Accuracy: 5888/8991 (65.4877%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  70, local model 5, internal_epoch   1,  Average loss: 0.0101, Accuracy: 3314/3841 (86.2796%), train_poison_data_count: 3841
Global model norm: 2.8522333061591705.
Norm before scaling: 3.6753784348144505. Distance: 1.6846532475055676
Total norm for 5 adversaries is: 3.6753784348144505. distance: 1.6846532475055676
___Test Local_Simple poisoned: True, epoch: 70: Average loss: 1.4931, Accuracy: 5830/8991 (64.8426%)
___Train Local_Simple,  epoch  70, local model 6, internal_epoch   1,  Average loss: 0.0136, Accuracy: 2316/2945 (78.6418%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 1.2430, Accuracy: 5701/10000 (57.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 7, internal_epoch   1,  Average loss: 0.0100, Accuracy: 2365/2756 (85.8128%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 1.4022, Accuracy: 5320/10000 (53.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 8, internal_epoch   1,  Average loss: 0.0142, Accuracy: 2721/3437 (79.1679%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 1.0887, Accuracy: 6546/10000 (65.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 9, internal_epoch   1,  Average loss: 0.0080, Accuracy: 5217/5809 (89.8089%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 2.3523, Accuracy: 4070/10000 (40.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 10, internal_epoch   1,  Average loss: 0.0080, Accuracy: 2271/2592 (87.6157%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 1.5092, Accuracy: 5245/10000 (52.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 11, internal_epoch   1,  Average loss: 0.0150, Accuracy: 1976/2510 (78.7251%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 0.9802, Accuracy: 6835/10000 (68.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 12, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4063/4373 (92.9110%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 2.2699, Accuracy: 3512/10000 (35.1200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  70, local model 13, internal_epoch   1,  Average loss: 0.0081, Accuracy: 3880/4339 (89.4215%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 1.7435, Accuracy: 5171/10000 (51.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  70, local model 14, internal_epoch   1,  Average loss: 0.0126, Accuracy: 2272/2782 (81.6679%)
___Test Local_Simple poisoned: False, epoch: 70: Average loss: 1.7121, Accuracy: 5240/10000 (52.4000%), Attack Success Rate:0/10000(0.000)
time spent on training: 419.2331688404083
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.91592633 0.
 1.         1.         0.29314433]
___Test Target_Simple poisoned: False, epoch: 70: Average loss: 1.4460, Accuracy: 5061/10000 (50.6100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 70: Average loss: 1.5291, Accuracy: 4310/8991 (47.9368%)
Done in 427.4358057975769 sec.
Server Epoch:71 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  71, local model 0, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2358/3010 (78.3389%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 1.2804, Accuracy: 6635/10000 (66.3500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 1, internal_epoch   1,  Average loss: 0.0078, Accuracy: 5189/5805 (89.3885%), train_poison_data_count: 5805
Global model norm: 2.869753985610482.
Norm before scaling: 3.805700899552279. Distance: 2.0612600818801563
Total norm for 5 adversaries is: 3.805700899552279. distance: 2.0612600818801563
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 1.6951, Accuracy: 4794/8991 (53.3200%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 2, internal_epoch   1,  Average loss: 0.0120, Accuracy: 3957/4779 (82.7997%), train_poison_data_count: 4779
Global model norm: 2.869753985610482.
Norm before scaling: 4.006962914794334. Distance: 2.1193484156118814
Total norm for 5 adversaries is: 4.006962914794334. distance: 2.1193484156118814
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 0.7832, Accuracy: 6562/8991 (72.9841%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 3, internal_epoch   1,  Average loss: 0.0110, Accuracy: 4396/5123 (85.8091%), train_poison_data_count: 5123
Global model norm: 2.869753985610482.
Norm before scaling: 4.022563476440996. Distance: 2.2092580718484074
Total norm for 5 adversaries is: 4.022563476440996. distance: 2.2092580718484074
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 1.0511, Accuracy: 6606/8991 (73.4735%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 4, internal_epoch   1,  Average loss: 0.0120, Accuracy: 3699/4462 (82.9000%), train_poison_data_count: 4462
Global model norm: 2.869753985610482.
Norm before scaling: 3.8252831946360573. Distance: 1.7297263178135271
Total norm for 5 adversaries is: 3.8252831946360573. distance: 1.7297263178135271
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 1.0662, Accuracy: 5824/8991 (64.7759%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  71, local model 5, internal_epoch   1,  Average loss: 0.0102, Accuracy: 3303/3841 (85.9932%), train_poison_data_count: 3841
Global model norm: 2.869753985610482.
Norm before scaling: 3.6897480464609376. Distance: 1.6675220757986255
Total norm for 5 adversaries is: 3.6897480464609376. distance: 1.6675220757986255
___Test Local_Simple poisoned: True, epoch: 71: Average loss: 1.4906, Accuracy: 5834/8991 (64.8871%)
___Train Local_Simple,  epoch  71, local model 6, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2294/2945 (77.8947%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 1.2103, Accuracy: 5804/10000 (58.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 7, internal_epoch   1,  Average loss: 0.0103, Accuracy: 2375/2756 (86.1756%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 1.4127, Accuracy: 5289/10000 (52.8900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 8, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2719/3437 (79.1097%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 1.0626, Accuracy: 6677/10000 (66.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 9, internal_epoch   1,  Average loss: 0.0080, Accuracy: 5212/5809 (89.7228%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 2.3456, Accuracy: 4180/10000 (41.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 10, internal_epoch   1,  Average loss: 0.0081, Accuracy: 2271/2592 (87.6157%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 1.4208, Accuracy: 5725/10000 (57.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 11, internal_epoch   1,  Average loss: 0.0149, Accuracy: 1977/2510 (78.7649%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 1.0004, Accuracy: 6792/10000 (67.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 12, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4071/4373 (93.0940%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 2.2885, Accuracy: 3511/10000 (35.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 13, internal_epoch   1,  Average loss: 0.0080, Accuracy: 3897/4339 (89.8133%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 1.7317, Accuracy: 5206/10000 (52.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  71, local model 14, internal_epoch   1,  Average loss: 0.0125, Accuracy: 2262/2782 (81.3084%)
___Test Local_Simple poisoned: False, epoch: 71: Average loss: 1.6677, Accuracy: 5354/10000 (53.5400%), Attack Success Rate:0/10000(0.000)
time spent on training: 424.40623807907104
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.6825706  0.
 1.         1.         0.35996117]
___Test Target_Simple poisoned: False, epoch: 71: Average loss: 1.4408, Accuracy: 5083/10000 (50.8300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 71: Average loss: 1.5234, Accuracy: 4338/8991 (48.2482%)
Done in 432.5032248497009 sec.
Server Epoch:72 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  72, local model 0, internal_epoch   1,  Average loss: 0.0150, Accuracy: 2359/3010 (78.3721%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 1.2435, Accuracy: 6771/10000 (67.7100%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 1, internal_epoch   1,  Average loss: 0.0077, Accuracy: 5179/5805 (89.2162%), train_poison_data_count: 5805
Global model norm: 2.8868441212520835.
Norm before scaling: 3.799990784483326. Distance: 2.0508586759937715
Total norm for 5 adversaries is: 3.799990784483326. distance: 2.0508586759937715
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 1.7238, Accuracy: 4733/8991 (52.6415%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 2, internal_epoch   1,  Average loss: 0.0119, Accuracy: 3963/4779 (82.9253%), train_poison_data_count: 4779
Global model norm: 2.8868441212520835.
Norm before scaling: 3.989542045412819. Distance: 2.0873488320078115
Total norm for 5 adversaries is: 3.989542045412819. distance: 2.0873488320078115
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 0.6846, Accuracy: 7019/8991 (78.0670%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 3, internal_epoch   1,  Average loss: 0.0109, Accuracy: 4411/5123 (86.1019%), train_poison_data_count: 5123
Global model norm: 2.8868441212520835.
Norm before scaling: 4.0297690340027215. Distance: 2.190667719839396
Total norm for 5 adversaries is: 4.0297690340027215. distance: 2.190667719839396
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 1.0458, Accuracy: 6550/8991 (72.8506%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 4, internal_epoch   1,  Average loss: 0.0118, Accuracy: 3686/4462 (82.6087%), train_poison_data_count: 4462
Global model norm: 2.8868441212520835.
Norm before scaling: 3.8214321874950294. Distance: 1.71326521602004
Total norm for 5 adversaries is: 3.8214321874950294. distance: 1.71326521602004
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 1.0478, Accuracy: 5911/8991 (65.7435%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  72, local model 5, internal_epoch   1,  Average loss: 0.0101, Accuracy: 3307/3841 (86.0974%), train_poison_data_count: 3841
Global model norm: 2.8868441212520835.
Norm before scaling: 3.696203789678538. Distance: 1.669944432870301
Total norm for 5 adversaries is: 3.696203789678538. distance: 1.669944432870301
___Test Local_Simple poisoned: True, epoch: 72: Average loss: 1.4916, Accuracy: 5863/8991 (65.2097%)
___Train Local_Simple,  epoch  72, local model 6, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2328/2945 (79.0492%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 1.2306, Accuracy: 5665/10000 (56.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 7, internal_epoch   1,  Average loss: 0.0102, Accuracy: 2366/2756 (85.8491%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 1.3970, Accuracy: 5344/10000 (53.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 8, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2751/3437 (80.0407%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 1.0608, Accuracy: 6641/10000 (66.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 9, internal_epoch   1,  Average loss: 0.0079, Accuracy: 5217/5809 (89.8089%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 2.4168, Accuracy: 4008/10000 (40.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 10, internal_epoch   1,  Average loss: 0.0079, Accuracy: 2278/2592 (87.8858%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 1.4864, Accuracy: 5414/10000 (54.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 11, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1979/2510 (78.8446%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 0.9667, Accuracy: 6886/10000 (68.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 12, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4054/4373 (92.7052%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 2.2935, Accuracy: 3539/10000 (35.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 13, internal_epoch   1,  Average loss: 0.0078, Accuracy: 3907/4339 (90.0438%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 1.7306, Accuracy: 5248/10000 (52.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  72, local model 14, internal_epoch   1,  Average loss: 0.0125, Accuracy: 2244/2782 (80.6614%)
___Test Local_Simple poisoned: False, epoch: 72: Average loss: 1.6385, Accuracy: 5444/10000 (54.4400%), Attack Success Rate:0/10000(0.000)
time spent on training: 426.3918123245239
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.81536283 0.
 1.         1.         0.18301955]
___Test Target_Simple poisoned: False, epoch: 72: Average loss: 1.4368, Accuracy: 5108/10000 (51.0800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 72: Average loss: 1.5198, Accuracy: 4350/8991 (48.3817%)
Done in 434.53053092956543 sec.
Server Epoch:73 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  73, local model 0, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2365/3010 (78.5714%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 1.2489, Accuracy: 6675/10000 (66.7500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 1, internal_epoch   1,  Average loss: 0.0076, Accuracy: 5195/5805 (89.4918%), train_poison_data_count: 5805
Global model norm: 2.9036847350019257.
Norm before scaling: 3.81068327096036. Distance: 2.0199414543128023
Total norm for 5 adversaries is: 3.81068327096036. distance: 2.0199414543128023
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 1.6165, Accuracy: 4879/8991 (54.2654%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 2, internal_epoch   1,  Average loss: 0.0120, Accuracy: 3968/4779 (83.0299%), train_poison_data_count: 4779
Global model norm: 2.9036847350019257.
Norm before scaling: 4.011052359529079. Distance: 2.097743197722278
Total norm for 5 adversaries is: 4.011052359529079. distance: 2.097743197722278
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 0.7813, Accuracy: 6613/8991 (73.5513%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 3, internal_epoch   1,  Average loss: 0.0110, Accuracy: 4383/5123 (85.5553%), train_poison_data_count: 5123
Global model norm: 2.9036847350019257.
Norm before scaling: 4.053294859586457. Distance: 2.2089117360335315
Total norm for 5 adversaries is: 4.053294859586457. distance: 2.2089117360335315
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 1.0228, Accuracy: 6589/8991 (73.2844%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 4, internal_epoch   1,  Average loss: 0.0117, Accuracy: 3712/4462 (83.1914%), train_poison_data_count: 4462
Global model norm: 2.9036847350019257.
Norm before scaling: 3.8277724746005437. Distance: 1.7111144649313113
Total norm for 5 adversaries is: 3.8277724746005437. distance: 1.7111144649313113
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 1.0731, Accuracy: 5904/8991 (65.6657%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  73, local model 5, internal_epoch   1,  Average loss: 0.0101, Accuracy: 3305/3841 (86.0453%), train_poison_data_count: 3841
Global model norm: 2.9036847350019257.
Norm before scaling: 3.7075456075506166. Distance: 1.6655606255607187
Total norm for 5 adversaries is: 3.7075456075506166. distance: 1.6655606255607187
___Test Local_Simple poisoned: True, epoch: 73: Average loss: 1.4555, Accuracy: 5931/8991 (65.9660%)
___Train Local_Simple,  epoch  73, local model 6, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2302/2945 (78.1664%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 1.2048, Accuracy: 5837/10000 (58.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 7, internal_epoch   1,  Average loss: 0.0104, Accuracy: 2371/2756 (86.0305%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 1.4430, Accuracy: 5154/10000 (51.5400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 8, internal_epoch   1,  Average loss: 0.0142, Accuracy: 2738/3437 (79.6625%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 1.0602, Accuracy: 6606/10000 (66.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 9, internal_epoch   1,  Average loss: 0.0079, Accuracy: 5212/5809 (89.7228%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 2.3709, Accuracy: 3988/10000 (39.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 10, internal_epoch   1,  Average loss: 0.0078, Accuracy: 2284/2592 (88.1173%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 1.4471, Accuracy: 5590/10000 (55.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 11, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1977/2510 (78.7649%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 0.9672, Accuracy: 6874/10000 (68.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 12, internal_epoch   1,  Average loss: 0.0053, Accuracy: 4081/4373 (93.3227%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 2.2069, Accuracy: 3529/10000 (35.2900%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  73, local model 13, internal_epoch   1,  Average loss: 0.0078, Accuracy: 3892/4339 (89.6981%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 1.8081, Accuracy: 5018/10000 (50.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  73, local model 14, internal_epoch   1,  Average loss: 0.0123, Accuracy: 2281/2782 (81.9914%)
___Test Local_Simple poisoned: False, epoch: 73: Average loss: 1.6908, Accuracy: 5233/10000 (52.3300%), Attack Success Rate:0/10000(0.000)
time spent on training: 434.3338191509247
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.89703811 0.
 1.         1.         0.43796292]
___Test Target_Simple poisoned: False, epoch: 73: Average loss: 1.4289, Accuracy: 5141/10000 (51.4100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 73: Average loss: 1.5122, Accuracy: 4375/8991 (48.6598%)
Done in 442.4665026664734 sec.
Server Epoch:74 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  74, local model 0, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2359/3010 (78.3721%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 1.2490, Accuracy: 6697/10000 (66.9700%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 1, internal_epoch   1,  Average loss: 0.0076, Accuracy: 5185/5805 (89.3196%), train_poison_data_count: 5805
Global model norm: 2.9211793775269053.
Norm before scaling: 3.819095097758454. Distance: 2.037284923973619
Total norm for 5 adversaries is: 3.819095097758454. distance: 2.037284923973619
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 1.6897, Accuracy: 4784/8991 (53.2088%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 2, internal_epoch   1,  Average loss: 0.0119, Accuracy: 3972/4779 (83.1136%), train_poison_data_count: 4779
Global model norm: 2.9211793775269053.
Norm before scaling: 4.029876001689042. Distance: 2.084776022793831
Total norm for 5 adversaries is: 4.029876001689042. distance: 2.084776022793831
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 0.7828, Accuracy: 6663/8991 (74.1074%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 3, internal_epoch   1,  Average loss: 0.0109, Accuracy: 4389/5123 (85.6725%), train_poison_data_count: 5123
Global model norm: 2.9211793775269053.
Norm before scaling: 4.030800254632946. Distance: 2.161874594686999
Total norm for 5 adversaries is: 4.030800254632946. distance: 2.161874594686999
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 0.9853, Accuracy: 6686/8991 (74.3633%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 4, internal_epoch   1,  Average loss: 0.0118, Accuracy: 3703/4462 (82.9897%), train_poison_data_count: 4462
Global model norm: 2.9211793775269053.
Norm before scaling: 3.833036176248559. Distance: 1.69452448518633
Total norm for 5 adversaries is: 3.833036176248559. distance: 1.69452448518633
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 1.0167, Accuracy: 6035/8991 (67.1227%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  74, local model 5, internal_epoch   1,  Average loss: 0.0100, Accuracy: 3319/3841 (86.4098%), train_poison_data_count: 3841
Global model norm: 2.9211793775269053.
Norm before scaling: 3.7149939281059745. Distance: 1.6525237434054982
Total norm for 5 adversaries is: 3.7149939281059745. distance: 1.6525237434054982
___Test Local_Simple poisoned: True, epoch: 74: Average loss: 1.4692, Accuracy: 5900/8991 (65.6212%)
___Train Local_Simple,  epoch  74, local model 6, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2295/2945 (77.9287%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 1.2055, Accuracy: 5861/10000 (58.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 7, internal_epoch   1,  Average loss: 0.0101, Accuracy: 2373/2756 (86.1030%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 1.3623, Accuracy: 5378/10000 (53.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 8, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2770/3437 (80.5935%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 1.0611, Accuracy: 6736/10000 (67.3600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 9, internal_epoch   1,  Average loss: 0.0079, Accuracy: 5216/5809 (89.7917%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 2.4127, Accuracy: 3981/10000 (39.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 10, internal_epoch   1,  Average loss: 0.0080, Accuracy: 2275/2592 (87.7701%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 1.4013, Accuracy: 5849/10000 (58.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 11, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1976/2510 (78.7251%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 0.9447, Accuracy: 6941/10000 (69.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 12, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4067/4373 (93.0025%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 2.2159, Accuracy: 3517/10000 (35.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 13, internal_epoch   1,  Average loss: 0.0079, Accuracy: 3908/4339 (90.0668%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 1.7743, Accuracy: 5154/10000 (51.5400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  74, local model 14, internal_epoch   1,  Average loss: 0.0124, Accuracy: 2256/2782 (81.0927%)
___Test Local_Simple poisoned: False, epoch: 74: Average loss: 1.7238, Accuracy: 5144/10000 (51.4400%), Attack Success Rate:0/10000(0.000)
time spent on training: 441.1909303665161
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.49852404 0.
 1.         1.         0.25213552]
___Test Target_Simple poisoned: False, epoch: 74: Average loss: 1.4263, Accuracy: 5155/10000 (51.5500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 74: Average loss: 1.5099, Accuracy: 4385/8991 (48.7710%)
Done in 449.34835982322693 sec.
Server Epoch:75 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  75, local model 0, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2364/3010 (78.5382%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 1.2405, Accuracy: 6670/10000 (66.7000%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 1, internal_epoch   1,  Average loss: 0.0076, Accuracy: 5172/5805 (89.0956%), train_poison_data_count: 5805
Global model norm: 2.937175651661953.
Norm before scaling: 3.8294951808892645. Distance: 2.016661030259676
Total norm for 5 adversaries is: 3.8294951808892645. distance: 2.016661030259676
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 1.6001, Accuracy: 4934/8991 (54.8771%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 2, internal_epoch   1,  Average loss: 0.0116, Accuracy: 4016/4779 (84.0343%), train_poison_data_count: 4779
Global model norm: 2.937175651661953.
Norm before scaling: 4.029355572463878. Distance: 2.068893464521918
Total norm for 5 adversaries is: 4.029355572463878. distance: 2.068893464521918
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 0.7686, Accuracy: 6658/8991 (74.0518%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 3, internal_epoch   1,  Average loss: 0.0108, Accuracy: 4400/5123 (85.8872%), train_poison_data_count: 5123
Global model norm: 2.937175651661953.
Norm before scaling: 4.0547545322764735. Distance: 2.1746513131046195
Total norm for 5 adversaries is: 4.0547545322764735. distance: 2.1746513131046195
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 1.0057, Accuracy: 6635/8991 (73.7960%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 4, internal_epoch   1,  Average loss: 0.0119, Accuracy: 3686/4462 (82.6087%), train_poison_data_count: 4462
Global model norm: 2.937175651661953.
Norm before scaling: 3.8581574407462234. Distance: 1.6890863803301106
Total norm for 5 adversaries is: 3.8581574407462234. distance: 1.6890863803301106
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 1.0689, Accuracy: 5860/8991 (65.1763%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  75, local model 5, internal_epoch   1,  Average loss: 0.0099, Accuracy: 3309/3841 (86.1494%), train_poison_data_count: 3841
Global model norm: 2.937175651661953.
Norm before scaling: 3.7159186090809317. Distance: 1.6543844260655907
Total norm for 5 adversaries is: 3.7159186090809317. distance: 1.6543844260655907
___Test Local_Simple poisoned: True, epoch: 75: Average loss: 1.4577, Accuracy: 5920/8991 (65.8436%)
___Train Local_Simple,  epoch  75, local model 6, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2325/2945 (78.9474%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 1.2125, Accuracy: 5741/10000 (57.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  75, local model 7, internal_epoch   1,  Average loss: 0.0099, Accuracy: 2365/2756 (85.8128%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 1.3793, Accuracy: 5343/10000 (53.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  75, local model 8, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2761/3437 (80.3317%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 1.0535, Accuracy: 6695/10000 (66.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  75, local model 9, internal_epoch   1,  Average loss: 0.0079, Accuracy: 5198/5809 (89.4818%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 2.3964, Accuracy: 4098/10000 (40.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  75, local model 10, internal_epoch   1,  Average loss: 0.0077, Accuracy: 2273/2592 (87.6929%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 1.4318, Accuracy: 5690/10000 (56.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  75, local model 11, internal_epoch   1,  Average loss: 0.0146, Accuracy: 1994/2510 (79.4422%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 1.0013, Accuracy: 6802/10000 (68.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  75, local model 12, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4060/4373 (92.8424%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 2.2242, Accuracy: 3468/10000 (34.6800%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  75, local model 13, internal_epoch   1,  Average loss: 0.0078, Accuracy: 3907/4339 (90.0438%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 1.7736, Accuracy: 5085/10000 (50.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  75, local model 14, internal_epoch   1,  Average loss: 0.0124, Accuracy: 2254/2782 (81.0208%)
___Test Local_Simple poisoned: False, epoch: 75: Average loss: 1.6745, Accuracy: 5165/10000 (51.6500%), Attack Success Rate:0/10000(0.000)
time spent on training: 444.1187415122986
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.81768044 0.
 1.         1.         0.50291741]
___Test Target_Simple poisoned: False, epoch: 75: Average loss: 1.4193, Accuracy: 5181/10000 (51.8100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 75: Average loss: 1.5029, Accuracy: 4411/8991 (49.0602%)
Done in 452.35449481010437 sec.
Server Epoch:76 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  76, local model 0, internal_epoch   1,  Average loss: 0.0149, Accuracy: 2346/3010 (77.9402%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 1.2371, Accuracy: 6719/10000 (67.1900%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 1, internal_epoch   1,  Average loss: 0.0076, Accuracy: 5205/5805 (89.6641%), train_poison_data_count: 5805
Global model norm: 2.9546043283425525.
Norm before scaling: 3.835081171919943. Distance: 2.016686803018383
Total norm for 5 adversaries is: 3.835081171919943. distance: 2.016686803018383
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 1.6736, Accuracy: 4798/8991 (53.3645%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 2, internal_epoch   1,  Average loss: 0.0119, Accuracy: 3972/4779 (83.1136%), train_poison_data_count: 4779
Global model norm: 2.9546043283425525.
Norm before scaling: 4.04830141593336. Distance: 2.0863584172332215
Total norm for 5 adversaries is: 4.04830141593336. distance: 2.0863584172332215
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 0.7615, Accuracy: 6748/8991 (75.0528%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 3, internal_epoch   1,  Average loss: 0.0108, Accuracy: 4381/5123 (85.5163%), train_poison_data_count: 5123
Global model norm: 2.9546043283425525.
Norm before scaling: 4.0598361157945. Distance: 2.164828058335295
Total norm for 5 adversaries is: 4.0598361157945. distance: 2.164828058335295
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 1.0144, Accuracy: 6608/8991 (73.4957%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 4, internal_epoch   1,  Average loss: 0.0117, Accuracy: 3704/4462 (83.0121%), train_poison_data_count: 4462
Global model norm: 2.9546043283425525.
Norm before scaling: 3.849357546422862. Distance: 1.6844125690410678
Total norm for 5 adversaries is: 3.849357546422862. distance: 1.6844125690410678
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 0.9910, Accuracy: 6157/8991 (68.4796%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  76, local model 5, internal_epoch   1,  Average loss: 0.0101, Accuracy: 3311/3841 (86.2015%), train_poison_data_count: 3841
Global model norm: 2.9546043283425525.
Norm before scaling: 3.742712059765872. Distance: 1.6548050389315259
Total norm for 5 adversaries is: 3.742712059765872. distance: 1.6548050389315259
___Test Local_Simple poisoned: True, epoch: 76: Average loss: 1.4594, Accuracy: 5889/8991 (65.4988%)
___Train Local_Simple,  epoch  76, local model 6, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2311/2945 (78.4720%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 1.1743, Accuracy: 5929/10000 (59.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 7, internal_epoch   1,  Average loss: 0.0101, Accuracy: 2363/2756 (85.7402%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 1.3512, Accuracy: 5437/10000 (54.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 8, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2745/3437 (79.8662%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 1.0263, Accuracy: 6691/10000 (66.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 9, internal_epoch   1,  Average loss: 0.0078, Accuracy: 5215/5809 (89.7745%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 2.3435, Accuracy: 4150/10000 (41.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 10, internal_epoch   1,  Average loss: 0.0078, Accuracy: 2300/2592 (88.7346%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 1.4956, Accuracy: 5321/10000 (53.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 11, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1992/2510 (79.3625%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 0.9592, Accuracy: 6949/10000 (69.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 12, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4080/4373 (93.2998%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 2.2722, Accuracy: 3486/10000 (34.8600%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  76, local model 13, internal_epoch   1,  Average loss: 0.0078, Accuracy: 3903/4339 (89.9516%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 1.7789, Accuracy: 5112/10000 (51.1200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  76, local model 14, internal_epoch   1,  Average loss: 0.0125, Accuracy: 2238/2782 (80.4457%)
___Test Local_Simple poisoned: False, epoch: 76: Average loss: 1.6849, Accuracy: 5291/10000 (52.9100%), Attack Success Rate:0/10000(0.000)
time spent on training: 451.67877888679504
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.64857881 0.
 1.         1.         0.17451303]
___Test Target_Simple poisoned: False, epoch: 76: Average loss: 1.4162, Accuracy: 5206/10000 (52.0600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 76: Average loss: 1.5003, Accuracy: 4422/8991 (49.1825%)
Done in 459.8197817802429 sec.
Server Epoch:77 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  77, local model 0, internal_epoch   1,  Average loss: 0.0148, Accuracy: 2338/3010 (77.6744%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 1.2251, Accuracy: 6738/10000 (67.3800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 1, internal_epoch   1,  Average loss: 0.0076, Accuracy: 5184/5805 (89.3023%), train_poison_data_count: 5805
Global model norm: 2.97064742638654.
Norm before scaling: 3.845511800289339. Distance: 2.0067145169320475
Total norm for 5 adversaries is: 3.845511800289339. distance: 2.0067145169320475
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 1.5907, Accuracy: 4911/8991 (54.6213%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 2, internal_epoch   1,  Average loss: 0.0119, Accuracy: 3953/4779 (82.7160%), train_poison_data_count: 4779
Global model norm: 2.97064742638654.
Norm before scaling: 4.052742611060908. Distance: 2.0774226328264644
Total norm for 5 adversaries is: 4.052742611060908. distance: 2.0774226328264644
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 0.7678, Accuracy: 6709/8991 (74.6191%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 3, internal_epoch   1,  Average loss: 0.0107, Accuracy: 4420/5123 (86.2776%), train_poison_data_count: 5123
Global model norm: 2.97064742638654.
Norm before scaling: 4.065890027496838. Distance: 2.1426236366021496
Total norm for 5 adversaries is: 4.065890027496838. distance: 2.1426236366021496
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 0.9930, Accuracy: 6638/8991 (73.8294%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 4, internal_epoch   1,  Average loss: 0.0118, Accuracy: 3696/4462 (82.8328%), train_poison_data_count: 4462
Global model norm: 2.97064742638654.
Norm before scaling: 3.873440090115486. Distance: 1.6930099531580756
Total norm for 5 adversaries is: 3.873440090115486. distance: 1.6930099531580756
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 1.0185, Accuracy: 5990/8991 (66.6222%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  77, local model 5, internal_epoch   1,  Average loss: 0.0100, Accuracy: 3326/3841 (86.5920%), train_poison_data_count: 3841
Global model norm: 2.97064742638654.
Norm before scaling: 3.7530726242539996. Distance: 1.6458666673334763
Total norm for 5 adversaries is: 3.7530726242539996. distance: 1.6458666673334763
___Test Local_Simple poisoned: True, epoch: 77: Average loss: 1.4727, Accuracy: 5911/8991 (65.7435%)
___Train Local_Simple,  epoch  77, local model 6, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2333/2945 (79.2190%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 1.1776, Accuracy: 5862/10000 (58.6200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 7, internal_epoch   1,  Average loss: 0.0100, Accuracy: 2380/2756 (86.3570%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 1.3379, Accuracy: 5440/10000 (54.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 8, internal_epoch   1,  Average loss: 0.0136, Accuracy: 2779/3437 (80.8554%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 1.0586, Accuracy: 6706/10000 (67.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 9, internal_epoch   1,  Average loss: 0.0078, Accuracy: 5209/5809 (89.6712%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 2.3585, Accuracy: 4080/10000 (40.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 10, internal_epoch   1,  Average loss: 0.0076, Accuracy: 2285/2592 (88.1559%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 1.4970, Accuracy: 5306/10000 (53.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 11, internal_epoch   1,  Average loss: 0.0149, Accuracy: 1959/2510 (78.0478%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 0.9704, Accuracy: 6827/10000 (68.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 12, internal_epoch   1,  Average loss: 0.0052, Accuracy: 4070/4373 (93.0711%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 2.2477, Accuracy: 3518/10000 (35.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 13, internal_epoch   1,  Average loss: 0.0078, Accuracy: 3909/4339 (90.0899%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 1.7356, Accuracy: 5222/10000 (52.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  77, local model 14, internal_epoch   1,  Average loss: 0.0125, Accuracy: 2242/2782 (80.5895%)
___Test Local_Simple poisoned: False, epoch: 77: Average loss: 1.5953, Accuracy: 5523/10000 (55.2300%), Attack Success Rate:0/10000(0.000)
time spent on training: 454.7813696861267
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.6014366  0.
 1.         1.         0.13817992]
___Test Target_Simple poisoned: False, epoch: 77: Average loss: 1.4134, Accuracy: 5220/10000 (52.2000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 77: Average loss: 1.4984, Accuracy: 4426/8991 (49.2270%)
Done in 462.9641623497009 sec.
Server Epoch:78 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  78, local model 0, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2369/3010 (78.7043%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 1.2460, Accuracy: 6663/10000 (66.6300%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 1, internal_epoch   1,  Average loss: 0.0076, Accuracy: 5189/5805 (89.3885%), train_poison_data_count: 5805
Global model norm: 2.986245572712404.
Norm before scaling: 3.866047392505823. Distance: 2.0222654740921326
Total norm for 5 adversaries is: 3.866047392505823. distance: 2.0222654740921326
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 1.6447, Accuracy: 4787/8991 (53.2421%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 2, internal_epoch   1,  Average loss: 0.0119, Accuracy: 3963/4779 (82.9253%), train_poison_data_count: 4779
Global model norm: 2.986245572712404.
Norm before scaling: 4.0492412468625485. Distance: 2.062577795237666
Total norm for 5 adversaries is: 4.0492412468625485. distance: 2.062577795237666
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 0.7191, Accuracy: 6851/8991 (76.1984%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 3, internal_epoch   1,  Average loss: 0.0108, Accuracy: 4400/5123 (85.8872%), train_poison_data_count: 5123
Global model norm: 2.986245572712404.
Norm before scaling: 4.075574991112139. Distance: 2.1608822587262546
Total norm for 5 adversaries is: 4.075574991112139. distance: 2.1608822587262546
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 1.0368, Accuracy: 6524/8991 (72.5615%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 4, internal_epoch   1,  Average loss: 0.0116, Accuracy: 3720/4462 (83.3707%), train_poison_data_count: 4462
Global model norm: 2.986245572712404.
Norm before scaling: 3.8636858258676705. Distance: 1.6650059850545085
Total norm for 5 adversaries is: 3.8636858258676705. distance: 1.6650059850545085
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 1.0436, Accuracy: 5907/8991 (65.6990%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  78, local model 5, internal_epoch   1,  Average loss: 0.0100, Accuracy: 3315/3841 (86.3056%), train_poison_data_count: 3841
Global model norm: 2.986245572712404.
Norm before scaling: 3.754225702417853. Distance: 1.6358839286769822
Total norm for 5 adversaries is: 3.754225702417853. distance: 1.6358839286769822
___Test Local_Simple poisoned: True, epoch: 78: Average loss: 1.4314, Accuracy: 5938/8991 (66.0438%)
___Train Local_Simple,  epoch  78, local model 6, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2315/2945 (78.6078%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 1.1509, Accuracy: 6005/10000 (60.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 7, internal_epoch   1,  Average loss: 0.0102, Accuracy: 2365/2756 (85.8128%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 1.3400, Accuracy: 5481/10000 (54.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 8, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2744/3437 (79.8371%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 1.0595, Accuracy: 6646/10000 (66.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 9, internal_epoch   1,  Average loss: 0.0078, Accuracy: 5223/5809 (89.9122%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 2.3940, Accuracy: 4000/10000 (40.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 10, internal_epoch   1,  Average loss: 0.0077, Accuracy: 2271/2592 (87.6157%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 1.4135, Accuracy: 5721/10000 (57.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 11, internal_epoch   1,  Average loss: 0.0146, Accuracy: 1992/2510 (79.3625%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 0.9520, Accuracy: 6965/10000 (69.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 12, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4078/4373 (93.2541%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 2.2227, Accuracy: 3511/10000 (35.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 13, internal_epoch   1,  Average loss: 0.0078, Accuracy: 3915/4339 (90.2282%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 1.7900, Accuracy: 5150/10000 (51.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  78, local model 14, internal_epoch   1,  Average loss: 0.0122, Accuracy: 2284/2782 (82.0992%)
___Test Local_Simple poisoned: False, epoch: 78: Average loss: 1.6606, Accuracy: 5282/10000 (52.8200%), Attack Success Rate:0/10000(0.000)
time spent on training: 460.87812995910645
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.54512597 0.
 1.         1.         0.17108107]
___Test Target_Simple poisoned: False, epoch: 78: Average loss: 1.4117, Accuracy: 5239/10000 (52.3900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 78: Average loss: 1.4972, Accuracy: 4436/8991 (49.3382%)
Done in 468.96248626708984 sec.
Server Epoch:79 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  79, local model 0, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2381/3010 (79.1030%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 1.2372, Accuracy: 6724/10000 (67.2400%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 1, internal_epoch   1,  Average loss: 0.0075, Accuracy: 5210/5805 (89.7502%), train_poison_data_count: 5805
Global model norm: 3.0019694857129804.
Norm before scaling: 3.864468568535615. Distance: 2.0086296585772505
Total norm for 5 adversaries is: 3.864468568535615. distance: 2.0086296585772505
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 1.6312, Accuracy: 4857/8991 (54.0207%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 2, internal_epoch   1,  Average loss: 0.0117, Accuracy: 3980/4779 (83.2810%), train_poison_data_count: 4779
Global model norm: 3.0019694857129804.
Norm before scaling: 4.061972246369175. Distance: 2.0687443390276115
Total norm for 5 adversaries is: 4.061972246369175. distance: 2.0687443390276115
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 0.7456, Accuracy: 6762/8991 (75.2085%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 3, internal_epoch   1,  Average loss: 0.0107, Accuracy: 4415/5123 (86.1800%), train_poison_data_count: 5123
Global model norm: 3.0019694857129804.
Norm before scaling: 4.088502038978272. Distance: 2.143300410245743
Total norm for 5 adversaries is: 4.088502038978272. distance: 2.143300410245743
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 0.9950, Accuracy: 6725/8991 (74.7970%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 4, internal_epoch   1,  Average loss: 0.0117, Accuracy: 3718/4462 (83.3259%), train_poison_data_count: 4462
Global model norm: 3.0019694857129804.
Norm before scaling: 3.8806957100932222. Distance: 1.668018277793106
Total norm for 5 adversaries is: 3.8806957100932222. distance: 1.668018277793106
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 1.0274, Accuracy: 5996/8991 (66.6889%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  79, local model 5, internal_epoch   1,  Average loss: 0.0099, Accuracy: 3298/3841 (85.8631%), train_poison_data_count: 3841
Global model norm: 3.0019694857129804.
Norm before scaling: 3.7731683291515505. Distance: 1.641875671340114
Total norm for 5 adversaries is: 3.7731683291515505. distance: 1.641875671340114
___Test Local_Simple poisoned: True, epoch: 79: Average loss: 1.4780, Accuracy: 5847/8991 (65.0317%)
___Train Local_Simple,  epoch  79, local model 6, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2303/2945 (78.2003%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 1.1748, Accuracy: 5880/10000 (58.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  79, local model 7, internal_epoch   1,  Average loss: 0.0101, Accuracy: 2374/2756 (86.1393%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 1.3259, Accuracy: 5445/10000 (54.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  79, local model 8, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2773/3437 (80.6808%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 1.0197, Accuracy: 6808/10000 (68.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  79, local model 9, internal_epoch   1,  Average loss: 0.0077, Accuracy: 5212/5809 (89.7228%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 2.2860, Accuracy: 4193/10000 (41.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  79, local model 10, internal_epoch   1,  Average loss: 0.0078, Accuracy: 2270/2592 (87.5772%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 1.3935, Accuracy: 5853/10000 (58.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  79, local model 11, internal_epoch   1,  Average loss: 0.0145, Accuracy: 1974/2510 (78.6454%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 0.9828, Accuracy: 6830/10000 (68.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  79, local model 12, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4077/4373 (93.2312%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 2.2127, Accuracy: 3504/10000 (35.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  79, local model 13, internal_epoch   1,  Average loss: 0.0077, Accuracy: 3902/4339 (89.9286%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 1.7870, Accuracy: 5117/10000 (51.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  79, local model 14, internal_epoch   1,  Average loss: 0.0125, Accuracy: 2242/2782 (80.5895%)
___Test Local_Simple poisoned: False, epoch: 79: Average loss: 1.6738, Accuracy: 5266/10000 (52.6600%), Attack Success Rate:0/10000(0.000)
time spent on training: 470.5695390701294
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.76289684 0.
 1.         1.         0.28779032]
___Test Target_Simple poisoned: False, epoch: 79: Average loss: 1.4067, Accuracy: 5253/10000 (52.5300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 79: Average loss: 1.4922, Accuracy: 4446/8991 (49.4494%)
Done in 478.86746978759766 sec.
Server Epoch:80 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  80, local model 0, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2396/3010 (79.6013%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 1.2170, Accuracy: 6707/10000 (67.0700%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 1, internal_epoch   1,  Average loss: 0.0075, Accuracy: 5186/5805 (89.3368%), train_poison_data_count: 5805
Global model norm: 3.0181962352379106.
Norm before scaling: 3.869834040550552. Distance: 1.9788831273477623
Total norm for 5 adversaries is: 3.869834040550552. distance: 1.9788831273477623
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 1.5894, Accuracy: 4946/8991 (55.0106%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 2, internal_epoch   1,  Average loss: 0.0117, Accuracy: 3979/4779 (83.2601%), train_poison_data_count: 4779
Global model norm: 3.0181962352379106.
Norm before scaling: 4.05179982635936. Distance: 2.026863996891689
Total norm for 5 adversaries is: 4.05179982635936. distance: 2.026863996891689
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 0.6906, Accuracy: 6989/8991 (77.7333%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 3, internal_epoch   1,  Average loss: 0.0107, Accuracy: 4396/5123 (85.8091%), train_poison_data_count: 5123
Global model norm: 3.0181962352379106.
Norm before scaling: 4.0925612725743505. Distance: 2.1468113519154146
Total norm for 5 adversaries is: 4.0925612725743505. distance: 2.1468113519154146
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 1.0198, Accuracy: 6586/8991 (73.2510%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 4, internal_epoch   1,  Average loss: 0.0117, Accuracy: 3719/4462 (83.3483%), train_poison_data_count: 4462
Global model norm: 3.0181962352379106.
Norm before scaling: 3.8917729779139343. Distance: 1.666072079774177
Total norm for 5 adversaries is: 3.8917729779139343. distance: 1.666072079774177
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 1.0034, Accuracy: 6012/8991 (66.8669%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  80, local model 5, internal_epoch   1,  Average loss: 0.0098, Accuracy: 3329/3841 (86.6701%), train_poison_data_count: 3841
Global model norm: 3.0181962352379106.
Norm before scaling: 3.7795479466828326. Distance: 1.6297697344593252
Total norm for 5 adversaries is: 3.7795479466828326. distance: 1.6297697344593252
___Test Local_Simple poisoned: True, epoch: 80: Average loss: 1.4687, Accuracy: 5824/8991 (64.7759%)
___Train Local_Simple,  epoch  80, local model 6, internal_epoch   1,  Average loss: 0.0136, Accuracy: 2303/2945 (78.2003%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 1.1737, Accuracy: 5907/10000 (59.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  80, local model 7, internal_epoch   1,  Average loss: 0.0100, Accuracy: 2367/2756 (85.8853%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 1.3693, Accuracy: 5359/10000 (53.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  80, local model 8, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2750/3437 (80.0116%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 1.0436, Accuracy: 6630/10000 (66.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  80, local model 9, internal_epoch   1,  Average loss: 0.0077, Accuracy: 5222/5809 (89.8950%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 2.3323, Accuracy: 4179/10000 (41.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  80, local model 10, internal_epoch   1,  Average loss: 0.0075, Accuracy: 2284/2592 (88.1173%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 1.4417, Accuracy: 5638/10000 (56.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  80, local model 11, internal_epoch   1,  Average loss: 0.0145, Accuracy: 1970/2510 (78.4861%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 0.9153, Accuracy: 7022/10000 (70.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  80, local model 12, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4083/4373 (93.3684%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 2.1809, Accuracy: 3524/10000 (35.2400%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  80, local model 13, internal_epoch   1,  Average loss: 0.0076, Accuracy: 3900/4339 (89.8825%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 1.7633, Accuracy: 5123/10000 (51.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  80, local model 14, internal_epoch   1,  Average loss: 0.0121, Accuracy: 2274/2782 (81.7398%)
___Test Local_Simple poisoned: False, epoch: 80: Average loss: 1.7129, Accuracy: 5074/10000 (50.7400%), Attack Success Rate:0/10000(0.000)
time spent on training: 479.77623462677
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.7695177  0.
 1.         1.         0.33901714]
___Test Target_Simple poisoned: False, epoch: 80: Average loss: 1.4008, Accuracy: 5277/10000 (52.7700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 80: Average loss: 1.4864, Accuracy: 4471/8991 (49.7275%)
Done in 488.5320701599121 sec.
Server Epoch:81 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  81, local model 0, internal_epoch   1,  Average loss: 0.0144, Accuracy: 2375/3010 (78.9037%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 1.1999, Accuracy: 6824/10000 (68.2400%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 1, internal_epoch   1,  Average loss: 0.0074, Accuracy: 5199/5805 (89.5607%), train_poison_data_count: 5805
Global model norm: 3.0345266663728996.
Norm before scaling: 3.893677398837539. Distance: 2.007785188363004
Total norm for 5 adversaries is: 3.893677398837539. distance: 2.007785188363004
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 1.6667, Accuracy: 4826/8991 (53.6759%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 2, internal_epoch   1,  Average loss: 0.0118, Accuracy: 3967/4779 (83.0090%), train_poison_data_count: 4779
Global model norm: 3.0345266663728996.
Norm before scaling: 4.069965955512198. Distance: 2.0398417770510613
Total norm for 5 adversaries is: 4.069965955512198. distance: 2.0398417770510613
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 0.7139, Accuracy: 6899/8991 (76.7323%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 3, internal_epoch   1,  Average loss: 0.0107, Accuracy: 4395/5123 (85.7896%), train_poison_data_count: 5123
Global model norm: 3.0345266663728996.
Norm before scaling: 4.0955359370681155. Distance: 2.1224848504306495
Total norm for 5 adversaries is: 4.0955359370681155. distance: 2.1224848504306495
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 0.9861, Accuracy: 6647/8991 (73.9295%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 4, internal_epoch   1,  Average loss: 0.0115, Accuracy: 3714/4462 (83.2362%), train_poison_data_count: 4462
Global model norm: 3.0345266663728996.
Norm before scaling: 3.888474693644699. Distance: 1.6328358625720965
Total norm for 5 adversaries is: 3.888474693644699. distance: 1.6328358625720965
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 1.0040, Accuracy: 6018/8991 (66.9336%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  81, local model 5, internal_epoch   1,  Average loss: 0.0097, Accuracy: 3354/3841 (87.3210%), train_poison_data_count: 3841
Global model norm: 3.0345266663728996.
Norm before scaling: 3.7856559620397685. Distance: 1.6293764602075143
Total norm for 5 adversaries is: 3.7856559620397685. distance: 1.6293764602075143
___Test Local_Simple poisoned: True, epoch: 81: Average loss: 1.4577, Accuracy: 5898/8991 (65.5989%)
___Train Local_Simple,  epoch  81, local model 6, internal_epoch   1,  Average loss: 0.0132, Accuracy: 2348/2945 (79.7284%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 1.2147, Accuracy: 5705/10000 (57.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 7, internal_epoch   1,  Average loss: 0.0100, Accuracy: 2376/2756 (86.2119%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 1.3054, Accuracy: 5534/10000 (55.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 8, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2732/3437 (79.4879%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 1.0131, Accuracy: 6799/10000 (67.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 9, internal_epoch   1,  Average loss: 0.0077, Accuracy: 5214/5809 (89.7573%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 2.3017, Accuracy: 4157/10000 (41.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 10, internal_epoch   1,  Average loss: 0.0075, Accuracy: 2293/2592 (88.4645%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 1.4146, Accuracy: 5724/10000 (57.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 11, internal_epoch   1,  Average loss: 0.0144, Accuracy: 1974/2510 (78.6454%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 0.9688, Accuracy: 6894/10000 (68.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 12, internal_epoch   1,  Average loss: 0.0051, Accuracy: 4073/4373 (93.1397%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 2.2335, Accuracy: 3505/10000 (35.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 13, internal_epoch   1,  Average loss: 0.0075, Accuracy: 3912/4339 (90.1590%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 1.7713, Accuracy: 5117/10000 (51.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  81, local model 14, internal_epoch   1,  Average loss: 0.0121, Accuracy: 2282/2782 (82.0273%)
___Test Local_Simple poisoned: False, epoch: 81: Average loss: 1.6760, Accuracy: 5149/10000 (51.4900%), Attack Success Rate:0/10000(0.000)
time spent on training: 478.0025427341461
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.7333344  0.
 1.         1.         0.48643837]
___Test Target_Simple poisoned: False, epoch: 81: Average loss: 1.3947, Accuracy: 5310/10000 (53.1000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 81: Average loss: 1.4803, Accuracy: 4497/8991 (50.0167%)
Done in 486.44921040534973 sec.
Server Epoch:82 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  82, local model 0, internal_epoch   1,  Average loss: 0.0144, Accuracy: 2391/3010 (79.4352%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 1.2515, Accuracy: 6533/10000 (65.3300%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 1, internal_epoch   1,  Average loss: 0.0074, Accuracy: 5195/5805 (89.4918%), train_poison_data_count: 5805
Global model norm: 3.0511139945880736.
Norm before scaling: 3.893516232253035. Distance: 1.9881582165857037
Total norm for 5 adversaries is: 3.893516232253035. distance: 1.9881582165857037
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 1.6352, Accuracy: 4867/8991 (54.1319%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 2, internal_epoch   1,  Average loss: 0.0115, Accuracy: 3985/4779 (83.3856%), train_poison_data_count: 4779
Global model norm: 3.0511139945880736.
Norm before scaling: 4.076324650122736. Distance: 2.034143353237071
Total norm for 5 adversaries is: 4.076324650122736. distance: 2.034143353237071
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 0.7246, Accuracy: 6833/8991 (75.9982%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 3, internal_epoch   1,  Average loss: 0.0107, Accuracy: 4417/5123 (86.2190%), train_poison_data_count: 5123
Global model norm: 3.0511139945880736.
Norm before scaling: 4.128412164811488. Distance: 2.156454214846956
Total norm for 5 adversaries is: 4.128412164811488. distance: 2.156454214846956
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 1.0448, Accuracy: 6518/8991 (72.4947%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 4, internal_epoch   1,  Average loss: 0.0116, Accuracy: 3687/4462 (82.6311%), train_poison_data_count: 4462
Global model norm: 3.0511139945880736.
Norm before scaling: 3.9019859539426363. Distance: 1.6291532260636292
Total norm for 5 adversaries is: 3.9019859539426363. distance: 1.6291532260636292
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 0.9889, Accuracy: 6132/8991 (68.2015%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  82, local model 5, internal_epoch   1,  Average loss: 0.0098, Accuracy: 3328/3841 (86.6441%), train_poison_data_count: 3841
Global model norm: 3.0511139945880736.
Norm before scaling: 3.791500479161764. Distance: 1.6237763419301503
Total norm for 5 adversaries is: 3.791500479161764. distance: 1.6237763419301503
___Test Local_Simple poisoned: True, epoch: 82: Average loss: 1.4430, Accuracy: 5838/8991 (64.9316%)
___Train Local_Simple,  epoch  82, local model 6, internal_epoch   1,  Average loss: 0.0132, Accuracy: 2342/2945 (79.5246%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 1.1829, Accuracy: 5873/10000 (58.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 7, internal_epoch   1,  Average loss: 0.0098, Accuracy: 2391/2756 (86.7562%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 1.3905, Accuracy: 5309/10000 (53.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 8, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2737/3437 (79.6334%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 1.0387, Accuracy: 6645/10000 (66.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 9, internal_epoch   1,  Average loss: 0.0077, Accuracy: 5222/5809 (89.8950%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 2.3768, Accuracy: 4119/10000 (41.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 10, internal_epoch   1,  Average loss: 0.0075, Accuracy: 2298/2592 (88.6574%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 1.4085, Accuracy: 5769/10000 (57.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 11, internal_epoch   1,  Average loss: 0.0144, Accuracy: 1986/2510 (79.1235%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 0.9071, Accuracy: 7132/10000 (71.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 12, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4086/4373 (93.4370%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 2.1896, Accuracy: 3514/10000 (35.1400%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  82, local model 13, internal_epoch   1,  Average loss: 0.0076, Accuracy: 3916/4339 (90.2512%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 1.7127, Accuracy: 5240/10000 (52.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  82, local model 14, internal_epoch   1,  Average loss: 0.0120, Accuracy: 2281/2782 (81.9914%)
___Test Local_Simple poisoned: False, epoch: 82: Average loss: 1.6027, Accuracy: 5338/10000 (53.3800%), Attack Success Rate:0/10000(0.000)
time spent on training: 480.67307472229004
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.62568056 0.
 1.         1.         0.24751189]
___Test Target_Simple poisoned: False, epoch: 82: Average loss: 1.3913, Accuracy: 5325/10000 (53.2500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 82: Average loss: 1.4773, Accuracy: 4512/8991 (50.1835%)
Done in 488.9697654247284 sec.
Server Epoch:83 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  83, local model 0, internal_epoch   1,  Average loss: 0.0145, Accuracy: 2357/3010 (78.3056%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 1.2235, Accuracy: 6758/10000 (67.5800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 1, internal_epoch   1,  Average loss: 0.0074, Accuracy: 5195/5805 (89.4918%), train_poison_data_count: 5805
Global model norm: 3.0666886315042903.
Norm before scaling: 3.8966242485467846. Distance: 1.9873080466802076
Total norm for 5 adversaries is: 3.8966242485467846. distance: 1.9873080466802076
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 1.6601, Accuracy: 4751/8991 (52.8417%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 2, internal_epoch   1,  Average loss: 0.0114, Accuracy: 3999/4779 (83.6786%), train_poison_data_count: 4779
Global model norm: 3.0666886315042903.
Norm before scaling: 4.085636631116203. Distance: 2.0173597337634543
Total norm for 5 adversaries is: 4.085636631116203. distance: 2.0173597337634543
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 0.6922, Accuracy: 6955/8991 (77.3551%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 3, internal_epoch   1,  Average loss: 0.0105, Accuracy: 4434/5123 (86.5508%), train_poison_data_count: 5123
Global model norm: 3.0666886315042903.
Norm before scaling: 4.106188564915114. Distance: 2.116731714265415
Total norm for 5 adversaries is: 4.106188564915114. distance: 2.116731714265415
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 1.0094, Accuracy: 6655/8991 (74.0185%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 4, internal_epoch   1,  Average loss: 0.0114, Accuracy: 3710/4462 (83.1466%), train_poison_data_count: 4462
Global model norm: 3.0666886315042903.
Norm before scaling: 3.926272415636377. Distance: 1.6584990723693296
Total norm for 5 adversaries is: 3.926272415636377. distance: 1.6584990723693296
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 1.0786, Accuracy: 5757/8991 (64.0307%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  83, local model 5, internal_epoch   1,  Average loss: 0.0097, Accuracy: 3332/3841 (86.7482%), train_poison_data_count: 3841
Global model norm: 3.0666886315042903.
Norm before scaling: 3.7931076637232684. Distance: 1.6136516302903172
Total norm for 5 adversaries is: 3.7931076637232684. distance: 1.6136516302903172
___Test Local_Simple poisoned: True, epoch: 83: Average loss: 1.3938, Accuracy: 5970/8991 (66.3997%)
___Train Local_Simple,  epoch  83, local model 6, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2288/2945 (77.6910%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 1.1389, Accuracy: 5923/10000 (59.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 7, internal_epoch   1,  Average loss: 0.0098, Accuracy: 2384/2756 (86.5022%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 1.3254, Accuracy: 5479/10000 (54.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 8, internal_epoch   1,  Average loss: 0.0136, Accuracy: 2745/3437 (79.8662%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 1.0020, Accuracy: 7002/10000 (70.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 9, internal_epoch   1,  Average loss: 0.0077, Accuracy: 5227/5809 (89.9811%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 2.3080, Accuracy: 4213/10000 (42.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 10, internal_epoch   1,  Average loss: 0.0074, Accuracy: 2312/2592 (89.1975%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 1.4245, Accuracy: 5632/10000 (56.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 11, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2015/2510 (80.2789%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 0.9354, Accuracy: 6986/10000 (69.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 12, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4089/4373 (93.5056%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 2.1420, Accuracy: 3519/10000 (35.1900%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  83, local model 13, internal_epoch   1,  Average loss: 0.0076, Accuracy: 3907/4339 (90.0438%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 1.7506, Accuracy: 5144/10000 (51.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  83, local model 14, internal_epoch   1,  Average loss: 0.0119, Accuracy: 2285/2782 (82.1352%)
___Test Local_Simple poisoned: False, epoch: 83: Average loss: 1.6369, Accuracy: 5221/10000 (52.2100%), Attack Success Rate:0/10000(0.000)
time spent on training: 489.20218300819397
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.59712855 0.
 1.         1.         0.68461276]
___Test Target_Simple poisoned: False, epoch: 83: Average loss: 1.3846, Accuracy: 5347/10000 (53.4700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 83: Average loss: 1.4697, Accuracy: 4540/8991 (50.4949%)
Done in 497.2817578315735 sec.
Server Epoch:84 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  84, local model 0, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2344/3010 (77.8738%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 1.2137, Accuracy: 6728/10000 (67.2800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 1, internal_epoch   1,  Average loss: 0.0074, Accuracy: 5200/5805 (89.5780%), train_poison_data_count: 5805
Global model norm: 3.083397237441966.
Norm before scaling: 3.9075722859652826. Distance: 1.9689665781209813
Total norm for 5 adversaries is: 3.9075722859652826. distance: 1.9689665781209813
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 1.6520, Accuracy: 4824/8991 (53.6537%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 2, internal_epoch   1,  Average loss: 0.0118, Accuracy: 3973/4779 (83.1345%), train_poison_data_count: 4779
Global model norm: 3.083397237441966.
Norm before scaling: 4.102110268481963. Distance: 2.0345535410925577
Total norm for 5 adversaries is: 4.102110268481963. distance: 2.0345535410925577
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 0.7450, Accuracy: 6700/8991 (74.5190%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 3, internal_epoch   1,  Average loss: 0.0106, Accuracy: 4414/5123 (86.1605%), train_poison_data_count: 5123
Global model norm: 3.083397237441966.
Norm before scaling: 4.123393121489944. Distance: 2.1081115329559963
Total norm for 5 adversaries is: 4.123393121489944. distance: 2.1081115329559963
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 0.9685, Accuracy: 6700/8991 (74.5190%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 4, internal_epoch   1,  Average loss: 0.0115, Accuracy: 3709/4462 (83.1242%), train_poison_data_count: 4462
Global model norm: 3.083397237441966.
Norm before scaling: 3.9155038094850942. Distance: 1.6235223066925717
Total norm for 5 adversaries is: 3.9155038094850942. distance: 1.6235223066925717
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 1.0085, Accuracy: 6044/8991 (67.2228%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  84, local model 5, internal_epoch   1,  Average loss: 0.0097, Accuracy: 3334/3841 (86.8003%), train_poison_data_count: 3841
Global model norm: 3.083397237441966.
Norm before scaling: 3.808011148348285. Distance: 1.6064547367457225
Total norm for 5 adversaries is: 3.808011148348285. distance: 1.6064547367457225
___Test Local_Simple poisoned: True, epoch: 84: Average loss: 1.4025, Accuracy: 5939/8991 (66.0549%)
___Train Local_Simple,  epoch  84, local model 6, internal_epoch   1,  Average loss: 0.0131, Accuracy: 2335/2945 (79.2869%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 1.1080, Accuracy: 6158/10000 (61.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 7, internal_epoch   1,  Average loss: 0.0097, Accuracy: 2382/2756 (86.4296%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 1.3438, Accuracy: 5418/10000 (54.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 8, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2793/3437 (81.2627%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 1.0318, Accuracy: 6683/10000 (66.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 9, internal_epoch   1,  Average loss: 0.0076, Accuracy: 5240/5809 (90.2049%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 2.3046, Accuracy: 4077/10000 (40.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 10, internal_epoch   1,  Average loss: 0.0072, Accuracy: 2311/2592 (89.1590%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 1.4533, Accuracy: 5600/10000 (56.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 11, internal_epoch   1,  Average loss: 0.0143, Accuracy: 1987/2510 (79.1633%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 0.9131, Accuracy: 7057/10000 (70.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 12, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4084/4373 (93.3913%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 2.1243, Accuracy: 3485/10000 (34.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 13, internal_epoch   1,  Average loss: 0.0076, Accuracy: 3920/4339 (90.3434%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 1.6900, Accuracy: 5215/10000 (52.1500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  84, local model 14, internal_epoch   1,  Average loss: 0.0118, Accuracy: 2301/2782 (82.7103%)
___Test Local_Simple poisoned: False, epoch: 84: Average loss: 1.5770, Accuracy: 5512/10000 (55.1200%), Attack Success Rate:0/10000(0.000)
time spent on training: 494.6872661113739
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.91818479 0.
 1.         1.         0.25711465]
___Test Target_Simple poisoned: False, epoch: 84: Average loss: 1.3789, Accuracy: 5373/10000 (53.7300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 84: Average loss: 1.4649, Accuracy: 4548/8991 (50.5839%)
Done in 502.86165618896484 sec.
Server Epoch:85 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  85, local model 0, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2395/3010 (79.5681%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 1.2077, Accuracy: 6688/10000 (66.8800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 1, internal_epoch   1,  Average loss: 0.0073, Accuracy: 5204/5805 (89.6469%), train_poison_data_count: 5805
Global model norm: 3.099441225698603.
Norm before scaling: 3.9223112190483134. Distance: 1.9633968782207178
Total norm for 5 adversaries is: 3.9223112190483134. distance: 1.9633968782207178
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 1.5734, Accuracy: 4962/8991 (55.1885%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 2, internal_epoch   1,  Average loss: 0.0116, Accuracy: 3975/4779 (83.1764%), train_poison_data_count: 4779
Global model norm: 3.099441225698603.
Norm before scaling: 4.127030768614149. Distance: 2.0491841809596125
Total norm for 5 adversaries is: 4.127030768614149. distance: 2.0491841809596125
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 0.7265, Accuracy: 6782/8991 (75.4310%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 3, internal_epoch   1,  Average loss: 0.0105, Accuracy: 4436/5123 (86.5899%), train_poison_data_count: 5123
Global model norm: 3.099441225698603.
Norm before scaling: 4.12837266316248. Distance: 2.0933751012599715
Total norm for 5 adversaries is: 4.12837266316248. distance: 2.0933751012599715
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 0.9898, Accuracy: 6672/8991 (74.2075%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 4, internal_epoch   1,  Average loss: 0.0114, Accuracy: 3731/4462 (83.6172%), train_poison_data_count: 4462
Global model norm: 3.099441225698603.
Norm before scaling: 3.934059214019797. Distance: 1.6201414689353562
Total norm for 5 adversaries is: 3.934059214019797. distance: 1.6201414689353562
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 0.9910, Accuracy: 6084/8991 (67.6677%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  85, local model 5, internal_epoch   1,  Average loss: 0.0096, Accuracy: 3347/3841 (87.1388%), train_poison_data_count: 3841
Global model norm: 3.099441225698603.
Norm before scaling: 3.8215704409006546. Distance: 1.6054858278725963
Total norm for 5 adversaries is: 3.8215704409006546. distance: 1.6054858278725963
___Test Local_Simple poisoned: True, epoch: 85: Average loss: 1.4119, Accuracy: 5911/8991 (65.7435%)
___Train Local_Simple,  epoch  85, local model 6, internal_epoch   1,  Average loss: 0.0132, Accuracy: 2311/2945 (78.4720%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 1.1456, Accuracy: 6000/10000 (60.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 7, internal_epoch   1,  Average loss: 0.0094, Accuracy: 2393/2756 (86.8287%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 1.2919, Accuracy: 5588/10000 (55.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 8, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2774/3437 (80.7099%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.9931, Accuracy: 6866/10000 (68.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 9, internal_epoch   1,  Average loss: 0.0076, Accuracy: 5224/5809 (89.9294%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 2.2162, Accuracy: 4191/10000 (41.9100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 10, internal_epoch   1,  Average loss: 0.0073, Accuracy: 2306/2592 (88.9660%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 1.3863, Accuracy: 5794/10000 (57.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 11, internal_epoch   1,  Average loss: 0.0142, Accuracy: 2009/2510 (80.0398%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 0.9253, Accuracy: 7048/10000 (70.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 12, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4078/4373 (93.2541%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 2.1184, Accuracy: 3519/10000 (35.1900%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  85, local model 13, internal_epoch   1,  Average loss: 0.0074, Accuracy: 3928/4339 (90.5278%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 1.7656, Accuracy: 5098/10000 (50.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  85, local model 14, internal_epoch   1,  Average loss: 0.0118, Accuracy: 2288/2782 (82.2430%)
___Test Local_Simple poisoned: False, epoch: 85: Average loss: 1.6980, Accuracy: 5006/10000 (50.0600%), Attack Success Rate:0/10000(0.000)
time spent on training: 545.434928894043
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.72519454 0.
 1.         1.         0.20596561]
___Test Target_Simple poisoned: False, epoch: 85: Average loss: 1.3748, Accuracy: 5394/10000 (53.9400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 85: Average loss: 1.4618, Accuracy: 4555/8991 (50.6618%)
Done in 554.1834485530853 sec.
Server Epoch:86 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  86, local model 0, internal_epoch   1,  Average loss: 0.0144, Accuracy: 2360/3010 (78.4053%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 1.2107, Accuracy: 6724/10000 (67.2400%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 1, internal_epoch   1,  Average loss: 0.0074, Accuracy: 5199/5805 (89.5607%), train_poison_data_count: 5805
Global model norm: 3.1147443714845724.
Norm before scaling: 3.9216172334987283. Distance: 1.9425834295160898
Total norm for 5 adversaries is: 3.9216172334987283. distance: 1.9425834295160898
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 1.5379, Accuracy: 4974/8991 (55.3220%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 2, internal_epoch   1,  Average loss: 0.0117, Accuracy: 3966/4779 (82.9881%), train_poison_data_count: 4779
Global model norm: 3.1147443714845724.
Norm before scaling: 4.126881257138671. Distance: 2.0099843668922817
Total norm for 5 adversaries is: 4.126881257138671. distance: 2.0099843668922817
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.7188, Accuracy: 6865/8991 (76.3541%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 3, internal_epoch   1,  Average loss: 0.0106, Accuracy: 4427/5123 (86.4142%), train_poison_data_count: 5123
Global model norm: 3.1147443714845724.
Norm before scaling: 4.129213897301515. Distance: 2.0815299684931534
Total norm for 5 adversaries is: 4.129213897301515. distance: 2.0815299684931534
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.9650, Accuracy: 6673/8991 (74.2187%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 4, internal_epoch   1,  Average loss: 0.0116, Accuracy: 3712/4462 (83.1914%), train_poison_data_count: 4462
Global model norm: 3.1147443714845724.
Norm before scaling: 3.943081366538988. Distance: 1.6232332014785942
Total norm for 5 adversaries is: 3.943081366538988. distance: 1.6232332014785942
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 0.9789, Accuracy: 6137/8991 (68.2571%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  86, local model 5, internal_epoch   1,  Average loss: 0.0097, Accuracy: 3344/3841 (87.0607%), train_poison_data_count: 3841
Global model norm: 3.1147443714845724.
Norm before scaling: 3.830948516284685. Distance: 1.60160120475335
Total norm for 5 adversaries is: 3.830948516284685. distance: 1.60160120475335
___Test Local_Simple poisoned: True, epoch: 86: Average loss: 1.4518, Accuracy: 5830/8991 (64.8426%)
___Train Local_Simple,  epoch  86, local model 6, internal_epoch   1,  Average loss: 0.0132, Accuracy: 2323/2945 (78.8795%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 1.1536, Accuracy: 5892/10000 (58.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  86, local model 7, internal_epoch   1,  Average loss: 0.0098, Accuracy: 2391/2756 (86.7562%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 1.3390, Accuracy: 5357/10000 (53.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  86, local model 8, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2773/3437 (80.6808%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 1.0144, Accuracy: 6636/10000 (66.3600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  86, local model 9, internal_epoch   1,  Average loss: 0.0076, Accuracy: 5216/5809 (89.7917%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 2.2230, Accuracy: 4252/10000 (42.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  86, local model 10, internal_epoch   1,  Average loss: 0.0077, Accuracy: 2292/2592 (88.4259%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 1.3689, Accuracy: 5941/10000 (59.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  86, local model 11, internal_epoch   1,  Average loss: 0.0142, Accuracy: 1989/2510 (79.2430%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 0.9124, Accuracy: 7097/10000 (70.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  86, local model 12, internal_epoch   1,  Average loss: 0.0050, Accuracy: 4078/4373 (93.2541%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 2.1490, Accuracy: 3528/10000 (35.2800%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  86, local model 13, internal_epoch   1,  Average loss: 0.0074, Accuracy: 3929/4339 (90.5508%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 1.6841, Accuracy: 5235/10000 (52.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  86, local model 14, internal_epoch   1,  Average loss: 0.0120, Accuracy: 2272/2782 (81.6679%)
___Test Local_Simple poisoned: False, epoch: 86: Average loss: 1.6107, Accuracy: 5212/10000 (52.1200%), Attack Success Rate:0/10000(0.000)
time spent on training: 537.4497668743134
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.63513873 0.
 1.         1.         0.315997  ]
___Test Target_Simple poisoned: False, epoch: 86: Average loss: 1.3707, Accuracy: 5412/10000 (54.1200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 86: Average loss: 1.4579, Accuracy: 4565/8991 (50.7730%)
Done in 546.0265028476715 sec.
Server Epoch:87 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  87, local model 0, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2387/3010 (79.3023%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 1.2074, Accuracy: 6719/10000 (67.1900%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 1, internal_epoch   1,  Average loss: 0.0073, Accuracy: 5212/5805 (89.7847%), train_poison_data_count: 5805
Global model norm: 3.1301871926878575.
Norm before scaling: 3.9412963972860204. Distance: 1.9669265173997894
Total norm for 5 adversaries is: 3.9412963972860204. distance: 1.9669265173997894
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 1.6165, Accuracy: 4889/8991 (54.3766%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 2, internal_epoch   1,  Average loss: 0.0115, Accuracy: 4009/4779 (83.8878%), train_poison_data_count: 4779
Global model norm: 3.1301871926878575.
Norm before scaling: 4.131421033403521. Distance: 2.0077758073237075
Total norm for 5 adversaries is: 4.131421033403521. distance: 2.0077758073237075
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 0.7470, Accuracy: 6744/8991 (75.0083%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 3, internal_epoch   1,  Average loss: 0.0105, Accuracy: 4429/5123 (86.4533%), train_poison_data_count: 5123
Global model norm: 3.1301871926878575.
Norm before scaling: 4.1389983814841855. Distance: 2.086856253951911
Total norm for 5 adversaries is: 4.1389983814841855. distance: 2.086856253951911
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 0.9771, Accuracy: 6693/8991 (74.4411%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 4, internal_epoch   1,  Average loss: 0.0113, Accuracy: 3737/4462 (83.7517%), train_poison_data_count: 4462
Global model norm: 3.1301871926878575.
Norm before scaling: 3.946542076150422. Distance: 1.5899370995561566
Total norm for 5 adversaries is: 3.946542076150422. distance: 1.5899370995561566
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 0.9965, Accuracy: 6004/8991 (66.7779%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  87, local model 5, internal_epoch   1,  Average loss: 0.0097, Accuracy: 3323/3841 (86.5139%), train_poison_data_count: 3841
Global model norm: 3.1301871926878575.
Norm before scaling: 3.8394155486702783. Distance: 1.583032964357172
Total norm for 5 adversaries is: 3.8394155486702783. distance: 1.583032964357172
___Test Local_Simple poisoned: True, epoch: 87: Average loss: 1.3763, Accuracy: 6022/8991 (66.9781%)
___Train Local_Simple,  epoch  87, local model 6, internal_epoch   1,  Average loss: 0.0132, Accuracy: 2334/2945 (79.2530%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 1.1136, Accuracy: 6130/10000 (61.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 7, internal_epoch   1,  Average loss: 0.0097, Accuracy: 2376/2756 (86.2119%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 1.2819, Accuracy: 5575/10000 (55.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 8, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2770/3437 (80.5935%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.9542, Accuracy: 7042/10000 (70.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 9, internal_epoch   1,  Average loss: 0.0076, Accuracy: 5243/5809 (90.2565%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 2.3036, Accuracy: 4136/10000 (41.3600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 10, internal_epoch   1,  Average loss: 0.0073, Accuracy: 2309/2592 (89.0818%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 1.3796, Accuracy: 5871/10000 (58.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 11, internal_epoch   1,  Average loss: 0.0142, Accuracy: 1986/2510 (79.1235%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 0.9266, Accuracy: 7043/10000 (70.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 12, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4076/4373 (93.2083%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 2.0515, Accuracy: 3542/10000 (35.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 13, internal_epoch   1,  Average loss: 0.0074, Accuracy: 3938/4339 (90.7582%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 1.6525, Accuracy: 5331/10000 (53.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  87, local model 14, internal_epoch   1,  Average loss: 0.0118, Accuracy: 2283/2782 (82.0633%)
___Test Local_Simple poisoned: False, epoch: 87: Average loss: 1.5770, Accuracy: 5345/10000 (53.4500%), Attack Success Rate:0/10000(0.000)
time spent on training: 530.9355850219727
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.71660807 0.
 1.         1.         0.66409541]
___Test Target_Simple poisoned: False, epoch: 87: Average loss: 1.3637, Accuracy: 5438/10000 (54.3800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 87: Average loss: 1.4509, Accuracy: 4587/8991 (51.0177%)
Done in 539.423620223999 sec.
Server Epoch:88 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  88, local model 0, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2376/3010 (78.9369%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 1.1821, Accuracy: 6718/10000 (67.1800%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 1, internal_epoch   1,  Average loss: 0.0073, Accuracy: 5203/5805 (89.6296%), train_poison_data_count: 5805
Global model norm: 3.1466645580489425.
Norm before scaling: 3.956209931615138. Distance: 1.9610605999124378
Total norm for 5 adversaries is: 3.956209931615138. distance: 1.9610605999124378
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 1.6433, Accuracy: 4812/8991 (53.5202%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 2, internal_epoch   1,  Average loss: 0.0113, Accuracy: 4008/4779 (83.8669%), train_poison_data_count: 4779
Global model norm: 3.1466645580489425.
Norm before scaling: 4.13481567525506. Distance: 2.0048048001444254
Total norm for 5 adversaries is: 4.13481567525506. distance: 2.0048048001444254
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 0.7083, Accuracy: 6866/8991 (76.3653%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 3, internal_epoch   1,  Average loss: 0.0105, Accuracy: 4408/5123 (86.0433%), train_poison_data_count: 5123
Global model norm: 3.1466645580489425.
Norm before scaling: 4.165117484424373. Distance: 2.0992187136560285
Total norm for 5 adversaries is: 4.165117484424373. distance: 2.0992187136560285
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 0.9982, Accuracy: 6598/8991 (73.3845%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 4, internal_epoch   1,  Average loss: 0.0114, Accuracy: 3713/4462 (83.2138%), train_poison_data_count: 4462
Global model norm: 3.1466645580489425.
Norm before scaling: 3.966439603402705. Distance: 1.6063012704941706
Total norm for 5 adversaries is: 3.966439603402705. distance: 1.6063012704941706
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 1.0037, Accuracy: 6051/8991 (67.3006%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  88, local model 5, internal_epoch   1,  Average loss: 0.0095, Accuracy: 3345/3841 (87.0867%), train_poison_data_count: 3841
Global model norm: 3.1466645580489425.
Norm before scaling: 3.8396590878234966. Distance: 1.5824710940934616
Total norm for 5 adversaries is: 3.8396590878234966. distance: 1.5824710940934616
___Test Local_Simple poisoned: True, epoch: 88: Average loss: 1.4154, Accuracy: 5893/8991 (65.5433%)
___Train Local_Simple,  epoch  88, local model 6, internal_epoch   1,  Average loss: 0.0133, Accuracy: 2324/2945 (78.9134%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 1.1313, Accuracy: 6010/10000 (60.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 7, internal_epoch   1,  Average loss: 0.0096, Accuracy: 2389/2756 (86.6836%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 1.3179, Accuracy: 5457/10000 (54.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 8, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2752/3437 (80.0698%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 1.0008, Accuracy: 6810/10000 (68.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 9, internal_epoch   1,  Average loss: 0.0076, Accuracy: 5243/5809 (90.2565%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 2.2593, Accuracy: 4235/10000 (42.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 10, internal_epoch   1,  Average loss: 0.0073, Accuracy: 2312/2592 (89.1975%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 1.3983, Accuracy: 5801/10000 (58.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 11, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2002/2510 (79.7610%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 0.9378, Accuracy: 6938/10000 (69.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 12, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4094/4373 (93.6199%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 2.1216, Accuracy: 3501/10000 (35.0100%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  88, local model 13, internal_epoch   1,  Average loss: 0.0073, Accuracy: 3933/4339 (90.6430%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 1.7402, Accuracy: 5150/10000 (51.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  88, local model 14, internal_epoch   1,  Average loss: 0.0117, Accuracy: 2292/2782 (82.3868%)
___Test Local_Simple poisoned: False, epoch: 88: Average loss: 1.5831, Accuracy: 5368/10000 (53.6800%), Attack Success Rate:0/10000(0.000)
time spent on training: 536.5286452770233
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.83820267 0.
 1.         1.         0.29826785]
___Test Target_Simple poisoned: False, epoch: 88: Average loss: 1.3583, Accuracy: 5458/10000 (54.5800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 88: Average loss: 1.4459, Accuracy: 4603/8991 (51.1956%)
Done in 544.8692936897278 sec.
Server Epoch:89 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  89, local model 0, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2418/3010 (80.3322%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 1.2048, Accuracy: 6750/10000 (67.5000%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 1, internal_epoch   1,  Average loss: 0.0073, Accuracy: 5198/5805 (89.5435%), train_poison_data_count: 5805
Global model norm: 3.1624275410308624.
Norm before scaling: 3.953278188036713. Distance: 1.94016955647372
Total norm for 5 adversaries is: 3.953278188036713. distance: 1.94016955647372
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 1.5977, Accuracy: 4881/8991 (54.2876%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 2, internal_epoch   1,  Average loss: 0.0114, Accuracy: 4014/4779 (83.9925%), train_poison_data_count: 4779
Global model norm: 3.1624275410308624.
Norm before scaling: 4.146527843993182. Distance: 2.014662046844181
Total norm for 5 adversaries is: 4.146527843993182. distance: 2.014662046844181
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 0.7515, Accuracy: 6716/8991 (74.6969%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 3, internal_epoch   1,  Average loss: 0.0106, Accuracy: 4417/5123 (86.2190%), train_poison_data_count: 5123
Global model norm: 3.1624275410308624.
Norm before scaling: 4.168855524514773. Distance: 2.0798983930566064
Total norm for 5 adversaries is: 4.168855524514773. distance: 2.0798983930566064
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 0.9790, Accuracy: 6661/8991 (74.0852%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 4, internal_epoch   1,  Average loss: 0.0113, Accuracy: 3755/4462 (84.1551%), train_poison_data_count: 4462
Global model norm: 3.1624275410308624.
Norm before scaling: 3.9604112625419647. Distance: 1.583673147912648
Total norm for 5 adversaries is: 3.9604112625419647. distance: 1.583673147912648
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 1.0497, Accuracy: 5867/8991 (65.2541%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  89, local model 5, internal_epoch   1,  Average loss: 0.0097, Accuracy: 3320/3841 (86.4358%), train_poison_data_count: 3841
Global model norm: 3.1624275410308624.
Norm before scaling: 3.8595725561073384. Distance: 1.5845223864258646
Total norm for 5 adversaries is: 3.8595725561073384. distance: 1.5845223864258646
___Test Local_Simple poisoned: True, epoch: 89: Average loss: 1.3987, Accuracy: 5905/8991 (65.6768%)
___Train Local_Simple,  epoch  89, local model 6, internal_epoch   1,  Average loss: 0.0130, Accuracy: 2348/2945 (79.7284%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 1.1283, Accuracy: 6001/10000 (60.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  89, local model 7, internal_epoch   1,  Average loss: 0.0096, Accuracy: 2383/2756 (86.4659%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 1.2607, Accuracy: 5596/10000 (55.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  89, local model 8, internal_epoch   1,  Average loss: 0.0132, Accuracy: 2770/3437 (80.5935%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 0.9593, Accuracy: 6996/10000 (69.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  89, local model 9, internal_epoch   1,  Average loss: 0.0075, Accuracy: 5223/5809 (89.9122%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 2.2620, Accuracy: 4159/10000 (41.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  89, local model 10, internal_epoch   1,  Average loss: 0.0074, Accuracy: 2307/2592 (89.0046%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 1.4003, Accuracy: 5709/10000 (57.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  89, local model 11, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2012/2510 (80.1594%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 0.9392, Accuracy: 6938/10000 (69.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  89, local model 12, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4097/4373 (93.6885%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 2.0967, Accuracy: 3516/10000 (35.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  89, local model 13, internal_epoch   1,  Average loss: 0.0073, Accuracy: 3935/4339 (90.6891%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 1.6756, Accuracy: 5271/10000 (52.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  89, local model 14, internal_epoch   1,  Average loss: 0.0117, Accuracy: 2295/2782 (82.4946%)
___Test Local_Simple poisoned: False, epoch: 89: Average loss: 1.5497, Accuracy: 5517/10000 (55.1700%), Attack Success Rate:0/10000(0.000)
time spent on training: 537.0146682262421
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.78345339 0.
 1.         1.         0.28615449]
___Test Target_Simple poisoned: False, epoch: 89: Average loss: 1.3535, Accuracy: 5480/10000 (54.8000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 89: Average loss: 1.4418, Accuracy: 4618/8991 (51.3625%)
Done in 545.4674434661865 sec.
Server Epoch:90 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  90, local model 0, internal_epoch   1,  Average loss: 0.0143, Accuracy: 2366/3010 (78.6047%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 1.1970, Accuracy: 6714/10000 (67.1400%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 1, internal_epoch   1,  Average loss: 0.0073, Accuracy: 5207/5805 (89.6985%), train_poison_data_count: 5805
Global model norm: 3.1777487803146136.
Norm before scaling: 3.9747376217408528. Distance: 1.9590078031103129
Total norm for 5 adversaries is: 3.9747376217408528. distance: 1.9590078031103129
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 1.5872, Accuracy: 4958/8991 (55.1440%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 2, internal_epoch   1,  Average loss: 0.0113, Accuracy: 4025/4779 (84.2226%), train_poison_data_count: 4779
Global model norm: 3.1777487803146136.
Norm before scaling: 4.1469822861822285. Distance: 1.9724199512324385
Total norm for 5 adversaries is: 4.1469822861822285. distance: 1.9724199512324385
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 0.7415, Accuracy: 6732/8991 (74.8749%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 3, internal_epoch   1,  Average loss: 0.0104, Accuracy: 4438/5123 (86.6289%), train_poison_data_count: 5123
Global model norm: 3.1777487803146136.
Norm before scaling: 4.1650389480143595. Distance: 2.0551805956116396
Total norm for 5 adversaries is: 4.1650389480143595. distance: 2.0551805956116396
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 0.9450, Accuracy: 6760/8991 (75.1863%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 4, internal_epoch   1,  Average loss: 0.0114, Accuracy: 3700/4462 (82.9225%), train_poison_data_count: 4462
Global model norm: 3.1777487803146136.
Norm before scaling: 3.973372283292335. Distance: 1.573387058817069
Total norm for 5 adversaries is: 3.973372283292335. distance: 1.573387058817069
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 0.9852, Accuracy: 6020/8991 (66.9558%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  90, local model 5, internal_epoch   1,  Average loss: 0.0095, Accuracy: 3336/3841 (86.8524%), train_poison_data_count: 3841
Global model norm: 3.1777487803146136.
Norm before scaling: 3.864582702691506. Distance: 1.5744939899493413
Total norm for 5 adversaries is: 3.864582702691506. distance: 1.5744939899493413
___Test Local_Simple poisoned: True, epoch: 90: Average loss: 1.3797, Accuracy: 5981/8991 (66.5221%)
___Train Local_Simple,  epoch  90, local model 6, internal_epoch   1,  Average loss: 0.0131, Accuracy: 2350/2945 (79.7963%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 1.0688, Accuracy: 6349/10000 (63.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 7, internal_epoch   1,  Average loss: 0.0097, Accuracy: 2384/2756 (86.5022%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 1.3274, Accuracy: 5414/10000 (54.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 8, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2765/3437 (80.4481%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 1.0146, Accuracy: 6780/10000 (67.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 9, internal_epoch   1,  Average loss: 0.0075, Accuracy: 5233/5809 (90.0844%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 2.2699, Accuracy: 4100/10000 (41.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 10, internal_epoch   1,  Average loss: 0.0071, Accuracy: 2310/2592 (89.1204%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 1.4105, Accuracy: 5647/10000 (56.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 11, internal_epoch   1,  Average loss: 0.0139, Accuracy: 1996/2510 (79.5219%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 0.9285, Accuracy: 6988/10000 (69.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 12, internal_epoch   1,  Average loss: 0.0049, Accuracy: 4090/4373 (93.5285%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 2.1386, Accuracy: 3508/10000 (35.0800%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  90, local model 13, internal_epoch   1,  Average loss: 0.0073, Accuracy: 3939/4339 (90.7813%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 1.6231, Accuracy: 5396/10000 (53.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  90, local model 14, internal_epoch   1,  Average loss: 0.0117, Accuracy: 2310/2782 (83.0338%)
___Test Local_Simple poisoned: False, epoch: 90: Average loss: 1.5950, Accuracy: 5246/10000 (52.4600%), Attack Success Rate:0/10000(0.000)
time spent on training: 542.0043196678162
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.72820451 0.
 1.         1.         0.37052855]
___Test Target_Simple poisoned: False, epoch: 90: Average loss: 1.3484, Accuracy: 5493/10000 (54.9300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 90: Average loss: 1.4369, Accuracy: 4625/8991 (51.4403%)
Done in 550.4529016017914 sec.
Server Epoch:91 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  91, local model 0, internal_epoch   1,  Average loss: 0.0141, Accuracy: 2382/3010 (79.1362%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 1.2021, Accuracy: 6665/10000 (66.6500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 1, internal_epoch   1,  Average loss: 0.0073, Accuracy: 5204/5805 (89.6469%), train_poison_data_count: 5805
Global model norm: 3.193196461106205.
Norm before scaling: 3.9670654085775565. Distance: 1.9245158094359847
Total norm for 5 adversaries is: 3.9670654085775565. distance: 1.9245158094359847
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 1.5599, Accuracy: 4970/8991 (55.2775%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 2, internal_epoch   1,  Average loss: 0.0115, Accuracy: 3957/4779 (82.7997%), train_poison_data_count: 4779
Global model norm: 3.193196461106205.
Norm before scaling: 4.170598095418779. Distance: 2.012026983554159
Total norm for 5 adversaries is: 4.170598095418779. distance: 2.012026983554159
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 0.7168, Accuracy: 6859/8991 (76.2874%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 3, internal_epoch   1,  Average loss: 0.0105, Accuracy: 4428/5123 (86.4337%), train_poison_data_count: 5123
Global model norm: 3.193196461106205.
Norm before scaling: 4.1815033292792485. Distance: 2.0873120525976545
Total norm for 5 adversaries is: 4.1815033292792485. distance: 2.0873120525976545
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 0.9954, Accuracy: 6582/8991 (73.2065%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 4, internal_epoch   1,  Average loss: 0.0112, Accuracy: 3738/4462 (83.7741%), train_poison_data_count: 4462
Global model norm: 3.193196461106205.
Norm before scaling: 3.9806027974776157. Distance: 1.5821576103327113
Total norm for 5 adversaries is: 3.9806027974776157. distance: 1.5821576103327113
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 1.0615, Accuracy: 5756/8991 (64.0196%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  91, local model 5, internal_epoch   1,  Average loss: 0.0095, Accuracy: 3327/3841 (86.6181%), train_poison_data_count: 3841
Global model norm: 3.193196461106205.
Norm before scaling: 3.864096652881506. Distance: 1.5698716792738145
Total norm for 5 adversaries is: 3.864096652881506. distance: 1.5698716792738145
___Test Local_Simple poisoned: True, epoch: 91: Average loss: 1.3755, Accuracy: 5923/8991 (65.8770%)
___Train Local_Simple,  epoch  91, local model 6, internal_epoch   1,  Average loss: 0.0130, Accuracy: 2333/2945 (79.2190%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 1.0930, Accuracy: 6217/10000 (62.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 7, internal_epoch   1,  Average loss: 0.0098, Accuracy: 2371/2756 (86.0305%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 1.2490, Accuracy: 5656/10000 (56.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 8, internal_epoch   1,  Average loss: 0.0134, Accuracy: 2791/3437 (81.2045%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.9930, Accuracy: 6856/10000 (68.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 9, internal_epoch   1,  Average loss: 0.0075, Accuracy: 5257/5809 (90.4975%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 2.2867, Accuracy: 4099/10000 (40.9900%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  91, local model 10, internal_epoch   1,  Average loss: 0.0072, Accuracy: 2302/2592 (88.8117%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 1.3901, Accuracy: 5753/10000 (57.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 11, internal_epoch   1,  Average loss: 0.0142, Accuracy: 2005/2510 (79.8805%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 0.9123, Accuracy: 7043/10000 (70.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 12, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4088/4373 (93.4827%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 2.0568, Accuracy: 3568/10000 (35.6800%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  91, local model 13, internal_epoch   1,  Average loss: 0.0074, Accuracy: 3937/4339 (90.7352%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 1.7041, Accuracy: 5225/10000 (52.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  91, local model 14, internal_epoch   1,  Average loss: 0.0116, Accuracy: 2320/2782 (83.3932%)
___Test Local_Simple poisoned: False, epoch: 91: Average loss: 1.5655, Accuracy: 5271/10000 (52.7100%), Attack Success Rate:0/10000(0.000)
time spent on training: 546.6968567371368
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.69165644 0.
 1.         1.         0.43726174]
___Test Target_Simple poisoned: False, epoch: 91: Average loss: 1.3428, Accuracy: 5509/10000 (55.0900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 91: Average loss: 1.4319, Accuracy: 4626/8991 (51.4515%)
Done in 555.155886888504 sec.
Server Epoch:92 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  92, local model 0, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2407/3010 (79.9668%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 1.1720, Accuracy: 6815/10000 (68.1500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 1, internal_epoch   1,  Average loss: 0.0073, Accuracy: 5219/5805 (89.9053%), train_poison_data_count: 5805
Global model norm: 3.208621635529467.
Norm before scaling: 3.9897913600513903. Distance: 1.951709509047309
Total norm for 5 adversaries is: 3.9897913600513903. distance: 1.951709509047309
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 1.5832, Accuracy: 4933/8991 (54.8660%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 2, internal_epoch   1,  Average loss: 0.0113, Accuracy: 3993/4779 (83.5530%), train_poison_data_count: 4779
Global model norm: 3.208621635529467.
Norm before scaling: 4.160802656646743. Distance: 1.9711960628776741
Total norm for 5 adversaries is: 4.160802656646743. distance: 1.9711960628776741
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 0.7088, Accuracy: 6898/8991 (76.7212%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 3, internal_epoch   1,  Average loss: 0.0104, Accuracy: 4424/5123 (86.3557%), train_poison_data_count: 5123
Global model norm: 3.208621635529467.
Norm before scaling: 4.19604122148163. Distance: 2.0628558921093125
Total norm for 5 adversaries is: 4.19604122148163. distance: 2.0628558921093125
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 0.9382, Accuracy: 6747/8991 (75.0417%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 4, internal_epoch   1,  Average loss: 0.0111, Accuracy: 3744/4462 (83.9086%), train_poison_data_count: 4462
Global model norm: 3.208621635529467.
Norm before scaling: 3.998770763346888. Distance: 1.585865714416958
Total norm for 5 adversaries is: 3.998770763346888. distance: 1.585865714416958
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 1.0169, Accuracy: 5825/8991 (64.7870%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  92, local model 5, internal_epoch   1,  Average loss: 0.0095, Accuracy: 3326/3841 (86.5920%), train_poison_data_count: 3841
Global model norm: 3.208621635529467.
Norm before scaling: 3.886555577212391. Distance: 1.5735634322470688
Total norm for 5 adversaries is: 3.886555577212391. distance: 1.5735634322470688
___Test Local_Simple poisoned: True, epoch: 92: Average loss: 1.3989, Accuracy: 5881/8991 (65.4099%)
___Train Local_Simple,  epoch  92, local model 6, internal_epoch   1,  Average loss: 0.0129, Accuracy: 2321/2945 (78.8115%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 1.0992, Accuracy: 6137/10000 (61.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 7, internal_epoch   1,  Average loss: 0.0094, Accuracy: 2380/2756 (86.3570%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 1.2483, Accuracy: 5621/10000 (56.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 8, internal_epoch   1,  Average loss: 0.0133, Accuracy: 2777/3437 (80.7972%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 1.0122, Accuracy: 6799/10000 (67.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 9, internal_epoch   1,  Average loss: 0.0075, Accuracy: 5246/5809 (90.3081%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 2.2224, Accuracy: 4189/10000 (41.8900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 10, internal_epoch   1,  Average loss: 0.0071, Accuracy: 2316/2592 (89.3519%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 1.3938, Accuracy: 5733/10000 (57.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 11, internal_epoch   1,  Average loss: 0.0139, Accuracy: 1999/2510 (79.6414%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 0.8684, Accuracy: 7214/10000 (72.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 12, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4096/4373 (93.6657%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 2.0650, Accuracy: 3539/10000 (35.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 13, internal_epoch   1,  Average loss: 0.0073, Accuracy: 3937/4339 (90.7352%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 1.6320, Accuracy: 5286/10000 (52.8600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  92, local model 14, internal_epoch   1,  Average loss: 0.0115, Accuracy: 2294/2782 (82.4587%)
___Test Local_Simple poisoned: False, epoch: 92: Average loss: 1.5716, Accuracy: 5351/10000 (53.5100%), Attack Success Rate:0/10000(0.000)
time spent on training: 547.2574889659882
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.86749723 0.
 1.         1.         0.38204939]
___Test Target_Simple poisoned: False, epoch: 92: Average loss: 1.3373, Accuracy: 5529/10000 (55.2900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 92: Average loss: 1.4267, Accuracy: 4637/8991 (51.5738%)
Done in 556.1479835510254 sec.
Server Epoch:93 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  93, local model 0, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2413/3010 (80.1661%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 1.1684, Accuracy: 6822/10000 (68.2200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 1, internal_epoch   1,  Average loss: 0.0073, Accuracy: 5211/5805 (89.7674%), train_poison_data_count: 5805
Global model norm: 3.2241574391811194.
Norm before scaling: 3.9933571492431192. Distance: 1.9328967755261732
Total norm for 5 adversaries is: 3.9933571492431192. distance: 1.9328967755261732
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 1.5405, Accuracy: 5009/8991 (55.7113%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 2, internal_epoch   1,  Average loss: 0.0114, Accuracy: 3994/4779 (83.5740%), train_poison_data_count: 4779
Global model norm: 3.2241574391811194.
Norm before scaling: 4.166291919386344. Distance: 1.9663121706766882
Total norm for 5 adversaries is: 4.166291919386344. distance: 1.9663121706766882
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.6571, Accuracy: 7134/8991 (79.3460%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 3, internal_epoch   1,  Average loss: 0.0104, Accuracy: 4425/5123 (86.3752%), train_poison_data_count: 5123
Global model norm: 3.2241574391811194.
Norm before scaling: 4.195773704935983. Distance: 2.05956278800042
Total norm for 5 adversaries is: 4.195773704935983. distance: 2.05956278800042
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.9822, Accuracy: 6639/8991 (73.8405%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 4, internal_epoch   1,  Average loss: 0.0112, Accuracy: 3743/4462 (83.8861%), train_poison_data_count: 4462
Global model norm: 3.2241574391811194.
Norm before scaling: 4.001926196758475. Distance: 1.566926028041179
Total norm for 5 adversaries is: 4.001926196758475. distance: 1.566926028041179
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 0.9745, Accuracy: 6055/8991 (67.3451%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  93, local model 5, internal_epoch   1,  Average loss: 0.0094, Accuracy: 3354/3841 (87.3210%), train_poison_data_count: 3841
Global model norm: 3.2241574391811194.
Norm before scaling: 3.9017961669662147. Distance: 1.564414339382474
Total norm for 5 adversaries is: 3.9017961669662147. distance: 1.564414339382474
___Test Local_Simple poisoned: True, epoch: 93: Average loss: 1.4055, Accuracy: 5924/8991 (65.8881%)
___Train Local_Simple,  epoch  93, local model 6, internal_epoch   1,  Average loss: 0.0132, Accuracy: 2307/2945 (78.3362%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 1.1245, Accuracy: 6047/10000 (60.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  93, local model 7, internal_epoch   1,  Average loss: 0.0095, Accuracy: 2392/2756 (86.7925%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 1.2315, Accuracy: 5651/10000 (56.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  93, local model 8, internal_epoch   1,  Average loss: 0.0131, Accuracy: 2784/3437 (81.0009%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 1.0086, Accuracy: 6766/10000 (67.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  93, local model 9, internal_epoch   1,  Average loss: 0.0074, Accuracy: 5251/5809 (90.3942%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 2.1979, Accuracy: 4219/10000 (42.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  93, local model 10, internal_epoch   1,  Average loss: 0.0073, Accuracy: 2308/2592 (89.0432%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 1.3439, Accuracy: 6019/10000 (60.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  93, local model 11, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2008/2510 (80.0000%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 0.8528, Accuracy: 7292/10000 (72.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  93, local model 12, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4092/4373 (93.5742%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 2.0853, Accuracy: 3502/10000 (35.0200%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  93, local model 13, internal_epoch   1,  Average loss: 0.0073, Accuracy: 3923/4339 (90.4125%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 1.5816, Accuracy: 5438/10000 (54.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  93, local model 14, internal_epoch   1,  Average loss: 0.0115, Accuracy: 2302/2782 (82.7462%)
___Test Local_Simple poisoned: False, epoch: 93: Average loss: 1.5716, Accuracy: 5327/10000 (53.2700%), Attack Success Rate:0/10000(0.000)
time spent on training: 555.7252790927887
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.97838102 0.
 1.         1.         0.3496452 ]
___Test Target_Simple poisoned: False, epoch: 93: Average loss: 1.3301, Accuracy: 5556/10000 (55.5600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 93: Average loss: 1.4201, Accuracy: 4658/8991 (51.8074%)
Done in 564.0828847885132 sec.
Server Epoch:94 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  94, local model 0, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2384/3010 (79.2027%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 1.1705, Accuracy: 6781/10000 (67.8100%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 1, internal_epoch   1,  Average loss: 0.0072, Accuracy: 5218/5805 (89.8880%), train_poison_data_count: 5805
Global model norm: 3.2396935120191306.
Norm before scaling: 3.9999452825618462. Distance: 1.9176132587471022
Total norm for 5 adversaries is: 3.9999452825618462. distance: 1.9176132587471022
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 1.5392, Accuracy: 4977/8991 (55.3554%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 2, internal_epoch   1,  Average loss: 0.0113, Accuracy: 3978/4779 (83.2392%), train_poison_data_count: 4779
Global model norm: 3.2396935120191306.
Norm before scaling: 4.19093637241277. Distance: 1.9578191880388185
Total norm for 5 adversaries is: 4.19093637241277. distance: 1.9578191880388185
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 0.7045, Accuracy: 6889/8991 (76.6211%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 3, internal_epoch   1,  Average loss: 0.0103, Accuracy: 4419/5123 (86.2581%), train_poison_data_count: 5123
Global model norm: 3.2396935120191306.
Norm before scaling: 4.199226471649878. Distance: 2.0569366792642017
Total norm for 5 adversaries is: 4.199226471649878. distance: 2.0569366792642017
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 0.9938, Accuracy: 6588/8991 (73.2733%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 4, internal_epoch   1,  Average loss: 0.0111, Accuracy: 3734/4462 (83.6844%), train_poison_data_count: 4462
Global model norm: 3.2396935120191306.
Norm before scaling: 4.012964933560148. Distance: 1.563355783709364
Total norm for 5 adversaries is: 4.012964933560148. distance: 1.563355783709364
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 1.0083, Accuracy: 5910/8991 (65.7324%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  94, local model 5, internal_epoch   1,  Average loss: 0.0095, Accuracy: 3330/3841 (86.6962%), train_poison_data_count: 3841
Global model norm: 3.2396935120191306.
Norm before scaling: 3.910610359338854. Distance: 1.560429307235361
Total norm for 5 adversaries is: 3.910610359338854. distance: 1.560429307235361
___Test Local_Simple poisoned: True, epoch: 94: Average loss: 1.3378, Accuracy: 6002/8991 (66.7556%)
___Train Local_Simple,  epoch  94, local model 6, internal_epoch   1,  Average loss: 0.0128, Accuracy: 2348/2945 (79.7284%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 1.0955, Accuracy: 6239/10000 (62.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 7, internal_epoch   1,  Average loss: 0.0093, Accuracy: 2406/2756 (87.3004%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 1.2513, Accuracy: 5632/10000 (56.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 8, internal_epoch   1,  Average loss: 0.0131, Accuracy: 2776/3437 (80.7681%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.9850, Accuracy: 6920/10000 (69.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 9, internal_epoch   1,  Average loss: 0.0074, Accuracy: 5247/5809 (90.3254%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 2.1906, Accuracy: 4239/10000 (42.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 10, internal_epoch   1,  Average loss: 0.0071, Accuracy: 2306/2592 (88.9660%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 1.3227, Accuracy: 6108/10000 (61.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 11, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2000/2510 (79.6813%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 0.8482, Accuracy: 7340/10000 (73.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 12, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4088/4373 (93.4827%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 2.0943, Accuracy: 3537/10000 (35.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 13, internal_epoch   1,  Average loss: 0.0072, Accuracy: 3940/4339 (90.8043%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 1.6560, Accuracy: 5251/10000 (52.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  94, local model 14, internal_epoch   1,  Average loss: 0.0113, Accuracy: 2327/2782 (83.6449%)
___Test Local_Simple poisoned: False, epoch: 94: Average loss: 1.5727, Accuracy: 5274/10000 (52.7400%), Attack Success Rate:0/10000(0.000)
time spent on training: 558.7048184871674
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.47769859 0.
 1.         1.         0.31694771]
___Test Target_Simple poisoned: False, epoch: 94: Average loss: 1.3274, Accuracy: 5568/10000 (55.6800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 94: Average loss: 1.4169, Accuracy: 4675/8991 (51.9964%)
Done in 567.1351733207703 sec.
Server Epoch:95 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  95, local model 0, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2428/3010 (80.6645%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 1.1617, Accuracy: 6784/10000 (67.8400%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 1, internal_epoch   1,  Average loss: 0.0071, Accuracy: 5221/5805 (89.9397%), train_poison_data_count: 5805
Global model norm: 3.25403872216836.
Norm before scaling: 3.997556059004708. Distance: 1.9101126886249014
Total norm for 5 adversaries is: 3.997556059004708. distance: 1.9101126886249014
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 1.5520, Accuracy: 4976/8991 (55.3442%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 2, internal_epoch   1,  Average loss: 0.0114, Accuracy: 3965/4779 (82.9671%), train_poison_data_count: 4779
Global model norm: 3.25403872216836.
Norm before scaling: 4.197740019433309. Distance: 1.9597656274331337
Total norm for 5 adversaries is: 4.197740019433309. distance: 1.9597656274331337
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 0.6950, Accuracy: 6941/8991 (77.1994%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 3, internal_epoch   1,  Average loss: 0.0103, Accuracy: 4421/5123 (86.2971%), train_poison_data_count: 5123
Global model norm: 3.25403872216836.
Norm before scaling: 4.214975887062182. Distance: 2.0383157934066847
Total norm for 5 adversaries is: 4.214975887062182. distance: 2.0383157934066847
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 0.9436, Accuracy: 6716/8991 (74.6969%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 4, internal_epoch   1,  Average loss: 0.0111, Accuracy: 3735/4462 (83.7069%), train_poison_data_count: 4462
Global model norm: 3.25403872216836.
Norm before scaling: 4.015906654306536. Distance: 1.5645364079589914
Total norm for 5 adversaries is: 4.015906654306536. distance: 1.5645364079589914
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 0.9578, Accuracy: 6095/8991 (67.7900%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  95, local model 5, internal_epoch   1,  Average loss: 0.0093, Accuracy: 3357/3841 (87.3991%), train_poison_data_count: 3841
Global model norm: 3.25403872216836.
Norm before scaling: 3.9105874356414634. Distance: 1.5524011410306744
Total norm for 5 adversaries is: 3.9105874356414634. distance: 1.5524011410306744
___Test Local_Simple poisoned: True, epoch: 95: Average loss: 1.3824, Accuracy: 5908/8991 (65.7102%)
___Train Local_Simple,  epoch  95, local model 6, internal_epoch   1,  Average loss: 0.0129, Accuracy: 2315/2945 (78.6078%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 1.1186, Accuracy: 6138/10000 (61.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 7, internal_epoch   1,  Average loss: 0.0094, Accuracy: 2397/2756 (86.9739%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 1.2836, Accuracy: 5482/10000 (54.8200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 8, internal_epoch   1,  Average loss: 0.0132, Accuracy: 2769/3437 (80.5644%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.9862, Accuracy: 6884/10000 (68.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 9, internal_epoch   1,  Average loss: 0.0074, Accuracy: 5235/5809 (90.1188%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 2.1922, Accuracy: 4252/10000 (42.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 10, internal_epoch   1,  Average loss: 0.0072, Accuracy: 2301/2592 (88.7731%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 1.3402, Accuracy: 6019/10000 (60.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 11, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2021/2510 (80.5179%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 0.9362, Accuracy: 6969/10000 (69.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 12, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4089/4373 (93.5056%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 2.0349, Accuracy: 3581/10000 (35.8100%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  95, local model 13, internal_epoch   1,  Average loss: 0.0072, Accuracy: 3933/4339 (90.6430%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 1.6273, Accuracy: 5295/10000 (52.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  95, local model 14, internal_epoch   1,  Average loss: 0.0118, Accuracy: 2283/2782 (82.0633%)
___Test Local_Simple poisoned: False, epoch: 95: Average loss: 1.5453, Accuracy: 5363/10000 (53.6300%), Attack Success Rate:0/10000(0.000)
time spent on training: 563.642938375473
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.62610798 0.
 1.         1.         0.24981687]
___Test Target_Simple poisoned: False, epoch: 95: Average loss: 1.3243, Accuracy: 5580/10000 (55.8000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 95: Average loss: 1.4141, Accuracy: 4682/8991 (52.0743%)
Done in 572.1295583248138 sec.
Server Epoch:96 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  96, local model 0, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2396/3010 (79.6013%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 1.1587, Accuracy: 6842/10000 (68.4200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 1, internal_epoch   1,  Average loss: 0.0071, Accuracy: 5214/5805 (89.8191%), train_poison_data_count: 5805
Global model norm: 3.268465695681265.
Norm before scaling: 4.026523391835691. Distance: 1.912486209695003
Total norm for 5 adversaries is: 4.026523391835691. distance: 1.912486209695003
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 1.4935, Accuracy: 5088/8991 (56.5899%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 2, internal_epoch   1,  Average loss: 0.0113, Accuracy: 4031/4779 (84.3482%), train_poison_data_count: 4779
Global model norm: 3.268465695681265.
Norm before scaling: 4.195039253642284. Distance: 1.952002912538732
Total norm for 5 adversaries is: 4.195039253642284. distance: 1.952002912538732
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 0.6910, Accuracy: 6956/8991 (77.3663%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 3, internal_epoch   1,  Average loss: 0.0102, Accuracy: 4420/5123 (86.2776%), train_poison_data_count: 5123
Global model norm: 3.268465695681265.
Norm before scaling: 4.219402121545855. Distance: 2.0577996765525017
Total norm for 5 adversaries is: 4.219402121545855. distance: 2.0577996765525017
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 0.9884, Accuracy: 6620/8991 (73.6292%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 4, internal_epoch   1,  Average loss: 0.0110, Accuracy: 3739/4462 (83.7965%), train_poison_data_count: 4462
Global model norm: 3.268465695681265.
Norm before scaling: 4.031855811205137. Distance: 1.5746985525450035
Total norm for 5 adversaries is: 4.031855811205137. distance: 1.5746985525450035
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 1.0202, Accuracy: 5832/8991 (64.8649%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  96, local model 5, internal_epoch   1,  Average loss: 0.0094, Accuracy: 3332/3841 (86.7482%), train_poison_data_count: 3841
Global model norm: 3.268465695681265.
Norm before scaling: 3.922562254003835. Distance: 1.5638365560432888
Total norm for 5 adversaries is: 3.922562254003835. distance: 1.5638365560432888
___Test Local_Simple poisoned: True, epoch: 96: Average loss: 1.3499, Accuracy: 5992/8991 (66.6444%)
___Train Local_Simple,  epoch  96, local model 6, internal_epoch   1,  Average loss: 0.0129, Accuracy: 2358/2945 (80.0679%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 1.0886, Accuracy: 6173/10000 (61.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 7, internal_epoch   1,  Average loss: 0.0095, Accuracy: 2383/2756 (86.4659%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 1.2106, Accuracy: 5767/10000 (57.6700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 8, internal_epoch   1,  Average loss: 0.0130, Accuracy: 2760/3437 (80.3026%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.9821, Accuracy: 6852/10000 (68.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 9, internal_epoch   1,  Average loss: 0.0073, Accuracy: 5241/5809 (90.2221%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 2.2329, Accuracy: 4158/10000 (41.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 10, internal_epoch   1,  Average loss: 0.0070, Accuracy: 2305/2592 (88.9275%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 1.3288, Accuracy: 6034/10000 (60.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 11, internal_epoch   1,  Average loss: 0.0140, Accuracy: 2012/2510 (80.1594%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 0.8610, Accuracy: 7212/10000 (72.1200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 12, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4091/4373 (93.5513%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 2.0389, Accuracy: 3548/10000 (35.4800%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  96, local model 13, internal_epoch   1,  Average loss: 0.0072, Accuracy: 3934/4339 (90.6661%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 1.6441, Accuracy: 5283/10000 (52.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  96, local model 14, internal_epoch   1,  Average loss: 0.0114, Accuracy: 2307/2782 (82.9260%)
___Test Local_Simple poisoned: False, epoch: 96: Average loss: 1.5593, Accuracy: 5250/10000 (52.5000%), Attack Success Rate:0/10000(0.000)
time spent on training: 571.0796258449554
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.87280171 0.
 1.         1.         0.37060476]
___Test Target_Simple poisoned: False, epoch: 96: Average loss: 1.3184, Accuracy: 5600/10000 (56.0000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 96: Average loss: 1.4089, Accuracy: 4695/8991 (52.2189%)
Done in 579.3875782489777 sec.
Server Epoch:97 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  97, local model 0, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2403/3010 (79.8339%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 1.1781, Accuracy: 6752/10000 (67.5200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 1, internal_epoch   1,  Average loss: 0.0072, Accuracy: 5215/5805 (89.8363%), train_poison_data_count: 5805
Global model norm: 3.283742339579429.
Norm before scaling: 4.03461097364023. Distance: 1.9196736203386937
Total norm for 5 adversaries is: 4.03461097364023. distance: 1.9196736203386937
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 1.5601, Accuracy: 4965/8991 (55.2219%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 2, internal_epoch   1,  Average loss: 0.0113, Accuracy: 3987/4779 (83.4275%), train_poison_data_count: 4779
Global model norm: 3.283742339579429.
Norm before scaling: 4.199038195609618. Distance: 1.9326332249681977
Total norm for 5 adversaries is: 4.199038195609618. distance: 1.9326332249681977
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.6984, Accuracy: 6901/8991 (76.7545%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 3, internal_epoch   1,  Average loss: 0.0103, Accuracy: 4443/5123 (86.7265%), train_poison_data_count: 5123
Global model norm: 3.283742339579429.
Norm before scaling: 4.236228396489226. Distance: 2.0507094016431955
Total norm for 5 adversaries is: 4.236228396489226. distance: 2.0507094016431955
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.9710, Accuracy: 6606/8991 (73.4735%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 4, internal_epoch   1,  Average loss: 0.0111, Accuracy: 3732/4462 (83.6396%), train_poison_data_count: 4462
Global model norm: 3.283742339579429.
Norm before scaling: 4.022920030816026. Distance: 1.5381661530421946
Total norm for 5 adversaries is: 4.022920030816026. distance: 1.5381661530421946
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 0.9937, Accuracy: 5947/8991 (66.1439%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  97, local model 5, internal_epoch   1,  Average loss: 0.0095, Accuracy: 3320/3841 (86.4358%), train_poison_data_count: 3841
Global model norm: 3.283742339579429.
Norm before scaling: 3.9349754354056765. Distance: 1.5683438691053229
Total norm for 5 adversaries is: 3.9349754354056765. distance: 1.5683438691053229
___Test Local_Simple poisoned: True, epoch: 97: Average loss: 1.3597, Accuracy: 5949/8991 (66.1662%)
___Train Local_Simple,  epoch  97, local model 6, internal_epoch   1,  Average loss: 0.0129, Accuracy: 2332/2945 (79.1851%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 1.0722, Accuracy: 6299/10000 (62.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  97, local model 7, internal_epoch   1,  Average loss: 0.0094, Accuracy: 2406/2756 (87.3004%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 1.2669, Accuracy: 5568/10000 (55.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  97, local model 8, internal_epoch   1,  Average loss: 0.0133, Accuracy: 2780/3437 (80.8845%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 0.9798, Accuracy: 6920/10000 (69.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  97, local model 9, internal_epoch   1,  Average loss: 0.0074, Accuracy: 5261/5809 (90.5664%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 2.1767, Accuracy: 4204/10000 (42.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  97, local model 10, internal_epoch   1,  Average loss: 0.0069, Accuracy: 2319/2592 (89.4676%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 1.3550, Accuracy: 5932/10000 (59.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  97, local model 11, internal_epoch   1,  Average loss: 0.0136, Accuracy: 1992/2510 (79.3625%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 0.8942, Accuracy: 7124/10000 (71.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  97, local model 12, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4078/4373 (93.2541%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 2.0845, Accuracy: 3559/10000 (35.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  97, local model 13, internal_epoch   1,  Average loss: 0.0071, Accuracy: 3960/4339 (91.2653%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 1.6300, Accuracy: 5354/10000 (53.5400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  97, local model 14, internal_epoch   1,  Average loss: 0.0115, Accuracy: 2291/2782 (82.3508%)
___Test Local_Simple poisoned: False, epoch: 97: Average loss: 1.5663, Accuracy: 5379/10000 (53.7900%), Attack Success Rate:0/10000(0.000)
time spent on training: 571.892242193222
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.93293176 0.
 1.         1.         0.39360448]
___Test Target_Simple poisoned: False, epoch: 97: Average loss: 1.3114, Accuracy: 5626/10000 (56.2600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 97: Average loss: 1.4023, Accuracy: 4719/8991 (52.4858%)
Done in 580.686009645462 sec.
Server Epoch:98 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  98, local model 0, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2391/3010 (79.4352%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 1.1611, Accuracy: 6745/10000 (67.4500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 1, internal_epoch   1,  Average loss: 0.0071, Accuracy: 5213/5805 (89.8019%), train_poison_data_count: 5805
Global model norm: 3.298947374482056.
Norm before scaling: 4.029751284665068. Distance: 1.909059798825255
Total norm for 5 adversaries is: 4.029751284665068. distance: 1.909059798825255
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 1.5458, Accuracy: 4979/8991 (55.3776%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 2, internal_epoch   1,  Average loss: 0.0112, Accuracy: 4036/4779 (84.4528%), train_poison_data_count: 4779
Global model norm: 3.298947374482056.
Norm before scaling: 4.207894607689093. Distance: 1.9222218890486902
Total norm for 5 adversaries is: 4.207894607689093. distance: 1.9222218890486902
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 0.6846, Accuracy: 6920/8991 (76.9659%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 3, internal_epoch   1,  Average loss: 0.0102, Accuracy: 4433/5123 (86.5313%), train_poison_data_count: 5123
Global model norm: 3.298947374482056.
Norm before scaling: 4.233054542873202. Distance: 2.0489897541480677
Total norm for 5 adversaries is: 4.233054542873202. distance: 2.0489897541480677
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 1.0014, Accuracy: 6496/8991 (72.2500%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 4, internal_epoch   1,  Average loss: 0.0111, Accuracy: 3733/4462 (83.6620%), train_poison_data_count: 4462
Global model norm: 3.298947374482056.
Norm before scaling: 4.034428725708544. Distance: 1.5434014208682427
Total norm for 5 adversaries is: 4.034428725708544. distance: 1.5434014208682427
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 0.9723, Accuracy: 6007/8991 (66.8113%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  98, local model 5, internal_epoch   1,  Average loss: 0.0094, Accuracy: 3343/3841 (87.0346%), train_poison_data_count: 3841
Global model norm: 3.298947374482056.
Norm before scaling: 3.948581663035248. Distance: 1.552108926583395
Total norm for 5 adversaries is: 3.948581663035248. distance: 1.552108926583395
___Test Local_Simple poisoned: True, epoch: 98: Average loss: 1.3648, Accuracy: 5912/8991 (65.7546%)
___Train Local_Simple,  epoch  98, local model 6, internal_epoch   1,  Average loss: 0.0128, Accuracy: 2335/2945 (79.2869%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 1.0657, Accuracy: 6325/10000 (63.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 7, internal_epoch   1,  Average loss: 0.0093, Accuracy: 2393/2756 (86.8287%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 1.2785, Accuracy: 5553/10000 (55.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 8, internal_epoch   1,  Average loss: 0.0127, Accuracy: 2802/3437 (81.5246%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.9912, Accuracy: 6838/10000 (68.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 9, internal_epoch   1,  Average loss: 0.0073, Accuracy: 5234/5809 (90.1016%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 2.2409, Accuracy: 4120/10000 (41.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 10, internal_epoch   1,  Average loss: 0.0068, Accuracy: 2315/2592 (89.3133%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 1.3777, Accuracy: 5801/10000 (58.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 11, internal_epoch   1,  Average loss: 0.0140, Accuracy: 1986/2510 (79.1235%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 0.8919, Accuracy: 7111/10000 (71.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 12, internal_epoch   1,  Average loss: 0.0048, Accuracy: 4101/4373 (93.7800%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 2.0090, Accuracy: 3557/10000 (35.5700%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  98, local model 13, internal_epoch   1,  Average loss: 0.0072, Accuracy: 3939/4339 (90.7813%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 1.6621, Accuracy: 5284/10000 (52.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  98, local model 14, internal_epoch   1,  Average loss: 0.0113, Accuracy: 2298/2782 (82.6024%)
___Test Local_Simple poisoned: False, epoch: 98: Average loss: 1.5360, Accuracy: 5370/10000 (53.7000%), Attack Success Rate:0/10000(0.000)
time spent on training: 579.1024494171143
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.78461029 0.
 1.         1.         0.36121898]
___Test Target_Simple poisoned: False, epoch: 98: Average loss: 1.3063, Accuracy: 5645/10000 (56.4500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 98: Average loss: 1.3979, Accuracy: 4726/8991 (52.5637%)
Done in 587.4728548526764 sec.
Server Epoch:99 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch  99, local model 0, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2407/3010 (79.9668%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 1.1589, Accuracy: 6752/10000 (67.5200%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 1, internal_epoch   1,  Average loss: 0.0071, Accuracy: 5217/5805 (89.8708%), train_poison_data_count: 5805
Global model norm: 3.3137600499493227.
Norm before scaling: 4.043352516130908. Distance: 1.8951567885424596
Total norm for 5 adversaries is: 4.043352516130908. distance: 1.8951567885424596
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 1.4954, Accuracy: 5071/8991 (56.4008%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 2, internal_epoch   1,  Average loss: 0.0111, Accuracy: 4028/4779 (84.2854%), train_poison_data_count: 4779
Global model norm: 3.3137600499493227.
Norm before scaling: 4.221278810230517. Distance: 1.9380050124073067
Total norm for 5 adversaries is: 4.221278810230517. distance: 1.9380050124073067
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.6841, Accuracy: 6997/8991 (77.8223%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 3, internal_epoch   1,  Average loss: 0.0101, Accuracy: 4446/5123 (86.7851%), train_poison_data_count: 5123
Global model norm: 3.3137600499493227.
Norm before scaling: 4.238349878836641. Distance: 2.0229963020445534
Total norm for 5 adversaries is: 4.238349878836641. distance: 2.0229963020445534
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.9671, Accuracy: 6720/8991 (74.7414%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 4, internal_epoch   1,  Average loss: 0.0111, Accuracy: 3718/4462 (83.3259%), train_poison_data_count: 4462
Global model norm: 3.3137600499493227.
Norm before scaling: 4.051207590796303. Distance: 1.5395586017829834
Total norm for 5 adversaries is: 4.051207590796303. distance: 1.5395586017829834
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 0.9559, Accuracy: 6089/8991 (67.7233%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  99, local model 5, internal_epoch   1,  Average loss: 0.0093, Accuracy: 3344/3841 (87.0607%), train_poison_data_count: 3841
Global model norm: 3.3137600499493227.
Norm before scaling: 3.9415404161768985. Distance: 1.5379450270274446
Total norm for 5 adversaries is: 3.9415404161768985. distance: 1.5379450270274446
___Test Local_Simple poisoned: True, epoch: 99: Average loss: 1.3547, Accuracy: 5910/8991 (65.7324%)
___Train Local_Simple,  epoch  99, local model 6, internal_epoch   1,  Average loss: 0.0130, Accuracy: 2321/2945 (78.8115%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 1.0715, Accuracy: 6288/10000 (62.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  99, local model 7, internal_epoch   1,  Average loss: 0.0095, Accuracy: 2384/2756 (86.5022%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 1.1739, Accuracy: 5870/10000 (58.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  99, local model 8, internal_epoch   1,  Average loss: 0.0129, Accuracy: 2791/3437 (81.2045%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 0.9577, Accuracy: 7006/10000 (70.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  99, local model 9, internal_epoch   1,  Average loss: 0.0073, Accuracy: 5253/5809 (90.4286%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 2.1495, Accuracy: 4377/10000 (43.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  99, local model 10, internal_epoch   1,  Average loss: 0.0071, Accuracy: 2313/2592 (89.2361%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 1.2780, Accuracy: 6336/10000 (63.3600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  99, local model 11, internal_epoch   1,  Average loss: 0.0139, Accuracy: 2000/2510 (79.6813%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 0.8689, Accuracy: 7192/10000 (71.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  99, local model 12, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4103/4373 (93.8257%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 1.9999, Accuracy: 3575/10000 (35.7500%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  99, local model 13, internal_epoch   1,  Average loss: 0.0072, Accuracy: 3943/4339 (90.8735%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 1.6067, Accuracy: 5371/10000 (53.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  99, local model 14, internal_epoch   1,  Average loss: 0.0114, Accuracy: 2307/2782 (82.9260%)
___Test Local_Simple poisoned: False, epoch: 99: Average loss: 1.5654, Accuracy: 5263/10000 (52.6300%), Attack Success Rate:0/10000(0.000)
time spent on training: 584.346109867096
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.8018486  0.
 1.         1.         0.29569218]
___Test Target_Simple poisoned: False, epoch: 99: Average loss: 1.3013, Accuracy: 5664/10000 (56.6400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 99: Average loss: 1.3933, Accuracy: 4737/8991 (52.6860%)
Done in 592.588383436203 sec.
Server Epoch:100 choose agents : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14].
___Train Local_Simple,  epoch 100, local model 0, internal_epoch   1,  Average loss: 0.0137, Accuracy: 2420/3010 (80.3987%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 1.1622, Accuracy: 6690/10000 (66.9000%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 1, internal_epoch   1,  Average loss: 0.0071, Accuracy: 5210/5805 (89.7502%), train_poison_data_count: 5805
Global model norm: 3.328374718981998.
Norm before scaling: 4.062986374130141. Distance: 1.9018678794524462
Total norm for 5 adversaries is: 4.062986374130141. distance: 1.9018678794524462
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 1.5373, Accuracy: 4991/8991 (55.5111%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 2, internal_epoch   1,  Average loss: 0.0111, Accuracy: 4006/4779 (83.8251%), train_poison_data_count: 4779
Global model norm: 3.328374718981998.
Norm before scaling: 4.241750677109947. Distance: 1.9445131796843615
Total norm for 5 adversaries is: 4.241750677109947. distance: 1.9445131796843615
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 0.6930, Accuracy: 6961/8991 (77.4219%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 3, internal_epoch   1,  Average loss: 0.0101, Accuracy: 4420/5123 (86.2776%), train_poison_data_count: 5123
Global model norm: 3.328374718981998.
Norm before scaling: 4.245844436246651. Distance: 2.0180127099566016
Total norm for 5 adversaries is: 4.245844436246651. distance: 2.0180127099566016
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 0.9627, Accuracy: 6688/8991 (74.3855%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 4, internal_epoch   1,  Average loss: 0.0112, Accuracy: 3704/4462 (83.0121%), train_poison_data_count: 4462
Global model norm: 3.328374718981998.
Norm before scaling: 4.080279603241057. Distance: 1.547911094699995
Total norm for 5 adversaries is: 4.080279603241057. distance: 1.547911094699995
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 0.9961, Accuracy: 5923/8991 (65.8770%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch 100, local model 5, internal_epoch   1,  Average loss: 0.0093, Accuracy: 3331/3841 (86.7222%), train_poison_data_count: 3841
Global model norm: 3.328374718981998.
Norm before scaling: 3.9607368132483636. Distance: 1.5469549139168628
Total norm for 5 adversaries is: 3.9607368132483636. distance: 1.5469549139168628
___Test Local_Simple poisoned: True, epoch: 100: Average loss: 1.3766, Accuracy: 5874/8991 (65.3320%)
___Train Local_Simple,  epoch 100, local model 6, internal_epoch   1,  Average loss: 0.0130, Accuracy: 2347/2945 (79.6944%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 1.0885, Accuracy: 6147/10000 (61.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 7, internal_epoch   1,  Average loss: 0.0090, Accuracy: 2405/2756 (87.2642%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 1.1850, Accuracy: 5872/10000 (58.7200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 8, internal_epoch   1,  Average loss: 0.0128, Accuracy: 2810/3437 (81.7573%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.9440, Accuracy: 7011/10000 (70.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 9, internal_epoch   1,  Average loss: 0.0073, Accuracy: 5255/5809 (90.4631%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 2.1363, Accuracy: 4277/10000 (42.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 10, internal_epoch   1,  Average loss: 0.0071, Accuracy: 2309/2592 (89.0818%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 1.3123, Accuracy: 6090/10000 (60.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 11, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2018/2510 (80.3984%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 0.8565, Accuracy: 7298/10000 (72.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 12, internal_epoch   1,  Average loss: 0.0047, Accuracy: 4088/4373 (93.4827%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 2.0014, Accuracy: 3573/10000 (35.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 13, internal_epoch   1,  Average loss: 0.0070, Accuracy: 3955/4339 (91.1500%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 1.5640, Accuracy: 5474/10000 (54.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch 100, local model 14, internal_epoch   1,  Average loss: 0.0112, Accuracy: 2314/2782 (83.1776%)
___Test Local_Simple poisoned: False, epoch: 100: Average loss: 1.5362, Accuracy: 5437/10000 (54.3700%), Attack Success Rate:0/10000(0.000)
time spent on training: 590.406379699707
[foolsgold agg] training data poison_ratio: 0.40998582722879634  data num: [3010, 5805, 4779, 5123, 4462, 3841, 2945, 2756, 3437, 5809, 2592, 2510, 4373, 4339, 2782]
[foolsgold agg] considering poison per batch poison_fraction: 0.40998582722879634
[foolsgold agg] wv: [0.         0.         0.         0.         0.         0.
 0.         0.         0.         1.         0.5301382  0.
 1.         1.         0.37259645]
___Test Target_Simple poisoned: False, epoch: 100: Average loss: 1.2973, Accuracy: 5679/10000 (56.7900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 100: Average loss: 1.3895, Accuracy: 4747/8991 (52.7972%)
Done in 598.8495802879333 sec.
Saving all the graphs.
This run has a label: Mar.17_19.39.35. Visdom environment: mnist_DBA
