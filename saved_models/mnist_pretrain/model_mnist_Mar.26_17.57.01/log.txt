current path: saved_models/mnist_pretrain/model_mnist_Mar.26_17.57.01
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
create model done
Poisoned following participants: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50]
We use following environment for graphs:  mnist_DBA
Server Epoch:1 choose agents : [23, 72, 61, 11, 71, 42, 45, 37, 21, 35].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 23, internal_epoch   1,  Average loss: 0.0393, Accuracy: 206/583 (35.3345%), train_poison_data_count: 583
Global model norm: 1.828686293811075.
Norm before scaling: 1.9879587207898899. Distance: 0.7919673892276929
Total norm for 7 adversaries is: 1.9879587207898899. distance: 0.7919673892276929
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.1145, Accuracy: 3348/8991 (37.2372%)
___Train Local_Simple,  epoch   1, local model 72, internal_epoch   1,  Average loss: 0.0438, Accuracy: 137/458 (29.9127%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.2736, Accuracy: 2038/10000 (20.3800%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch   1, local model 61, internal_epoch   1,  Average loss: 0.0398, Accuracy: 246/756 (32.5397%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.0205, Accuracy: 3657/10000 (36.5700%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 11, internal_epoch   1,  Average loss: 0.0358, Accuracy: 341/723 (47.1646%), train_poison_data_count: 723
Global model norm: 1.828686293811075.
Norm before scaling: 2.0956292899315687. Distance: 1.0431929786615513
Total norm for 7 adversaries is: 2.0956292899315687. distance: 1.0431929786615513
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.0122, Accuracy: 3437/8991 (38.2271%)
___Train Local_Simple,  epoch   1, local model 71, internal_epoch   1,  Average loss: 0.0349, Accuracy: 373/716 (52.0950%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.6362, Accuracy: 2756/10000 (27.5600%), Attack Success Rate:10/10000(0.100)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 42, internal_epoch   1,  Average loss: 0.0454, Accuracy: 118/359 (32.8691%), train_poison_data_count: 359
Global model norm: 1.828686293811075.
Norm before scaling: 1.8903811589146815. Distance: 0.46951781014044375
Total norm for 7 adversaries is: 1.8903811589146815. distance: 0.46951781014044375
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.2078, Accuracy: 1827/8991 (20.3203%)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 45, internal_epoch   1,  Average loss: 0.0367, Accuracy: 210/526 (39.9240%), train_poison_data_count: 526
Global model norm: 1.828686293811075.
Norm before scaling: 2.000642196547998. Distance: 0.8264339383096229
Total norm for 7 adversaries is: 2.000642196547998. distance: 0.8264339383096229
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.4421, Accuracy: 1426/8991 (15.8603%)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 37, internal_epoch   1,  Average loss: 0.0399, Accuracy: 189/531 (35.5932%), train_poison_data_count: 531
Global model norm: 1.828686293811075.
Norm before scaling: 1.9532451745255257. Distance: 0.6918464810869607
Total norm for 7 adversaries is: 1.9532451745255257. distance: 0.6918464810869607
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.0369, Accuracy: 2076/8991 (23.0898%)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 21, internal_epoch   1,  Average loss: 0.0350, Accuracy: 244/625 (39.0400%), train_poison_data_count: 625
Global model norm: 1.828686293811075.
Norm before scaling: 2.0557138178732157. Distance: 0.9712129478309507
Total norm for 7 adversaries is: 2.0557138178732157. distance: 0.9712129478309507
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.2077, Accuracy: 2659/8991 (29.5740%)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 35, internal_epoch   1,  Average loss: 0.0356, Accuracy: 238/572 (41.6084%), train_poison_data_count: 572
Global model norm: 1.828686293811075.
Norm before scaling: 2.0167699120104707. Distance: 0.8456416999763683
Total norm for 7 adversaries is: 2.0167699120104707. distance: 0.8456416999763683
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 2.5736, Accuracy: 1841/8991 (20.4760%)
time spent on training: 18.78036665916443
[foolsgold agg] training data poison_ratio: 0.6700290647974013  data num: [583, 458, 756, 723, 716, 359, 526, 531, 625, 572]
[foolsgold agg] considering poison per batch poison_fraction: 0.6700290647974013
[foolsgold agg] wv: [0.52550169 0.56747958 1.         0.51297215 1.         0.51297215
 0.2102928  0.2102928  0.52550169 1.        ]
___Test Target_Simple poisoned: False, epoch: 1: Average loss: 2.2252, Accuracy: 1973/10000 (19.7300%), Attack Success Rate:34/10000(0.340)
___Test Target_Simple poisoned: True, epoch: 1: Average loss: 2.2196, Accuracy: 1722/8991 (19.1525%)
Done in 70.41090631484985 sec.
Server Epoch:2 choose agents : [11, 59, 62, 28, 65, 22, 78, 58, 41, 81].
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 11, internal_epoch   1,  Average loss: 0.0357, Accuracy: 314/723 (43.4302%), train_poison_data_count: 723
Global model norm: 1.8301157749012045.
Norm before scaling: 2.119598479844538. Distance: 1.0420877686326975
Total norm for 4 adversaries is: 2.119598479844538. distance: 1.0420877686326975
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.0067, Accuracy: 3367/8991 (37.4486%)
___Train Local_Simple,  epoch   2, local model 59, internal_epoch   1,  Average loss: 0.0333, Accuracy: 274/694 (39.4813%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2656, Accuracy: 2548/10000 (25.4800%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch   2, local model 62, internal_epoch   1,  Average loss: 0.0379, Accuracy: 233/597 (39.0285%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.0830, Accuracy: 3011/10000 (30.1100%), Attack Success Rate:4/10000(0.040)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 28, internal_epoch   1,  Average loss: 0.0412, Accuracy: 122/440 (27.7273%), train_poison_data_count: 440
Global model norm: 1.8301157749012045.
Norm before scaling: 1.9007877824814536. Distance: 0.47533822315442037
Total norm for 4 adversaries is: 1.9007877824814536. distance: 0.47533822315442037
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.0151, Accuracy: 1665/8991 (18.5185%)
___Train Local_Simple,  epoch   2, local model 65, internal_epoch   1,  Average loss: 0.0429, Accuracy: 150/407 (36.8550%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2765, Accuracy: 2213/10000 (22.1300%), Attack Success Rate:20/10000(0.200)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 22, internal_epoch   1,  Average loss: 0.0344, Accuracy: 227/441 (51.4739%), train_poison_data_count: 441
Global model norm: 1.8301157749012045.
Norm before scaling: 1.9628348726923708. Distance: 0.6635303833709291
Total norm for 4 adversaries is: 1.9628348726923708. distance: 0.6635303833709291
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.9752, Accuracy: 892/8991 (9.9210%)
___Train Local_Simple,  epoch   2, local model 78, internal_epoch   1,  Average loss: 0.0364, Accuracy: 202/547 (36.9287%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2762, Accuracy: 2385/10000 (23.8500%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch   2, local model 58, internal_epoch   1,  Average loss: 0.0365, Accuracy: 307/639 (48.0438%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.1971, Accuracy: 3522/10000 (35.2200%), Attack Success Rate:0/10000(0.000)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 41, internal_epoch   1,  Average loss: 0.0356, Accuracy: 351/656 (53.5061%), train_poison_data_count: 656
Global model norm: 1.8301157749012045.
Norm before scaling: 2.1211192654643383. Distance: 1.0434863916888866
Total norm for 4 adversaries is: 2.1211192654643383. distance: 1.0434863916888866
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 2.2888, Accuracy: 3284/8991 (36.5254%)
___Train Local_Simple,  epoch   2, local model 81, internal_epoch   1,  Average loss: 0.0362, Accuracy: 294/652 (45.0920%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.3268, Accuracy: 3227/10000 (32.2700%), Attack Success Rate:0/10000(0.000)
time spent on training: 16.278565168380737
[foolsgold agg] training data poison_ratio: 0.3899240855762595  data num: [723, 694, 597, 440, 407, 441, 547, 639, 656, 652]
[foolsgold agg] considering poison per batch poison_fraction: 0.3899240855762595
[foolsgold agg] wv: [0. 0. 0. 0. 0. 1. 0. 1. 0. 1.]
___Test Target_Simple poisoned: False, epoch: 2: Average loss: 2.1970, Accuracy: 2122/10000 (21.2200%), Attack Success Rate:30/10000(0.300)
___Test Target_Simple poisoned: True, epoch: 2: Average loss: 2.1891, Accuracy: 1826/8991 (20.3092%)
Done in 68.38021850585938 sec.
Server Epoch:3 choose agents : [54, 55, 61, 73, 18, 42, 87, 41, 50, 28].
___Train Local_Simple,  epoch   3, local model 54, internal_epoch   1,  Average loss: 0.0346, Accuracy: 242/590 (41.0169%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2904, Accuracy: 1598/10000 (15.9800%), Attack Success Rate:21/10000(0.210)
___Train Local_Simple,  epoch   3, local model 55, internal_epoch   1,  Average loss: 0.0335, Accuracy: 298/707 (42.1499%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.4554, Accuracy: 3489/10000 (34.8900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 61, internal_epoch   1,  Average loss: 0.0389, Accuracy: 282/756 (37.3016%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.9080, Accuracy: 4101/10000 (41.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 73, internal_epoch   1,  Average loss: 0.0395, Accuracy: 276/604 (45.6954%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.0798, Accuracy: 3438/10000 (34.3800%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 18, internal_epoch   1,  Average loss: 0.0405, Accuracy: 228/564 (40.4255%), train_poison_data_count: 564
Global model norm: 1.8313084459579878.
Norm before scaling: 1.986724363882374. Distance: 0.7120637461596895
Total norm for 5 adversaries is: 1.986724363882374. distance: 0.7120637461596895
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.9923, Accuracy: 3155/8991 (35.0906%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 42, internal_epoch   1,  Average loss: 0.0437, Accuracy: 144/359 (40.1114%), train_poison_data_count: 359
Global model norm: 1.8313084459579878.
Norm before scaling: 1.9019078689427653. Distance: 0.456185120058574
Total norm for 5 adversaries is: 1.9019078689427653. distance: 0.456185120058574
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.1337, Accuracy: 1812/8991 (20.1535%)
___Train Local_Simple,  epoch   3, local model 87, internal_epoch   1,  Average loss: 0.0330, Accuracy: 207/513 (40.3509%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.4687, Accuracy: 2495/10000 (24.9500%), Attack Success Rate:13/10000(0.130)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 41, internal_epoch   1,  Average loss: 0.0347, Accuracy: 318/656 (48.4756%), train_poison_data_count: 656
Global model norm: 1.8313084459579878.
Norm before scaling: 2.115175536967336. Distance: 1.0103287740541806
Total norm for 5 adversaries is: 2.115175536967336. distance: 1.0103287740541806
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.2087, Accuracy: 3549/8991 (39.4728%)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 50, internal_epoch   1,  Average loss: 0.0369, Accuracy: 137/350 (39.1429%), train_poison_data_count: 350
Global model norm: 1.8313084459579878.
Norm before scaling: 1.9062429334165574. Distance: 0.4861459199234933
Total norm for 5 adversaries is: 1.9062429334165574. distance: 0.4861459199234933
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.3704, Accuracy: 1138/8991 (12.6571%)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 28, internal_epoch   1,  Average loss: 0.0409, Accuracy: 136/440 (30.9091%), train_poison_data_count: 440
Global model norm: 1.8313084459579878.
Norm before scaling: 1.9106747288295352. Distance: 0.4914739674303181
Total norm for 5 adversaries is: 1.9106747288295352. distance: 0.4914739674303181
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 2.0129, Accuracy: 1878/8991 (20.8876%)
time spent on training: 18.191442489624023
[foolsgold agg] training data poison_ratio: 0.4276945296985015  data num: [590, 707, 756, 604, 564, 359, 513, 656, 350, 440]
[foolsgold agg] considering poison per batch poison_fraction: 0.4276945296985015
[foolsgold agg] wv: [0.99212614 1.         1.         1.         0.33816772 0.35375654
 1.         0.97797707 1.         0.33816772]
___Test Target_Simple poisoned: False, epoch: 3: Average loss: 2.1181, Accuracy: 3750/10000 (37.5000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 3: Average loss: 2.1031, Accuracy: 3367/8991 (37.4486%)
Done in 77.1897566318512 sec.
Server Epoch:4 choose agents : [37, 92, 95, 76, 13, 99, 94, 74, 45, 44].
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 37, internal_epoch   1,  Average loss: 0.0367, Accuracy: 284/531 (53.4840%), train_poison_data_count: 531
Global model norm: 1.8367599268507813.
Norm before scaling: 1.989473176739404. Distance: 0.659465925446977
Total norm for 4 adversaries is: 1.989473176739404. distance: 0.659465925446977
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.9022, Accuracy: 2682/8991 (29.8298%)
___Train Local_Simple,  epoch   4, local model 92, internal_epoch   1,  Average loss: 0.0409, Accuracy: 173/452 (38.2743%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.1606, Accuracy: 1922/10000 (19.2200%), Attack Success Rate:21/10000(0.210)
___Train Local_Simple,  epoch   4, local model 95, internal_epoch   1,  Average loss: 0.0331, Accuracy: 455/804 (56.5920%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.4306, Accuracy: 3907/10000 (39.0700%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   4, local model 76, internal_epoch   1,  Average loss: 0.0350, Accuracy: 239/538 (44.4238%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.3044, Accuracy: 2540/10000 (25.4000%), Attack Success Rate:13/10000(0.130)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 13, internal_epoch   1,  Average loss: 0.0311, Accuracy: 364/668 (54.4910%), train_poison_data_count: 668
Global model norm: 1.8367599268507813.
Norm before scaling: 2.1328657094724823. Distance: 1.0247335017733523
Total norm for 4 adversaries is: 2.1328657094724823. distance: 1.0247335017733523
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 2.6291, Accuracy: 2487/8991 (27.6610%)
___Train Local_Simple,  epoch   4, local model 99, internal_epoch   1,  Average loss: 0.0347, Accuracy: 331/508 (65.1575%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.3473, Accuracy: 3497/10000 (34.9700%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   4, local model 94, internal_epoch   1,  Average loss: 0.0328, Accuracy: 279/599 (46.5776%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.4620, Accuracy: 1972/10000 (19.7200%), Attack Success Rate:29/10000(0.290)
___Train Local_Simple,  epoch   4, local model 74, internal_epoch   1,  Average loss: 0.0361, Accuracy: 330/724 (45.5801%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.1851, Accuracy: 2233/10000 (22.3300%), Attack Success Rate:25/10000(0.250)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 45, internal_epoch   1,  Average loss: 0.0343, Accuracy: 238/526 (45.2471%), train_poison_data_count: 526
Global model norm: 1.8367599268507813.
Norm before scaling: 2.031468188965089. Distance: 0.792409427112171
Total norm for 4 adversaries is: 2.031468188965089. distance: 0.792409427112171
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 2.2596, Accuracy: 1932/8991 (21.4882%)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 44, internal_epoch   1,  Average loss: 0.0326, Accuracy: 253/440 (57.5000%), train_poison_data_count: 440
Global model norm: 1.8367599268507813.
Norm before scaling: 1.998001769331415. Distance: 0.7257380987013474
Total norm for 4 adversaries is: 1.998001769331415. distance: 0.7257380987013474
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 2.5412, Accuracy: 1868/8991 (20.7763%)
time spent on training: 19.931318759918213
[foolsgold agg] training data poison_ratio: 0.37392055267702934  data num: [531, 452, 804, 538, 668, 508, 599, 724, 526, 440]
[foolsgold agg] considering poison per batch poison_fraction: 0.37392055267702934
[foolsgold agg] wv: [0.14996788 1.         0.38022309 0.87325684 0.         0.
 0.4634504  1.         0.14996788 1.        ]
___Test Target_Simple poisoned: False, epoch: 4: Average loss: 2.0732, Accuracy: 4814/10000 (48.1400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 4: Average loss: 2.0590, Accuracy: 4466/8991 (49.6719%)
Done in 78.37052702903748 sec.
Server Epoch:5 choose agents : [60, 49, 65, 14, 36, 24, 7, 4, 76, 39].
___Train Local_Simple,  epoch   5, local model 60, internal_epoch   1,  Average loss: 0.0298, Accuracy: 332/546 (60.8059%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.8927, Accuracy: 1464/10000 (14.6400%), Attack Success Rate:18/10000(0.180)
poison local model 49 index 48 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 49, internal_epoch   1,  Average loss: 0.0350, Accuracy: 188/336 (55.9524%), train_poison_data_count: 336
Global model norm: 1.8410110819999512.
Norm before scaling: 1.9344362215328328. Distance: 0.5154895026454432
Total norm for 7 adversaries is: 1.9344362215328328. distance: 0.5154895026454432
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.3038, Accuracy: 1839/8991 (20.4538%)
___Train Local_Simple,  epoch   5, local model 65, internal_epoch   1,  Average loss: 0.0390, Accuracy: 183/407 (44.9631%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.1509, Accuracy: 2853/10000 (28.5300%), Attack Success Rate:11/10000(0.110)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 14, internal_epoch   1,  Average loss: 0.0325, Accuracy: 256/535 (47.8505%), train_poison_data_count: 535
Global model norm: 1.8410110819999512.
Norm before scaling: 2.0443199459582817. Distance: 0.807628294788814
Total norm for 7 adversaries is: 2.0443199459582817. distance: 0.807628294788814
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.5015, Accuracy: 1991/8991 (22.1444%)
poison local model 36 index 35 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 36, internal_epoch   1,  Average loss: 0.0320, Accuracy: 465/700 (66.4286%), train_poison_data_count: 700
Global model norm: 1.8410110819999512.
Norm before scaling: 2.1409716917088106. Distance: 0.9820299826820954
Total norm for 7 adversaries is: 2.1409716917088106. distance: 0.9820299826820954
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.9352, Accuracy: 4763/8991 (52.9752%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 24, internal_epoch   1,  Average loss: 0.0366, Accuracy: 330/607 (54.3657%), train_poison_data_count: 607
Global model norm: 1.8410110819999512.
Norm before scaling: 2.061993739099183. Distance: 0.7992115546207441
Total norm for 7 adversaries is: 2.061993739099183. distance: 0.7992115546207441
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.7664, Accuracy: 3451/8991 (38.3828%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 7, internal_epoch   1,  Average loss: 0.0395, Accuracy: 215/415 (51.8072%), train_poison_data_count: 415
Global model norm: 1.8410110819999512.
Norm before scaling: 1.9573714822841943. Distance: 0.5680732137748585
Total norm for 7 adversaries is: 1.9573714822841943. distance: 0.5680732137748585
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.9253, Accuracy: 2432/8991 (27.0493%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 4, internal_epoch   1,  Average loss: 0.0387, Accuracy: 255/420 (60.7143%), train_poison_data_count: 420
Global model norm: 1.8410110819999512.
Norm before scaling: 1.962263411335259. Distance: 0.5798778252340584
Total norm for 7 adversaries is: 1.962263411335259. distance: 0.5798778252340584
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 2.0317, Accuracy: 2264/8991 (25.1807%)
___Train Local_Simple,  epoch   5, local model 76, internal_epoch   1,  Average loss: 0.0341, Accuracy: 279/538 (51.8587%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.2789, Accuracy: 2567/10000 (25.6700%), Attack Success Rate:13/10000(0.130)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 39, internal_epoch   1,  Average loss: 0.0362, Accuracy: 299/493 (60.6491%), train_poison_data_count: 493
Global model norm: 1.8410110819999512.
Norm before scaling: 1.9769660628188834. Distance: 0.6044931488768985
Total norm for 7 adversaries is: 1.9769660628188834. distance: 0.6044931488768985
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.9118, Accuracy: 3796/8991 (42.2200%)
time spent on training: 20.119872093200684
[foolsgold agg] training data poison_ratio: 0.7016209725835502  data num: [546, 336, 407, 535, 700, 607, 415, 420, 538, 493]
[foolsgold agg] considering poison per batch poison_fraction: 0.7016209725835502
[foolsgold agg] wv: [1.         1.         1.         1.         0.         0.
 0.12179413 0.12179413 1.         0.17025596]
___Test Target_Simple poisoned: False, epoch: 5: Average loss: 2.0382, Accuracy: 5081/10000 (50.8100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 5: Average loss: 2.0174, Accuracy: 4857/8991 (54.0207%)
Done in 73.85892224311829 sec.
Server Epoch:6 choose agents : [26, 29, 4, 41, 99, 67, 91, 76, 8, 25].
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 26, internal_epoch   1,  Average loss: 0.0347, Accuracy: 251/442 (56.7873%), train_poison_data_count: 442
Global model norm: 1.846168354478706.
Norm before scaling: 1.9684893723196848. Distance: 0.5562760882742731
Total norm for 6 adversaries is: 1.9684893723196848. distance: 0.5562760882742731
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.0473, Accuracy: 2205/8991 (24.5245%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 29, internal_epoch   1,  Average loss: 0.0335, Accuracy: 462/764 (60.4712%), train_poison_data_count: 764
Global model norm: 1.846168354478706.
Norm before scaling: 2.171395228244654. Distance: 0.9704582473464183
Total norm for 6 adversaries is: 2.171395228244654. distance: 0.9704582473464183
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.5544, Accuracy: 4512/8991 (50.1835%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 4, internal_epoch   1,  Average loss: 0.0380, Accuracy: 251/420 (59.7619%), train_poison_data_count: 420
Global model norm: 1.846168354478706.
Norm before scaling: 1.9664149287581314. Distance: 0.5633614090218999
Total norm for 6 adversaries is: 1.9664149287581314. distance: 0.5633614090218999
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.9967, Accuracy: 2330/8991 (25.9148%)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 41, internal_epoch   1,  Average loss: 0.0321, Accuracy: 418/656 (63.7195%), train_poison_data_count: 656
Global model norm: 1.846168354478706.
Norm before scaling: 2.1507890628405364. Distance: 0.9618446906000998
Total norm for 6 adversaries is: 2.1507890628405364. distance: 0.9618446906000998
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.1028, Accuracy: 3592/8991 (39.9511%)
___Train Local_Simple,  epoch   6, local model 99, internal_epoch   1,  Average loss: 0.0336, Accuracy: 346/508 (68.1102%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.2745, Accuracy: 3565/10000 (35.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 67, internal_epoch   1,  Average loss: 0.0355, Accuracy: 248/592 (41.8919%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.2512, Accuracy: 1827/10000 (18.2700%), Attack Success Rate:34/10000(0.340)
___Train Local_Simple,  epoch   6, local model 91, internal_epoch   1,  Average loss: 0.0317, Accuracy: 392/677 (57.9025%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.1283, Accuracy: 3706/10000 (37.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 76, internal_epoch   1,  Average loss: 0.0337, Accuracy: 269/538 (50.0000%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.2544, Accuracy: 2686/10000 (26.8600%), Attack Success Rate:17/10000(0.170)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 8, internal_epoch   1,  Average loss: 0.0361, Accuracy: 275/539 (51.0204%), train_poison_data_count: 539
Global model norm: 1.846168354478706.
Norm before scaling: 1.9867014426296183. Distance: 0.5652923417174386
Total norm for 6 adversaries is: 1.9867014426296183. distance: 0.5652923417174386
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.8090, Accuracy: 2741/8991 (30.4860%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 25, internal_epoch   1,  Average loss: 0.0327, Accuracy: 303/503 (60.2386%), train_poison_data_count: 503
Global model norm: 1.846168354478706.
Norm before scaling: 2.0559103920108064. Distance: 0.7761719656158532
Total norm for 6 adversaries is: 2.0559103920108064. distance: 0.7761719656158532
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 2.1690, Accuracy: 2070/8991 (23.0230%)
time spent on training: 18.33139729499817
[foolsgold agg] training data poison_ratio: 0.5894662174144352  data num: [442, 764, 420, 656, 508, 592, 677, 538, 539, 503]
[foolsgold agg] considering poison per batch poison_fraction: 0.5894662174144352
[foolsgold agg] wv: [1.         0.48909005 1.         1.         1.         1.
 0.93501755 0.93501755 1.         0.48909005]
___Test Target_Simple poisoned: False, epoch: 6: Average loss: 1.9645, Accuracy: 5975/10000 (59.7500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 6: Average loss: 1.9311, Accuracy: 5847/8991 (65.0317%)
Done in 70.3675537109375 sec.
Server Epoch:7 choose agents : [66, 68, 59, 62, 31, 10, 23, 7, 99, 45].
___Train Local_Simple,  epoch   7, local model 66, internal_epoch   1,  Average loss: 0.0290, Accuracy: 537/946 (56.7653%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.8939, Accuracy: 3768/10000 (37.6800%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   7, local model 68, internal_epoch   1,  Average loss: 0.0315, Accuracy: 498/802 (62.0948%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.9805, Accuracy: 3737/10000 (37.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 59, internal_epoch   1,  Average loss: 0.0297, Accuracy: 369/694 (53.1700%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.9375, Accuracy: 3672/10000 (36.7200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   7, local model 62, internal_epoch   1,  Average loss: 0.0340, Accuracy: 356/597 (59.6315%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.9126, Accuracy: 4226/10000 (42.2600%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 31, internal_epoch   1,  Average loss: 0.0342, Accuracy: 414/601 (68.8852%), train_poison_data_count: 601
Global model norm: 1.8592404228682922.
Norm before scaling: 2.1166856459520145. Distance: 0.82429760740998
Total norm for 5 adversaries is: 2.1166856459520145. distance: 0.82429760740998
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.7165, Accuracy: 4045/8991 (44.9894%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 10, internal_epoch   1,  Average loss: 0.0351, Accuracy: 212/381 (55.6430%), train_poison_data_count: 381
Global model norm: 1.8592404228682922.
Norm before scaling: 1.9646627596848785. Distance: 0.48663609876011327
Total norm for 5 adversaries is: 1.9646627596848785. distance: 0.48663609876011327
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.1566, Accuracy: 1307/8991 (14.5368%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 23, internal_epoch   1,  Average loss: 0.0335, Accuracy: 366/583 (62.7787%), train_poison_data_count: 583
Global model norm: 1.8592404228682922.
Norm before scaling: 2.062077450094144. Distance: 0.7014398514348676
Total norm for 5 adversaries is: 2.062077450094144. distance: 0.7014398514348676
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.8600, Accuracy: 4273/8991 (47.5253%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 7, internal_epoch   1,  Average loss: 0.0372, Accuracy: 254/415 (61.2048%), train_poison_data_count: 415
Global model norm: 1.8592404228682922.
Norm before scaling: 1.984589572629452. Distance: 0.5449459111644883
Total norm for 5 adversaries is: 1.984589572629452. distance: 0.5449459111644883
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.8317, Accuracy: 3007/8991 (33.4446%)
___Train Local_Simple,  epoch   7, local model 99, internal_epoch   1,  Average loss: 0.0311, Accuracy: 387/508 (76.1811%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.2354, Accuracy: 3568/10000 (35.6800%), Attack Success Rate:0/10000(0.000)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 45, internal_epoch   1,  Average loss: 0.0311, Accuracy: 287/526 (54.5627%), train_poison_data_count: 526
Global model norm: 1.8592404228682922.
Norm before scaling: 2.06410432321249. Distance: 0.7376562227856374
Total norm for 5 adversaries is: 2.06410432321249. distance: 0.7376562227856374
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 2.1364, Accuracy: 2139/8991 (23.7905%)
time spent on training: 17.984307527542114
[foolsgold agg] training data poison_ratio: 0.4140095820254419  data num: [946, 802, 694, 597, 601, 381, 583, 415, 508, 526]
[foolsgold agg] considering poison per batch poison_fraction: 0.4140095820254419
[foolsgold agg] wv: [1.         0.78765679 0.61166667 0.61166667 1.         0.63029725
 0.78765679 1.         0.89498001 1.        ]
___Test Target_Simple poisoned: False, epoch: 7: Average loss: 1.8977, Accuracy: 6101/10000 (61.0100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 7: Average loss: 1.8487, Accuracy: 6053/8991 (67.3229%)
Done in 70.05161905288696 sec.
Server Epoch:8 choose agents : [63, 55, 79, 9, 62, 56, 96, 12, 92, 86].
___Train Local_Simple,  epoch   8, local model 63, internal_epoch   1,  Average loss: 0.0333, Accuracy: 317/532 (59.5865%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.9535, Accuracy: 3599/10000 (35.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 55, internal_epoch   1,  Average loss: 0.0321, Accuracy: 392/707 (55.4455%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.1740, Accuracy: 4178/10000 (41.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 79, internal_epoch   1,  Average loss: 0.0334, Accuracy: 350/549 (63.7523%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.8119, Accuracy: 3865/10000 (38.6500%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 9, internal_epoch   1,  Average loss: 0.0260, Accuracy: 574/793 (72.3834%), train_poison_data_count: 793
Global model norm: 1.8757135305132324.
Norm before scaling: 2.2638113194485703. Distance: 1.0341361723796276
Total norm for 2 adversaries is: 2.2638113194485703. distance: 1.0341361723796276
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.8308, Accuracy: 3991/8991 (44.3888%)
___Train Local_Simple,  epoch   8, local model 62, internal_epoch   1,  Average loss: 0.0327, Accuracy: 358/597 (59.9665%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.8422, Accuracy: 4660/10000 (46.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 56, internal_epoch   1,  Average loss: 0.0345, Accuracy: 338/726 (46.5565%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.8175, Accuracy: 3419/10000 (34.1900%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   8, local model 96, internal_epoch   1,  Average loss: 0.0310, Accuracy: 327/518 (63.1274%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.3922, Accuracy: 2551/10000 (25.5100%), Attack Success Rate:13/10000(0.130)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 12, internal_epoch   1,  Average loss: 0.0284, Accuracy: 476/632 (75.3165%), train_poison_data_count: 632
Global model norm: 1.8757135305132324.
Norm before scaling: 2.1715076602429133. Distance: 0.9012838637171011
Total norm for 2 adversaries is: 2.1715076602429133. distance: 0.9012838637171011
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 2.1929, Accuracy: 3443/8991 (38.2938%)
___Train Local_Simple,  epoch   8, local model 92, internal_epoch   1,  Average loss: 0.0352, Accuracy: 263/452 (58.1858%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.9198, Accuracy: 2445/10000 (24.4500%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch   8, local model 86, internal_epoch   1,  Average loss: 0.0355, Accuracy: 327/519 (63.0058%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.7754, Accuracy: 3507/10000 (35.0700%), Attack Success Rate:2/10000(0.020)
time spent on training: 15.484676837921143
[foolsgold agg] training data poison_ratio: 0.23651452282157676  data num: [532, 707, 549, 793, 597, 726, 518, 632, 452, 519]
[foolsgold agg] considering poison per batch poison_fraction: 0.23651452282157673
[foolsgold agg] wv: [0.         1.         0.         0.63805952 1.         0.28010869
 0.28010869 0.         0.         0.76992313]
___Test Target_Simple poisoned: False, epoch: 8: Average loss: 1.8652, Accuracy: 6341/10000 (63.4100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 8: Average loss: 1.8172, Accuracy: 6282/8991 (69.8699%)
Done in 67.16975593566895 sec.
Server Epoch:9 choose agents : [28, 63, 33, 71, 13, 32, 76, 97, 23, 25].
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 28, internal_epoch   1,  Average loss: 0.0350, Accuracy: 267/440 (60.6818%), train_poison_data_count: 440
Global model norm: 1.8838930313900768.
Norm before scaling: 1.992186482747136. Distance: 0.41613993332189153
Total norm for 6 adversaries is: 1.992186482747136. distance: 0.41613993332189153
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.6989, Accuracy: 3755/8991 (41.7640%)
___Train Local_Simple,  epoch   9, local model 63, internal_epoch   1,  Average loss: 0.0324, Accuracy: 349/532 (65.6015%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.9450, Accuracy: 3520/10000 (35.2000%), Attack Success Rate:1/10000(0.010)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 33, internal_epoch   1,  Average loss: 0.0362, Accuracy: 218/324 (67.2840%), train_poison_data_count: 324
Global model norm: 1.8838930313900768.
Norm before scaling: 1.9625763143292136. Distance: 0.36469259214400984
Total norm for 6 adversaries is: 1.9625763143292136. distance: 0.36469259214400984
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.8162, Accuracy: 2712/8991 (30.1635%)
___Train Local_Simple,  epoch   9, local model 71, internal_epoch   1,  Average loss: 0.0300, Accuracy: 467/716 (65.2235%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.3250, Accuracy: 3011/10000 (30.1100%), Attack Success Rate:3/10000(0.030)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 13, internal_epoch   1,  Average loss: 0.0274, Accuracy: 452/668 (67.6647%), train_poison_data_count: 668
Global model norm: 1.8838930313900768.
Norm before scaling: 2.1802624453484776. Distance: 0.8799697206446389
Total norm for 6 adversaries is: 2.1802624453484776. distance: 0.8799697206446389
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 2.2527, Accuracy: 2879/8991 (32.0209%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 32, internal_epoch   1,  Average loss: 0.0279, Accuracy: 633/917 (69.0294%), train_poison_data_count: 917
Global model norm: 1.8838930313900768.
Norm before scaling: 2.333003009393601. Distance: 1.1247566277791357
Total norm for 6 adversaries is: 2.333003009393601. distance: 1.1247566277791357
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.8907, Accuracy: 4110/8991 (45.7124%)
___Train Local_Simple,  epoch   9, local model 76, internal_epoch   1,  Average loss: 0.0304, Accuracy: 340/538 (63.1970%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.0767, Accuracy: 3234/10000 (32.3400%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   9, local model 97, internal_epoch   1,  Average loss: 0.0333, Accuracy: 372/557 (66.7864%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.9181, Accuracy: 3522/10000 (35.2200%), Attack Success Rate:1/10000(0.010)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 23, internal_epoch   1,  Average loss: 0.0320, Accuracy: 371/583 (63.6364%), train_poison_data_count: 583
Global model norm: 1.8838930313900768.
Norm before scaling: 2.0949766067619082. Distance: 0.6785461664875365
Total norm for 6 adversaries is: 2.0949766067619082. distance: 0.6785461664875365
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.8149, Accuracy: 4098/8991 (45.5789%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 25, internal_epoch   1,  Average loss: 0.0293, Accuracy: 343/503 (68.1909%), train_poison_data_count: 503
Global model norm: 1.8838930313900768.
Norm before scaling: 2.095336654489725. Distance: 0.6725429275524825
Total norm for 6 adversaries is: 2.095336654489725. distance: 0.6725429275524825
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.9403, Accuracy: 2779/8991 (30.9087%)
time spent on training: 18.738184690475464
[foolsgold agg] training data poison_ratio: 0.5944963655244029  data num: [440, 532, 324, 716, 668, 917, 538, 557, 583, 503]
[foolsgold agg] considering poison per batch poison_fraction: 0.5944963655244029
[foolsgold agg] wv: [1. 1. 1. 1. 1. 0. 1. 1. 0. 1.]
___Test Target_Simple poisoned: False, epoch: 9: Average loss: 1.8136, Accuracy: 6292/10000 (62.9200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 9: Average loss: 1.7609, Accuracy: 6261/8991 (69.6363%)
Done in 70.42531776428223 sec.
Server Epoch:10 choose agents : [12, 56, 19, 11, 13, 78, 49, 34, 14, 99].
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 12, internal_epoch   1,  Average loss: 0.0270, Accuracy: 490/632 (77.5316%), train_poison_data_count: 632
Global model norm: 1.900341005843904.
Norm before scaling: 2.2005157169681335. Distance: 0.8797014496207124
Total norm for 7 adversaries is: 2.2005157169681335. distance: 0.8797014496207124
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.1583, Accuracy: 3383/8991 (37.6265%)
___Train Local_Simple,  epoch  10, local model 56, internal_epoch   1,  Average loss: 0.0334, Accuracy: 347/726 (47.7961%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.7150, Accuracy: 3647/10000 (36.4700%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 19, internal_epoch   1,  Average loss: 0.0286, Accuracy: 418/726 (57.5758%), train_poison_data_count: 726
Global model norm: 1.900341005843904.
Norm before scaling: 2.1928912620321985. Distance: 0.8981332014820352
Total norm for 7 adversaries is: 2.1928912620321985. distance: 0.8981332014820352
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.3485, Accuracy: 2429/8991 (27.0159%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 11, internal_epoch   1,  Average loss: 0.0283, Accuracy: 501/723 (69.2946%), train_poison_data_count: 723
Global model norm: 1.900341005843904.
Norm before scaling: 2.218389240002735. Distance: 0.8391279141804374
Total norm for 7 adversaries is: 2.218389240002735. distance: 0.8391279141804374
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.6691, Accuracy: 4046/8991 (45.0006%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 13, internal_epoch   1,  Average loss: 0.0249, Accuracy: 477/668 (71.4072%), train_poison_data_count: 668
Global model norm: 1.900341005843904.
Norm before scaling: 2.2018596722050123. Distance: 0.8544473342022632
Total norm for 7 adversaries is: 2.2018596722050123. distance: 0.8544473342022632
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.2708, Accuracy: 2782/8991 (30.9421%)
___Train Local_Simple,  epoch  10, local model 78, internal_epoch   1,  Average loss: 0.0301, Accuracy: 336/547 (61.4260%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.9505, Accuracy: 3389/10000 (33.8900%), Attack Success Rate:1/10000(0.010)
poison local model 49 index 48 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 49, internal_epoch   1,  Average loss: 0.0303, Accuracy: 227/336 (67.5595%), train_poison_data_count: 336
Global model norm: 1.900341005843904.
Norm before scaling: 2.004257676985271. Distance: 0.47256244958201993
Total norm for 7 adversaries is: 2.004257676985271. distance: 0.47256244958201993
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.0238, Accuracy: 1918/8991 (21.3324%)
poison local model 34 index 33 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 34, internal_epoch   1,  Average loss: 0.0310, Accuracy: 531/751 (70.7057%), train_poison_data_count: 751
Global model norm: 1.900341005843904.
Norm before scaling: 2.219211691517688. Distance: 0.8017589276360622
Total norm for 7 adversaries is: 2.219211691517688. distance: 0.8017589276360622
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.3407, Accuracy: 5787/8991 (64.3644%)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 14, internal_epoch   1,  Average loss: 0.0294, Accuracy: 280/535 (52.3364%), train_poison_data_count: 535
Global model norm: 1.900341005843904.
Norm before scaling: 2.1046241665765035. Distance: 0.7227087878125644
Total norm for 7 adversaries is: 2.1046241665765035. distance: 0.7227087878125644
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 2.1180, Accuracy: 2577/8991 (28.6620%)
___Train Local_Simple,  epoch  10, local model 99, internal_epoch   1,  Average loss: 0.0281, Accuracy: 415/508 (81.6929%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.0878, Accuracy: 3785/10000 (37.8500%), Attack Success Rate:0/10000(0.000)
time spent on training: 19.494099855422974
[foolsgold agg] training data poison_ratio: 0.7105006501950585  data num: [632, 726, 726, 723, 668, 547, 336, 751, 535, 508]
[foolsgold agg] considering poison per batch poison_fraction: 0.7105006501950585
[foolsgold agg] wv: [1.         1.         1.         0.37653852 0.         0.37653852
 1.         0.2229371  1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 10: Average loss: 1.7829, Accuracy: 6379/10000 (63.7900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 10: Average loss: 1.7192, Accuracy: 6360/8991 (70.7374%)
Done in 71.45027685165405 sec.
Server Epoch:11 choose agents : [53, 56, 51, 14, 36, 6, 46, 99, 88, 37].
___Train Local_Simple,  epoch  11, local model 53, internal_epoch   1,  Average loss: 0.0262, Accuracy: 448/699 (64.0916%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.7065, Accuracy: 2716/10000 (27.1600%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  11, local model 56, internal_epoch   1,  Average loss: 0.0322, Accuracy: 393/726 (54.1322%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.7389, Accuracy: 3571/10000 (35.7100%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  11, local model 51, internal_epoch   1,  Average loss: 0.0281, Accuracy: 540/802 (67.3317%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.6761, Accuracy: 4664/10000 (46.6400%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 14, internal_epoch   1,  Average loss: 0.0285, Accuracy: 313/535 (58.5047%), train_poison_data_count: 535
Global model norm: 1.9134443257976559.
Norm before scaling: 2.121216378785687. Distance: 0.7053051950112758
Total norm for 5 adversaries is: 2.121216378785687. distance: 0.7053051950112758
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 2.1299, Accuracy: 2343/8991 (26.0594%)
poison local model 36 index 35 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 36, internal_epoch   1,  Average loss: 0.0266, Accuracy: 553/700 (79.0000%), train_poison_data_count: 700
Global model norm: 1.9134443257976559.
Norm before scaling: 2.2326721958848648. Distance: 0.8651828104674826
Total norm for 5 adversaries is: 2.2326721958848648. distance: 0.8651828104674826
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.7272, Accuracy: 5000/8991 (55.6112%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 6, internal_epoch   1,  Average loss: 0.0257, Accuracy: 431/738 (58.4011%), train_poison_data_count: 738
Global model norm: 1.9134443257976559.
Norm before scaling: 2.206264882672393. Distance: 0.8165349174480512
Total norm for 5 adversaries is: 2.206264882672393. distance: 0.8165349174480512
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.8821, Accuracy: 3366/8991 (37.4374%)
poison local model 46 index 45 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 46, internal_epoch   1,  Average loss: 0.0287, Accuracy: 446/630 (70.7937%), train_poison_data_count: 630
Global model norm: 1.9134443257976559.
Norm before scaling: 2.167467543943076. Distance: 0.7309434541653023
Total norm for 5 adversaries is: 2.167467543943076. distance: 0.7309434541653023
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.6859, Accuracy: 4306/8991 (47.8923%)
___Train Local_Simple,  epoch  11, local model 99, internal_epoch   1,  Average loss: 0.0266, Accuracy: 420/508 (82.6772%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.0726, Accuracy: 3782/10000 (37.8200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 88, internal_epoch   1,  Average loss: 0.0312, Accuracy: 290/450 (64.4444%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.8177, Accuracy: 3715/10000 (37.1500%), Attack Success Rate:1/10000(0.010)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 37, internal_epoch   1,  Average loss: 0.0302, Accuracy: 357/531 (67.2316%), train_poison_data_count: 531
Global model norm: 1.9134443257976559.
Norm before scaling: 2.0928739166703525. Distance: 0.535401392569172
Total norm for 5 adversaries is: 2.0928739166703525. distance: 0.535401392569172
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.6253, Accuracy: 3522/8991 (39.1725%)
time spent on training: 18.203990697860718
[foolsgold agg] training data poison_ratio: 0.49596455135306217  data num: [699, 726, 802, 535, 700, 738, 630, 508, 450, 531]
[foolsgold agg] considering poison per batch poison_fraction: 0.49596455135306217
[foolsgold agg] wv: [1.         1.         1.         1.         0.36340259 1.
 0.         0.36340259 1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 11: Average loss: 1.7395, Accuracy: 6608/10000 (66.0800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 11: Average loss: 1.6791, Accuracy: 6599/8991 (73.3956%)
Done in 70.28556632995605 sec.
Server Epoch:12 choose agents : [42, 17, 2, 64, 6, 38, 37, 44, 77, 4].
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 42, internal_epoch   1,  Average loss: 0.0332, Accuracy: 245/359 (68.2451%), train_poison_data_count: 359
Global model norm: 1.9296691523000147.
Norm before scaling: 2.0344457282971984. Distance: 0.38169093195782583
Total norm for 8 adversaries is: 2.0344457282971984. distance: 0.38169093195782583
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.7073, Accuracy: 2662/8991 (29.6074%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 17, internal_epoch   1,  Average loss: 0.0272, Accuracy: 453/565 (80.1770%), train_poison_data_count: 565
Global model norm: 1.9296691523000147.
Norm before scaling: 2.1888247157251843. Distance: 0.7430472764675999
Total norm for 8 adversaries is: 2.1888247157251843. distance: 0.7430472764675999
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.9259, Accuracy: 3664/8991 (40.7519%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 2, internal_epoch   1,  Average loss: 0.0294, Accuracy: 360/471 (76.4331%), train_poison_data_count: 471
Global model norm: 1.9296691523000147.
Norm before scaling: 2.1160018247225127. Distance: 0.6237042585354453
Total norm for 8 adversaries is: 2.1160018247225127. distance: 0.6237042585354453
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.7953, Accuracy: 3576/8991 (39.7731%)
___Train Local_Simple,  epoch  12, local model 64, internal_epoch   1,  Average loss: 0.0314, Accuracy: 388/651 (59.6006%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.1410, Accuracy: 3372/10000 (33.7200%), Attack Success Rate:2/10000(0.020)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 6, internal_epoch   1,  Average loss: 0.0248, Accuracy: 445/738 (60.2981%), train_poison_data_count: 738
Global model norm: 1.9296691523000147.
Norm before scaling: 2.223760400997581. Distance: 0.7980695261007029
Total norm for 8 adversaries is: 2.223760400997581. distance: 0.7980695261007029
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.8595, Accuracy: 3355/8991 (37.3151%)
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 38, internal_epoch   1,  Average loss: 0.0290, Accuracy: 433/557 (77.7379%), train_poison_data_count: 557
Global model norm: 1.9296691523000147.
Norm before scaling: 2.1734016596501258. Distance: 0.7046952198561498
Total norm for 8 adversaries is: 2.1734016596501258. distance: 0.7046952198561498
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.7147, Accuracy: 3950/8991 (43.9328%)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 37, internal_epoch   1,  Average loss: 0.0296, Accuracy: 366/531 (68.9266%), train_poison_data_count: 531
Global model norm: 1.9296691523000147.
Norm before scaling: 2.1133619141476165. Distance: 0.5331139123083397
Total norm for 8 adversaries is: 2.1133619141476165. distance: 0.5331139123083397
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.6065, Accuracy: 3571/8991 (39.7175%)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 44, internal_epoch   1,  Average loss: 0.0266, Accuracy: 330/440 (75.0000%), train_poison_data_count: 440
Global model norm: 1.9296691523000147.
Norm before scaling: 2.1013934553149554. Distance: 0.6177897110760545
Total norm for 8 adversaries is: 2.1013934553149554. distance: 0.6177897110760545
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 2.1137, Accuracy: 2271/8991 (25.2586%)
___Train Local_Simple,  epoch  12, local model 77, internal_epoch   1,  Average loss: 0.0336, Accuracy: 228/387 (58.9147%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.9197, Accuracy: 2728/10000 (27.2800%), Attack Success Rate:6/10000(0.060)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 4, internal_epoch   1,  Average loss: 0.0320, Accuracy: 295/420 (70.2381%), train_poison_data_count: 420
Global model norm: 1.9296691523000147.
Norm before scaling: 2.070781841699672. Distance: 0.5063354137562914
Total norm for 8 adversaries is: 2.070781841699672. distance: 0.5063354137562914
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.7056, Accuracy: 2818/8991 (31.3425%)
time spent on training: 20.05557918548584
[foolsgold agg] training data poison_ratio: 0.7972260207071694  data num: [359, 565, 471, 651, 738, 557, 531, 440, 387, 420]
[foolsgold agg] considering poison per batch poison_fraction: 0.7972260207071694
[foolsgold agg] wv: [0.43503432 0.10812007 0.66643211 0.93219845 1.         0.6536493
 0.43503432 1.         0.93219845 0.10812007]
___Test Target_Simple poisoned: False, epoch: 12: Average loss: 1.7102, Accuracy: 6623/10000 (66.2300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 12: Average loss: 1.6474, Accuracy: 6610/8991 (73.5180%)
Done in 71.96343684196472 sec.
Server Epoch:13 choose agents : [24, 38, 52, 10, 11, 76, 97, 7, 70, 14].
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 24, internal_epoch   1,  Average loss: 0.0309, Accuracy: 430/607 (70.8402%), train_poison_data_count: 607
Global model norm: 1.9435060992036022.
Norm before scaling: 2.195462802072311. Distance: 0.6688456662995451
Total norm for 6 adversaries is: 2.195462802072311. distance: 0.6688456662995451
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.4850, Accuracy: 4343/8991 (48.3039%)
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 38, internal_epoch   1,  Average loss: 0.0289, Accuracy: 439/557 (78.8151%), train_poison_data_count: 557
Global model norm: 1.9435060992036022.
Norm before scaling: 2.1893623054173386. Distance: 0.6974626150674549
Total norm for 6 adversaries is: 2.1893623054173386. distance: 0.6974626150674549
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.7157, Accuracy: 3938/8991 (43.7994%)
___Train Local_Simple,  epoch  13, local model 52, internal_epoch   1,  Average loss: 0.0292, Accuracy: 473/649 (72.8814%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.8483, Accuracy: 4591/10000 (45.9100%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 10, internal_epoch   1,  Average loss: 0.0298, Accuracy: 258/381 (67.7165%), train_poison_data_count: 381
Global model norm: 1.9435060992036022.
Norm before scaling: 2.0571971115080157. Distance: 0.44062269764833023
Total norm for 6 adversaries is: 2.0571971115080157. distance: 0.44062269764833023
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.8464, Accuracy: 2327/8991 (25.8814%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 11, internal_epoch   1,  Average loss: 0.0271, Accuracy: 516/723 (71.3693%), train_poison_data_count: 723
Global model norm: 1.9435060992036022.
Norm before scaling: 2.269867496236283. Distance: 0.8200337254171521
Total norm for 6 adversaries is: 2.269867496236283. distance: 0.8200337254171521
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.6173, Accuracy: 4156/8991 (46.2240%)
___Train Local_Simple,  epoch  13, local model 76, internal_epoch   1,  Average loss: 0.0289, Accuracy: 369/538 (68.5874%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.9397, Accuracy: 3672/10000 (36.7200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  13, local model 97, internal_epoch   1,  Average loss: 0.0321, Accuracy: 362/557 (64.9910%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.7773, Accuracy: 4046/10000 (40.4600%), Attack Success Rate:0/10000(0.000)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 7, internal_epoch   1,  Average loss: 0.0318, Accuracy: 317/415 (76.3855%), train_poison_data_count: 415
Global model norm: 1.9435060992036022.
Norm before scaling: 2.0857970229719904. Distance: 0.504225696176607
Total norm for 6 adversaries is: 2.0857970229719904. distance: 0.504225696176607
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.5814, Accuracy: 4267/8991 (47.4586%)
___Train Local_Simple,  epoch  13, local model 70, internal_epoch   1,  Average loss: 0.0286, Accuracy: 461/664 (69.4277%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.8832, Accuracy: 3852/10000 (38.5200%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 14, internal_epoch   1,  Average loss: 0.0270, Accuracy: 352/535 (65.7944%), train_poison_data_count: 535
Global model norm: 1.9435060992036022.
Norm before scaling: 2.147865357943955. Distance: 0.6666267477442149
Total norm for 6 adversaries is: 2.147865357943955. distance: 0.6666267477442149
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 2.0439, Accuracy: 2446/8991 (27.2050%)
time spent on training: 18.801652908325195
[foolsgold agg] training data poison_ratio: 0.5719872022751511  data num: [607, 557, 649, 381, 723, 538, 557, 415, 664, 535]
[foolsgold agg] considering poison per batch poison_fraction: 0.5719872022751511
[foolsgold agg] wv: [1.         1.         0.91011368 1.         1.         0.85199934
 0.         1.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 13: Average loss: 1.6682, Accuracy: 6813/10000 (68.1300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 13: Average loss: 1.5952, Accuracy: 6806/8991 (75.6979%)
Done in 70.85911393165588 sec.
Server Epoch:14 choose agents : [95, 97, 12, 89, 25, 34, 55, 67, 56, 2].
___Train Local_Simple,  epoch  14, local model 95, internal_epoch   1,  Average loss: 0.0266, Accuracy: 552/804 (68.6567%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.9837, Accuracy: 4015/10000 (40.1500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 97, internal_epoch   1,  Average loss: 0.0312, Accuracy: 398/557 (71.4542%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.7660, Accuracy: 4129/10000 (41.2900%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 12, internal_epoch   1,  Average loss: 0.0248, Accuracy: 496/632 (78.4810%), train_poison_data_count: 632
Global model norm: 1.9636610957757223.
Norm before scaling: 2.260262925036689. Distance: 0.8114705533310127
Total norm for 4 adversaries is: 2.260262925036689. distance: 0.8114705533310127
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.9362, Accuracy: 3626/8991 (40.3292%)
___Train Local_Simple,  epoch  14, local model 89, internal_epoch   1,  Average loss: 0.0269, Accuracy: 525/723 (72.6141%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.6161, Accuracy: 5484/10000 (54.8400%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 25, internal_epoch   1,  Average loss: 0.0246, Accuracy: 388/503 (77.1372%), train_poison_data_count: 503
Global model norm: 1.9636610957757223.
Norm before scaling: 2.1852730450804483. Distance: 0.646290199645383
Total norm for 4 adversaries is: 2.1852730450804483. distance: 0.646290199645383
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.7937, Accuracy: 3310/8991 (36.8146%)
poison local model 34 index 33 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 34, internal_epoch   1,  Average loss: 0.0296, Accuracy: 569/751 (75.7656%), train_poison_data_count: 751
Global model norm: 1.9636610957757223.
Norm before scaling: 2.2942610418231277. Distance: 0.749506907494228
Total norm for 4 adversaries is: 2.2942610418231277. distance: 0.749506907494228
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.2839, Accuracy: 5791/8991 (64.4089%)
___Train Local_Simple,  epoch  14, local model 55, internal_epoch   1,  Average loss: 0.0269, Accuracy: 418/707 (59.1231%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.9661, Accuracy: 4262/10000 (42.6200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 67, internal_epoch   1,  Average loss: 0.0309, Accuracy: 348/592 (58.7838%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.9639, Accuracy: 2230/10000 (22.3000%), Attack Success Rate:27/10000(0.270)
___Train Local_Simple,  epoch  14, local model 56, internal_epoch   1,  Average loss: 0.0312, Accuracy: 378/726 (52.0661%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.6187, Accuracy: 3855/10000 (38.5500%), Attack Success Rate:0/10000(0.000)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 2, internal_epoch   1,  Average loss: 0.0284, Accuracy: 358/471 (76.0085%), train_poison_data_count: 471
Global model norm: 1.9636610957757223.
Norm before scaling: 2.1508140043237276. Distance: 0.5973305406838656
Total norm for 4 adversaries is: 2.1508140043237276. distance: 0.5973305406838656
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.7157, Accuracy: 3687/8991 (41.0077%)
time spent on training: 18.001493215560913
[foolsgold agg] training data poison_ratio: 0.3645221156820291  data num: [804, 557, 632, 723, 503, 751, 707, 592, 726, 471]
[foolsgold agg] considering poison per batch poison_fraction: 0.3645221156820291
[foolsgold agg] wv: [0.86091039 0.         0.46872233 0.61329386 0.87100595 0.46872233
 0.35753206 1.         0.         0.35753206]
___Test Target_Simple poisoned: False, epoch: 14: Average loss: 1.6372, Accuracy: 6862/10000 (68.6200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 14: Average loss: 1.5612, Accuracy: 6859/8991 (76.2874%)
Done in 70.03034687042236 sec.
Server Epoch:15 choose agents : [4, 1, 20, 48, 55, 98, 27, 42, 0, 44].
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 4, internal_epoch   1,  Average loss: 0.0296, Accuracy: 311/420 (74.0476%), train_poison_data_count: 420
Global model norm: 1.978756196138244.
Norm before scaling: 2.121771772567564. Distance: 0.4683449743759737
Total norm for 7 adversaries is: 2.121771772567564. distance: 0.4683449743759737
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.5864, Accuracy: 3291/8991 (36.6033%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 1, internal_epoch   1,  Average loss: 0.0238, Accuracy: 532/680 (78.2353%), train_poison_data_count: 680
Global model norm: 1.978756196138244.
Norm before scaling: 2.2825802621590863. Distance: 0.7623054787829371
Total norm for 7 adversaries is: 2.2825802621590863. distance: 0.7623054787829371
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.7748, Accuracy: 4434/8991 (49.3160%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 20, internal_epoch   1,  Average loss: 0.0297, Accuracy: 262/391 (67.0077%), train_poison_data_count: 391
Global model norm: 1.978756196138244.
Norm before scaling: 2.091554088019909. Distance: 0.44908563051269174
Total norm for 7 adversaries is: 2.091554088019909. distance: 0.44908563051269174
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.6542, Accuracy: 3389/8991 (37.6932%)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 48, internal_epoch   1,  Average loss: 0.0307, Accuracy: 342/610 (56.0656%), train_poison_data_count: 610
Global model norm: 1.978756196138244.
Norm before scaling: 2.1970168044880496. Distance: 0.6707415223725118
Total norm for 7 adversaries is: 2.1970168044880496. distance: 0.6707415223725118
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.8131, Accuracy: 2947/8991 (32.7772%)
___Train Local_Simple,  epoch  15, local model 55, internal_epoch   1,  Average loss: 0.0264, Accuracy: 431/707 (60.9618%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.9498, Accuracy: 4285/10000 (42.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 98, internal_epoch   1,  Average loss: 0.0279, Accuracy: 343/590 (58.1356%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.8109, Accuracy: 3587/10000 (35.8700%), Attack Success Rate:1/10000(0.010)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 27, internal_epoch   1,  Average loss: 0.0256, Accuracy: 422/501 (84.2315%), train_poison_data_count: 501
Global model norm: 1.978756196138244.
Norm before scaling: 2.208600214060502. Distance: 0.6671621349078204
Total norm for 7 adversaries is: 2.208600214060502. distance: 0.6671621349078204
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.7912, Accuracy: 4374/8991 (48.6486%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 42, internal_epoch   1,  Average loss: 0.0320, Accuracy: 259/359 (72.1448%), train_poison_data_count: 359
Global model norm: 1.978756196138244.
Norm before scaling: 2.0858493743454427. Distance: 0.3573986733832498
Total norm for 7 adversaries is: 2.0858493743454427. distance: 0.3573986733832498
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.5965, Accuracy: 3125/8991 (34.7570%)
___Train Local_Simple,  epoch  15, local model 0, internal_epoch   1,  Average loss: 0.0281, Accuracy: 501/737 (67.9783%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.9889, Accuracy: 3875/10000 (38.7500%), Attack Success Rate:0/10000(0.000)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 44, internal_epoch   1,  Average loss: 0.0251, Accuracy: 331/440 (75.2273%), train_poison_data_count: 440
Global model norm: 1.978756196138244.
Norm before scaling: 2.1475651860141363. Distance: 0.5912563007898082
Total norm for 7 adversaries is: 2.1475651860141363. distance: 0.5912563007898082
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.9747, Accuracy: 2347/8991 (26.1039%)
time spent on training: 19.713775396347046
[foolsgold agg] training data poison_ratio: 0.6257589696412144  data num: [420, 680, 391, 610, 707, 590, 501, 359, 737, 440]
[foolsgold agg] considering poison per batch poison_fraction: 0.6257589696412144
[foolsgold agg] wv: [1.         0.28642441 1.         1.         0.6536631  0.
 0.34419111 0.28642441 0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 15: Average loss: 1.6176, Accuracy: 6934/10000 (69.3400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 15: Average loss: 1.5320, Accuracy: 6932/8991 (77.0993%)
Done in 71.85797214508057 sec.
Server Epoch:16 choose agents : [25, 8, 12, 99, 53, 26, 60, 63, 52, 90].
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 25, internal_epoch   1,  Average loss: 0.0267, Accuracy: 401/503 (79.7217%), train_poison_data_count: 503
Global model norm: 1.9921240702984346.
Norm before scaling: 2.2114702533167683. Distance: 0.6135706856367992
Total norm for 4 adversaries is: 2.2114702533167683. distance: 0.6135706856367992
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.6861, Accuracy: 3752/8991 (41.7306%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 8, internal_epoch   1,  Average loss: 0.0287, Accuracy: 383/539 (71.0575%), train_poison_data_count: 539
Global model norm: 1.9921240702984346.
Norm before scaling: 2.167434214085331. Distance: 0.4657347178642037
Total norm for 4 adversaries is: 2.167434214085331. distance: 0.4657347178642037
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.4526, Accuracy: 4899/8991 (54.4878%)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 12, internal_epoch   1,  Average loss: 0.0237, Accuracy: 502/632 (79.4304%), train_poison_data_count: 632
Global model norm: 1.9921240702984346.
Norm before scaling: 2.288343088676106. Distance: 0.7856387273883471
Total norm for 4 adversaries is: 2.288343088676106. distance: 0.7856387273883471
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.8969, Accuracy: 3590/8991 (39.9288%)
___Train Local_Simple,  epoch  16, local model 99, internal_epoch   1,  Average loss: 0.0244, Accuracy: 438/508 (86.2205%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.8999, Accuracy: 4198/10000 (41.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 53, internal_epoch   1,  Average loss: 0.0241, Accuracy: 474/699 (67.8112%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.5572, Accuracy: 2641/10000 (26.4100%), Attack Success Rate:12/10000(0.120)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 26, internal_epoch   1,  Average loss: 0.0269, Accuracy: 345/442 (78.0543%), train_poison_data_count: 442
Global model norm: 1.9921240702984346.
Norm before scaling: 2.1328910841105944. Distance: 0.4371887019142933
Total norm for 4 adversaries is: 2.1328910841105944. distance: 0.4371887019142933
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.5854, Accuracy: 4472/8991 (49.7386%)
___Train Local_Simple,  epoch  16, local model 60, internal_epoch   1,  Average loss: 0.0224, Accuracy: 395/546 (72.3443%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.3330, Accuracy: 1777/10000 (17.7700%), Attack Success Rate:30/10000(0.300)
___Train Local_Simple,  epoch  16, local model 63, internal_epoch   1,  Average loss: 0.0276, Accuracy: 401/532 (75.3759%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.7101, Accuracy: 4758/10000 (47.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 52, internal_epoch   1,  Average loss: 0.0280, Accuracy: 486/649 (74.8844%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.8310, Accuracy: 4530/10000 (45.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 90, internal_epoch   1,  Average loss: 0.0332, Accuracy: 183/273 (67.0330%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.6855, Accuracy: 3887/10000 (38.8700%), Attack Success Rate:0/10000(0.000)
time spent on training: 17.468064308166504
[foolsgold agg] training data poison_ratio: 0.39752019537854594  data num: [503, 539, 632, 508, 699, 442, 546, 532, 649, 273]
[foolsgold agg] considering poison per batch poison_fraction: 0.39752019537854594
[foolsgold agg] wv: [0.82043491 1.         0.17741575 1.         0.5925881  1.
 0.2890358  0.17741575 0.5925881  1.        ]
___Test Target_Simple poisoned: False, epoch: 16: Average loss: 1.5888, Accuracy: 6896/10000 (68.9600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 16: Average loss: 1.5022, Accuracy: 6891/8991 (76.6433%)
Done in 69.60405087471008 sec.
Server Epoch:17 choose agents : [66, 33, 56, 97, 10, 13, 77, 37, 90, 59].
___Train Local_Simple,  epoch  17, local model 66, internal_epoch   1,  Average loss: 0.0253, Accuracy: 621/946 (65.6448%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.6259, Accuracy: 4456/10000 (44.5600%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 33, internal_epoch   1,  Average loss: 0.0308, Accuracy: 238/324 (73.4568%), train_poison_data_count: 324
Global model norm: 2.0094872996509574.
Norm before scaling: 2.0969197207370778. Distance: 0.33939331721828353
Total norm for 4 adversaries is: 2.0969197207370778. distance: 0.33939331721828353
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.5200, Accuracy: 4784/8991 (53.2088%)
___Train Local_Simple,  epoch  17, local model 56, internal_epoch   1,  Average loss: 0.0301, Accuracy: 410/726 (56.4738%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.5554, Accuracy: 4109/10000 (41.0900%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  17, local model 97, internal_epoch   1,  Average loss: 0.0296, Accuracy: 390/557 (70.0180%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.6899, Accuracy: 4579/10000 (45.7900%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 10, internal_epoch   1,  Average loss: 0.0279, Accuracy: 273/381 (71.6535%), train_poison_data_count: 381
Global model norm: 2.0094872996509574.
Norm before scaling: 2.1282661245553696. Distance: 0.4341115351499177
Total norm for 4 adversaries is: 2.1282661245553696. distance: 0.4341115351499177
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.6972, Accuracy: 2877/8991 (31.9987%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 13, internal_epoch   1,  Average loss: 0.0214, Accuracy: 518/668 (77.5449%), train_poison_data_count: 668
Global model norm: 2.0094872996509574.
Norm before scaling: 2.3023457672452032. Distance: 0.7637435606265155
Total norm for 4 adversaries is: 2.3023457672452032. distance: 0.7637435606265155
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 2.0043, Accuracy: 2929/8991 (32.5770%)
___Train Local_Simple,  epoch  17, local model 77, internal_epoch   1,  Average loss: 0.0311, Accuracy: 254/387 (65.6331%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.7452, Accuracy: 3634/10000 (36.3400%), Attack Success Rate:0/10000(0.000)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 37, internal_epoch   1,  Average loss: 0.0267, Accuracy: 400/531 (75.3296%), train_poison_data_count: 531
Global model norm: 2.0094872996509574.
Norm before scaling: 2.1951962911997125. Distance: 0.4933791192121753
Total norm for 4 adversaries is: 2.1951962911997125. distance: 0.4933791192121753
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.4614, Accuracy: 4616/8991 (51.3402%)
___Train Local_Simple,  epoch  17, local model 90, internal_epoch   1,  Average loss: 0.0325, Accuracy: 186/273 (68.1319%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.6514, Accuracy: 4124/10000 (41.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 59, internal_epoch   1,  Average loss: 0.0236, Accuracy: 490/694 (70.6052%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.6320, Accuracy: 4848/10000 (48.4800%), Attack Success Rate:0/10000(0.000)
time spent on training: 17.782421350479126
[foolsgold agg] training data poison_ratio: 0.34700200473847276  data num: [946, 324, 726, 557, 381, 668, 387, 531, 273, 694]
[foolsgold agg] considering poison per batch poison_fraction: 0.34700200473847276
[foolsgold agg] wv: [0.         0.72315114 0.         0.70640597 0.72315114 1.
 1.         0.55667121 1.         0.55667121]
___Test Target_Simple poisoned: False, epoch: 17: Average loss: 1.5632, Accuracy: 6773/10000 (67.7300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 17: Average loss: 1.4823, Accuracy: 6763/8991 (75.2197%)
Done in 69.82437014579773 sec.
Server Epoch:18 choose agents : [55, 58, 88, 23, 39, 75, 82, 61, 95, 93].
___Train Local_Simple,  epoch  18, local model 55, internal_epoch   1,  Average loss: 0.0258, Accuracy: 460/707 (65.0636%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.8689, Accuracy: 4324/10000 (43.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 58, internal_epoch   1,  Average loss: 0.0257, Accuracy: 487/639 (76.2128%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.6939, Accuracy: 4764/10000 (47.6400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 88, internal_epoch   1,  Average loss: 0.0276, Accuracy: 305/450 (67.7778%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.6233, Accuracy: 4270/10000 (42.7000%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 23, internal_epoch   1,  Average loss: 0.0269, Accuracy: 452/583 (77.5300%), train_poison_data_count: 583
Global model norm: 2.023665603093686.
Norm before scaling: 2.249088208569859. Distance: 0.618292893036679
Total norm for 2 adversaries is: 2.249088208569859. distance: 0.618292893036679
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.5751, Accuracy: 4849/8991 (53.9317%)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 39, internal_epoch   1,  Average loss: 0.0260, Accuracy: 380/493 (77.0791%), train_poison_data_count: 493
Global model norm: 2.023665603093686.
Norm before scaling: 2.1867343107476. Distance: 0.44309070193474986
Total norm for 2 adversaries is: 2.1867343107476. distance: 0.44309070193474986
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.4544, Accuracy: 4721/8991 (52.5081%)
___Train Local_Simple,  epoch  18, local model 75, internal_epoch   1,  Average loss: 0.0230, Accuracy: 387/539 (71.7996%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 2.1265, Accuracy: 2414/10000 (24.1400%), Attack Success Rate:19/10000(0.190)
___Train Local_Simple,  epoch  18, local model 82, internal_epoch   1,  Average loss: 0.0261, Accuracy: 633/943 (67.1262%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.2828, Accuracy: 6203/10000 (62.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 61, internal_epoch   1,  Average loss: 0.0280, Accuracy: 521/756 (68.9153%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4622, Accuracy: 5818/10000 (58.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 95, internal_epoch   1,  Average loss: 0.0255, Accuracy: 552/804 (68.6567%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.8996, Accuracy: 4168/10000 (41.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 93, internal_epoch   1,  Average loss: 0.0269, Accuracy: 279/344 (81.1047%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.5284, Accuracy: 5363/10000 (53.6300%), Attack Success Rate:0/10000(0.000)
time spent on training: 16.843180656433105
[foolsgold agg] training data poison_ratio: 0.17193991690635985  data num: [707, 639, 450, 583, 493, 539, 943, 756, 804, 344]
[foolsgold agg] considering poison per batch poison_fraction: 0.17193991690635987
[foolsgold agg] wv: [1.         0.25660617 1.         1.         1.         0.25660617
 0.67306015 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 18: Average loss: 1.5183, Accuracy: 6891/10000 (68.9100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 18: Average loss: 1.4434, Accuracy: 6882/8991 (76.5432%)
Done in 68.86738419532776 sec.
Server Epoch:19 choose agents : [37, 43, 50, 84, 25, 28, 8, 16, 6, 3].
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 37, internal_epoch   1,  Average loss: 0.0260, Accuracy: 401/531 (75.5179%), train_poison_data_count: 531
Global model norm: 2.04903559911586.
Norm before scaling: 2.2323341919774538. Distance: 0.4680169254272558
Total norm for 9 adversaries is: 2.2323341919774538. distance: 0.4680169254272558
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.4065, Accuracy: 4896/8991 (54.4545%)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 43, internal_epoch   1,  Average loss: 0.0243, Accuracy: 556/701 (79.3153%), train_poison_data_count: 701
Global model norm: 2.04903559911586.
Norm before scaling: 2.3651844778554443. Distance: 0.7298273544740304
Total norm for 9 adversaries is: 2.3651844778554443. distance: 0.7298273544740304
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.4588, Accuracy: 4834/8991 (53.7649%)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 50, internal_epoch   1,  Average loss: 0.0263, Accuracy: 255/350 (72.8571%), train_poison_data_count: 350
Global model norm: 2.04903559911586.
Norm before scaling: 2.145124398561243. Distance: 0.39943620391883733
Total norm for 9 adversaries is: 2.145124398561243. distance: 0.39943620391883733
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.6270, Accuracy: 3060/8991 (34.0340%)
___Train Local_Simple,  epoch  19, local model 84, internal_epoch   1,  Average loss: 0.0316, Accuracy: 272/419 (64.9165%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.6533, Accuracy: 3621/10000 (36.2100%), Attack Success Rate:1/10000(0.010)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 25, internal_epoch   1,  Average loss: 0.0226, Accuracy: 399/503 (79.3241%), train_poison_data_count: 503
Global model norm: 2.04903559911586.
Norm before scaling: 2.2583913094186134. Distance: 0.5631077979505629
Total norm for 9 adversaries is: 2.2583913094186134. distance: 0.5631077979505629
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.6049, Accuracy: 4029/8991 (44.8115%)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 28, internal_epoch   1,  Average loss: 0.0288, Accuracy: 321/440 (72.9545%), train_poison_data_count: 440
Global model norm: 2.04903559911586.
Norm before scaling: 2.168334380239263. Distance: 0.35178368286365097
Total norm for 9 adversaries is: 2.168334380239263. distance: 0.35178368286365097
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.3677, Accuracy: 5878/8991 (65.3765%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 8, internal_epoch   1,  Average loss: 0.0273, Accuracy: 389/539 (72.1707%), train_poison_data_count: 539
Global model norm: 2.04903559911586.
Norm before scaling: 2.2219656623982083. Distance: 0.44557633865918167
Total norm for 9 adversaries is: 2.2219656623982083. distance: 0.44557633865918167
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.3678, Accuracy: 5417/8991 (60.2491%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 16, internal_epoch   1,  Average loss: 0.0284, Accuracy: 401/551 (72.7768%), train_poison_data_count: 551
Global model norm: 2.04903559911586.
Norm before scaling: 2.2614624721560097. Distance: 0.5452442651155844
Total norm for 9 adversaries is: 2.2614624721560097. distance: 0.5452442651155844
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.4487, Accuracy: 4541/8991 (50.5061%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 6, internal_epoch   1,  Average loss: 0.0219, Accuracy: 503/738 (68.1572%), train_poison_data_count: 738
Global model norm: 2.04903559911586.
Norm before scaling: 2.3438513161695154. Distance: 0.7475642148634396
Total norm for 9 adversaries is: 2.3438513161695154. distance: 0.7475642148634396
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.7228, Accuracy: 3390/8991 (37.7044%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 3, internal_epoch   1,  Average loss: 0.0242, Accuracy: 444/605 (73.3884%), train_poison_data_count: 605
Global model norm: 2.04903559911586.
Norm before scaling: 2.293630787092814. Distance: 0.6483006390375003
Total norm for 9 adversaries is: 2.293630787092814. distance: 0.6483006390375003
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.8162, Accuracy: 2716/8991 (30.2080%)
time spent on training: 21.046384811401367
[foolsgold agg] training data poison_ratio: 0.9220755067881719  data num: [531, 701, 350, 419, 503, 440, 539, 551, 738, 605]
[foolsgold agg] considering poison per batch poison_fraction: 0.9220755067881719
[foolsgold agg] wv: [0.         0.         1.         1.         0.70089952 0.72429729
 1.         1.         0.72429729 1.        ]
___Test Target_Simple poisoned: False, epoch: 19: Average loss: 1.4956, Accuracy: 7034/10000 (70.3400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 19: Average loss: 1.4078, Accuracy: 7032/8991 (78.2115%)
Done in 73.28836679458618 sec.
Server Epoch:20 choose agents : [23, 43, 27, 82, 37, 35, 29, 47, 11, 42].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 23, internal_epoch   1,  Average loss: 0.0258, Accuracy: 464/583 (79.5883%), train_poison_data_count: 583
Global model norm: 2.0689045274996842.
Norm before scaling: 2.290988775617926. Distance: 0.6016630608863602
Total norm for 9 adversaries is: 2.290988775617926. distance: 0.6016630608863602
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.5315, Accuracy: 5089/8991 (56.6010%)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 43, internal_epoch   1,  Average loss: 0.0250, Accuracy: 542/701 (77.3181%), train_poison_data_count: 701
Global model norm: 2.0689045274996842.
Norm before scaling: 2.383953684209706. Distance: 0.7014906432261219
Total norm for 9 adversaries is: 2.383953684209706. distance: 0.7014906432261219
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.3964, Accuracy: 5151/8991 (57.2906%)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 27, internal_epoch   1,  Average loss: 0.0242, Accuracy: 422/501 (84.2315%), train_poison_data_count: 501
Global model norm: 2.0689045274996842.
Norm before scaling: 2.291856746304414. Distance: 0.62033848455857
Total norm for 9 adversaries is: 2.291856746304414. distance: 0.62033848455857
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.6499, Accuracy: 4356/8991 (48.4484%)
___Train Local_Simple,  epoch  20, local model 82, internal_epoch   1,  Average loss: 0.0250, Accuracy: 671/943 (71.1559%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.3142, Accuracy: 5807/10000 (58.0700%), Attack Success Rate:0/10000(0.000)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 37, internal_epoch   1,  Average loss: 0.0255, Accuracy: 408/531 (76.8362%), train_poison_data_count: 531
Global model norm: 2.0689045274996842.
Norm before scaling: 2.2519863685344417. Distance: 0.4596543961047405
Total norm for 9 adversaries is: 2.2519863685344417. distance: 0.4596543961047405
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.3842, Accuracy: 4908/8991 (54.5879%)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 35, internal_epoch   1,  Average loss: 0.0229, Accuracy: 420/572 (73.4266%), train_poison_data_count: 572
Global model norm: 2.0689045274996842.
Norm before scaling: 2.288273385640986. Distance: 0.6083855788340055
Total norm for 9 adversaries is: 2.288273385640986. distance: 0.6083855788340055
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.7510, Accuracy: 2733/8991 (30.3971%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 29, internal_epoch   1,  Average loss: 0.0242, Accuracy: 600/764 (78.5340%), train_poison_data_count: 764
Global model norm: 2.0689045274996842.
Norm before scaling: 2.4042835870494907. Distance: 0.7015912600189292
Total norm for 9 adversaries is: 2.4042835870494907. distance: 0.7015912600189292
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2158, Accuracy: 6134/8991 (68.2238%)
poison local model 47 index 46 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 47, internal_epoch   1,  Average loss: 0.0252, Accuracy: 326/408 (79.9020%), train_poison_data_count: 408
Global model norm: 2.0689045274996842.
Norm before scaling: 2.213836279318043. Distance: 0.4334465326799558
Total norm for 9 adversaries is: 2.213836279318043. distance: 0.4334465326799558
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.5617, Accuracy: 3864/8991 (42.9763%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 11, internal_epoch   1,  Average loss: 0.0238, Accuracy: 569/723 (78.6999%), train_poison_data_count: 723
Global model norm: 2.0689045274996842.
Norm before scaling: 2.380612818255395. Distance: 0.7281603317529429
Total norm for 9 adversaries is: 2.380612818255395. distance: 0.7281603317529429
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.4453, Accuracy: 4569/8991 (50.8175%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 42, internal_epoch   1,  Average loss: 0.0303, Accuracy: 264/359 (73.5376%), train_poison_data_count: 359
Global model norm: 2.0689045274996842.
Norm before scaling: 2.1741260965270284. Distance: 0.3325437965445945
Total norm for 9 adversaries is: 2.1741260965270284. distance: 0.3325437965445945
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.4418, Accuracy: 4342/8991 (48.2927%)
time spent on training: 21.36231303215027
[foolsgold agg] training data poison_ratio: 0.8450287592440427  data num: [583, 701, 501, 943, 531, 572, 764, 408, 723, 359]
[foolsgold agg] considering poison per batch poison_fraction: 0.8450287592440427
[foolsgold agg] wv: [1.         1.         1.         1.         0.74347332 1.
 0.         1.         0.         0.73263366]
___Test Target_Simple poisoned: False, epoch: 20: Average loss: 1.4762, Accuracy: 6900/10000 (69.0000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 20: Average loss: 1.3738, Accuracy: 6888/8991 (76.6099%)
Done in 73.13150119781494 sec.
Server Epoch:21 choose agents : [33, 12, 93, 15, 41, 97, 20, 86, 54, 52].
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 33, internal_epoch   1,  Average loss: 0.0284, Accuracy: 235/324 (72.5309%), train_poison_data_count: 324
Global model norm: 2.0939229637556656.
Norm before scaling: 2.1809104851950236. Distance: 0.32533919671015943
Total norm for 5 adversaries is: 2.1809104851950236. distance: 0.32533919671015943
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.4208, Accuracy: 5158/8991 (57.3685%)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 12, internal_epoch   1,  Average loss: 0.0215, Accuracy: 509/632 (80.5380%), train_poison_data_count: 632
Global model norm: 2.0939229637556656.
Norm before scaling: 2.3734709184213827. Distance: 0.7229537351560728
Total norm for 5 adversaries is: 2.3734709184213827. distance: 0.7229537351560728
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.7024, Accuracy: 3755/8991 (41.7640%)
___Train Local_Simple,  epoch  21, local model 93, internal_epoch   1,  Average loss: 0.0251, Accuracy: 278/344 (80.8140%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.4459, Accuracy: 5740/10000 (57.4000%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 15, internal_epoch   1,  Average loss: 0.0237, Accuracy: 474/611 (77.5777%), train_poison_data_count: 611
Global model norm: 2.0939229637556656.
Norm before scaling: 2.3512626786323647. Distance: 0.6314083816579186
Total norm for 5 adversaries is: 2.3512626786323647. distance: 0.6314083816579186
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.4232, Accuracy: 4549/8991 (50.5950%)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch   1,  Average loss: 0.0234, Accuracy: 496/656 (75.6098%), train_poison_data_count: 656
Global model norm: 2.0939229637556656.
Norm before scaling: 2.37927052883003. Distance: 0.7452183725990603
Total norm for 5 adversaries is: 2.37927052883003. distance: 0.7452183725990603
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.5129, Accuracy: 4279/8991 (47.5920%)
___Train Local_Simple,  epoch  21, local model 97, internal_epoch   1,  Average loss: 0.0276, Accuracy: 389/557 (69.8384%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.5932, Accuracy: 4993/10000 (49.9300%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 20, internal_epoch   1,  Average loss: 0.0267, Accuracy: 281/391 (71.8670%), train_poison_data_count: 391
Global model norm: 2.0939229637556656.
Norm before scaling: 2.2028068150384597. Distance: 0.4099367190000408
Total norm for 5 adversaries is: 2.2028068150384597. distance: 0.4099367190000408
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.4466, Accuracy: 4684/8991 (52.0965%)
___Train Local_Simple,  epoch  21, local model 86, internal_epoch   1,  Average loss: 0.0273, Accuracy: 376/519 (72.4470%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.4317, Accuracy: 5336/10000 (53.3600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 54, internal_epoch   1,  Average loss: 0.0245, Accuracy: 392/590 (66.4407%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.6736, Accuracy: 4092/10000 (40.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 52, internal_epoch   1,  Average loss: 0.0260, Accuracy: 484/649 (74.5763%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.6897, Accuracy: 4772/10000 (47.7200%), Attack Success Rate:0/10000(0.000)
time spent on training: 18.40726923942566
[foolsgold agg] training data poison_ratio: 0.4957329793286554  data num: [324, 632, 344, 611, 656, 557, 391, 519, 590, 649]
[foolsgold agg] considering poison per batch poison_fraction: 0.49573297932865545
[foolsgold agg] wv: [0.68148358 1.         1.         1.         0.68148358 0.
 1.         1.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 21: Average loss: 1.4433, Accuracy: 7168/10000 (71.6800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 21: Average loss: 1.3374, Accuracy: 7163/8991 (79.6686%)
Done in 70.1251208782196 sec.
Server Epoch:22 choose agents : [24, 38, 42, 32, 60, 8, 35, 92, 27, 96].
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 24, internal_epoch   1,  Average loss: 0.0248, Accuracy: 488/607 (80.3954%), train_poison_data_count: 607
Global model norm: 2.114804210934416.
Norm before scaling: 2.3579635945843207. Distance: 0.5518003194183775
Total norm for 7 adversaries is: 2.3579635945843207. distance: 0.5518003194183775
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2711, Accuracy: 5252/8991 (58.4140%)
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 38, internal_epoch   1,  Average loss: 0.0242, Accuracy: 470/557 (84.3806%), train_poison_data_count: 557
Global model norm: 2.114804210934416.
Norm before scaling: 2.345503087848622. Distance: 0.5770618612607538
Total norm for 7 adversaries is: 2.345503087848622. distance: 0.5770618612607538
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.4092, Accuracy: 4696/8991 (52.2300%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 42, internal_epoch   1,  Average loss: 0.0278, Accuracy: 271/359 (75.4875%), train_poison_data_count: 359
Global model norm: 2.114804210934416.
Norm before scaling: 2.2184728529934716. Distance: 0.3183351168137333
Total norm for 7 adversaries is: 2.2184728529934716. distance: 0.3183351168137333
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.3818, Accuracy: 4705/8991 (52.3301%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 32, internal_epoch   1,  Average loss: 0.0217, Accuracy: 731/917 (79.7165%), train_poison_data_count: 917
Global model norm: 2.114804210934416.
Norm before scaling: 2.531939283170291. Distance: 0.9258457917841054
Total norm for 7 adversaries is: 2.531939283170291. distance: 0.9258457917841054
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.6006, Accuracy: 4969/8991 (55.2664%)
___Train Local_Simple,  epoch  22, local model 60, internal_epoch   1,  Average loss: 0.0208, Accuracy: 402/546 (73.6264%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.0173, Accuracy: 2852/10000 (28.5200%), Attack Success Rate:1/10000(0.010)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 8, internal_epoch   1,  Average loss: 0.0256, Accuracy: 414/539 (76.8089%), train_poison_data_count: 539
Global model norm: 2.114804210934416.
Norm before scaling: 2.2913686963192816. Distance: 0.4311531040966894
Total norm for 7 adversaries is: 2.2913686963192816. distance: 0.4311531040966894
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2915, Accuracy: 5694/8991 (63.3300%)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 35, internal_epoch   1,  Average loss: 0.0222, Accuracy: 419/572 (73.2517%), train_poison_data_count: 572
Global model norm: 2.114804210934416.
Norm before scaling: 2.3316592841568897. Distance: 0.592164985812538
Total norm for 7 adversaries is: 2.3316592841568897. distance: 0.592164985812538
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.6959, Accuracy: 2966/8991 (32.9885%)
___Train Local_Simple,  epoch  22, local model 92, internal_epoch   1,  Average loss: 0.0271, Accuracy: 348/452 (76.9912%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.5083, Accuracy: 4484/10000 (44.8400%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 27, internal_epoch   1,  Average loss: 0.0282, Accuracy: 427/501 (85.2295%), train_poison_data_count: 501
Global model norm: 2.114804210934416.
Norm before scaling: 2.3226289328602454. Distance: 0.5622469809821302
Total norm for 7 adversaries is: 2.3226289328602454. distance: 0.5622469809821302
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.4890, Accuracy: 4691/8991 (52.1744%)
___Train Local_Simple,  epoch  22, local model 96, internal_epoch   1,  Average loss: 0.0249, Accuracy: 370/518 (71.4286%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.8867, Accuracy: 2972/10000 (29.7200%), Attack Success Rate:5/10000(0.050)
time spent on training: 19.8058660030365
[foolsgold agg] training data poison_ratio: 0.7277298850574713  data num: [607, 557, 359, 917, 546, 539, 572, 452, 501, 518]
[foolsgold agg] considering poison per batch poison_fraction: 0.7277298850574713
[foolsgold agg] wv: [0.1564588  0.9708663  0.97332253 0.1564588  0.35846892 0.24025386
 0.24025386 0.66685162 0.35846892 1.        ]
___Test Target_Simple poisoned: False, epoch: 22: Average loss: 1.4261, Accuracy: 7130/10000 (71.3000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 22: Average loss: 1.3194, Accuracy: 7127/8991 (79.2682%)
Done in 71.90455341339111 sec.
Server Epoch:23 choose agents : [56, 82, 85, 17, 76, 61, 26, 86, 89, 75].
___Train Local_Simple,  epoch  23, local model 56, internal_epoch   1,  Average loss: 0.0273, Accuracy: 468/726 (64.4628%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.4682, Accuracy: 4411/10000 (44.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 82, internal_epoch   1,  Average loss: 0.0242, Accuracy: 656/943 (69.5652%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.2166, Accuracy: 6266/10000 (62.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 85, internal_epoch   1,  Average loss: 0.0243, Accuracy: 503/661 (76.0968%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3039, Accuracy: 6326/10000 (63.2600%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 17, internal_epoch   1,  Average loss: 0.0207, Accuracy: 472/565 (83.5398%), train_poison_data_count: 565
Global model norm: 2.1289368233541484.
Norm before scaling: 2.3651791352705076. Distance: 0.6144147226758252
Total norm for 2 adversaries is: 2.3651791352705076. distance: 0.6144147226758252
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.6106, Accuracy: 3919/8991 (43.5880%)
___Train Local_Simple,  epoch  23, local model 76, internal_epoch   1,  Average loss: 0.0237, Accuracy: 400/538 (74.3494%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.6012, Accuracy: 4478/10000 (44.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 61, internal_epoch   1,  Average loss: 0.0265, Accuracy: 538/756 (71.1640%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3324, Accuracy: 6408/10000 (64.0800%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 26, internal_epoch   1,  Average loss: 0.0232, Accuracy: 363/442 (82.1267%), train_poison_data_count: 442
Global model norm: 2.1289368233541484.
Norm before scaling: 2.263750023928747. Distance: 0.37456383771449026
Total norm for 2 adversaries is: 2.263750023928747. distance: 0.37456383771449026
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.3475, Accuracy: 5702/8991 (63.4190%)
___Train Local_Simple,  epoch  23, local model 86, internal_epoch   1,  Average loss: 0.0262, Accuracy: 391/519 (75.3372%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.4050, Accuracy: 5438/10000 (54.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 89, internal_epoch   1,  Average loss: 0.0222, Accuracy: 578/723 (79.9447%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.4375, Accuracy: 5885/10000 (58.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 75, internal_epoch   1,  Average loss: 0.0203, Accuracy: 428/539 (79.4063%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.9111, Accuracy: 2991/10000 (29.9100%), Attack Success Rate:8/10000(0.080)
time spent on training: 17.35779047012329
[foolsgold agg] training data poison_ratio: 0.15704928259513412  data num: [726, 943, 661, 565, 538, 756, 442, 519, 723, 539]
[foolsgold agg] considering poison per batch poison_fraction: 0.15704928259513412
[foolsgold agg] wv: [0.33400635 0.33400635 0.74965006 0.40808478 1.         0.90207082
 0.25724317 1.         0.25724317 1.        ]
___Test Target_Simple poisoned: False, epoch: 23: Average loss: 1.3936, Accuracy: 7205/10000 (72.0500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 23: Average loss: 1.2953, Accuracy: 7195/8991 (80.0245%)
Done in 69.38017916679382 sec.
Server Epoch:24 choose agents : [36, 65, 96, 83, 63, 30, 94, 25, 52, 50].
poison local model 36 index 35 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 36, internal_epoch   1,  Average loss: 0.0203, Accuracy: 599/700 (85.5714%), train_poison_data_count: 700
Global model norm: 2.1490688436707712.
Norm before scaling: 2.4454427568642063. Distance: 0.6987896033854366
Total norm for 4 adversaries is: 2.4454427568642063. distance: 0.6987896033854366
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.3826, Accuracy: 5403/8991 (60.0934%)
___Train Local_Simple,  epoch  24, local model 65, internal_epoch   1,  Average loss: 0.0284, Accuracy: 300/407 (73.7101%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.4801, Accuracy: 4907/10000 (49.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 96, internal_epoch   1,  Average loss: 0.0242, Accuracy: 369/518 (71.2355%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.8307, Accuracy: 3222/10000 (32.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 83, internal_epoch   1,  Average loss: 0.0236, Accuracy: 376/521 (72.1689%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.6666, Accuracy: 3668/10000 (36.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 63, internal_epoch   1,  Average loss: 0.0234, Accuracy: 424/532 (79.6992%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.5140, Accuracy: 5324/10000 (53.2400%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 30, internal_epoch   1,  Average loss: 0.0290, Accuracy: 314/502 (62.5498%), train_poison_data_count: 502
Global model norm: 2.1490688436707712.
Norm before scaling: 2.3289754453538225. Distance: 0.5980111607926234
Total norm for 4 adversaries is: 2.3289754453538225. distance: 0.5980111607926234
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.8094, Accuracy: 2908/8991 (32.3435%)
___Train Local_Simple,  epoch  24, local model 94, internal_epoch   1,  Average loss: 0.0215, Accuracy: 421/599 (70.2838%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.7262, Accuracy: 3172/10000 (31.7200%), Attack Success Rate:5/10000(0.050)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 25, internal_epoch   1,  Average loss: 0.0210, Accuracy: 416/503 (82.7038%), train_poison_data_count: 503
Global model norm: 2.1490688436707712.
Norm before scaling: 2.3465887552932037. Distance: 0.5129560116578565
Total norm for 4 adversaries is: 2.3465887552932037. distance: 0.5129560116578565
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.4486, Accuracy: 4533/8991 (50.4171%)
___Train Local_Simple,  epoch  24, local model 52, internal_epoch   1,  Average loss: 0.0250, Accuracy: 492/649 (75.8089%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.6275, Accuracy: 4925/10000 (49.2500%), Attack Success Rate:0/10000(0.000)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 50, internal_epoch   1,  Average loss: 0.0239, Accuracy: 274/350 (78.2857%), train_poison_data_count: 350
Global model norm: 2.1490688436707712.
Norm before scaling: 2.2420352259377423. Distance: 0.37517847344074357
Total norm for 4 adversaries is: 2.2420352259377423. distance: 0.37517847344074357
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.4808, Accuracy: 3868/8991 (43.0208%)
time spent on training: 17.969770431518555
[foolsgold agg] training data poison_ratio: 0.38913084643060025  data num: [700, 407, 518, 521, 532, 502, 599, 503, 649, 350]
[foolsgold agg] considering poison per batch poison_fraction: 0.38913084643060025
[foolsgold agg] wv: [1.        1.        1.        0.        0.1240832 1.        0.1240832
 1.        0.        1.       ]
___Test Target_Simple poisoned: False, epoch: 24: Average loss: 1.3725, Accuracy: 7253/10000 (72.5300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 24: Average loss: 1.2732, Accuracy: 7242/8991 (80.5472%)
Done in 71.32893919944763 sec.
Server Epoch:25 choose agents : [45, 6, 35, 17, 20, 73, 43, 8, 74, 3].
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 45, internal_epoch   1,  Average loss: 0.0209, Accuracy: 396/526 (75.2852%), train_poison_data_count: 526
Global model norm: 2.1660057184596493.
Norm before scaling: 2.3567673375786975. Distance: 0.5149749646536684
Total norm for 8 adversaries is: 2.3567673375786975. distance: 0.5149749646536684
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.4313, Accuracy: 4889/8991 (54.3766%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 6, internal_epoch   1,  Average loss: 0.0205, Accuracy: 536/738 (72.6287%), train_poison_data_count: 738
Global model norm: 2.1660057184596493.
Norm before scaling: 2.444207865171308. Distance: 0.6869977720535444
Total norm for 8 adversaries is: 2.444207865171308. distance: 0.6869977720535444
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.5507, Accuracy: 4192/8991 (46.6244%)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 35, internal_epoch   1,  Average loss: 0.0214, Accuracy: 422/572 (73.7762%), train_poison_data_count: 572
Global model norm: 2.1660057184596493.
Norm before scaling: 2.3805624422290035. Distance: 0.5932366511068422
Total norm for 8 adversaries is: 2.3805624422290035. distance: 0.5932366511068422
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.6262, Accuracy: 3210/8991 (35.7024%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 17, internal_epoch   1,  Average loss: 0.0205, Accuracy: 469/565 (83.0088%), train_poison_data_count: 565
Global model norm: 2.1660057184596493.
Norm before scaling: 2.4009413184478556. Distance: 0.6131369791600787
Total norm for 8 adversaries is: 2.4009413184478556. distance: 0.6131369791600787
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.5615, Accuracy: 3939/8991 (43.8105%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 20, internal_epoch   1,  Average loss: 0.0255, Accuracy: 295/391 (75.4476%), train_poison_data_count: 391
Global model norm: 2.1660057184596493.
Norm before scaling: 2.27050413726181. Distance: 0.38503408990145027
Total norm for 8 adversaries is: 2.27050413726181. distance: 0.38503408990145027
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.3670, Accuracy: 5172/8991 (57.5242%)
___Train Local_Simple,  epoch  25, local model 73, internal_epoch   1,  Average loss: 0.0257, Accuracy: 456/604 (75.4967%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.4101, Accuracy: 5434/10000 (54.3400%), Attack Success Rate:0/10000(0.000)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 43, internal_epoch   1,  Average loss: 0.0218, Accuracy: 561/701 (80.0285%), train_poison_data_count: 701
Global model norm: 2.1660057184596493.
Norm before scaling: 2.458797626509234. Distance: 0.6263137361601654
Total norm for 8 adversaries is: 2.458797626509234. distance: 0.6263137361601654
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.2970, Accuracy: 5410/8991 (60.1713%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 8, internal_epoch   1,  Average loss: 0.0247, Accuracy: 402/539 (74.5826%), train_poison_data_count: 539
Global model norm: 2.1660057184596493.
Norm before scaling: 2.334919379106587. Distance: 0.40346997234521853
Total norm for 8 adversaries is: 2.334919379106587. distance: 0.40346997234521853
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.2186, Accuracy: 6155/8991 (68.4573%)
___Train Local_Simple,  epoch  25, local model 74, internal_epoch   1,  Average loss: 0.0261, Accuracy: 489/724 (67.5414%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.6236, Accuracy: 4708/10000 (47.0800%), Attack Success Rate:0/10000(0.000)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 3, internal_epoch   1,  Average loss: 0.0222, Accuracy: 456/605 (75.3719%), train_poison_data_count: 605
Global model norm: 2.1660057184596493.
Norm before scaling: 2.393855287313057. Distance: 0.5827023522246559
Total norm for 8 adversaries is: 2.393855287313057. distance: 0.5827023522246559
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.5841, Accuracy: 3746/8991 (41.6639%)
time spent on training: 23.300754070281982
[foolsgold agg] training data poison_ratio: 0.7773679798826488  data num: [526, 738, 572, 565, 391, 604, 701, 539, 724, 605]
[foolsgold agg] considering poison per batch poison_fraction: 0.7773679798826488
[foolsgold agg] wv: [0.47729895 0.84305451 0.20820923 1.         0.82812904 0.84305451
 0.64751471 0.90611548 1.         0.20820923]
___Test Target_Simple poisoned: False, epoch: 25: Average loss: 1.3514, Accuracy: 7327/10000 (73.2700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 25: Average loss: 1.2465, Accuracy: 7318/8991 (81.3925%)
Done in 85.39632654190063 sec.
Server Epoch:26 choose agents : [39, 14, 32, 4, 30, 63, 23, 3, 94, 84].
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 39, internal_epoch   1,  Average loss: 0.0225, Accuracy: 399/493 (80.9331%), train_poison_data_count: 493
Global model norm: 2.1884998761168966.
Norm before scaling: 2.3425282663697904. Distance: 0.38932262748103635
Total norm for 7 adversaries is: 2.3425282663697904. distance: 0.38932262748103635
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.2740, Accuracy: 5137/8991 (57.1349%)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 14, internal_epoch   1,  Average loss: 0.0222, Accuracy: 408/535 (76.2617%), train_poison_data_count: 535
Global model norm: 2.1884998761168966.
Norm before scaling: 2.3750714743048555. Distance: 0.5660754586154121
Total norm for 7 adversaries is: 2.3750714743048555. distance: 0.5660754586154121
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.5661, Accuracy: 3363/8991 (37.4041%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 32, internal_epoch   1,  Average loss: 0.0209, Accuracy: 720/917 (78.5169%), train_poison_data_count: 917
Global model norm: 2.1884998761168966.
Norm before scaling: 2.5799634447391275. Distance: 0.8647375811820741
Total norm for 7 adversaries is: 2.5799634447391275. distance: 0.8647375811820741
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.5034, Accuracy: 5187/8991 (57.6910%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 4, internal_epoch   1,  Average loss: 0.0245, Accuracy: 336/420 (80.0000%), train_poison_data_count: 420
Global model norm: 2.1884998761168966.
Norm before scaling: 2.327549600861433. Distance: 0.4158258676941758
Total norm for 7 adversaries is: 2.327549600861433. distance: 0.4158258676941758
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.2965, Accuracy: 4939/8991 (54.9327%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 30, internal_epoch   1,  Average loss: 0.0288, Accuracy: 338/502 (67.3307%), train_poison_data_count: 502
Global model norm: 2.1884998761168966.
Norm before scaling: 2.3643595607817165. Distance: 0.574233359845165
Total norm for 7 adversaries is: 2.3643595607817165. distance: 0.574233359845165
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.7522, Accuracy: 2919/8991 (32.4658%)
___Train Local_Simple,  epoch  26, local model 63, internal_epoch   1,  Average loss: 0.0230, Accuracy: 433/532 (81.3910%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.4942, Accuracy: 5388/10000 (53.8800%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 23, internal_epoch   1,  Average loss: 0.0237, Accuracy: 448/583 (76.8439%), train_poison_data_count: 583
Global model norm: 2.1884998761168966.
Norm before scaling: 2.400722843828933. Distance: 0.5453692824741392
Total norm for 7 adversaries is: 2.400722843828933. distance: 0.5453692824741392
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.3861, Accuracy: 5644/8991 (62.7739%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 3, internal_epoch   1,  Average loss: 0.0228, Accuracy: 468/605 (77.3554%), train_poison_data_count: 605
Global model norm: 2.1884998761168966.
Norm before scaling: 2.4156564925140827. Distance: 0.5894191805480623
Total norm for 7 adversaries is: 2.4156564925140827. distance: 0.5894191805480623
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.6090, Accuracy: 3594/8991 (39.9733%)
___Train Local_Simple,  epoch  26, local model 94, internal_epoch   1,  Average loss: 0.0209, Accuracy: 420/599 (70.1169%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.6906, Accuracy: 3396/10000 (33.9600%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  26, local model 84, internal_epoch   1,  Average loss: 0.0284, Accuracy: 306/419 (73.0310%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.4472, Accuracy: 5010/10000 (50.1000%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.572179079055786
[foolsgold agg] training data poison_ratio: 0.7234611953612846  data num: [493, 535, 917, 420, 502, 532, 583, 605, 599, 419]
[foolsgold agg] considering poison per batch poison_fraction: 0.7234611953612845
[foolsgold agg] wv: [0.04146632 1.         0.         1.         1.         0.04146632
 0.         1.         0.6165219  1.        ]
___Test Target_Simple poisoned: False, epoch: 26: Average loss: 1.3419, Accuracy: 7330/10000 (73.3000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 26: Average loss: 1.2299, Accuracy: 7328/8991 (81.5037%)
Done in 86.01233410835266 sec.
Server Epoch:27 choose agents : [69, 2, 42, 25, 17, 37, 45, 54, 30, 0].
___Train Local_Simple,  epoch  27, local model 69, internal_epoch   1,  Average loss: 0.0190, Accuracy: 410/550 (74.5455%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.9625, Accuracy: 2539/10000 (25.3900%), Attack Success Rate:15/10000(0.150)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 2, internal_epoch   1,  Average loss: 0.0221, Accuracy: 400/471 (84.9257%), train_poison_data_count: 471
Global model norm: 2.2040695438248115.
Norm before scaling: 2.3723050940057036. Distance: 0.4906492567444127
Total norm for 7 adversaries is: 2.3723050940057036. distance: 0.4906492567444127
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.3387, Accuracy: 4637/8991 (51.5738%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 42, internal_epoch   1,  Average loss: 0.0265, Accuracy: 281/359 (78.2730%), train_poison_data_count: 359
Global model norm: 2.2040695438248115.
Norm before scaling: 2.3068528170618476. Distance: 0.3132051737017293
Total norm for 7 adversaries is: 2.3068528170618476. distance: 0.3132051737017293
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.2774, Accuracy: 5351/8991 (59.5151%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 25, internal_epoch   1,  Average loss: 0.0200, Accuracy: 434/503 (86.2823%), train_poison_data_count: 503
Global model norm: 2.2040695438248115.
Norm before scaling: 2.3977379788377906. Distance: 0.5160992204524618
Total norm for 7 adversaries is: 2.3977379788377906. distance: 0.5160992204524618
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.4228, Accuracy: 4500/8991 (50.0501%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 17, internal_epoch   1,  Average loss: 0.0200, Accuracy: 481/565 (85.1327%), train_poison_data_count: 565
Global model norm: 2.2040695438248115.
Norm before scaling: 2.433861192730793. Distance: 0.5955678567364221
Total norm for 7 adversaries is: 2.433861192730793. distance: 0.5955678567364221
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.4986, Accuracy: 4077/8991 (45.3453%)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 37, internal_epoch   1,  Average loss: 0.0227, Accuracy: 428/531 (80.6026%), train_poison_data_count: 531
Global model norm: 2.2040695438248115.
Norm before scaling: 2.375133209508245. Distance: 0.4064147321790458
Total norm for 7 adversaries is: 2.375133209508245. distance: 0.4064147321790458
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.2228, Accuracy: 5697/8991 (63.3634%)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 45, internal_epoch   1,  Average loss: 0.0195, Accuracy: 430/526 (81.7490%), train_poison_data_count: 526
Global model norm: 2.2040695438248115.
Norm before scaling: 2.3925424503080146. Distance: 0.5119996210037259
Total norm for 7 adversaries is: 2.3925424503080146. distance: 0.5119996210037259
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.4265, Accuracy: 4804/8991 (53.4312%)
___Train Local_Simple,  epoch  27, local model 54, internal_epoch   1,  Average loss: 0.0220, Accuracy: 414/590 (70.1695%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.5266, Accuracy: 4797/10000 (47.9700%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 30, internal_epoch   1,  Average loss: 0.0257, Accuracy: 350/502 (69.7211%), train_poison_data_count: 502
Global model norm: 2.2040695438248115.
Norm before scaling: 2.386231517850061. Distance: 0.6017307194916238
Total norm for 7 adversaries is: 2.386231517850061. distance: 0.6017307194916238
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.8912, Accuracy: 2593/8991 (28.8400%)
___Train Local_Simple,  epoch  27, local model 0, internal_epoch   1,  Average loss: 0.0241, Accuracy: 525/737 (71.2347%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.7388, Accuracy: 4627/10000 (46.2700%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.731377124786377
[foolsgold agg] training data poison_ratio: 0.6481064866891638  data num: [550, 471, 359, 503, 565, 531, 526, 590, 502, 737]
[foolsgold agg] considering poison per batch poison_fraction: 0.6481064866891638
[foolsgold agg] wv: [1.         1.         0.38508149 0.25988162 0.66036649 0.25988162
 0.38508149 0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 27: Average loss: 1.3317, Accuracy: 7340/10000 (73.4000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 27: Average loss: 1.2137, Accuracy: 7340/8991 (81.6372%)
Done in 85.95621037483215 sec.
Server Epoch:28 choose agents : [33, 51, 17, 63, 6, 24, 82, 35, 80, 81].
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 33, internal_epoch   1,  Average loss: 0.0255, Accuracy: 259/324 (79.9383%), train_poison_data_count: 324
Global model norm: 2.217957475988981.
Norm before scaling: 2.3009031098352684. Distance: 0.29928288731042996
Total norm for 5 adversaries is: 2.3009031098352684. distance: 0.29928288731042996
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.2619, Accuracy: 5947/8991 (66.1439%)
___Train Local_Simple,  epoch  28, local model 51, internal_epoch   1,  Average loss: 0.0215, Accuracy: 604/802 (75.3117%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.3135, Accuracy: 5746/10000 (57.4600%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 17, internal_epoch   1,  Average loss: 0.0192, Accuracy: 473/565 (83.7168%), train_poison_data_count: 565
Global model norm: 2.217957475988981.
Norm before scaling: 2.442955758280134. Distance: 0.5838412616629545
Total norm for 5 adversaries is: 2.442955758280134. distance: 0.5838412616629545
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.4939, Accuracy: 4099/8991 (45.5900%)
___Train Local_Simple,  epoch  28, local model 63, internal_epoch   1,  Average loss: 0.0225, Accuracy: 429/532 (80.6391%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.4515, Accuracy: 5506/10000 (55.0600%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 6, internal_epoch   1,  Average loss: 0.0197, Accuracy: 549/738 (74.3902%), train_poison_data_count: 738
Global model norm: 2.217957475988981.
Norm before scaling: 2.4870847882648786. Distance: 0.6587870014519207
Total norm for 5 adversaries is: 2.4870847882648786. distance: 0.6587870014519207
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.4899, Accuracy: 4473/8991 (49.7497%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 24, internal_epoch   1,  Average loss: 0.0231, Accuracy: 513/607 (84.5140%), train_poison_data_count: 607
Global model norm: 2.217957475988981.
Norm before scaling: 2.446757027034115. Distance: 0.5047276330350043
Total norm for 5 adversaries is: 2.446757027034115. distance: 0.5047276330350043
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.1699, Accuracy: 5840/8991 (64.9538%)
___Train Local_Simple,  epoch  28, local model 82, internal_epoch   1,  Average loss: 0.0230, Accuracy: 686/943 (72.7466%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1439, Accuracy: 6542/10000 (65.4200%), Attack Success Rate:0/10000(0.000)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 35, internal_epoch   1,  Average loss: 0.0199, Accuracy: 445/572 (77.7972%), train_poison_data_count: 572
Global model norm: 2.217957475988981.
Norm before scaling: 2.4224531898660673. Distance: 0.5486968348389402
Total norm for 5 adversaries is: 2.4224531898660673. distance: 0.5486968348389402
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.5532, Accuracy: 3645/8991 (40.5405%)
___Train Local_Simple,  epoch  28, local model 80, internal_epoch   1,  Average loss: 0.0242, Accuracy: 486/636 (76.4151%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.4282, Accuracy: 5257/10000 (52.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 81, internal_epoch   1,  Average loss: 0.0214, Accuracy: 508/652 (77.9141%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.6184, Accuracy: 5356/10000 (53.5600%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.427820444107056
[foolsgold agg] training data poison_ratio: 0.4404332129963899  data num: [324, 802, 565, 532, 738, 607, 943, 572, 636, 652]
[foolsgold agg] considering poison per batch poison_fraction: 0.4404332129963899
[foolsgold agg] wv: [0.92447258 0.41556828 0.9305674  0.78655037 0.92447258 0.65255177
 0.41556828 1.         0.65255177 1.        ]
___Test Target_Simple poisoned: False, epoch: 28: Average loss: 1.3087, Accuracy: 7392/10000 (73.9200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 28: Average loss: 1.1888, Accuracy: 7388/8991 (82.1711%)
Done in 85.55614733695984 sec.
Server Epoch:29 choose agents : [58, 90, 30, 72, 41, 25, 16, 91, 50, 57].
___Train Local_Simple,  epoch  29, local model 58, internal_epoch   1,  Average loss: 0.0214, Accuracy: 520/639 (81.3772%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.4371, Accuracy: 5546/10000 (55.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 90, internal_epoch   1,  Average loss: 0.0281, Accuracy: 193/273 (70.6960%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.3344, Accuracy: 5772/10000 (57.7200%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 30, internal_epoch   1,  Average loss: 0.0256, Accuracy: 340/502 (67.7291%), train_poison_data_count: 502
Global model norm: 2.2428377384946554.
Norm before scaling: 2.417888880382723. Distance: 0.5730976396891804
Total norm for 5 adversaries is: 2.417888880382723. distance: 0.5730976396891804
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.7732, Accuracy: 3053/8991 (33.9562%)
___Train Local_Simple,  epoch  29, local model 72, internal_epoch   1,  Average loss: 0.0278, Accuracy: 338/458 (73.7991%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.4041, Accuracy: 4824/10000 (48.2400%), Attack Success Rate:0/10000(0.000)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 41, internal_epoch   1,  Average loss: 0.0217, Accuracy: 517/656 (78.8110%), train_poison_data_count: 656
Global model norm: 2.2428377384946554.
Norm before scaling: 2.5049936965284396. Distance: 0.67138847212129
Total norm for 5 adversaries is: 2.5049936965284396. distance: 0.67138847212129
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.3656, Accuracy: 4777/8991 (53.1309%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 25, internal_epoch   1,  Average loss: 0.0180, Accuracy: 426/503 (84.6918%), train_poison_data_count: 503
Global model norm: 2.2428377384946554.
Norm before scaling: 2.423618206121874. Distance: 0.47548712109173297
Total norm for 5 adversaries is: 2.423618206121874. distance: 0.47548712109173297
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.3622, Accuracy: 4852/8991 (53.9651%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 16, internal_epoch   1,  Average loss: 0.0222, Accuracy: 444/551 (80.5808%), train_poison_data_count: 551
Global model norm: 2.2428377384946554.
Norm before scaling: 2.447937650117152. Distance: 0.5099515320149051
Total norm for 5 adversaries is: 2.447937650117152. distance: 0.5099515320149051
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.3004, Accuracy: 4775/8991 (53.1087%)
___Train Local_Simple,  epoch  29, local model 91, internal_epoch   1,  Average loss: 0.0222, Accuracy: 513/677 (75.7755%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.5441, Accuracy: 5314/10000 (53.1400%), Attack Success Rate:0/10000(0.000)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 50, internal_epoch   1,  Average loss: 0.0223, Accuracy: 275/350 (78.5714%), train_poison_data_count: 350
Global model norm: 2.2428377384946554.
Norm before scaling: 2.331692311561952. Distance: 0.35408345348176257
Total norm for 5 adversaries is: 2.331692311561952. distance: 0.35408345348176257
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.3539, Accuracy: 4807/8991 (53.4646%)
___Train Local_Simple,  epoch  29, local model 57, internal_epoch   1,  Average loss: 0.0268, Accuracy: 316/417 (75.7794%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.2844, Accuracy: 6260/10000 (62.6000%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.200018644332886
[foolsgold agg] training data poison_ratio: 0.5097493036211699  data num: [639, 273, 502, 458, 656, 503, 551, 677, 350, 417]
[foolsgold agg] considering poison per batch poison_fraction: 0.5097493036211699
[foolsgold agg] wv: [1.         1.         0.81940802 0.         0.67358879 1.
 0.97630463 0.67358879 0.97630463 0.        ]
___Test Target_Simple poisoned: False, epoch: 29: Average loss: 1.2889, Accuracy: 7412/10000 (74.1200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 29: Average loss: 1.1670, Accuracy: 7406/8991 (82.3713%)
Done in 84.98301029205322 sec.
Server Epoch:30 choose agents : [50, 77, 73, 21, 10, 8, 40, 52, 45, 30].
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 50, internal_epoch   1,  Average loss: 0.0216, Accuracy: 281/350 (80.2857%), train_poison_data_count: 350
Global model norm: 2.262390353248889.
Norm before scaling: 2.3489498186203828. Distance: 0.32661739919149524
Total norm for 7 adversaries is: 2.3489498186203828. distance: 0.32661739919149524
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.2959, Accuracy: 5250/8991 (58.3917%)
___Train Local_Simple,  epoch  30, local model 77, internal_epoch   1,  Average loss: 0.0277, Accuracy: 241/387 (62.2739%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.4478, Accuracy: 4776/10000 (47.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 73, internal_epoch   1,  Average loss: 0.0244, Accuracy: 473/604 (78.3113%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.3086, Accuracy: 5743/10000 (57.4300%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 21, internal_epoch   1,  Average loss: 0.0191, Accuracy: 502/625 (80.3200%), train_poison_data_count: 625
Global model norm: 2.262390353248889.
Norm before scaling: 2.4850663476756214. Distance: 0.5702012881186502
Total norm for 7 adversaries is: 2.4850663476756214. distance: 0.5702012881186502
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.2908, Accuracy: 5075/8991 (56.4453%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 10, internal_epoch   1,  Average loss: 0.0231, Accuracy: 301/381 (79.0026%), train_poison_data_count: 381
Global model norm: 2.262390353248889.
Norm before scaling: 2.365788011465028. Distance: 0.38073693287969784
Total norm for 7 adversaries is: 2.365788011465028. distance: 0.38073693287969784
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.3604, Accuracy: 4931/8991 (54.8437%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 8, internal_epoch   1,  Average loss: 0.0228, Accuracy: 424/539 (78.6642%), train_poison_data_count: 539
Global model norm: 2.262390353248889.
Norm before scaling: 2.4258391393366843. Distance: 0.370215028095124
Total norm for 7 adversaries is: 2.4258391393366843. distance: 0.370215028095124
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.1477, Accuracy: 6300/8991 (70.0701%)
poison local model 40 index 39 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 40, internal_epoch   1,  Average loss: 0.0154, Accuracy: 712/852 (83.5681%), train_poison_data_count: 852
Global model norm: 2.262390353248889.
Norm before scaling: 2.611450740243722. Distance: 0.8059387848375307
Total norm for 7 adversaries is: 2.611450740243722. distance: 0.8059387848375307
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.5433, Accuracy: 4280/8991 (47.6032%)
___Train Local_Simple,  epoch  30, local model 52, internal_epoch   1,  Average loss: 0.0233, Accuracy: 494/649 (76.1171%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.5314, Accuracy: 5180/10000 (51.8000%), Attack Success Rate:0/10000(0.000)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 45, internal_epoch   1,  Average loss: 0.0192, Accuracy: 431/526 (81.9392%), train_poison_data_count: 526
Global model norm: 2.262390353248889.
Norm before scaling: 2.445214997806542. Distance: 0.4979325855242914
Total norm for 7 adversaries is: 2.445214997806542. distance: 0.4979325855242914
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.3835, Accuracy: 4815/8991 (53.5536%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 30, internal_epoch   1,  Average loss: 0.0237, Accuracy: 342/502 (68.1275%), train_poison_data_count: 502
Global model norm: 2.262390353248889.
Norm before scaling: 2.436018175473864. Distance: 0.5876194020945761
Total norm for 7 adversaries is: 2.436018175473864. distance: 0.5876194020945761
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.8188, Accuracy: 2814/8991 (31.2980%)
time spent on training: 24.14484190940857
[foolsgold agg] training data poison_ratio: 0.6971375807940905  data num: [350, 387, 604, 625, 381, 539, 852, 649, 526, 502]
[foolsgold agg] considering poison per batch poison_fraction: 0.6971375807940905
[foolsgold agg] wv: [1.         0.15303389 0.15303389 0.         0.58546445 0.4105005
 0.         1.         0.35374209 0.4105005 ]
___Test Target_Simple poisoned: False, epoch: 30: Average loss: 1.2769, Accuracy: 7453/10000 (74.5300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 30: Average loss: 1.1576, Accuracy: 7453/8991 (82.8940%)
Done in 86.3278260231018 sec.
Server Epoch:31 choose agents : [74, 9, 99, 85, 4, 11, 24, 42, 23, 25].
___Train Local_Simple,  epoch  31, local model 74, internal_epoch   1,  Average loss: 0.0246, Accuracy: 511/724 (70.5801%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.4937, Accuracy: 5395/10000 (53.9500%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 9, internal_epoch   1,  Average loss: 0.0168, Accuracy: 677/793 (85.3720%), train_poison_data_count: 793
Global model norm: 2.272316148159199.
Norm before scaling: 2.5986425377378146. Distance: 0.7409890386771982
Total norm for 7 adversaries is: 2.5986425377378146. distance: 0.7409890386771982
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.3252, Accuracy: 5006/8991 (55.6779%)
___Train Local_Simple,  epoch  31, local model 99, internal_epoch   1,  Average loss: 0.0180, Accuracy: 458/508 (90.1575%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.5343, Accuracy: 5220/10000 (52.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 85, internal_epoch   1,  Average loss: 0.0221, Accuracy: 520/661 (78.6687%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.2026, Accuracy: 6735/10000 (67.3500%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 4, internal_epoch   1,  Average loss: 0.0226, Accuracy: 344/420 (81.9048%), train_poison_data_count: 420
Global model norm: 2.272316148159199.
Norm before scaling: 2.402394264744567. Distance: 0.3762012751450189
Total norm for 7 adversaries is: 2.402394264744567. distance: 0.3762012751450189
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.1978, Accuracy: 5574/8991 (61.9953%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 11, internal_epoch   1,  Average loss: 0.0204, Accuracy: 584/723 (80.7746%), train_poison_data_count: 723
Global model norm: 2.272316148159199.
Norm before scaling: 2.550287312795877. Distance: 0.6192682417507074
Total norm for 7 adversaries is: 2.550287312795877. distance: 0.6192682417507074
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.2526, Accuracy: 5382/8991 (59.8599%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 24, internal_epoch   1,  Average loss: 0.0217, Accuracy: 511/607 (84.1845%), train_poison_data_count: 607
Global model norm: 2.272316148159199.
Norm before scaling: 2.4959914495431725. Distance: 0.48691174521508795
Total norm for 7 adversaries is: 2.4959914495431725. distance: 0.48691174521508795
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.1289, Accuracy: 5950/8991 (66.1773%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 42, internal_epoch   1,  Average loss: 0.0249, Accuracy: 277/359 (77.1588%), train_poison_data_count: 359
Global model norm: 2.272316148159199.
Norm before scaling: 2.369985406243183. Distance: 0.2962375120758128
Total norm for 7 adversaries is: 2.369985406243183. distance: 0.2962375120758128
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.2195, Accuracy: 5664/8991 (62.9963%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 23, internal_epoch   1,  Average loss: 0.0219, Accuracy: 469/583 (80.4460%), train_poison_data_count: 583
Global model norm: 2.272316148159199.
Norm before scaling: 2.4718127989146788. Distance: 0.5121620529398162
Total norm for 7 adversaries is: 2.4718127989146788. distance: 0.5121620529398162
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.2984, Accuracy: 5849/8991 (65.0539%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 25, internal_epoch   1,  Average loss: 0.0188, Accuracy: 421/503 (83.6978%), train_poison_data_count: 503
Global model norm: 2.272316148159199.
Norm before scaling: 2.448543960603537. Distance: 0.4675583155617766
Total norm for 7 adversaries is: 2.448543960603537. distance: 0.4675583155617766
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.3221, Accuracy: 4935/8991 (54.8882%)
time spent on training: 24.42499279975891
[foolsgold agg] training data poison_ratio: 0.6781159666723346  data num: [724, 793, 508, 661, 420, 723, 607, 359, 583, 503]
[foolsgold agg] considering poison per batch poison_fraction: 0.6781159666723346
[foolsgold agg] wv: [1.         0.90468087 1.         1.         1.         0.84680499
 0.90468087 0.84680499 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 31: Average loss: 1.2521, Accuracy: 7471/10000 (74.7100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 31: Average loss: 1.1261, Accuracy: 7464/8991 (83.0163%)
Done in 85.88191342353821 sec.
Server Epoch:32 choose agents : [93, 87, 55, 70, 15, 90, 91, 86, 67, 20].
___Train Local_Simple,  epoch  32, local model 93, internal_epoch   1,  Average loss: 0.0204, Accuracy: 292/344 (84.8837%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.2383, Accuracy: 6518/10000 (65.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 87, internal_epoch   1,  Average loss: 0.0157, Accuracy: 466/513 (90.8382%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.4709, Accuracy: 5307/10000 (53.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 55, internal_epoch   1,  Average loss: 0.0212, Accuracy: 498/707 (70.4385%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.5469, Accuracy: 4652/10000 (46.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 70, internal_epoch   1,  Average loss: 0.0232, Accuracy: 492/664 (74.0964%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.4478, Accuracy: 5443/10000 (54.4300%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 15, internal_epoch   1,  Average loss: 0.0189, Accuracy: 516/611 (84.4517%), train_poison_data_count: 611
Global model norm: 2.3040082544801455.
Norm before scaling: 2.5342529756683403. Distance: 0.5299169420442656
Total norm for 2 adversaries is: 2.5342529756683403. distance: 0.5299169420442656
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.2345, Accuracy: 5176/8991 (57.5687%)
___Train Local_Simple,  epoch  32, local model 90, internal_epoch   1,  Average loss: 0.0273, Accuracy: 196/273 (71.7949%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.2716, Accuracy: 6157/10000 (61.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 91, internal_epoch   1,  Average loss: 0.0213, Accuracy: 523/677 (77.2526%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.4823, Accuracy: 5431/10000 (54.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 86, internal_epoch   1,  Average loss: 0.0237, Accuracy: 395/519 (76.1079%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.2444, Accuracy: 6194/10000 (61.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 67, internal_epoch   1,  Average loss: 0.0244, Accuracy: 411/592 (69.4257%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.4884, Accuracy: 4296/10000 (42.9600%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 20, internal_epoch   1,  Average loss: 0.0234, Accuracy: 307/391 (78.5166%), train_poison_data_count: 391
Global model norm: 2.3040082544801455.
Norm before scaling: 2.4001557100964805. Distance: 0.3493992904176041
Total norm for 2 adversaries is: 2.4001557100964805. distance: 0.3493992904176041
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.2127, Accuracy: 5990/8991 (66.6222%)
time spent on training: 21.095407962799072
[foolsgold agg] training data poison_ratio: 0.18937818937818937  data num: [344, 513, 707, 664, 611, 273, 677, 519, 592, 391]
[foolsgold agg] considering poison per batch poison_fraction: 0.18937818937818934
[foolsgold agg] wv: [0.47594249 0.47594249 0.62372356 0.03534133 0.70162536 1.
 0.03534133 0.48665122 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 32: Average loss: 1.2412, Accuracy: 7464/10000 (74.6400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 32: Average loss: 1.1188, Accuracy: 7458/8991 (82.9496%)
Done in 83.04050660133362 sec.
Server Epoch:33 choose agents : [77, 57, 21, 67, 14, 97, 28, 22, 70, 93].
___Train Local_Simple,  epoch  33, local model 77, internal_epoch   1,  Average loss: 0.0266, Accuracy: 255/387 (65.8915%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.3859, Accuracy: 5055/10000 (50.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 57, internal_epoch   1,  Average loss: 0.0260, Accuracy: 319/417 (76.4988%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.2216, Accuracy: 6601/10000 (66.0100%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 21, internal_epoch   1,  Average loss: 0.0185, Accuracy: 510/625 (81.6000%), train_poison_data_count: 625
Global model norm: 2.313811162452438.
Norm before scaling: 2.522754116056126. Distance: 0.5339865605631194
Total norm for 4 adversaries is: 2.522754116056126. distance: 0.5339865605631194
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.2376, Accuracy: 5354/8991 (59.5484%)
___Train Local_Simple,  epoch  33, local model 67, internal_epoch   1,  Average loss: 0.0242, Accuracy: 401/592 (67.7365%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.4559, Accuracy: 4466/10000 (44.6600%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 14, internal_epoch   1,  Average loss: 0.0207, Accuracy: 422/535 (78.8785%), train_poison_data_count: 535
Global model norm: 2.313811162452438.
Norm before scaling: 2.488136083659189. Distance: 0.5357506228793569
Total norm for 4 adversaries is: 2.488136083659189. distance: 0.5357506228793569
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.4005, Accuracy: 4141/8991 (46.0572%)
___Train Local_Simple,  epoch  33, local model 97, internal_epoch   1,  Average loss: 0.0242, Accuracy: 419/557 (75.2244%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.3896, Accuracy: 5575/10000 (55.7500%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 28, internal_epoch   1,  Average loss: 0.0236, Accuracy: 346/440 (78.6364%), train_poison_data_count: 440
Global model norm: 2.313811162452438.
Norm before scaling: 2.4241638197040154. Distance: 0.2749926349347216
Total norm for 4 adversaries is: 2.4241638197040154. distance: 0.2749926349347216
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.0906, Accuracy: 6967/8991 (77.4886%)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 22, internal_epoch   1,  Average loss: 0.0225, Accuracy: 297/441 (67.3469%), train_poison_data_count: 441
Global model norm: 2.313811162452438.
Norm before scaling: 2.445432227375464. Distance: 0.5534953348536945
Total norm for 4 adversaries is: 2.445432227375464. distance: 0.5534953348536945
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.7096, Accuracy: 2565/8991 (28.5285%)
___Train Local_Simple,  epoch  33, local model 70, internal_epoch   1,  Average loss: 0.0228, Accuracy: 499/664 (75.1506%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.4486, Accuracy: 5413/10000 (54.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 93, internal_epoch   1,  Average loss: 0.0202, Accuracy: 294/344 (85.4651%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.2382, Accuracy: 6469/10000 (64.6900%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.071486711502075
[foolsgold agg] training data poison_ratio: 0.40803678528588566  data num: [387, 417, 625, 592, 535, 557, 440, 441, 664, 344]
[foolsgold agg] considering poison per batch poison_fraction: 0.4080367852858856
[foolsgold agg] wv: [1.         0.34326005 1.         0.         1.         0.18563567
 1.         0.         0.18563567 1.        ]
___Test Target_Simple poisoned: False, epoch: 33: Average loss: 1.2278, Accuracy: 7487/10000 (74.8700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 33: Average loss: 1.1085, Accuracy: 7486/8991 (83.2610%)
Done in 83.92300915718079 sec.
Server Epoch:34 choose agents : [37, 49, 41, 50, 71, 60, 42, 83, 26, 48].
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 37, internal_epoch   1,  Average loss: 0.0210, Accuracy: 429/531 (80.7910%), train_poison_data_count: 531
Global model norm: 2.3275358747591874.
Norm before scaling: 2.487587153762597. Distance: 0.37495141906769874
Total norm for 7 adversaries is: 2.487587153762597. distance: 0.37495141906769874
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.1305, Accuracy: 6023/8991 (66.9892%)
poison local model 49 index 48 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 49, internal_epoch   1,  Average loss: 0.0192, Accuracy: 291/336 (86.6071%), train_poison_data_count: 336
Global model norm: 2.3275358747591874.
Norm before scaling: 2.4147693376976336. Distance: 0.3256305153758556
Total norm for 7 adversaries is: 2.4147693376976336. distance: 0.3256305153758556
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.2652, Accuracy: 4869/8991 (54.1542%)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 41, internal_epoch   1,  Average loss: 0.0204, Accuracy: 531/656 (80.9451%), train_poison_data_count: 656
Global model norm: 2.3275358747591874.
Norm before scaling: 2.5697211886914624. Distance: 0.6149234288704526
Total norm for 7 adversaries is: 2.5697211886914624. distance: 0.6149234288704526
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.2564, Accuracy: 5336/8991 (59.3482%)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 50, internal_epoch   1,  Average loss: 0.0209, Accuracy: 286/350 (81.7143%), train_poison_data_count: 350
Global model norm: 2.3275358747591874.
Norm before scaling: 2.4136412416567863. Distance: 0.34245311409181406
Total norm for 7 adversaries is: 2.4136412416567863. distance: 0.34245311409181406
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.2556, Accuracy: 5291/8991 (58.8477%)
___Train Local_Simple,  epoch  34, local model 71, internal_epoch   1,  Average loss: 0.0199, Accuracy: 565/716 (78.9106%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.6526, Accuracy: 4392/10000 (43.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 60, internal_epoch   1,  Average loss: 0.0172, Accuracy: 454/546 (83.1502%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.8203, Accuracy: 3949/10000 (39.4900%), Attack Success Rate:0/10000(0.000)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 42, internal_epoch   1,  Average loss: 0.0245, Accuracy: 290/359 (80.7799%), train_poison_data_count: 359
Global model norm: 2.3275358747591874.
Norm before scaling: 2.4226588795686714. Distance: 0.2977092090061693
Total norm for 7 adversaries is: 2.4226588795686714. distance: 0.2977092090061693
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.1677, Accuracy: 5934/8991 (65.9993%)
___Train Local_Simple,  epoch  34, local model 83, internal_epoch   1,  Average loss: 0.0205, Accuracy: 399/521 (76.5835%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.4746, Accuracy: 4945/10000 (49.4500%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 26, internal_epoch   1,  Average loss: 0.0200, Accuracy: 373/442 (84.3891%), train_poison_data_count: 442
Global model norm: 2.3275358747591874.
Norm before scaling: 2.4501966747829016. Distance: 0.3372353611194527
Total norm for 7 adversaries is: 2.4501966747829016. distance: 0.3372353611194527
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.1617, Accuracy: 6190/8991 (68.8466%)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 48, internal_epoch   1,  Average loss: 0.0247, Accuracy: 423/610 (69.3443%), train_poison_data_count: 610
Global model norm: 2.3275358747591874.
Norm before scaling: 2.5242617179309224. Distance: 0.5726311463478114
Total norm for 7 adversaries is: 2.5242617179309224. distance: 0.5726311463478114
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.4218, Accuracy: 4071/8991 (45.2786%)
time spent on training: 24.49397301673889
[foolsgold agg] training data poison_ratio: 0.6481152555752911  data num: [531, 336, 656, 350, 716, 546, 359, 521, 442, 610]
[foolsgold agg] considering poison per batch poison_fraction: 0.648115255575291
[foolsgold agg] wv: [0.46436247 1.         0.         1.         1.         0.0778736
 0.4192893  1.         0.0778736  0.        ]
___Test Target_Simple poisoned: False, epoch: 34: Average loss: 1.2181, Accuracy: 7511/10000 (75.1100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 34: Average loss: 1.0985, Accuracy: 7517/8991 (83.6058%)
Done in 86.25734400749207 sec.
Server Epoch:35 choose agents : [50, 36, 53, 79, 33, 25, 15, 1, 65, 98].
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 50, internal_epoch   1,  Average loss: 0.0210, Accuracy: 280/350 (80.0000%), train_poison_data_count: 350
Global model norm: 2.339844259475372.
Norm before scaling: 2.4244618044735864. Distance: 0.3412105435836955
Total norm for 6 adversaries is: 2.4244618044735864. distance: 0.3412105435836955
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.2519, Accuracy: 5261/8991 (58.5141%)
poison local model 36 index 35 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 36, internal_epoch   1,  Average loss: 0.0173, Accuracy: 618/700 (88.2857%), train_poison_data_count: 700
Global model norm: 2.339844259475372.
Norm before scaling: 2.602977745772909. Distance: 0.6066726283114114
Total norm for 6 adversaries is: 2.602977745772909. distance: 0.6066726283114114
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.2068, Accuracy: 5733/8991 (63.7638%)
___Train Local_Simple,  epoch  35, local model 53, internal_epoch   1,  Average loss: 0.0194, Accuracy: 514/699 (73.5336%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 2.0695, Accuracy: 3661/10000 (36.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 79, internal_epoch   1,  Average loss: 0.0226, Accuracy: 420/549 (76.5027%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.2002, Accuracy: 6466/10000 (64.6600%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 33, internal_epoch   1,  Average loss: 0.0237, Accuracy: 271/324 (83.6420%), train_poison_data_count: 324
Global model norm: 2.339844259475372.
Norm before scaling: 2.419833005392483. Distance: 0.2767125455439697
Total norm for 6 adversaries is: 2.419833005392483. distance: 0.2767125455439697
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.1488, Accuracy: 6370/8991 (70.8486%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 25, internal_epoch   1,  Average loss: 0.0176, Accuracy: 434/503 (86.2823%), train_poison_data_count: 503
Global model norm: 2.339844259475372.
Norm before scaling: 2.50852504601691. Distance: 0.44514637910363675
Total norm for 6 adversaries is: 2.50852504601691. distance: 0.44514637910363675
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.2499, Accuracy: 5258/8991 (58.4807%)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 15, internal_epoch   1,  Average loss: 0.0178, Accuracy: 523/611 (85.5974%), train_poison_data_count: 611
Global model norm: 2.339844259475372.
Norm before scaling: 2.5652465057899465. Distance: 0.5188614679555622
Total norm for 6 adversaries is: 2.5652465057899465. distance: 0.5188614679555622
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.1970, Accuracy: 5389/8991 (59.9377%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 1, internal_epoch   1,  Average loss: 0.0179, Accuracy: 575/680 (84.5588%), train_poison_data_count: 680
Global model norm: 2.339844259475372.
Norm before scaling: 2.592284006595267. Distance: 0.6153021154500925
Total norm for 6 adversaries is: 2.592284006595267. distance: 0.6153021154500925
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.4119, Accuracy: 4968/8991 (55.2553%)
___Train Local_Simple,  epoch  35, local model 65, internal_epoch   1,  Average loss: 0.0265, Accuracy: 304/407 (74.6929%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.2601, Accuracy: 6279/10000 (62.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 98, internal_epoch   1,  Average loss: 0.0212, Accuracy: 444/590 (75.2542%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.3945, Accuracy: 5110/10000 (51.1000%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.441718816757202
[foolsgold agg] training data poison_ratio: 0.5852577129133567  data num: [350, 700, 699, 549, 324, 503, 611, 680, 407, 590]
[foolsgold agg] considering poison per batch poison_fraction: 0.5852577129133567
[foolsgold agg] wv: [1.         0.29331643 1.         0.64861529 1.         1.
 0.         0.         1.         0.64861529]
___Test Target_Simple poisoned: False, epoch: 35: Average loss: 1.2008, Accuracy: 7542/10000 (75.4200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 35: Average loss: 1.0870, Accuracy: 7554/8991 (84.0174%)
Done in 85.50537896156311 sec.
Server Epoch:36 choose agents : [82, 4, 79, 32, 47, 44, 89, 48, 70, 77].
___Train Local_Simple,  epoch  36, local model 82, internal_epoch   1,  Average loss: 0.0210, Accuracy: 712/943 (75.5037%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.0762, Accuracy: 6594/10000 (65.9400%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 4, internal_epoch   1,  Average loss: 0.0212, Accuracy: 350/420 (83.3333%), train_poison_data_count: 420
Global model norm: 2.356118689806722.
Norm before scaling: 2.482252449838945. Distance: 0.37597814782539146
Total norm for 5 adversaries is: 2.482252449838945. distance: 0.37597814782539146
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.1438, Accuracy: 5712/8991 (63.5302%)
___Train Local_Simple,  epoch  36, local model 79, internal_epoch   1,  Average loss: 0.0222, Accuracy: 424/549 (77.2313%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.1922, Accuracy: 6435/10000 (64.3500%), Attack Success Rate:0/10000(0.000)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 32, internal_epoch   1,  Average loss: 0.0188, Accuracy: 754/917 (82.2246%), train_poison_data_count: 917
Global model norm: 2.356118689806722.
Norm before scaling: 2.7132920475598574. Distance: 0.7822151326119521
Total norm for 5 adversaries is: 2.7132920475598574. distance: 0.7822151326119521
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.3583, Accuracy: 5389/8991 (59.9377%)
poison local model 47 index 46 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 47, internal_epoch   1,  Average loss: 0.0200, Accuracy: 347/408 (85.0490%), train_poison_data_count: 408
Global model norm: 2.356118689806722.
Norm before scaling: 2.487631624659508. Distance: 0.40892166341871106
Total norm for 5 adversaries is: 2.487631624659508. distance: 0.40892166341871106
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.2611, Accuracy: 4648/8991 (51.6961%)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 44, internal_epoch   1,  Average loss: 0.0187, Accuracy: 380/440 (86.3636%), train_poison_data_count: 440
Global model norm: 2.356118689806722.
Norm before scaling: 2.498066535973743. Distance: 0.49341314087765403
Total norm for 5 adversaries is: 2.498066535973743. distance: 0.49341314087765403
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.4012, Accuracy: 4169/8991 (46.3686%)
___Train Local_Simple,  epoch  36, local model 89, internal_epoch   1,  Average loss: 0.0190, Accuracy: 605/723 (83.6791%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.3041, Accuracy: 6025/10000 (60.2500%), Attack Success Rate:0/10000(0.000)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 48, internal_epoch   1,  Average loss: 0.0242, Accuracy: 418/610 (68.5246%), train_poison_data_count: 610
Global model norm: 2.356118689806722.
Norm before scaling: 2.5465802917345797. Distance: 0.5396932422484865
Total norm for 5 adversaries is: 2.5465802917345797. distance: 0.5396932422484865
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.3193, Accuracy: 4587/8991 (51.0177%)
___Train Local_Simple,  epoch  36, local model 70, internal_epoch   1,  Average loss: 0.0224, Accuracy: 494/664 (74.3976%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.4012, Accuracy: 5567/10000 (55.6700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 77, internal_epoch   1,  Average loss: 0.0260, Accuracy: 254/387 (65.6331%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.3732, Accuracy: 5039/10000 (50.3900%), Attack Success Rate:0/10000(0.000)
time spent on training: 24.708977460861206
[foolsgold agg] training data poison_ratio: 0.46114502557333775  data num: [943, 420, 549, 917, 408, 440, 723, 610, 664, 387]
[foolsgold agg] considering poison per batch poison_fraction: 0.4611450255733377
[foolsgold agg] wv: [0.80000626 0.64468047 0.80000626 1.         0.64468047 1.
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 36: Average loss: 1.1783, Accuracy: 7539/10000 (75.3900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 36: Average loss: 1.0674, Accuracy: 7538/8991 (83.8394%)
Done in 86.07504105567932 sec.
Server Epoch:37 choose agents : [27, 30, 33, 41, 5, 52, 84, 43, 62, 18].
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 27, internal_epoch   1,  Average loss: 0.0183, Accuracy: 433/501 (86.4271%), train_poison_data_count: 501
Global model norm: 2.3837719595927327.
Norm before scaling: 2.564135239038372. Distance: 0.5053382457433153
Total norm for 7 adversaries is: 2.564135239038372. distance: 0.5053382457433153
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.2573, Accuracy: 5257/8991 (58.4696%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 30, internal_epoch   1,  Average loss: 0.0246, Accuracy: 360/502 (71.7131%), train_poison_data_count: 502
Global model norm: 2.3837719595927327.
Norm before scaling: 2.551709133403602. Distance: 0.5547972019944597
Total norm for 7 adversaries is: 2.551709133403602. distance: 0.5547972019944597
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.5898, Accuracy: 3589/8991 (39.9177%)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 33, internal_epoch   1,  Average loss: 0.0228, Accuracy: 270/324 (83.3333%), train_poison_data_count: 324
Global model norm: 2.3837719595927327.
Norm before scaling: 2.4612988403496128. Distance: 0.2742637140953662
Total norm for 7 adversaries is: 2.4612988403496128. distance: 0.2742637140953662
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.1226, Accuracy: 6440/8991 (71.6272%)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 41, internal_epoch   1,  Average loss: 0.0189, Accuracy: 521/656 (79.4207%), train_poison_data_count: 656
Global model norm: 2.3837719595927327.
Norm before scaling: 2.615976719697262. Distance: 0.5879426597303112
Total norm for 7 adversaries is: 2.615976719697262. distance: 0.5879426597303112
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.2236, Accuracy: 5510/8991 (61.2835%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 5, internal_epoch   1,  Average loss: 0.0200, Accuracy: 569/718 (79.2479%), train_poison_data_count: 718
Global model norm: 2.3837719595927327.
Norm before scaling: 2.6514789592865537. Distance: 0.6319594579410697
Total norm for 7 adversaries is: 2.6514789592865537. distance: 0.6319594579410697
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.2761, Accuracy: 4541/8991 (50.5061%)
___Train Local_Simple,  epoch  37, local model 52, internal_epoch   1,  Average loss: 0.0213, Accuracy: 504/649 (77.6579%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.4154, Accuracy: 5656/10000 (56.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 84, internal_epoch   1,  Average loss: 0.0255, Accuracy: 312/419 (74.4630%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.2755, Accuracy: 5881/10000 (58.8100%), Attack Success Rate:0/10000(0.000)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 43, internal_epoch   1,  Average loss: 0.0197, Accuracy: 598/701 (85.3067%), train_poison_data_count: 701
Global model norm: 2.3837719595927327.
Norm before scaling: 2.643132210191953. Distance: 0.5546714350563423
Total norm for 7 adversaries is: 2.643132210191953. distance: 0.5546714350563423
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.1255, Accuracy: 6040/8991 (67.1783%)
___Train Local_Simple,  epoch  37, local model 62, internal_epoch   1,  Average loss: 0.0207, Accuracy: 483/597 (80.9045%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.2664, Accuracy: 6057/10000 (60.5700%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 18, internal_epoch   1,  Average loss: 0.0218, Accuracy: 460/564 (81.5603%), train_poison_data_count: 564
Global model norm: 2.3837719595927327.
Norm before scaling: 2.566260021578494. Distance: 0.41602185741645364
Total norm for 7 adversaries is: 2.566260021578494. distance: 0.41602185741645364
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.0730, Accuracy: 6293/8991 (69.9922%)
time spent on training: 24.208638668060303
[foolsgold agg] training data poison_ratio: 0.7043153969099627  data num: [501, 502, 324, 656, 718, 649, 419, 701, 597, 564]
[foolsgold agg] considering poison per batch poison_fraction: 0.7043153969099627
[foolsgold agg] wv: [1.         1.         1.         1.         0.60729113 0.
 0.         1.         1.         0.60729113]
___Test Target_Simple poisoned: False, epoch: 37: Average loss: 1.1720, Accuracy: 7568/10000 (75.6800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 37: Average loss: 1.0484, Accuracy: 7556/8991 (84.0396%)
Done in 86.02188301086426 sec.
Server Epoch:38 choose agents : [39, 29, 87, 78, 53, 83, 19, 45, 52, 17].
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 39, internal_epoch   1,  Average loss: 0.0193, Accuracy: 411/493 (83.3671%), train_poison_data_count: 493
Global model norm: 2.406346703109593.
Norm before scaling: 2.541361076453058. Distance: 0.3291393790322205
Total norm for 5 adversaries is: 2.541361076453058. distance: 0.3291393790322205
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.0829, Accuracy: 6026/8991 (67.0226%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 29, internal_epoch   1,  Average loss: 0.0185, Accuracy: 652/764 (85.3403%), train_poison_data_count: 764
Global model norm: 2.406346703109593.
Norm before scaling: 2.681547625902421. Distance: 0.5315363056382681
Total norm for 5 adversaries is: 2.681547625902421. distance: 0.5315363056382681
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 0.9857, Accuracy: 6766/8991 (75.2530%)
___Train Local_Simple,  epoch  38, local model 87, internal_epoch   1,  Average loss: 0.0146, Accuracy: 469/513 (91.4230%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.3697, Accuracy: 5567/10000 (55.6700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 78, internal_epoch   1,  Average loss: 0.0193, Accuracy: 449/547 (82.0841%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.2966, Accuracy: 6141/10000 (61.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 53, internal_epoch   1,  Average loss: 0.0191, Accuracy: 515/699 (73.6767%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.9739, Accuracy: 4017/10000 (40.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 83, internal_epoch   1,  Average loss: 0.0200, Accuracy: 393/521 (75.4319%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.3791, Accuracy: 5525/10000 (55.2500%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 19, internal_epoch   1,  Average loss: 0.0203, Accuracy: 522/726 (71.9008%), train_poison_data_count: 726
Global model norm: 2.406346703109593.
Norm before scaling: 2.6490017900241263. Distance: 0.6972171969652714
Total norm for 5 adversaries is: 2.6490017900241263. distance: 0.6972171969652714
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.5598, Accuracy: 3587/8991 (39.8955%)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 45, internal_epoch   1,  Average loss: 0.0171, Accuracy: 444/526 (84.4106%), train_poison_data_count: 526
Global model norm: 2.406346703109593.
Norm before scaling: 2.570877616002205. Distance: 0.46257864824654266
Total norm for 5 adversaries is: 2.570877616002205. distance: 0.46257864824654266
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.2390, Accuracy: 5182/8991 (57.6354%)
___Train Local_Simple,  epoch  38, local model 52, internal_epoch   1,  Average loss: 0.0212, Accuracy: 512/649 (78.8906%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.3988, Accuracy: 5700/10000 (57.0000%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 17, internal_epoch   1,  Average loss: 0.0168, Accuracy: 499/565 (88.3186%), train_poison_data_count: 565
Global model norm: 2.406346703109593.
Norm before scaling: 2.601956907509261. Distance: 0.5094931740383104
Total norm for 5 adversaries is: 2.601956907509261. distance: 0.5094931740383104
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.2972, Accuracy: 4638/8991 (51.5849%)
time spent on training: 23.29660964012146
[foolsgold agg] training data poison_ratio: 0.5120772946859904  data num: [493, 764, 513, 547, 699, 521, 726, 526, 649, 565]
[foolsgold agg] considering poison per batch poison_fraction: 0.5120772946859904
[foolsgold agg] wv: [0.48034616 1.         1.         1.         1.         0.
 1.         1.         0.         0.48034616]
___Test Target_Simple poisoned: False, epoch: 38: Average loss: 1.1604, Accuracy: 7546/10000 (75.4600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 38: Average loss: 1.0322, Accuracy: 7541/8991 (83.8728%)
Done in 85.04497933387756 sec.
Server Epoch:39 choose agents : [3, 34, 32, 5, 73, 14, 40, 88, 72, 13].
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 3, internal_epoch   1,  Average loss: 0.0188, Accuracy: 494/605 (81.6529%), train_poison_data_count: 605
Global model norm: 2.427214612125477.
Norm before scaling: 2.6318050460559492. Distance: 0.5666991693160439
Total norm for 7 adversaries is: 2.6318050460559492. distance: 0.5666991693160439
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.4178, Accuracy: 4157/8991 (46.2351%)
poison local model 34 index 33 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 34, internal_epoch   1,  Average loss: 0.0203, Accuracy: 617/751 (82.1571%), train_poison_data_count: 751
Global model norm: 2.427214612125477.
Norm before scaling: 2.6965383202369115. Distance: 0.5088867269489271
Total norm for 7 adversaries is: 2.6965383202369115. distance: 0.5088867269489271
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9576, Accuracy: 6675/8991 (74.2409%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 32, internal_epoch   1,  Average loss: 0.0180, Accuracy: 765/917 (83.4242%), train_poison_data_count: 917
Global model norm: 2.427214612125477.
Norm before scaling: 2.7693804227706584. Distance: 0.7514507646834333
Total norm for 7 adversaries is: 2.7693804227706584. distance: 0.7514507646834333
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.3298, Accuracy: 5512/8991 (61.3058%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 5, internal_epoch   1,  Average loss: 0.0187, Accuracy: 585/718 (81.4763%), train_poison_data_count: 718
Global model norm: 2.427214612125477.
Norm before scaling: 2.688525603013723. Distance: 0.6235941095047662
Total norm for 7 adversaries is: 2.688525603013723. distance: 0.6235941095047662
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.2676, Accuracy: 4557/8991 (50.6840%)
___Train Local_Simple,  epoch  39, local model 73, internal_epoch   1,  Average loss: 0.0212, Accuracy: 477/604 (78.9735%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.2145, Accuracy: 6068/10000 (60.6800%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 14, internal_epoch   1,  Average loss: 0.0196, Accuracy: 428/535 (80.0000%), train_poison_data_count: 535
Global model norm: 2.427214612125477.
Norm before scaling: 2.5901584807995746. Distance: 0.5128567686622247
Total norm for 7 adversaries is: 2.5901584807995746. distance: 0.5128567686622247
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.2926, Accuracy: 4667/8991 (51.9075%)
poison local model 40 index 39 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 40, internal_epoch   1,  Average loss: 0.0149, Accuracy: 730/852 (85.6808%), train_poison_data_count: 852
Global model norm: 2.427214612125477.
Norm before scaling: 2.7331879573246876. Distance: 0.7241643068328557
Total norm for 7 adversaries is: 2.7331879573246876. distance: 0.7241643068328557
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.3656, Accuracy: 4753/8991 (52.8640%)
___Train Local_Simple,  epoch  39, local model 88, internal_epoch   1,  Average loss: 0.0212, Accuracy: 352/450 (78.2222%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.1962, Accuracy: 6023/10000 (60.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 72, internal_epoch   1,  Average loss: 0.0242, Accuracy: 345/458 (75.3275%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.2416, Accuracy: 5499/10000 (54.9900%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 13, internal_epoch   1,  Average loss: 0.0156, Accuracy: 553/668 (82.7844%), train_poison_data_count: 668
Global model norm: 2.427214612125477.
Norm before scaling: 2.6476504076197895. Distance: 0.5810605601807349
Total norm for 7 adversaries is: 2.6476504076197895. distance: 0.5810605601807349
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.4309, Accuracy: 3876/8991 (43.1098%)
time spent on training: 24.554662704467773
[foolsgold agg] training data poison_ratio: 0.7694419030192132  data num: [605, 751, 917, 718, 604, 535, 852, 450, 458, 668]
[foolsgold agg] considering poison per batch poison_fraction: 0.7694419030192132
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 39: Average loss: 1.1493, Accuracy: 7543/10000 (75.4300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 39: Average loss: 1.0086, Accuracy: 7545/8991 (83.9173%)
Done in 85.74503660202026 sec.
Server Epoch:40 choose agents : [12, 23, 87, 98, 51, 83, 52, 90, 71, 11].
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 12, internal_epoch   1,  Average loss: 0.0161, Accuracy: 554/632 (87.6582%), train_poison_data_count: 632
Global model norm: 2.45961423144179.
Norm before scaling: 2.6897114371343385. Distance: 0.6083853094114301
Total norm for 3 adversaries is: 2.6897114371343385. distance: 0.6083853094114301
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.3532, Accuracy: 4550/8991 (50.6062%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 23, internal_epoch   1,  Average loss: 0.0190, Accuracy: 480/583 (82.3328%), train_poison_data_count: 583
Global model norm: 2.45961423144179.
Norm before scaling: 2.635126200916586. Distance: 0.44872347854300215
Total norm for 3 adversaries is: 2.635126200916586. distance: 0.44872347854300215
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.1817, Accuracy: 5972/8991 (66.4220%)
___Train Local_Simple,  epoch  40, local model 87, internal_epoch   1,  Average loss: 0.0136, Accuracy: 472/513 (92.0078%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.3463, Accuracy: 5658/10000 (56.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 98, internal_epoch   1,  Average loss: 0.0204, Accuracy: 446/590 (75.5932%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.2800, Accuracy: 5628/10000 (56.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 51, internal_epoch   1,  Average loss: 0.0198, Accuracy: 636/802 (79.3017%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.1481, Accuracy: 6539/10000 (65.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 83, internal_epoch   1,  Average loss: 0.0200, Accuracy: 388/521 (74.4722%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.3543, Accuracy: 5746/10000 (57.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 52, internal_epoch   1,  Average loss: 0.0207, Accuracy: 509/649 (78.4284%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.3499, Accuracy: 6011/10000 (60.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 90, internal_epoch   1,  Average loss: 0.0258, Accuracy: 195/273 (71.4286%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.1510, Accuracy: 6794/10000 (67.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 71, internal_epoch   1,  Average loss: 0.0187, Accuracy: 570/716 (79.6089%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.5259, Accuracy: 4704/10000 (47.0400%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 11, internal_epoch   1,  Average loss: 0.0182, Accuracy: 603/723 (83.4025%), train_poison_data_count: 723
Global model norm: 2.45961423144179.
Norm before scaling: 2.7016737906730555. Distance: 0.5357375781354329
Total norm for 3 adversaries is: 2.7016737906730555. distance: 0.5357375781354329
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.1142, Accuracy: 5896/8991 (65.5767%)
time spent on training: 21.975362300872803
[foolsgold agg] training data poison_ratio: 0.32289236921026326  data num: [632, 583, 513, 590, 802, 521, 649, 273, 716, 723]
[foolsgold agg] considering poison per batch poison_fraction: 0.3228923692102633
[foolsgold agg] wv: [1.         1.         1.         0.44528313 0.44528313 0.
 0.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 40: Average loss: 1.1356, Accuracy: 7533/10000 (75.3300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 40: Average loss: 0.9961, Accuracy: 7531/8991 (83.7615%)
Done in 83.76737356185913 sec.
Server Epoch:41 choose agents : [51, 28, 20, 95, 83, 18, 55, 42, 29, 46].
___Train Local_Simple,  epoch  41, local model 51, internal_epoch   1,  Average loss: 0.0189, Accuracy: 637/802 (79.4264%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.1477, Accuracy: 6473/10000 (64.7300%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 28, internal_epoch   1,  Average loss: 0.0214, Accuracy: 349/440 (79.3182%), train_poison_data_count: 440
Global model norm: 2.479492379812419.
Norm before scaling: 2.5805209961561606. Distance: 0.25090674531341134
Total norm for 6 adversaries is: 2.5805209961561606. distance: 0.25090674531341134
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9813, Accuracy: 7203/8991 (80.1134%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 20, internal_epoch   1,  Average loss: 0.0215, Accuracy: 308/391 (78.7724%), train_poison_data_count: 391
Global model norm: 2.479492379812419.
Norm before scaling: 2.5645650590813136. Distance: 0.3326429006568669
Total norm for 6 adversaries is: 2.5645650590813136. distance: 0.3326429006568669
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.0773, Accuracy: 6539/8991 (72.7283%)
___Train Local_Simple,  epoch  41, local model 95, internal_epoch   1,  Average loss: 0.0196, Accuracy: 621/804 (77.2388%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.4271, Accuracy: 5141/10000 (51.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 83, internal_epoch   1,  Average loss: 0.0194, Accuracy: 403/521 (77.3512%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.3334, Accuracy: 5707/10000 (57.0700%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 18, internal_epoch   1,  Average loss: 0.0204, Accuracy: 459/564 (81.3830%), train_poison_data_count: 564
Global model norm: 2.479492379812419.
Norm before scaling: 2.6490432811641558. Distance: 0.3839355266929562
Total norm for 6 adversaries is: 2.6490432811641558. distance: 0.3839355266929562
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.0019, Accuracy: 6655/8991 (74.0185%)
___Train Local_Simple,  epoch  41, local model 55, internal_epoch   1,  Average loss: 0.0196, Accuracy: 532/707 (75.2475%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.4162, Accuracy: 5168/10000 (51.6800%), Attack Success Rate:0/10000(0.000)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 42, internal_epoch   1,  Average loss: 0.0218, Accuracy: 283/359 (78.8301%), train_poison_data_count: 359
Global model norm: 2.479492379812419.
Norm before scaling: 2.565047602667244. Distance: 0.26983314689916854
Total norm for 6 adversaries is: 2.565047602667244. distance: 0.26983314689916854
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.0503, Accuracy: 6388/8991 (71.0488%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 29, internal_epoch   1,  Average loss: 0.0174, Accuracy: 657/764 (85.9948%), train_poison_data_count: 764
Global model norm: 2.479492379812419.
Norm before scaling: 2.7370016506637485. Distance: 0.4916801107987742
Total norm for 6 adversaries is: 2.7370016506637485. distance: 0.4916801107987742
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9493, Accuracy: 6848/8991 (76.1651%)
poison local model 46 index 45 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 46, internal_epoch   1,  Average loss: 0.0186, Accuracy: 516/630 (81.9048%), train_poison_data_count: 630
Global model norm: 2.479492379812419.
Norm before scaling: 2.663425134390431. Distance: 0.4622124641594028
Total norm for 6 adversaries is: 2.663425134390431. distance: 0.4622124641594028
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 1.0365, Accuracy: 6691/8991 (74.4189%)
time spent on training: 24.562986373901367
[foolsgold agg] training data poison_ratio: 0.5262454028752925  data num: [802, 440, 391, 804, 521, 564, 707, 359, 764, 630]
[foolsgold agg] considering poison per batch poison_fraction: 0.5262454028752925
[foolsgold agg] wv: [1.         0.27761944 0.         1.         0.57327148 1.
 0.57327148 1.         0.27761944 0.        ]
___Test Target_Simple poisoned: False, epoch: 41: Average loss: 1.1205, Accuracy: 7523/10000 (75.2300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 41: Average loss: 0.9864, Accuracy: 7523/8991 (83.6726%)
Done in 86.68807101249695 sec.
Server Epoch:42 choose agents : [87, 73, 89, 48, 81, 10, 92, 62, 26, 29].
___Train Local_Simple,  epoch  42, local model 87, internal_epoch   1,  Average loss: 0.0134, Accuracy: 473/513 (92.2027%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.3045, Accuracy: 5736/10000 (57.3600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 73, internal_epoch   1,  Average loss: 0.0204, Accuracy: 486/604 (80.4636%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.1574, Accuracy: 6221/10000 (62.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 89, internal_epoch   1,  Average loss: 0.0175, Accuracy: 616/723 (85.2006%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.2168, Accuracy: 6248/10000 (62.4800%), Attack Success Rate:0/10000(0.000)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 48, internal_epoch   1,  Average loss: 0.0231, Accuracy: 432/610 (70.8197%), train_poison_data_count: 610
Global model norm: 2.4966792940636178.
Norm before scaling: 2.6761630266249594. Distance: 0.5367951739898722
Total norm for 4 adversaries is: 2.6761630266249594. distance: 0.5367951739898722
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.2460, Accuracy: 4778/8991 (53.1420%)
___Train Local_Simple,  epoch  42, local model 81, internal_epoch   1,  Average loss: 0.0185, Accuracy: 521/652 (79.9080%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.4208, Accuracy: 5957/10000 (59.5700%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 10, internal_epoch   1,  Average loss: 0.0202, Accuracy: 309/381 (81.1024%), train_poison_data_count: 381
Global model norm: 2.4966792940636178.
Norm before scaling: 2.584203963057224. Distance: 0.3442256302910001
Total norm for 4 adversaries is: 2.584203963057224. distance: 0.3442256302910001
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.1454, Accuracy: 5915/8991 (65.7880%)
___Train Local_Simple,  epoch  42, local model 92, internal_epoch   1,  Average loss: 0.0227, Accuracy: 362/452 (80.0885%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.1579, Accuracy: 6280/10000 (62.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 62, internal_epoch   1,  Average loss: 0.0196, Accuracy: 485/597 (81.2395%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.1895, Accuracy: 6427/10000 (64.2700%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 26, internal_epoch   1,  Average loss: 0.0181, Accuracy: 373/442 (84.3891%), train_poison_data_count: 442
Global model norm: 2.4966792940636178.
Norm before scaling: 2.6040776555425897. Distance: 0.28810863082212845
Total norm for 4 adversaries is: 2.6040776555425897. distance: 0.28810863082212845
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.0286, Accuracy: 6649/8991 (73.9517%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 29, internal_epoch   1,  Average loss: 0.0174, Accuracy: 656/764 (85.8639%), train_poison_data_count: 764
Global model norm: 2.4966792940636178.
Norm before scaling: 2.7516894786157926. Distance: 0.48770159074548536
Total norm for 4 adversaries is: 2.7516894786157926. distance: 0.48770159074548536
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 0.9367, Accuracy: 6910/8991 (76.8546%)
time spent on training: 22.998817443847656
[foolsgold agg] training data poison_ratio: 0.3828860230045312  data num: [513, 604, 723, 610, 652, 381, 452, 597, 442, 764]
[foolsgold agg] considering poison per batch poison_fraction: 0.3828860230045311
[foolsgold agg] wv: [0.45299037 0.25643322 0.45299037 1.         1.         0.25643322
 1.         0.88315313 0.48592676 1.        ]
___Test Target_Simple poisoned: False, epoch: 42: Average loss: 1.1055, Accuracy: 7526/10000 (75.2600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 42: Average loss: 0.9736, Accuracy: 7525/8991 (83.6948%)
Done in 84.4275631904602 sec.
Server Epoch:43 choose agents : [38, 78, 26, 18, 72, 75, 93, 39, 44, 90].
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 38, internal_epoch   1,  Average loss: 0.0185, Accuracy: 480/557 (86.1759%), train_poison_data_count: 557
Global model norm: 2.5163711483818703.
Norm before scaling: 2.693038998831033. Distance: 0.44466083092782555
Total norm for 5 adversaries is: 2.693038998831033. distance: 0.44466083092782555
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 1.0456, Accuracy: 6213/8991 (69.1024%)
___Train Local_Simple,  epoch  43, local model 78, internal_epoch   1,  Average loss: 0.0183, Accuracy: 446/547 (81.5356%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.2073, Accuracy: 6511/10000 (65.1100%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 26, internal_epoch   1,  Average loss: 0.0177, Accuracy: 373/442 (84.3891%), train_poison_data_count: 442
Global model norm: 2.5163711483818703.
Norm before scaling: 2.6231110452058557. Distance: 0.28754302770562173
Total norm for 5 adversaries is: 2.6231110452058557. distance: 0.28754302770562173
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 1.0144, Accuracy: 6686/8991 (74.3633%)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 18, internal_epoch   1,  Average loss: 0.0199, Accuracy: 473/564 (83.8652%), train_poison_data_count: 564
Global model norm: 2.5163711483818703.
Norm before scaling: 2.6859169666865754. Distance: 0.39382921209262856
Total norm for 5 adversaries is: 2.6859169666865754. distance: 0.39382921209262856
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9936, Accuracy: 6617/8991 (73.5958%)
___Train Local_Simple,  epoch  43, local model 72, internal_epoch   1,  Average loss: 0.0240, Accuracy: 342/458 (74.6725%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.1782, Accuracy: 5847/10000 (58.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 75, internal_epoch   1,  Average loss: 0.0151, Accuracy: 469/539 (87.0130%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.4491, Accuracy: 5013/10000 (50.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 93, internal_epoch   1,  Average loss: 0.0177, Accuracy: 287/344 (83.4302%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0935, Accuracy: 6944/10000 (69.4400%), Attack Success Rate:0/10000(0.000)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 39, internal_epoch   1,  Average loss: 0.0181, Accuracy: 413/493 (83.7728%), train_poison_data_count: 493
Global model norm: 2.5163711483818703.
Norm before scaling: 2.640906414859701. Distance: 0.2974871172439714
Total norm for 5 adversaries is: 2.640906414859701. distance: 0.2974871172439714
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9936, Accuracy: 6443/8991 (71.6605%)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 44, internal_epoch   1,  Average loss: 0.0174, Accuracy: 370/440 (84.0909%), train_poison_data_count: 440
Global model norm: 2.5163711483818703.
Norm before scaling: 2.642071299645581. Distance: 0.4650454364133125
Total norm for 5 adversaries is: 2.642071299645581. distance: 0.4650454364133125
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 1.2689, Accuracy: 4658/8991 (51.8074%)
___Train Local_Simple,  epoch  43, local model 90, internal_epoch   1,  Average loss: 0.0250, Accuracy: 195/273 (71.4286%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.1085, Accuracy: 6860/10000 (68.6000%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.86100125312805
[foolsgold agg] training data poison_ratio: 0.5359673609619927  data num: [557, 547, 442, 564, 458, 539, 344, 493, 440, 273]
[foolsgold agg] considering poison per batch poison_fraction: 0.5359673609619927
[foolsgold agg] wv: [0.58407692 1.         0.48056659 0.06891572 1.         1.
 1.         1.         0.06891572 1.        ]
___Test Target_Simple poisoned: False, epoch: 43: Average loss: 1.0960, Accuracy: 7541/10000 (75.4100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 43: Average loss: 0.9628, Accuracy: 7538/8991 (83.8394%)
Done in 84.45738124847412 sec.
Server Epoch:44 choose agents : [31, 1, 38, 9, 6, 19, 65, 66, 73, 15].
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 31, internal_epoch   1,  Average loss: 0.0171, Accuracy: 516/601 (85.8569%), train_poison_data_count: 601
Global model norm: 2.5329525719986603.
Norm before scaling: 2.732257393609779. Distance: 0.4742858474748904
Total norm for 7 adversaries is: 2.732257393609779. distance: 0.4742858474748904
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.0112, Accuracy: 6213/8991 (69.1024%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 1, internal_epoch   1,  Average loss: 0.0154, Accuracy: 593/680 (87.2059%), train_poison_data_count: 680
Global model norm: 2.5329525719986603.
Norm before scaling: 2.7544654657176326. Distance: 0.5421010500890866
Total norm for 7 adversaries is: 2.7544654657176326. distance: 0.5421010500890866
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.2760, Accuracy: 5141/8991 (57.1794%)
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 38, internal_epoch   1,  Average loss: 0.0176, Accuracy: 477/557 (85.6373%), train_poison_data_count: 557
Global model norm: 2.5329525719986603.
Norm before scaling: 2.7102384957804007. Distance: 0.45128560800153916
Total norm for 7 adversaries is: 2.7102384957804007. distance: 0.45128560800153916
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.0574, Accuracy: 6085/8991 (67.6788%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 9, internal_epoch   1,  Average loss: 0.0140, Accuracy: 685/793 (86.3808%), train_poison_data_count: 793
Global model norm: 2.5329525719986603.
Norm before scaling: 2.8005290962046736. Distance: 0.6179643884015397
Total norm for 7 adversaries is: 2.8005290962046736. distance: 0.6179643884015397
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.1333, Accuracy: 5650/8991 (62.8406%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 6, internal_epoch   1,  Average loss: 0.0161, Accuracy: 586/738 (79.4038%), train_poison_data_count: 738
Global model norm: 2.5329525719986603.
Norm before scaling: 2.7502569598742794. Distance: 0.551054000956821
Total norm for 7 adversaries is: 2.7502569598742794. distance: 0.551054000956821
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.2361, Accuracy: 5075/8991 (56.4453%)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 19, internal_epoch   1,  Average loss: 0.0196, Accuracy: 521/726 (71.7631%), train_poison_data_count: 726
Global model norm: 2.5329525719986603.
Norm before scaling: 2.76231772740616. Distance: 0.6957468326467723
Total norm for 7 adversaries is: 2.76231772740616. distance: 0.6957468326467723
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.4508, Accuracy: 4086/8991 (45.4454%)
___Train Local_Simple,  epoch  44, local model 65, internal_epoch   1,  Average loss: 0.0235, Accuracy: 308/407 (75.6757%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.1393, Accuracy: 6703/10000 (67.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 66, internal_epoch   1,  Average loss: 0.0194, Accuracy: 676/946 (71.4588%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.2700, Accuracy: 5629/10000 (56.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 73, internal_epoch   1,  Average loss: 0.0201, Accuracy: 480/604 (79.4702%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.1627, Accuracy: 6164/10000 (61.6400%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 15, internal_epoch   1,  Average loss: 0.0161, Accuracy: 539/611 (88.2160%), train_poison_data_count: 611
Global model norm: 2.5329525719986603.
Norm before scaling: 2.727294998367004. Distance: 0.4383591152660176
Total norm for 7 adversaries is: 2.727294998367004. distance: 0.4383591152660176
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.0618, Accuracy: 5975/8991 (66.4553%)
time spent on training: 24.90204119682312
[foolsgold agg] training data poison_ratio: 0.7062884586522588  data num: [601, 680, 557, 793, 738, 726, 407, 946, 604, 611]
[foolsgold agg] considering poison per batch poison_fraction: 0.7062884586522586
[foolsgold agg] wv: [0.38771229 0.70904108 1.         0.48871086 1.         1.
 1.         1.         0.70904108 0.38771229]
___Test Target_Simple poisoned: False, epoch: 44: Average loss: 1.0863, Accuracy: 7541/10000 (75.4100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 44: Average loss: 0.9481, Accuracy: 7536/8991 (83.8172%)
Done in 86.43485474586487 sec.
Server Epoch:45 choose agents : [53, 75, 1, 37, 94, 51, 29, 39, 60, 5].
___Train Local_Simple,  epoch  45, local model 53, internal_epoch   1,  Average loss: 0.0183, Accuracy: 523/699 (74.8212%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.9408, Accuracy: 4149/10000 (41.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 75, internal_epoch   1,  Average loss: 0.0145, Accuracy: 469/539 (87.0130%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.3815, Accuracy: 5355/10000 (53.5500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 1, internal_epoch   1,  Average loss: 0.0154, Accuracy: 576/680 (84.7059%), train_poison_data_count: 680
Global model norm: 2.556902657086292.
Norm before scaling: 2.7692590318769974. Distance: 0.5109351470146478
Total norm for 5 adversaries is: 2.7692590318769974. distance: 0.5109351470146478
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 1.2213, Accuracy: 5253/8991 (58.4251%)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 37, internal_epoch   1,  Average loss: 0.0181, Accuracy: 441/531 (83.0508%), train_poison_data_count: 531
Global model norm: 2.556902657086292.
Norm before scaling: 2.691080325563329. Distance: 0.31528025296836554
Total norm for 5 adversaries is: 2.691080325563329. distance: 0.31528025296836554
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9625, Accuracy: 6728/8991 (74.8304%)
___Train Local_Simple,  epoch  45, local model 94, internal_epoch   1,  Average loss: 0.0175, Accuracy: 468/599 (78.1302%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.4111, Accuracy: 4558/10000 (45.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 51, internal_epoch   1,  Average loss: 0.0194, Accuracy: 649/802 (80.9227%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.1303, Accuracy: 6523/10000 (65.2300%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 29, internal_epoch   1,  Average loss: 0.0169, Accuracy: 664/764 (86.9110%), train_poison_data_count: 764
Global model norm: 2.556902657086292.
Norm before scaling: 2.8032112167861216. Distance: 0.48107312345625936
Total norm for 5 adversaries is: 2.8032112167861216. distance: 0.48107312345625936
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9161, Accuracy: 6920/8991 (76.9659%)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 39, internal_epoch   1,  Average loss: 0.0176, Accuracy: 416/493 (84.3813%), train_poison_data_count: 493
Global model norm: 2.556902657086292.
Norm before scaling: 2.6814831647883253. Distance: 0.30099485912321033
Total norm for 5 adversaries is: 2.6814831647883253. distance: 0.30099485912321033
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9775, Accuracy: 6451/8991 (71.7495%)
___Train Local_Simple,  epoch  45, local model 60, internal_epoch   1,  Average loss: 0.0149, Accuracy: 470/546 (86.0806%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.5635, Accuracy: 4964/10000 (49.6400%), Attack Success Rate:0/10000(0.000)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 5, internal_epoch   1,  Average loss: 0.0174, Accuracy: 592/718 (82.4513%), train_poison_data_count: 718
Global model norm: 2.556902657086292.
Norm before scaling: 2.78945586692249. Distance: 0.5587491172851827
Total norm for 5 adversaries is: 2.78945586692249. distance: 0.5587491172851827
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 1.1549, Accuracy: 5100/8991 (56.7234%)
time spent on training: 23.951425313949585
[foolsgold agg] training data poison_ratio: 0.500078480615288  data num: [699, 539, 680, 531, 599, 802, 764, 493, 546, 718]
[foolsgold agg] considering poison per batch poison_fraction: 0.500078480615288
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 45: Average loss: 1.0718, Accuracy: 7539/10000 (75.3900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 45: Average loss: 0.9336, Accuracy: 7527/8991 (83.7171%)
Done in 85.49669122695923 sec.
Server Epoch:46 choose agents : [75, 78, 14, 39, 7, 10, 40, 2, 68, 54].
___Train Local_Simple,  epoch  46, local model 75, internal_epoch   1,  Average loss: 0.0143, Accuracy: 465/539 (86.2709%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.3436, Accuracy: 5560/10000 (55.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 78, internal_epoch   1,  Average loss: 0.0176, Accuracy: 447/547 (81.7185%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.1761, Accuracy: 6565/10000 (65.6500%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 14, internal_epoch   1,  Average loss: 0.0183, Accuracy: 433/535 (80.9346%), train_poison_data_count: 535
Global model norm: 2.5861200458369082.
Norm before scaling: 2.7253927000370575. Distance: 0.4750443651160452
Total norm for 6 adversaries is: 2.7253927000370575. distance: 0.4750443651160452
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 1.1268, Accuracy: 5669/8991 (63.0519%)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 39, internal_epoch   1,  Average loss: 0.0174, Accuracy: 413/493 (83.7728%), train_poison_data_count: 493
Global model norm: 2.5861200458369082.
Norm before scaling: 2.705598173865453. Distance: 0.2918485970981505
Total norm for 6 adversaries is: 2.705598173865453. distance: 0.2918485970981505
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9706, Accuracy: 6455/8991 (71.7940%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 7, internal_epoch   1,  Average loss: 0.0185, Accuracy: 357/415 (86.0241%), train_poison_data_count: 415
Global model norm: 2.5861200458369082.
Norm before scaling: 2.6924764999455033. Distance: 0.3215416144658975
Total norm for 6 adversaries is: 2.6924764999455033. distance: 0.3215416144658975
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9413, Accuracy: 6781/8991 (75.4199%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 10, internal_epoch   1,  Average loss: 0.0194, Accuracy: 304/381 (79.7900%), train_poison_data_count: 381
Global model norm: 2.5861200458369082.
Norm before scaling: 2.6690779651961565. Distance: 0.33132468946996874
Total norm for 6 adversaries is: 2.6690779651961565. distance: 0.33132468946996874
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 1.1036, Accuracy: 5991/8991 (66.6333%)
poison local model 40 index 39 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 40, internal_epoch   1,  Average loss: 0.0148, Accuracy: 751/852 (88.1455%), train_poison_data_count: 852
Global model norm: 2.5861200458369082.
Norm before scaling: 2.854105612294396. Distance: 0.668304247564117
Total norm for 6 adversaries is: 2.854105612294396. distance: 0.668304247564117
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 1.2198, Accuracy: 5085/8991 (56.5566%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 2, internal_epoch   1,  Average loss: 0.0172, Accuracy: 401/471 (85.1380%), train_poison_data_count: 471
Global model norm: 2.5861200458369082.
Norm before scaling: 2.710282216315791. Distance: 0.37502006636019597
Total norm for 6 adversaries is: 2.710282216315791. distance: 0.37502006636019597
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 1.0088, Accuracy: 6229/8991 (69.2804%)
___Train Local_Simple,  epoch  46, local model 68, internal_epoch   1,  Average loss: 0.0174, Accuracy: 647/802 (80.6733%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.1392, Accuracy: 6423/10000 (64.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 54, internal_epoch   1,  Average loss: 0.0175, Accuracy: 457/590 (77.4576%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.2180, Accuracy: 6044/10000 (60.4400%), Attack Success Rate:0/10000(0.000)
time spent on training: 24.75620174407959
[foolsgold agg] training data poison_ratio: 0.5594666666666667  data num: [539, 547, 535, 493, 415, 381, 852, 471, 802, 590]
[foolsgold agg] considering poison per batch poison_fraction: 0.5594666666666667
[foolsgold agg] wv: [1.         1.         1.         1.         0.79035165 1.
 1.         0.79035165 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 46: Average loss: 1.0576, Accuracy: 7558/10000 (75.5800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 46: Average loss: 0.9169, Accuracy: 7551/8991 (83.9840%)
Done in 86.03596258163452 sec.
Server Epoch:47 choose agents : [94, 48, 82, 25, 26, 16, 7, 90, 68, 43].
___Train Local_Simple,  epoch  47, local model 94, internal_epoch   1,  Average loss: 0.0171, Accuracy: 462/599 (77.1285%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.3375, Accuracy: 4960/10000 (49.6000%), Attack Success Rate:0/10000(0.000)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 48, internal_epoch   1,  Average loss: 0.0211, Accuracy: 437/610 (71.6393%), train_poison_data_count: 610
Global model norm: 2.6109231707615193.
Norm before scaling: 2.779539889811613. Distance: 0.5229864881896266
Total norm for 6 adversaries is: 2.779539889811613. distance: 0.5229864881896266
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 1.2107, Accuracy: 4790/8991 (53.2755%)
___Train Local_Simple,  epoch  47, local model 82, internal_epoch   1,  Average loss: 0.0186, Accuracy: 742/943 (78.6850%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9618, Accuracy: 7006/10000 (70.0600%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 25, internal_epoch   1,  Average loss: 0.0143, Accuracy: 444/503 (88.2704%), train_poison_data_count: 503
Global model norm: 2.6109231707615193.
Norm before scaling: 2.7426950359975932. Distance: 0.36982864768068563
Total norm for 6 adversaries is: 2.7426950359975932. distance: 0.36982864768068563
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 1.0435, Accuracy: 5971/8991 (66.4109%)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 26, internal_epoch   1,  Average loss: 0.0169, Accuracy: 370/442 (83.7104%), train_poison_data_count: 442
Global model norm: 2.6109231707615193.
Norm before scaling: 2.7117355007664266. Distance: 0.27311865063757174
Total norm for 6 adversaries is: 2.7117355007664266. distance: 0.27311865063757174
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9497, Accuracy: 6896/8991 (76.6989%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 16, internal_epoch   1,  Average loss: 0.0173, Accuracy: 455/551 (82.5771%), train_poison_data_count: 551
Global model norm: 2.6109231707615193.
Norm before scaling: 2.7674492460729687. Distance: 0.4110605715531976
Total norm for 6 adversaries is: 2.7674492460729687. distance: 0.4110605715531976
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 1.0050, Accuracy: 5994/8991 (66.6667%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 7, internal_epoch   1,  Average loss: 0.0181, Accuracy: 355/415 (85.5422%), train_poison_data_count: 415
Global model norm: 2.6109231707615193.
Norm before scaling: 2.7171129581696842. Distance: 0.31285626845500447
Total norm for 6 adversaries is: 2.7171129581696842. distance: 0.31285626845500447
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9221, Accuracy: 6884/8991 (76.5655%)
___Train Local_Simple,  epoch  47, local model 90, internal_epoch   1,  Average loss: 0.0240, Accuracy: 193/273 (70.6960%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.0477, Accuracy: 7069/10000 (70.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 68, internal_epoch   1,  Average loss: 0.0181, Accuracy: 651/802 (81.1721%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.1098, Accuracy: 6532/10000 (65.3200%), Attack Success Rate:0/10000(0.000)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 43, internal_epoch   1,  Average loss: 0.0171, Accuracy: 602/701 (85.8773%), train_poison_data_count: 701
Global model norm: 2.6109231707615193.
Norm before scaling: 2.829259486822376. Distance: 0.49856329678761946
Total norm for 6 adversaries is: 2.829259486822376. distance: 0.49856329678761946
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9940, Accuracy: 6403/8991 (71.2157%)
time spent on training: 24.6827495098114
[foolsgold agg] training data poison_ratio: 0.5518068162356567  data num: [599, 610, 943, 503, 442, 551, 415, 273, 802, 701]
[foolsgold agg] considering poison per batch poison_fraction: 0.5518068162356567
[foolsgold agg] wv: [0.38284086 0.69600092 0.69600092 1.         1.         0.20521989
 0.38284086 1.         1.         0.20521989]
___Test Target_Simple poisoned: False, epoch: 47: Average loss: 1.0495, Accuracy: 7556/10000 (75.5600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 47: Average loss: 0.9090, Accuracy: 7546/8991 (83.9284%)
Done in 86.94479966163635 sec.
Server Epoch:48 choose agents : [74, 27, 75, 19, 58, 83, 91, 96, 17, 57].
___Train Local_Simple,  epoch  48, local model 74, internal_epoch   1,  Average loss: 0.0216, Accuracy: 526/724 (72.6519%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.3183, Accuracy: 6053/10000 (60.5300%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 27, internal_epoch   1,  Average loss: 0.0161, Accuracy: 444/501 (88.6228%), train_poison_data_count: 501
Global model norm: 2.627973779416898.
Norm before scaling: 2.7746685036276304. Distance: 0.4105348565314237
Total norm for 3 adversaries is: 2.7746685036276304. distance: 0.4105348565314237
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 1.0794, Accuracy: 5725/8991 (63.6748%)
___Train Local_Simple,  epoch  48, local model 75, internal_epoch   1,  Average loss: 0.0139, Accuracy: 477/539 (88.4972%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.3248, Accuracy: 5668/10000 (56.6800%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 19, internal_epoch   1,  Average loss: 0.0194, Accuracy: 518/726 (71.3499%), train_poison_data_count: 726
Global model norm: 2.627973779416898.
Norm before scaling: 2.8416012201761944. Distance: 0.639734626379584
Total norm for 3 adversaries is: 2.8416012201761944. distance: 0.639734626379584
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 1.2719, Accuracy: 4859/8991 (54.0429%)
___Train Local_Simple,  epoch  48, local model 58, internal_epoch   1,  Average loss: 0.0166, Accuracy: 550/639 (86.0720%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.1420, Accuracy: 6385/10000 (63.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 83, internal_epoch   1,  Average loss: 0.0181, Accuracy: 399/521 (76.5835%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.2164, Accuracy: 6376/10000 (63.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 91, internal_epoch   1,  Average loss: 0.0180, Accuracy: 537/677 (79.3205%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.2644, Accuracy: 6185/10000 (61.8500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 96, internal_epoch   1,  Average loss: 0.0198, Accuracy: 379/518 (73.1660%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.4600, Accuracy: 4918/10000 (49.1800%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 17, internal_epoch   1,  Average loss: 0.0150, Accuracy: 497/565 (87.9646%), train_poison_data_count: 565
Global model norm: 2.627973779416898.
Norm before scaling: 2.7924017910947083. Distance: 0.45528294288665616
Total norm for 3 adversaries is: 2.7924017910947083. distance: 0.45528294288665616
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 1.1403, Accuracy: 5309/8991 (59.0479%)
___Train Local_Simple,  epoch  48, local model 57, internal_epoch   1,  Average loss: 0.0226, Accuracy: 322/417 (77.2182%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.0227, Accuracy: 7361/10000 (73.6100%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.016868352890015
[foolsgold agg] training data poison_ratio: 0.30753389394199415  data num: [724, 501, 539, 726, 639, 521, 677, 518, 565, 417]
[foolsgold agg] considering poison per batch poison_fraction: 0.30753389394199415
[foolsgold agg] wv: [0.         0.         0.         1.         0.03171238 0.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 48: Average loss: 1.0505, Accuracy: 7541/10000 (75.4100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 48: Average loss: 0.9059, Accuracy: 7532/8991 (83.7727%)
Done in 85.00179719924927 sec.
Server Epoch:49 choose agents : [77, 10, 78, 72, 91, 13, 98, 21, 82, 74].
___Train Local_Simple,  epoch  49, local model 77, internal_epoch   1,  Average loss: 0.0235, Accuracy: 258/387 (66.6667%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.1545, Accuracy: 5977/10000 (59.7700%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 10, internal_epoch   1,  Average loss: 0.0189, Accuracy: 309/381 (81.1024%), train_poison_data_count: 381
Global model norm: 2.6336191452825295.
Norm before scaling: 2.7144632855031814. Distance: 0.3178718320776456
Total norm for 3 adversaries is: 2.7144632855031814. distance: 0.3178718320776456
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 1.0677, Accuracy: 6092/8991 (67.7566%)
___Train Local_Simple,  epoch  49, local model 78, internal_epoch   1,  Average loss: 0.0172, Accuracy: 449/547 (82.0841%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.1358, Accuracy: 6746/10000 (67.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 72, internal_epoch   1,  Average loss: 0.0231, Accuracy: 350/458 (76.4192%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.1156, Accuracy: 6074/10000 (60.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 91, internal_epoch   1,  Average loss: 0.0179, Accuracy: 544/677 (80.3545%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.2542, Accuracy: 6236/10000 (62.3600%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 13, internal_epoch   1,  Average loss: 0.0142, Accuracy: 568/668 (85.0299%), train_poison_data_count: 668
Global model norm: 2.6336191452825295.
Norm before scaling: 2.819603490075787. Distance: 0.5282271156679944
Total norm for 3 adversaries is: 2.819603490075787. distance: 0.5282271156679944
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 1.3032, Accuracy: 4365/8991 (48.5485%)
___Train Local_Simple,  epoch  49, local model 98, internal_epoch   1,  Average loss: 0.0185, Accuracy: 462/590 (78.3051%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.1793, Accuracy: 6089/10000 (60.8900%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 21, internal_epoch   1,  Average loss: 0.0155, Accuracy: 534/625 (85.4400%), train_poison_data_count: 625
Global model norm: 2.6336191452825295.
Norm before scaling: 2.796655060202605. Distance: 0.4510801312855442
Total norm for 3 adversaries is: 2.796655060202605. distance: 0.4510801312855442
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 1.0150, Accuracy: 6348/8991 (70.6039%)
___Train Local_Simple,  epoch  49, local model 82, internal_epoch   1,  Average loss: 0.0184, Accuracy: 742/943 (78.6850%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9516, Accuracy: 7124/10000 (71.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 74, internal_epoch   1,  Average loss: 0.0211, Accuracy: 527/724 (72.7901%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.3241, Accuracy: 5965/10000 (59.6500%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.787400007247925
[foolsgold agg] training data poison_ratio: 0.279  data num: [387, 381, 547, 458, 677, 668, 590, 625, 943, 724]
[foolsgold agg] considering poison per batch poison_fraction: 0.279
[foolsgold agg] wv: [0.46784048 1.         0.26289701 0.         0.38307778 1.
 0.24934976 0.26289701 1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 49: Average loss: 1.0421, Accuracy: 7537/10000 (75.3700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 49: Average loss: 0.9020, Accuracy: 7525/8991 (83.6948%)
Done in 85.8569643497467 sec.
Server Epoch:50 choose agents : [75, 86, 51, 0, 31, 32, 67, 17, 29, 7].
___Train Local_Simple,  epoch  50, local model 75, internal_epoch   1,  Average loss: 0.0139, Accuracy: 479/539 (88.8683%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.3190, Accuracy: 5648/10000 (56.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 86, internal_epoch   1,  Average loss: 0.0191, Accuracy: 412/519 (79.3834%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.0356, Accuracy: 6933/10000 (69.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 51, internal_epoch   1,  Average loss: 0.0174, Accuracy: 642/802 (80.0499%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.0467, Accuracy: 6694/10000 (66.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 0, internal_epoch   1,  Average loss: 0.0198, Accuracy: 550/737 (74.6269%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.3866, Accuracy: 5936/10000 (59.3600%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 31, internal_epoch   1,  Average loss: 0.0157, Accuracy: 526/601 (87.5208%), train_poison_data_count: 601
Global model norm: 2.6455287207322544.
Norm before scaling: 2.8266509203052386. Distance: 0.4246053293661842
Total norm for 5 adversaries is: 2.8266509203052386. distance: 0.4246053293661842
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.9411, Accuracy: 6479/8991 (72.0609%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 32, internal_epoch   1,  Average loss: 0.0167, Accuracy: 754/917 (82.2246%), train_poison_data_count: 917
Global model norm: 2.6455287207322544.
Norm before scaling: 2.9338045615936044. Distance: 0.6746823190240148
Total norm for 5 adversaries is: 2.9338045615936044. distance: 0.6746823190240148
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 1.1717, Accuracy: 5747/8991 (63.9195%)
___Train Local_Simple,  epoch  50, local model 67, internal_epoch   1,  Average loss: 0.0211, Accuracy: 434/592 (73.3108%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.2489, Accuracy: 5446/10000 (54.4600%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 17, internal_epoch   1,  Average loss: 0.0149, Accuracy: 498/565 (88.1416%), train_poison_data_count: 565
Global model norm: 2.6455287207322544.
Norm before scaling: 2.8067485069188702. Distance: 0.44773971218961073
Total norm for 5 adversaries is: 2.8067485069188702. distance: 0.44773971218961073
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 1.1225, Accuracy: 5381/8991 (59.8487%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 29, internal_epoch   1,  Average loss: 0.0163, Accuracy: 667/764 (87.3037%), train_poison_data_count: 764
Global model norm: 2.6455287207322544.
Norm before scaling: 2.8756087943973756. Distance: 0.47134844282970856
Total norm for 5 adversaries is: 2.8756087943973756. distance: 0.47134844282970856
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.8837, Accuracy: 6966/8991 (77.4775%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 7, internal_epoch   1,  Average loss: 0.0180, Accuracy: 359/415 (86.5060%), train_poison_data_count: 415
Global model norm: 2.6455287207322544.
Norm before scaling: 2.7486068491243825. Distance: 0.3134286552733017
Total norm for 5 adversaries is: 2.7486068491243825. distance: 0.3134286552733017
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.9070, Accuracy: 6912/8991 (76.8769%)
time spent on training: 24.597182035446167
[foolsgold agg] training data poison_ratio: 0.5056580375135638  data num: [539, 519, 802, 737, 601, 917, 592, 565, 764, 415]
[foolsgold agg] considering poison per batch poison_fraction: 0.5056580375135638
[foolsgold agg] wv: [0.65652498 0.98548247 1.         1.         0.44883634 0.65652498
 1.         0.8355707  0.98548247 0.44883634]
___Test Target_Simple poisoned: False, epoch: 50: Average loss: 1.0258, Accuracy: 7566/10000 (75.6600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 50: Average loss: 0.8885, Accuracy: 7556/8991 (84.0396%)
Done in 86.34188938140869 sec.
Saving all the graphs.
This run has a label: Mar.26_17.57.01. Visdom environment: mnist_DBA
