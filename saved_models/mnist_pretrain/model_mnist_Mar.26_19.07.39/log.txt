current path: saved_models/mnist_pretrain/model_mnist_Mar.26_19.07.39
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
create model done
Poisoned following participants: [1, 2, 3, 4, 5]
We use following environment for graphs:  mnist_DBA
Server Epoch:1 choose agents : [23, 72, 61, 11, 71, 42, 45, 37, 21, 35].
___Train Local_Simple,  epoch   1, local model 23, internal_epoch   1,  Average loss: 0.0233, Accuracy: 326/428 (76.1682%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 3.9124, Accuracy: 1947/10000 (19.4700%), Attack Success Rate:29/10000(0.290)
___Train Local_Simple,  epoch   1, local model 72, internal_epoch   1,  Average loss: 0.2135, Accuracy: 3/10 (30.0000%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.2781, Accuracy: 1382/10000 (13.8200%), Attack Success Rate:25/10000(0.250)
___Train Local_Simple,  epoch   1, local model 61, internal_epoch   1,  Average loss: 0.0207, Accuracy: 545/767 (71.0561%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 3.9048, Accuracy: 2641/10000 (26.4100%), Attack Success Rate:12/10000(0.120)
___Train Local_Simple,  epoch   1, local model 11, internal_epoch   1,  Average loss: 0.0523, Accuracy: 27/84 (32.1429%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.2881, Accuracy: 1761/10000 (17.6100%), Attack Success Rate:25/10000(0.250)
___Train Local_Simple,  epoch   1, local model 71, internal_epoch   1,  Average loss: 0.0387, Accuracy: 135/342 (39.4737%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.7419, Accuracy: 892/10000 (8.9200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   1, local model 42, internal_epoch   1,  Average loss: 0.0633, Accuracy: 24/63 (38.0952%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 2.3521, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch   1, local model 45, internal_epoch   1,  Average loss: 0.0270, Accuracy: 241/388 (62.1134%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 3.9690, Accuracy: 1084/10000 (10.8400%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch   1, local model 37, internal_epoch   1,  Average loss: 0.0256, Accuracy: 305/578 (52.7682%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 3.5491, Accuracy: 2671/10000 (26.7100%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch   1, local model 21, internal_epoch   1,  Average loss: 0.0105, Accuracy: 1761/2072 (84.9903%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 5.1805, Accuracy: 2714/10000 (27.1400%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch   1, local model 35, internal_epoch   1,  Average loss: 0.0154, Accuracy: 828/978 (84.6626%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 5.4280, Accuracy: 1144/10000 (11.4400%), Attack Success Rate:14/10000(0.140)
time spent on training: 13.744409322738647
[foolsgold agg] training data poison_ratio: 0.0  data num: [428, 10, 767, 84, 342, 63, 388, 578, 2072, 978]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.23574924 0.         0.13317971 1.         0.13317971
 0.23574924 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 1: Average loss: 2.2535, Accuracy: 1718/10000 (17.1800%), Attack Success Rate:27/10000(0.270)
___Test Target_Simple poisoned: True, epoch: 1: Average loss: 2.2473, Accuracy: 1479/8991 (16.4498%)
Done in 21.510713577270508 sec.
Server Epoch:2 choose agents : [11, 59, 62, 28, 65, 22, 78, 58, 41, 81].
___Train Local_Simple,  epoch   2, local model 11, internal_epoch   1,  Average loss: 0.0524, Accuracy: 21/84 (25.0000%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2515, Accuracy: 1809/10000 (18.0900%), Attack Success Rate:30/10000(0.300)
___Train Local_Simple,  epoch   2, local model 59, internal_epoch   1,  Average loss: 0.0833, Accuracy: 4/27 (14.8148%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2511, Accuracy: 1527/10000 (15.2700%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch   2, local model 62, internal_epoch   1,  Average loss: 1.2578, Accuracy: 0/2 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2432, Accuracy: 2127/10000 (21.2700%), Attack Success Rate:25/10000(0.250)
___Train Local_Simple,  epoch   2, local model 28, internal_epoch   1,  Average loss: 0.0343, Accuracy: 131/237 (55.2743%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.9448, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch   2, local model 65, internal_epoch   1,  Average loss: 0.0143, Accuracy: 1073/1326 (80.9201%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 4.4499, Accuracy: 2029/10000 (20.2900%), Attack Success Rate:24/10000(0.240)
___Train Local_Simple,  epoch   2, local model 22, internal_epoch   1,  Average loss: 0.0650, Accuracy: 7/34 (20.5882%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2488, Accuracy: 1536/10000 (15.3600%), Attack Success Rate:22/10000(0.220)
___Train Local_Simple,  epoch   2, local model 78, internal_epoch   1,  Average loss: 0.0148, Accuracy: 1856/2324 (79.8623%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 3.3144, Accuracy: 3613/10000 (36.1300%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   2, local model 58, internal_epoch   1,  Average loss: 0.0217, Accuracy: 677/1015 (66.6995%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 3.9125, Accuracy: 2654/10000 (26.5400%), Attack Success Rate:13/10000(0.130)
___Train Local_Simple,  epoch   2, local model 41, internal_epoch   1,  Average loss: 0.0219, Accuracy: 336/509 (66.0118%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 4.6262, Accuracy: 1417/10000 (14.1700%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch   2, local model 81, internal_epoch   1,  Average loss: 0.0609, Accuracy: 24/68 (35.2941%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 2.2591, Accuracy: 1030/10000 (10.3000%), Attack Success Rate:5/10000(0.050)
time spent on training: 14.422063827514648
[foolsgold agg] training data poison_ratio: 0.0  data num: [84, 27, 2, 237, 1326, 34, 2324, 1015, 509, 68]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.         1.         0.35538846 1.         0.
 1.         0.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 2: Average loss: 2.2253, Accuracy: 2043/10000 (20.4300%), Attack Success Rate:27/10000(0.270)
___Test Target_Simple poisoned: True, epoch: 2: Average loss: 2.2148, Accuracy: 1863/8991 (20.7207%)
Done in 22.880197525024414 sec.
Server Epoch:3 choose agents : [54, 55, 61, 73, 18, 42, 87, 41, 50, 28].
___Train Local_Simple,  epoch   3, local model 54, internal_epoch   1,  Average loss: 0.0456, Accuracy: 42/91 (46.1538%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2223, Accuracy: 2013/10000 (20.1300%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch   3, local model 55, internal_epoch   1,  Average loss: 0.0152, Accuracy: 2218/2803 (79.1295%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 3.6656, Accuracy: 4566/10000 (45.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 61, internal_epoch   1,  Average loss: 0.0211, Accuracy: 539/767 (70.2738%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 3.7639, Accuracy: 2645/10000 (26.4500%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch   3, local model 73, internal_epoch   1,  Average loss: 0.0123, Accuracy: 1025/1205 (85.0622%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 5.4992, Accuracy: 1733/10000 (17.3300%), Attack Success Rate:27/10000(0.270)
___Train Local_Simple,  epoch   3, local model 18, internal_epoch   1,  Average loss: 0.0353, Accuracy: 169/264 (64.0152%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 3.1210, Accuracy: 892/10000 (8.9200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   3, local model 42, internal_epoch   1,  Average loss: 0.0656, Accuracy: 19/63 (30.1587%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2778, Accuracy: 1010/10000 (10.1000%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch   3, local model 87, internal_epoch   1,  Average loss: 0.0684, Accuracy: 3/33 (9.0909%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.2120, Accuracy: 2719/10000 (27.1900%), Attack Success Rate:12/10000(0.120)
___Train Local_Simple,  epoch   3, local model 41, internal_epoch   1,  Average loss: 0.0216, Accuracy: 346/509 (67.9764%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 4.6302, Accuracy: 1396/10000 (13.9600%), Attack Success Rate:19/10000(0.190)
___Train Local_Simple,  epoch   3, local model 50, internal_epoch   1,  Average loss: 0.0350, Accuracy: 95/151 (62.9139%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.9314, Accuracy: 980/10000 (9.8000%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch   3, local model 28, internal_epoch   1,  Average loss: 0.0336, Accuracy: 141/237 (59.4937%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 2.9071, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:9/10000(0.090)
time spent on training: 16.890549659729004
[foolsgold agg] training data poison_ratio: 0.0  data num: [91, 2803, 767, 1205, 264, 63, 33, 509, 151, 237]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.02987431 0.         0.         1.         1.
 1.         1.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 3: Average loss: 2.2125, Accuracy: 2089/10000 (20.8900%), Attack Success Rate:23/10000(0.230)
___Test Target_Simple poisoned: True, epoch: 3: Average loss: 2.1968, Accuracy: 1918/8991 (21.3324%)
Done in 25.29902172088623 sec.
Server Epoch:4 choose agents : [37, 92, 95, 76, 13, 99, 94, 74, 45, 44].
___Train Local_Simple,  epoch   4, local model 37, internal_epoch   1,  Average loss: 0.0253, Accuracy: 310/578 (53.6332%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 3.4974, Accuracy: 2576/10000 (25.7600%), Attack Success Rate:12/10000(0.120)
___Train Local_Simple,  epoch   4, local model 92, internal_epoch   1,  Average loss: 0.0353, Accuracy: 155/202 (76.7327%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 3.2331, Accuracy: 958/10000 (9.5800%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch   4, local model 95, internal_epoch   1,  Average loss: 0.0764, Accuracy: 9/29 (31.0345%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.1980, Accuracy: 1874/10000 (18.7400%), Attack Success Rate:33/10000(0.330)
___Train Local_Simple,  epoch   4, local model 76, internal_epoch   1,  Average loss: 0.0482, Accuracy: 30/87 (34.4828%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.2113, Accuracy: 1359/10000 (13.5900%), Attack Success Rate:19/10000(0.190)
___Train Local_Simple,  epoch   4, local model 13, internal_epoch   1,  Average loss: 0.4554, Accuracy: 0/5 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.2102, Accuracy: 1827/10000 (18.2700%), Attack Success Rate:27/10000(0.270)
___Train Local_Simple,  epoch   4, local model 99, internal_epoch   1,  Average loss: 0.0163, Accuracy: 336/411 (81.7518%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 5.3783, Accuracy: 980/10000 (9.8000%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   4, local model 94, internal_epoch   1,  Average loss: 0.0196, Accuracy: 532/607 (87.6442%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 5.2124, Accuracy: 1135/10000 (11.3500%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch   4, local model 74, internal_epoch   1,  Average loss: 0.0234, Accuracy: 474/762 (62.2047%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 3.6544, Accuracy: 2474/10000 (24.7400%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch   4, local model 45, internal_epoch   1,  Average loss: 0.0249, Accuracy: 259/388 (66.7526%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 3.9250, Accuracy: 1125/10000 (11.2500%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch   4, local model 44, internal_epoch   1,  Average loss: 0.0465, Accuracy: 10/47 (21.2766%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.2082, Accuracy: 1891/10000 (18.9100%), Attack Success Rate:35/10000(0.350)
time spent on training: 15.501550912857056
[foolsgold agg] training data poison_ratio: 0.0  data num: [578, 202, 29, 87, 5, 411, 607, 762, 388, 47]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.71529947 0.71529947 0.         0.         1.         0.
 1.         1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 4: Average loss: 2.1867, Accuracy: 2787/10000 (27.8700%), Attack Success Rate:10/10000(0.100)
___Test Target_Simple poisoned: True, epoch: 4: Average loss: 2.1699, Accuracy: 2650/8991 (29.4739%)
Done in 24.692960023880005 sec.
Server Epoch:5 choose agents : [60, 49, 65, 14, 36, 24, 7, 4, 76, 39].
___Train Local_Simple,  epoch   5, local model 60, internal_epoch   1,  Average loss: 0.0229, Accuracy: 338/399 (84.7118%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 3.6705, Accuracy: 1856/10000 (18.5600%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch   5, local model 49, internal_epoch   1,  Average loss: 0.0346, Accuracy: 126/196 (64.2857%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.5690, Accuracy: 1028/10000 (10.2800%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   5, local model 65, internal_epoch   1,  Average loss: 0.0141, Accuracy: 1069/1326 (80.6184%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 4.2552, Accuracy: 2162/10000 (21.6200%), Attack Success Rate:20/10000(0.200)
___Train Local_Simple,  epoch   5, local model 14, internal_epoch   1,  Average loss: 0.0444, Accuracy: 19/48 (39.5833%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.1809, Accuracy: 3007/10000 (30.0700%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch   5, local model 36, internal_epoch   1,  Average loss: 0.0192, Accuracy: 256/304 (84.2105%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 4.9741, Accuracy: 974/10000 (9.7400%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   5, local model 24, internal_epoch   1,  Average loss: 0.4596, Accuracy: 0/5 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.1761, Accuracy: 3368/10000 (33.6800%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   5, local model 7, internal_epoch   1,  Average loss: 0.0443, Accuracy: 57/86 (66.2791%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.2159, Accuracy: 1120/10000 (11.2000%), Attack Success Rate:10/10000(0.100)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 4, internal_epoch   1,  Average loss: 0.0154, Accuracy: 433/463 (93.5205%), train_poison_data_count: 463
Global model norm: 1.8325968115449434.
Norm before scaling: 2.207389545895858. Distance: 1.1850936500950229
Total norm for 1 adversaries is: 2.207389545895858. distance: 1.1850936500950229
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 6.3827, Accuracy: 892/8991 (9.9210%)
___Train Local_Simple,  epoch   5, local model 76, internal_epoch   1,  Average loss: 0.0487, Accuracy: 27/87 (31.0345%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 2.1800, Accuracy: 1518/10000 (15.1800%), Attack Success Rate:33/10000(0.330)
___Train Local_Simple,  epoch   5, local model 39, internal_epoch   1,  Average loss: 0.0111, Accuracy: 1113/1259 (88.4035%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 4.8231, Accuracy: 1876/10000 (18.7600%), Attack Success Rate:23/10000(0.230)
time spent on training: 17.214775562286377
[foolsgold agg] training data poison_ratio: 0.11095135394200814  data num: [399, 196, 1326, 48, 304, 5, 86, 463, 87, 1259]
[foolsgold agg] considering poison per batch poison_fraction: 0.11095135394200813
[foolsgold agg] wv: [0.         0.         0.63271524 1.         0.         0.
 1.         1.         0.90139043 0.87099935]
___Test Target_Simple poisoned: False, epoch: 5: Average loss: 2.1739, Accuracy: 2572/10000 (25.7200%), Attack Success Rate:10/10000(0.100)
___Test Target_Simple poisoned: True, epoch: 5: Average loss: 2.1510, Accuracy: 2528/8991 (28.1170%)
Done in 25.82491898536682 sec.
Server Epoch:6 choose agents : [26, 29, 4, 41, 99, 67, 91, 76, 8, 25].
___Train Local_Simple,  epoch   6, local model 26, internal_epoch   1,  Average loss: 0.0124, Accuracy: 1072/1311 (81.7696%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 5.9205, Accuracy: 1983/10000 (19.8300%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch   6, local model 29, internal_epoch   1,  Average loss: 0.0153, Accuracy: 1039/1232 (84.3344%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 4.8786, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:7/10000(0.070)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 4, internal_epoch   1,  Average loss: 0.0163, Accuracy: 437/463 (94.3844%), train_poison_data_count: 463
Global model norm: 1.8343534088163815.
Norm before scaling: 2.1908769971409994. Distance: 1.138085713344779
Total norm for 1 adversaries is: 2.1908769971409994. distance: 1.138085713344779
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 6.1933, Accuracy: 892/8991 (9.9210%)
___Train Local_Simple,  epoch   6, local model 41, internal_epoch   1,  Average loss: 0.0215, Accuracy: 350/509 (68.7623%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 4.5854, Accuracy: 1328/10000 (13.2800%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch   6, local model 99, internal_epoch   1,  Average loss: 0.0168, Accuracy: 330/411 (80.2920%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 5.2957, Accuracy: 980/10000 (9.8000%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch   6, local model 67, internal_epoch   1,  Average loss: 0.0307, Accuracy: 318/568 (55.9859%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 3.3123, Accuracy: 2052/10000 (20.5200%), Attack Success Rate:24/10000(0.240)
___Train Local_Simple,  epoch   6, local model 91, internal_epoch   1,  Average loss: 0.0359, Accuracy: 134/182 (73.6264%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.4029, Accuracy: 1557/10000 (15.5700%), Attack Success Rate:35/10000(0.350)
___Train Local_Simple,  epoch   6, local model 76, internal_epoch   1,  Average loss: 0.0480, Accuracy: 28/87 (32.1839%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.1681, Accuracy: 1566/10000 (15.6600%), Attack Success Rate:30/10000(0.300)
___Train Local_Simple,  epoch   6, local model 8, internal_epoch   1,  Average loss: 0.0340, Accuracy: 127/171 (74.2690%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.6929, Accuracy: 1010/10000 (10.1000%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch   6, local model 25, internal_epoch   1,  Average loss: 0.0479, Accuracy: 50/128 (39.0625%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 2.1632, Accuracy: 2191/10000 (21.9100%), Attack Success Rate:20/10000(0.200)
time spent on training: 18.137497425079346
[foolsgold agg] training data poison_ratio: 0.0914658237850652  data num: [1311, 1232, 463, 509, 411, 568, 182, 87, 171, 128]
[foolsgold agg] considering poison per batch poison_fraction: 0.0914658237850652
[foolsgold agg] wv: [0.         1.         1.         0.         1.         1.
 0.50308991 0.         0.         0.20389805]
___Test Target_Simple poisoned: False, epoch: 6: Average loss: 2.1508, Accuracy: 2663/10000 (26.6300%), Attack Success Rate:10/10000(0.100)
___Test Target_Simple poisoned: True, epoch: 6: Average loss: 2.1285, Accuracy: 2607/8991 (28.9957%)
Done in 27.060311794281006 sec.
Server Epoch:7 choose agents : [66, 68, 59, 62, 31, 10, 23, 7, 99, 45].
___Train Local_Simple,  epoch   7, local model 66, internal_epoch   1,  Average loss: 0.0198, Accuracy: 491/681 (72.0999%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 5.0747, Accuracy: 1063/10000 (10.6300%), Attack Success Rate:11/10000(0.110)
___Train Local_Simple,  epoch   7, local model 68, internal_epoch   1,  Average loss: 0.0120, Accuracy: 1368/1591 (85.9837%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 4.3603, Accuracy: 1918/10000 (19.1800%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch   7, local model 59, internal_epoch   1,  Average loss: 0.0848, Accuracy: 0/27 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.1432, Accuracy: 3181/10000 (31.8100%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   7, local model 62, internal_epoch   1,  Average loss: 1.2108, Accuracy: 0/2 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.1403, Accuracy: 3249/10000 (32.4900%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   7, local model 31, internal_epoch   1,  Average loss: 0.0170, Accuracy: 1413/1839 (76.8352%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 4.1230, Accuracy: 2815/10000 (28.1500%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch   7, local model 10, internal_epoch   1,  Average loss: 0.0217, Accuracy: 521/688 (75.7267%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 4.6822, Accuracy: 1867/10000 (18.6700%), Attack Success Rate:34/10000(0.340)
___Train Local_Simple,  epoch   7, local model 23, internal_epoch   1,  Average loss: 0.0213, Accuracy: 358/428 (83.6449%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 3.7148, Accuracy: 1947/10000 (19.4700%), Attack Success Rate:27/10000(0.270)
___Train Local_Simple,  epoch   7, local model 7, internal_epoch   1,  Average loss: 0.0438, Accuracy: 48/86 (55.8140%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 2.1777, Accuracy: 1263/10000 (12.6300%), Attack Success Rate:15/10000(0.150)
___Train Local_Simple,  epoch   7, local model 99, internal_epoch   1,  Average loss: 0.0145, Accuracy: 342/411 (83.2117%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 5.2471, Accuracy: 980/10000 (9.8000%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch   7, local model 45, internal_epoch   1,  Average loss: 0.0247, Accuracy: 252/388 (64.9485%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 3.8303, Accuracy: 1152/10000 (11.5200%), Attack Success Rate:14/10000(0.140)
time spent on training: 18.127477169036865
[foolsgold agg] training data poison_ratio: 0.0  data num: [681, 1591, 27, 2, 1839, 688, 428, 86, 411, 388]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.19238228 1.         0.5695691  0.19238228 1.         0.5695691
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 7: Average loss: 2.1250, Accuracy: 3448/10000 (34.4800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 7: Average loss: 2.1049, Accuracy: 3274/8991 (36.4142%)
Done in 26.857861518859863 sec.
Server Epoch:8 choose agents : [63, 55, 79, 9, 62, 56, 96, 12, 92, 86].
___Train Local_Simple,  epoch   8, local model 63, internal_epoch   1,  Average loss: 0.0072, Accuracy: 2833/3022 (93.7459%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 4.9613, Accuracy: 1810/10000 (18.1000%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch   8, local model 55, internal_epoch   1,  Average loss: 0.0147, Accuracy: 2247/2803 (80.1641%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 3.5745, Accuracy: 4554/10000 (45.5400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 79, internal_epoch   1,  Average loss: 0.0836, Accuracy: 13/25 (52.0000%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.1214, Accuracy: 2275/10000 (22.7500%), Attack Success Rate:14/10000(0.140)
___Train Local_Simple,  epoch   8, local model 9, internal_epoch   1,  Average loss: 0.0348, Accuracy: 163/263 (61.9772%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.9794, Accuracy: 1455/10000 (14.5500%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch   8, local model 62, internal_epoch   1,  Average loss: 1.1882, Accuracy: 0/2 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.1152, Accuracy: 4059/10000 (40.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 56, internal_epoch   1,  Average loss: 0.0124, Accuracy: 626/704 (88.9205%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 7.6102, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch   8, local model 96, internal_epoch   1,  Average loss: 0.0260, Accuracy: 306/505 (60.5941%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 3.2655, Accuracy: 2393/10000 (23.9300%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch   8, local model 12, internal_epoch   1,  Average loss: 0.0232, Accuracy: 418/648 (64.5062%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 3.8099, Accuracy: 2589/10000 (25.8900%), Attack Success Rate:15/10000(0.150)
___Train Local_Simple,  epoch   8, local model 92, internal_epoch   1,  Average loss: 0.0299, Accuracy: 172/202 (85.1485%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 3.2323, Accuracy: 958/10000 (9.5800%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch   8, local model 86, internal_epoch   1,  Average loss: 0.0645, Accuracy: 9/34 (26.4706%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 2.1155, Accuracy: 3837/10000 (38.3700%), Attack Success Rate:0/10000(0.000)
time spent on training: 19.85774064064026
[foolsgold agg] training data poison_ratio: 0.0  data num: [3022, 2803, 25, 263, 2, 704, 505, 648, 202, 34]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.54637224
 0.74433359 0.7777943  0.74433359 0.54637224]
___Test Target_Simple poisoned: False, epoch: 8: Average loss: 2.0803, Accuracy: 4205/10000 (42.0500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 8: Average loss: 2.0785, Accuracy: 3692/8991 (41.0633%)
Done in 28.422271013259888 sec.
Server Epoch:9 choose agents : [28, 63, 33, 71, 13, 32, 76, 97, 23, 25].
___Train Local_Simple,  epoch   9, local model 28, internal_epoch   1,  Average loss: 0.0333, Accuracy: 140/237 (59.0717%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.7640, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:11/10000(0.110)
___Train Local_Simple,  epoch   9, local model 63, internal_epoch   1,  Average loss: 0.0068, Accuracy: 2863/3022 (94.7386%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 4.8220, Accuracy: 1707/10000 (17.0700%), Attack Success Rate:21/10000(0.210)
___Train Local_Simple,  epoch   9, local model 33, internal_epoch   1,  Average loss: 0.0284, Accuracy: 360/644 (55.9006%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 3.3569, Accuracy: 2231/10000 (22.3100%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch   9, local model 71, internal_epoch   1,  Average loss: 0.0352, Accuracy: 167/342 (48.8304%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.4866, Accuracy: 925/10000 (9.2500%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch   9, local model 13, internal_epoch   1,  Average loss: 0.4521, Accuracy: 0/5 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.0760, Accuracy: 3719/10000 (37.1900%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   9, local model 32, internal_epoch   1,  Average loss: 0.0784, Accuracy: 10/28 (35.7143%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.0780, Accuracy: 3907/10000 (39.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   9, local model 76, internal_epoch   1,  Average loss: 0.0483, Accuracy: 21/87 (24.1379%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.0673, Accuracy: 2502/10000 (25.0200%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch   9, local model 97, internal_epoch   1,  Average loss: 0.4232, Accuracy: 2/5 (40.0000%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.0766, Accuracy: 3794/10000 (37.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   9, local model 23, internal_epoch   1,  Average loss: 0.0207, Accuracy: 375/428 (87.6168%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 3.6172, Accuracy: 1950/10000 (19.5000%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch   9, local model 25, internal_epoch   1,  Average loss: 0.0473, Accuracy: 51/128 (39.8438%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 2.0639, Accuracy: 2535/10000 (25.3500%), Attack Success Rate:15/10000(0.150)
time spent on training: 17.82521343231201
[foolsgold agg] training data poison_ratio: 0.0  data num: [237, 3022, 644, 342, 5, 28, 87, 5, 428, 128]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.         1.         1.         1.         0.
 0.         1.         1.         0.42078368]
___Test Target_Simple poisoned: False, epoch: 9: Average loss: 2.0633, Accuracy: 4168/10000 (41.6800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 9: Average loss: 2.0637, Accuracy: 3521/8991 (39.1614%)
Done in 26.707400798797607 sec.
Server Epoch:10 choose agents : [12, 56, 19, 11, 13, 78, 49, 34, 14, 99].
___Train Local_Simple,  epoch  10, local model 12, internal_epoch   1,  Average loss: 0.0222, Accuracy: 479/648 (73.9198%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 3.7664, Accuracy: 2649/10000 (26.4900%), Attack Success Rate:14/10000(0.140)
___Train Local_Simple,  epoch  10, local model 56, internal_epoch   1,  Average loss: 0.0140, Accuracy: 626/704 (88.9205%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 7.5473, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch  10, local model 19, internal_epoch   1,  Average loss: 0.0324, Accuracy: 129/244 (52.8689%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.6002, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch  10, local model 11, internal_epoch   1,  Average loss: 0.0509, Accuracy: 26/84 (30.9524%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.0547, Accuracy: 2860/10000 (28.6000%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch  10, local model 13, internal_epoch   1,  Average loss: 0.4447, Accuracy: 0/5 (0.0000%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.0595, Accuracy: 3514/10000 (35.1400%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  10, local model 78, internal_epoch   1,  Average loss: 0.0140, Accuracy: 1903/2324 (81.8847%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 3.1082, Accuracy: 3685/10000 (36.8500%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  10, local model 49, internal_epoch   1,  Average loss: 0.0326, Accuracy: 143/196 (72.9592%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.4275, Accuracy: 1028/10000 (10.2800%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch  10, local model 34, internal_epoch   1,  Average loss: 0.0214, Accuracy: 903/1203 (75.0623%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 3.0615, Accuracy: 3238/10000 (32.3800%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  10, local model 14, internal_epoch   1,  Average loss: 0.0445, Accuracy: 17/48 (35.4167%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 2.0542, Accuracy: 4699/10000 (46.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  10, local model 99, internal_epoch   1,  Average loss: 0.0133, Accuracy: 361/411 (87.8345%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 4.9013, Accuracy: 980/10000 (9.8000%), Attack Success Rate:9/10000(0.090)
time spent on training: 18.86332392692566
[foolsgold agg] training data poison_ratio: 0.0  data num: [648, 704, 244, 84, 5, 2324, 196, 1203, 48, 411]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.97623565 0.         0.         1.         1.         1.
 1.         1.         1.         0.97623565]
___Test Target_Simple poisoned: False, epoch: 10: Average loss: 2.0211, Accuracy: 4683/10000 (46.8300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 10: Average loss: 2.0211, Accuracy: 4046/8991 (45.0006%)
Done in 27.532644033432007 sec.
Server Epoch:11 choose agents : [53, 56, 51, 14, 36, 6, 46, 99, 88, 37].
___Train Local_Simple,  epoch  11, local model 53, internal_epoch   1,  Average loss: 0.0241, Accuracy: 412/456 (90.3509%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 3.4111, Accuracy: 2087/10000 (20.8700%), Attack Success Rate:16/10000(0.160)
___Train Local_Simple,  epoch  11, local model 56, internal_epoch   1,  Average loss: 0.0149, Accuracy: 631/704 (89.6307%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 7.3849, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch  11, local model 51, internal_epoch   1,  Average loss: 0.0239, Accuracy: 190/259 (73.3591%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.9788, Accuracy: 980/10000 (9.8000%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch  11, local model 14, internal_epoch   1,  Average loss: 0.0427, Accuracy: 30/48 (62.5000%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.0130, Accuracy: 4753/10000 (47.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 36, internal_epoch   1,  Average loss: 0.0196, Accuracy: 251/304 (82.5658%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 4.6523, Accuracy: 974/10000 (9.7400%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch  11, local model 6, internal_epoch   1,  Average loss: 0.0137, Accuracy: 1662/1982 (83.8547%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 4.7338, Accuracy: 2456/10000 (24.5600%), Attack Success Rate:16/10000(0.160)
___Train Local_Simple,  epoch  11, local model 46, internal_epoch   1,  Average loss: 0.0359, Accuracy: 198/310 (63.8710%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.5534, Accuracy: 1630/10000 (16.3000%), Attack Success Rate:25/10000(0.250)
___Train Local_Simple,  epoch  11, local model 99, internal_epoch   1,  Average loss: 0.0112, Accuracy: 382/411 (92.9440%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 4.6378, Accuracy: 980/10000 (9.8000%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch  11, local model 88, internal_epoch   1,  Average loss: 0.0396, Accuracy: 59/96 (61.4583%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 2.0578, Accuracy: 1157/10000 (11.5700%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch  11, local model 37, internal_epoch   1,  Average loss: 0.0214, Accuracy: 431/578 (74.5675%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 3.2741, Accuracy: 2657/10000 (26.5700%), Attack Success Rate:17/10000(0.170)
time spent on training: 18.42087960243225
[foolsgold agg] training data poison_ratio: 0.0  data num: [456, 704, 259, 48, 304, 1982, 310, 411, 96, 578]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         0.         0.         0.         0.20794959
 0.20794959 0.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 11: Average loss: 2.0057, Accuracy: 5034/10000 (50.3400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 11: Average loss: 2.0034, Accuracy: 4375/8991 (48.6598%)
Done in 27.429486989974976 sec.
Server Epoch:12 choose agents : [42, 17, 2, 64, 6, 38, 37, 44, 77, 4].
___Train Local_Simple,  epoch  12, local model 42, internal_epoch   1,  Average loss: 0.0624, Accuracy: 27/63 (42.8571%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.0466, Accuracy: 1615/10000 (16.1500%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch  12, local model 17, internal_epoch   1,  Average loss: 0.0416, Accuracy: 60/94 (63.8298%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.0262, Accuracy: 2232/10000 (22.3200%), Attack Success Rate:22/10000(0.220)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 2, internal_epoch   1,  Average loss: 0.0480, Accuracy: 51/119 (42.8571%), train_poison_data_count: 119
Global model norm: 1.8515408027761886.
Norm before scaling: 1.8698969380134602. Distance: 0.22592862839910421
Total norm for 2 adversaries is: 1.8698969380134602. distance: 0.22592862839910421
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 2.0188, Accuracy: 1947/8991 (21.6550%)
___Train Local_Simple,  epoch  12, local model 64, internal_epoch   1,  Average loss: 0.0315, Accuracy: 160/216 (74.0741%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.9663, Accuracy: 974/10000 (9.7400%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch  12, local model 6, internal_epoch   1,  Average loss: 0.0136, Accuracy: 1659/1982 (83.7033%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 4.8053, Accuracy: 2444/10000 (24.4400%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch  12, local model 38, internal_epoch   1,  Average loss: 0.0352, Accuracy: 161/179 (89.9441%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 2.1437, Accuracy: 1952/10000 (19.5200%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch  12, local model 37, internal_epoch   1,  Average loss: 0.0208, Accuracy: 443/578 (76.6436%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 3.2245, Accuracy: 2677/10000 (26.7700%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch  12, local model 44, internal_epoch   1,  Average loss: 0.0467, Accuracy: 4/47 (8.5106%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.9970, Accuracy: 5127/10000 (51.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  12, local model 77, internal_epoch   1,  Average loss: 0.0155, Accuracy: 1222/1544 (79.1451%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 3.3357, Accuracy: 3251/10000 (32.5100%), Attack Success Rate:4/10000(0.040)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 4, internal_epoch   1,  Average loss: 0.0145, Accuracy: 437/463 (94.3844%), train_poison_data_count: 463
Global model norm: 1.8515408027761886.
Norm before scaling: 2.2072172643541434. Distance: 1.1371128408522682
Total norm for 2 adversaries is: 2.2072172643541434. distance: 1.1371128408522682
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 6.0335, Accuracy: 892/8991 (9.9210%)
time spent on training: 20.51775884628296
[foolsgold agg] training data poison_ratio: 0.11012298959318827  data num: [63, 94, 119, 216, 1982, 179, 578, 47, 1544, 463]
[foolsgold agg] considering poison per batch poison_fraction: 0.11012298959318827
[foolsgold agg] wv: [0. 0. 0. 1. 1. 1. 1. 0. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 12: Average loss: 1.9834, Accuracy: 4715/10000 (47.1500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 12: Average loss: 1.9803, Accuracy: 4111/8991 (45.7235%)
Done in 29.531206607818604 sec.
Server Epoch:13 choose agents : [24, 38, 52, 10, 11, 76, 97, 7, 70, 14].
___Train Local_Simple,  epoch  13, local model 24, internal_epoch   1,  Average loss: 0.4222, Accuracy: 2/5 (40.0000%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.9736, Accuracy: 5169/10000 (51.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 38, internal_epoch   1,  Average loss: 0.0341, Accuracy: 165/179 (92.1788%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.1292, Accuracy: 1962/10000 (19.6200%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch  13, local model 52, internal_epoch   1,  Average loss: 0.0094, Accuracy: 637/705 (90.3546%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 7.7856, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch  13, local model 10, internal_epoch   1,  Average loss: 0.0193, Accuracy: 545/688 (79.2151%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 4.4850, Accuracy: 1883/10000 (18.8300%), Attack Success Rate:39/10000(0.390)
___Train Local_Simple,  epoch  13, local model 11, internal_epoch   1,  Average loss: 0.0508, Accuracy: 26/84 (30.9524%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.9691, Accuracy: 4274/10000 (42.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 76, internal_epoch   1,  Average loss: 0.0479, Accuracy: 23/87 (26.4368%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.9651, Accuracy: 3899/10000 (38.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 97, internal_epoch   1,  Average loss: 0.4102, Accuracy: 4/5 (80.0000%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.9785, Accuracy: 4487/10000 (44.8700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 7, internal_epoch   1,  Average loss: 0.0430, Accuracy: 48/86 (55.8140%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.9967, Accuracy: 2076/10000 (20.7600%), Attack Success Rate:32/10000(0.320)
___Train Local_Simple,  epoch  13, local model 70, internal_epoch   1,  Average loss: 0.0318, Accuracy: 318/569 (55.8875%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 2.5371, Accuracy: 2071/10000 (20.7100%), Attack Success Rate:27/10000(0.270)
___Train Local_Simple,  epoch  13, local model 14, internal_epoch   1,  Average loss: 0.0415, Accuracy: 34/48 (70.8333%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.9755, Accuracy: 4791/10000 (47.9100%), Attack Success Rate:0/10000(0.000)
time spent on training: 16.724897861480713
[foolsgold agg] training data poison_ratio: 0.0  data num: [5, 179, 705, 688, 84, 87, 5, 86, 569, 48]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.65990223 0.         0.         0.84494369 0.         0.
 0.58544347 1.         0.65990223 0.        ]
___Test Target_Simple poisoned: False, epoch: 13: Average loss: 1.9720, Accuracy: 5026/10000 (50.2600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 13: Average loss: 1.9646, Accuracy: 4422/8991 (49.1825%)
Done in 25.356961965560913 sec.
Server Epoch:14 choose agents : [95, 97, 12, 89, 25, 34, 55, 67, 56, 2].
___Train Local_Simple,  epoch  14, local model 95, internal_epoch   1,  Average loss: 0.0601, Accuracy: 20/29 (68.9655%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.9641, Accuracy: 4688/10000 (46.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 97, internal_epoch   1,  Average loss: 0.3977, Accuracy: 5/5 (100.0000%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.9688, Accuracy: 4569/10000 (45.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 12, internal_epoch   1,  Average loss: 0.0212, Accuracy: 477/648 (73.6111%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 3.7436, Accuracy: 2616/10000 (26.1600%), Attack Success Rate:14/10000(0.140)
___Train Local_Simple,  epoch  14, local model 89, internal_epoch   1,  Average loss: 0.0591, Accuracy: 27/69 (39.1304%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.9523, Accuracy: 5527/10000 (55.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 25, internal_epoch   1,  Average loss: 0.0467, Accuracy: 51/128 (39.8438%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.9406, Accuracy: 4239/10000 (42.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 34, internal_epoch   1,  Average loss: 0.0207, Accuracy: 919/1203 (76.3924%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 2.9787, Accuracy: 3272/10000 (32.7200%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch  14, local model 55, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2341/2803 (83.5177%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 3.4681, Accuracy: 4535/10000 (45.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 67, internal_epoch   1,  Average loss: 0.0279, Accuracy: 384/568 (67.6056%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 3.1025, Accuracy: 2294/10000 (22.9400%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch  14, local model 56, internal_epoch   1,  Average loss: 0.0119, Accuracy: 621/704 (88.2102%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 7.3007, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:4/10000(0.040)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 2, internal_epoch   1,  Average loss: 0.0484, Accuracy: 43/119 (36.1345%), train_poison_data_count: 119
Global model norm: 1.8602066103716177.
Norm before scaling: 1.8775864246251477. Distance: 0.23034417293055887
Total norm for 1 adversaries is: 1.8775864246251477. distance: 0.23034417293055887
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.9667, Accuracy: 2129/8991 (23.6792%)
time spent on training: 21.386305332183838
[foolsgold agg] training data poison_ratio: 0.018961121733588274  data num: [29, 5, 648, 69, 128, 1203, 2803, 568, 704, 119]
[foolsgold agg] considering poison per batch poison_fraction: 0.018961121733588274
[foolsgold agg] wv: [1.         1.         0.         1.         0.02647405 0.16268249
 0.16268249 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 14: Average loss: 1.9641, Accuracy: 5212/10000 (52.1200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 14: Average loss: 1.9575, Accuracy: 4555/8991 (50.6618%)
Done in 30.485405683517456 sec.
Server Epoch:15 choose agents : [4, 1, 20, 48, 55, 98, 27, 42, 0, 44].
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 4, internal_epoch   1,  Average loss: 0.0153, Accuracy: 440/463 (95.0324%), train_poison_data_count: 463
Global model norm: 1.8615958790766698.
Norm before scaling: 2.2046376980375153. Distance: 1.1019652151305257
Total norm for 2 adversaries is: 2.2046376980375153. distance: 1.1019652151305257
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 5.8476, Accuracy: 892/8991 (9.9210%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 1, internal_epoch   1,  Average loss: 0.0450, Accuracy: 53/84 (63.0952%), train_poison_data_count: 84
Global model norm: 1.8615958790766698.
Norm before scaling: 1.8681506621562654. Distance: 0.08769694286436652
Total norm for 2 adversaries is: 1.8681506621562654. distance: 0.08769694286436652
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.9567, Accuracy: 2590/8991 (28.8066%)
___Train Local_Simple,  epoch  15, local model 20, internal_epoch   1,  Average loss: 0.0055, Accuracy: 1987/2180 (91.1468%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 4.9450, Accuracy: 2147/10000 (21.4700%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch  15, local model 48, internal_epoch   1,  Average loss: 0.0427, Accuracy: 103/128 (80.4688%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.0126, Accuracy: 2104/10000 (21.0400%), Attack Success Rate:32/10000(0.320)
___Train Local_Simple,  epoch  15, local model 55, internal_epoch   1,  Average loss: 0.0138, Accuracy: 2335/2803 (83.3036%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 3.4560, Accuracy: 4545/10000 (45.4500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 98, internal_epoch   1,  Average loss: 0.2794, Accuracy: 5/6 (83.3333%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.9562, Accuracy: 4718/10000 (47.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 27, internal_epoch   1,  Average loss: 0.0143, Accuracy: 592/678 (87.3156%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 5.1998, Accuracy: 1010/10000 (10.1000%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  15, local model 42, internal_epoch   1,  Average loss: 0.0603, Accuracy: 36/63 (57.1429%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.0086, Accuracy: 1937/10000 (19.3700%), Attack Success Rate:29/10000(0.290)
___Train Local_Simple,  epoch  15, local model 0, internal_epoch   1,  Average loss: 0.0263, Accuracy: 248/300 (82.6667%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 2.5394, Accuracy: 1139/10000 (11.3900%), Attack Success Rate:14/10000(0.140)
___Train Local_Simple,  epoch  15, local model 44, internal_epoch   1,  Average loss: 0.0487, Accuracy: 2/47 (4.2553%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.9507, Accuracy: 5737/10000 (57.3700%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.80821919441223
[foolsgold agg] training data poison_ratio: 0.08101303317535545  data num: [463, 84, 2180, 128, 2803, 6, 678, 63, 300, 47]
[foolsgold agg] considering poison per batch poison_fraction: 0.08101303317535544
[foolsgold agg] wv: [0.06596875 0.56895968 1.         0.06596875 1.         0.54059358
 0.54059358 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 15: Average loss: 1.9319, Accuracy: 5574/10000 (55.7400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 15: Average loss: 1.9157, Accuracy: 5128/8991 (57.0348%)
Done in 31.839433908462524 sec.
Server Epoch:16 choose agents : [25, 8, 12, 99, 53, 26, 60, 63, 52, 90].
___Train Local_Simple,  epoch  16, local model 25, internal_epoch   1,  Average loss: 0.0475, Accuracy: 49/128 (38.2812%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.8961, Accuracy: 4943/10000 (49.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 8, internal_epoch   1,  Average loss: 0.0307, Accuracy: 137/171 (80.1170%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 2.3712, Accuracy: 1012/10000 (10.1200%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch  16, local model 12, internal_epoch   1,  Average loss: 0.0214, Accuracy: 488/648 (75.3086%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 3.6326, Accuracy: 2742/10000 (27.4200%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch  16, local model 99, internal_epoch   1,  Average loss: 0.0101, Accuracy: 392/411 (95.3771%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 4.3604, Accuracy: 980/10000 (9.8000%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  16, local model 53, internal_epoch   1,  Average loss: 0.0249, Accuracy: 420/456 (92.1053%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 3.2849, Accuracy: 2090/10000 (20.9000%), Attack Success Rate:19/10000(0.190)
___Train Local_Simple,  epoch  16, local model 26, internal_epoch   1,  Average loss: 0.0119, Accuracy: 1119/1311 (85.3547%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 5.8209, Accuracy: 1984/10000 (19.8400%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch  16, local model 60, internal_epoch   1,  Average loss: 0.0212, Accuracy: 361/399 (90.4762%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 3.3599, Accuracy: 1868/10000 (18.6800%), Attack Success Rate:35/10000(0.350)
___Train Local_Simple,  epoch  16, local model 63, internal_epoch   1,  Average loss: 0.0069, Accuracy: 2846/3022 (94.1760%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 4.6517, Accuracy: 1741/10000 (17.4100%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch  16, local model 52, internal_epoch   1,  Average loss: 0.0096, Accuracy: 640/705 (90.7801%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 7.7539, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:13/10000(0.130)
___Train Local_Simple,  epoch  16, local model 90, internal_epoch   1,  Average loss: 0.0140, Accuracy: 648/768 (84.3750%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 4.5055, Accuracy: 1468/10000 (14.6800%), Attack Success Rate:19/10000(0.190)
time spent on training: 22.402824640274048
[foolsgold agg] training data poison_ratio: 0.0  data num: [128, 171, 648, 411, 456, 1311, 399, 3022, 705, 768]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.         0.57554692 0.57554692 1.         0.
 1.         1.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 16: Average loss: 1.9119, Accuracy: 5688/10000 (56.8800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 16: Average loss: 1.9031, Accuracy: 5041/8991 (56.0672%)
Done in 31.16136384010315 sec.
Server Epoch:17 choose agents : [66, 33, 56, 97, 10, 13, 77, 37, 90, 59].
___Train Local_Simple,  epoch  17, local model 66, internal_epoch   1,  Average loss: 0.0169, Accuracy: 546/681 (80.1762%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 4.5236, Accuracy: 1275/10000 (12.7500%), Attack Success Rate:13/10000(0.130)
___Train Local_Simple,  epoch  17, local model 33, internal_epoch   1,  Average loss: 0.0267, Accuracy: 387/644 (60.0932%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 3.2365, Accuracy: 2310/10000 (23.1000%), Attack Success Rate:15/10000(0.150)
___Train Local_Simple,  epoch  17, local model 56, internal_epoch   1,  Average loss: 0.0121, Accuracy: 626/704 (88.9205%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 7.3022, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch  17, local model 97, internal_epoch   1,  Average loss: 0.3768, Accuracy: 5/5 (100.0000%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.9109, Accuracy: 4973/10000 (49.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 10, internal_epoch   1,  Average loss: 0.0180, Accuracy: 575/688 (83.5756%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 4.3053, Accuracy: 1860/10000 (18.6000%), Attack Success Rate:27/10000(0.270)
___Train Local_Simple,  epoch  17, local model 13, internal_epoch   1,  Average loss: 0.4420, Accuracy: 1/5 (20.0000%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.9048, Accuracy: 5941/10000 (59.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 77, internal_epoch   1,  Average loss: 0.0135, Accuracy: 1265/1544 (81.9301%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 3.4031, Accuracy: 3309/10000 (33.0900%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  17, local model 37, internal_epoch   1,  Average loss: 0.0199, Accuracy: 472/578 (81.6609%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 3.0692, Accuracy: 2705/10000 (27.0500%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch  17, local model 90, internal_epoch   1,  Average loss: 0.0144, Accuracy: 650/768 (84.6354%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 4.4600, Accuracy: 1345/10000 (13.4500%), Attack Success Rate:17/10000(0.170)
___Train Local_Simple,  epoch  17, local model 59, internal_epoch   1,  Average loss: 0.0765, Accuracy: 9/27 (33.3333%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.9073, Accuracy: 5158/10000 (51.5800%), Attack Success Rate:0/10000(0.000)
time spent on training: 20.618116855621338
[foolsgold agg] training data poison_ratio: 0.0  data num: [681, 644, 704, 5, 688, 5, 1544, 578, 768, 27]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.23567114 0.24969429 1.         0.         1.         1.
 0.23567114 1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 17: Average loss: 1.8872, Accuracy: 5481/10000 (54.8100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 17: Average loss: 1.8737, Accuracy: 5041/8991 (56.0672%)
Done in 29.77503728866577 sec.
Server Epoch:18 choose agents : [55, 58, 88, 23, 39, 75, 82, 61, 95, 93].
___Train Local_Simple,  epoch  18, local model 55, internal_epoch   1,  Average loss: 0.0135, Accuracy: 2361/2803 (84.2312%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 3.3549, Accuracy: 4521/10000 (45.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 58, internal_epoch   1,  Average loss: 0.0191, Accuracy: 732/1015 (72.1182%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 3.4882, Accuracy: 2662/10000 (26.6200%), Attack Success Rate:14/10000(0.140)
___Train Local_Simple,  epoch  18, local model 88, internal_epoch   1,  Average loss: 0.0327, Accuracy: 81/96 (84.3750%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.9553, Accuracy: 1558/10000 (15.5800%), Attack Success Rate:19/10000(0.190)
___Train Local_Simple,  epoch  18, local model 23, internal_epoch   1,  Average loss: 0.0168, Accuracy: 409/428 (95.5607%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 3.2294, Accuracy: 1951/10000 (19.5100%), Attack Success Rate:30/10000(0.300)
___Train Local_Simple,  epoch  18, local model 39, internal_epoch   1,  Average loss: 0.0106, Accuracy: 1124/1259 (89.2772%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 4.3128, Accuracy: 1873/10000 (18.7300%), Attack Success Rate:33/10000(0.330)
___Train Local_Simple,  epoch  18, local model 75, internal_epoch   1,  Average loss: 0.0141, Accuracy: 445/497 (89.5372%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 5.4693, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch  18, local model 82, internal_epoch   1,  Average loss: 0.0486, Accuracy: 57/114 (50.0000%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.9068, Accuracy: 3001/10000 (30.0100%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  18, local model 61, internal_epoch   1,  Average loss: 0.0171, Accuracy: 594/767 (77.4446%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 3.4307, Accuracy: 2761/10000 (27.6100%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch  18, local model 95, internal_epoch   1,  Average loss: 0.0532, Accuracy: 25/29 (86.2069%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.8845, Accuracy: 4959/10000 (49.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 93, internal_epoch   1,  Average loss: 0.0621, Accuracy: 16/30 (53.3333%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.8800, Accuracy: 5272/10000 (52.7200%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.252479553222656
[foolsgold agg] training data poison_ratio: 0.0  data num: [2803, 1015, 96, 428, 1259, 497, 114, 767, 29, 30]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.56006619 0.25484494 0.25484494 0.         1.         1.
 1.         0.28395963 0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 18: Average loss: 1.8672, Accuracy: 5259/10000 (52.5900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 18: Average loss: 1.8465, Accuracy: 5036/8991 (56.0116%)
Done in 31.162504196166992 sec.
Server Epoch:19 choose agents : [37, 43, 50, 84, 25, 28, 8, 16, 6, 3].
___Train Local_Simple,  epoch  19, local model 37, internal_epoch   1,  Average loss: 0.0190, Accuracy: 468/578 (80.9689%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 2.9795, Accuracy: 2733/10000 (27.3300%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch  19, local model 43, internal_epoch   1,  Average loss: 0.2830, Accuracy: 4/6 (66.6667%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.8651, Accuracy: 4943/10000 (49.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 50, internal_epoch   1,  Average loss: 0.0210, Accuracy: 149/151 (98.6755%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 2.3755, Accuracy: 1096/10000 (10.9600%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch  19, local model 84, internal_epoch   1,  Average loss: 0.0732, Accuracy: 8/29 (27.5862%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.8567, Accuracy: 5638/10000 (56.3800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 25, internal_epoch   1,  Average loss: 0.0463, Accuracy: 48/128 (37.5000%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.8306, Accuracy: 5597/10000 (55.9700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  19, local model 28, internal_epoch   1,  Average loss: 0.0308, Accuracy: 163/237 (68.7764%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 2.4326, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:11/10000(0.110)
___Train Local_Simple,  epoch  19, local model 8, internal_epoch   1,  Average loss: 0.0283, Accuracy: 142/171 (83.0409%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 2.2705, Accuracy: 1023/10000 (10.2300%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch  19, local model 16, internal_epoch   1,  Average loss: 0.0174, Accuracy: 749/994 (75.3521%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 2.6781, Accuracy: 3074/10000 (30.7400%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch  19, local model 6, internal_epoch   1,  Average loss: 0.0131, Accuracy: 1684/1982 (84.9647%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 4.5078, Accuracy: 2403/10000 (24.0300%), Attack Success Rate:21/10000(0.210)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 3, internal_epoch   1,  Average loss: 0.0177, Accuracy: 728/1010 (72.0792%), train_poison_data_count: 1010
Global model norm: 1.8852632014023962.
Norm before scaling: 2.4721946345681896. Distance: 1.4432224317118412
Total norm for 1 adversaries is: 2.4721946345681896. distance: 1.4432224317118412
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 3.3719, Accuracy: 2918/8991 (32.4547%)
time spent on training: 20.298552751541138
[foolsgold agg] training data poison_ratio: 0.19107075293227394  data num: [578, 6, 151, 29, 128, 237, 171, 994, 1982, 1010]
[foolsgold agg] considering poison per batch poison_fraction: 0.19107075293227394
[foolsgold agg] wv: [1.         0.         0.         1.         0.         0.
 0.67036097 1.         0.67036097 1.        ]
___Test Target_Simple poisoned: False, epoch: 19: Average loss: 1.8408, Accuracy: 5345/10000 (53.4500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 19: Average loss: 1.8217, Accuracy: 5023/8991 (55.8670%)
Done in 28.999657154083252 sec.
Server Epoch:20 choose agents : [23, 43, 27, 82, 37, 35, 29, 47, 11, 42].
___Train Local_Simple,  epoch  20, local model 23, internal_epoch   1,  Average loss: 0.0158, Accuracy: 406/428 (94.8598%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 3.1348, Accuracy: 1952/10000 (19.5200%), Attack Success Rate:27/10000(0.270)
___Train Local_Simple,  epoch  20, local model 43, internal_epoch   1,  Average loss: 0.2807, Accuracy: 3/6 (50.0000%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.8380, Accuracy: 5090/10000 (50.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  20, local model 27, internal_epoch   1,  Average loss: 0.0147, Accuracy: 602/678 (88.7906%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 4.9308, Accuracy: 1010/10000 (10.1000%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch  20, local model 82, internal_epoch   1,  Average loss: 0.0454, Accuracy: 66/114 (57.8947%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.8673, Accuracy: 3173/10000 (31.7300%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  20, local model 37, internal_epoch   1,  Average loss: 0.0180, Accuracy: 494/578 (85.4671%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 2.9448, Accuracy: 2702/10000 (27.0200%), Attack Success Rate:12/10000(0.120)
___Train Local_Simple,  epoch  20, local model 35, internal_epoch   1,  Average loss: 0.0125, Accuracy: 864/978 (88.3436%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 4.2415, Accuracy: 1417/10000 (14.1700%), Attack Success Rate:14/10000(0.140)
___Train Local_Simple,  epoch  20, local model 29, internal_epoch   1,  Average loss: 0.0138, Accuracy: 1084/1232 (87.9870%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 4.0311, Accuracy: 1022/10000 (10.2200%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  20, local model 47, internal_epoch   1,  Average loss: 0.0105, Accuracy: 2214/2519 (87.8920%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 3.6523, Accuracy: 3152/10000 (31.5200%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  20, local model 11, internal_epoch   1,  Average loss: 0.0467, Accuracy: 39/84 (46.4286%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.8379, Accuracy: 4795/10000 (47.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  20, local model 42, internal_epoch   1,  Average loss: 0.0517, Accuracy: 45/63 (71.4286%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.9020, Accuracy: 2856/10000 (28.5600%), Attack Success Rate:7/10000(0.070)
time spent on training: 22.42528796195984
[foolsgold agg] training data poison_ratio: 0.0  data num: [428, 6, 678, 114, 578, 978, 1232, 2519, 84, 63]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.
 0.91836877 0.         0.30200149 0.30200149]
___Test Target_Simple poisoned: False, epoch: 20: Average loss: 1.8255, Accuracy: 5193/10000 (51.9300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 20: Average loss: 1.7991, Accuracy: 4919/8991 (54.7103%)
Done in 31.551438331604004 sec.
Server Epoch:21 choose agents : [33, 12, 93, 15, 41, 97, 20, 86, 54, 52].
___Train Local_Simple,  epoch  21, local model 33, internal_epoch   1,  Average loss: 0.0263, Accuracy: 373/644 (57.9193%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 3.2131, Accuracy: 2339/10000 (23.3900%), Attack Success Rate:20/10000(0.200)
___Train Local_Simple,  epoch  21, local model 12, internal_epoch   1,  Average loss: 0.0199, Accuracy: 492/648 (75.9259%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 3.4704, Accuracy: 2745/10000 (27.4500%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  21, local model 93, internal_epoch   1,  Average loss: 0.0566, Accuracy: 21/30 (70.0000%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.8221, Accuracy: 4870/10000 (48.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 15, internal_epoch   1,  Average loss: 0.0195, Accuracy: 753/1033 (72.8945%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 3.6274, Accuracy: 3446/10000 (34.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 41, internal_epoch   1,  Average loss: 0.0170, Accuracy: 394/509 (77.4067%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 3.7024, Accuracy: 1642/10000 (16.4200%), Attack Success Rate:22/10000(0.220)
___Train Local_Simple,  epoch  21, local model 97, internal_epoch   1,  Average loss: 0.3373, Accuracy: 5/5 (100.0000%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.8284, Accuracy: 4620/10000 (46.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 20, internal_epoch   1,  Average loss: 0.0049, Accuracy: 2040/2180 (93.5780%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 4.5390, Accuracy: 2307/10000 (23.0700%), Attack Success Rate:19/10000(0.190)
___Train Local_Simple,  epoch  21, local model 86, internal_epoch   1,  Average loss: 0.0573, Accuracy: 15/34 (44.1176%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.8181, Accuracy: 5106/10000 (51.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 54, internal_epoch   1,  Average loss: 0.0403, Accuracy: 40/91 (43.9560%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.8198, Accuracy: 5225/10000 (52.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 52, internal_epoch   1,  Average loss: 0.0095, Accuracy: 627/705 (88.9362%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 7.6262, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:11/10000(0.110)
time spent on training: 21.68833613395691
[foolsgold agg] training data poison_ratio: 0.0  data num: [644, 648, 30, 1033, 509, 5, 2180, 34, 91, 705]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.95127769 0.46252707 1.         0.46252707 0.7481518
 0.95127769 0.01377363 1.         0.01377363]
___Test Target_Simple poisoned: False, epoch: 21: Average loss: 1.7983, Accuracy: 5436/10000 (54.3600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 21: Average loss: 1.7791, Accuracy: 5046/8991 (56.1228%)
Done in 30.645167350769043 sec.
Server Epoch:22 choose agents : [24, 38, 42, 32, 60, 8, 35, 92, 27, 96].
___Train Local_Simple,  epoch  22, local model 24, internal_epoch   1,  Average loss: 0.3480, Accuracy: 3/5 (60.0000%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.7950, Accuracy: 5244/10000 (52.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  22, local model 38, internal_epoch   1,  Average loss: 0.0313, Accuracy: 156/179 (87.1508%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.9058, Accuracy: 2452/10000 (24.5200%), Attack Success Rate:17/10000(0.170)
___Train Local_Simple,  epoch  22, local model 42, internal_epoch   1,  Average loss: 0.0528, Accuracy: 42/63 (66.6667%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.8522, Accuracy: 3110/10000 (31.1000%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  22, local model 32, internal_epoch   1,  Average loss: 0.0767, Accuracy: 7/28 (25.0000%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.7893, Accuracy: 5882/10000 (58.8200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  22, local model 60, internal_epoch   1,  Average loss: 0.0191, Accuracy: 350/399 (87.7193%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 3.1451, Accuracy: 1853/10000 (18.5300%), Attack Success Rate:29/10000(0.290)
___Train Local_Simple,  epoch  22, local model 8, internal_epoch   1,  Average loss: 0.0260, Accuracy: 144/171 (84.2105%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.1954, Accuracy: 1051/10000 (10.5100%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch  22, local model 35, internal_epoch   1,  Average loss: 0.0124, Accuracy: 860/978 (87.9346%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 4.4309, Accuracy: 1289/10000 (12.8900%), Attack Success Rate:15/10000(0.150)
___Train Local_Simple,  epoch  22, local model 92, internal_epoch   1,  Average loss: 0.0330, Accuracy: 151/202 (74.7525%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.6394, Accuracy: 958/10000 (9.5800%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  22, local model 27, internal_epoch   1,  Average loss: 0.0139, Accuracy: 602/678 (88.7906%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 4.7015, Accuracy: 1010/10000 (10.1000%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch  22, local model 96, internal_epoch   1,  Average loss: 0.0215, Accuracy: 378/505 (74.8515%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 2.8151, Accuracy: 2622/10000 (26.2200%), Attack Success Rate:10/10000(0.100)
time spent on training: 18.482352018356323
[foolsgold agg] training data poison_ratio: 0.0  data num: [5, 179, 63, 28, 399, 171, 978, 202, 678, 505]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.         1.         0.26103576 0.         0.
 0.         0.         0.         0.26103576]
___Test Target_Simple poisoned: False, epoch: 22: Average loss: 1.7951, Accuracy: 5449/10000 (54.4900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 22: Average loss: 1.7776, Accuracy: 5122/8991 (56.9681%)
Done in 27.207871198654175 sec.
Server Epoch:23 choose agents : [56, 82, 85, 17, 76, 61, 26, 86, 89, 75].
___Train Local_Simple,  epoch  23, local model 56, internal_epoch   1,  Average loss: 0.0121, Accuracy: 613/704 (87.0739%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 6.9794, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch  23, local model 82, internal_epoch   1,  Average loss: 0.0432, Accuracy: 75/114 (65.7895%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.8356, Accuracy: 3136/10000 (31.3600%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  23, local model 85, internal_epoch   1,  Average loss: 0.3889, Accuracy: 3/4 (75.0000%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.7968, Accuracy: 5074/10000 (50.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 17, internal_epoch   1,  Average loss: 0.0346, Accuracy: 78/94 (82.9787%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.8318, Accuracy: 3414/10000 (34.1400%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  23, local model 76, internal_epoch   1,  Average loss: 0.0461, Accuracy: 26/87 (29.8851%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.7703, Accuracy: 6008/10000 (60.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 61, internal_epoch   1,  Average loss: 0.0153, Accuracy: 614/767 (80.0522%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 3.4279, Accuracy: 2708/10000 (27.0800%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  23, local model 26, internal_epoch   1,  Average loss: 0.0118, Accuracy: 1108/1311 (84.5156%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 5.5892, Accuracy: 1984/10000 (19.8400%), Attack Success Rate:35/10000(0.350)
___Train Local_Simple,  epoch  23, local model 86, internal_epoch   1,  Average loss: 0.0566, Accuracy: 16/34 (47.0588%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.7880, Accuracy: 5343/10000 (53.4300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 89, internal_epoch   1,  Average loss: 0.0522, Accuracy: 37/69 (53.6232%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.7822, Accuracy: 5555/10000 (55.5500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 75, internal_epoch   1,  Average loss: 0.0138, Accuracy: 446/497 (89.7384%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 5.2251, Accuracy: 1009/10000 (10.0900%), Attack Success Rate:7/10000(0.070)
time spent on training: 19.238885641098022
[foolsgold agg] training data poison_ratio: 0.0  data num: [704, 114, 4, 94, 87, 767, 1311, 34, 69, 497]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.34896024 1.         0.         0.         1.
 0.         0.         0.34896024 0.        ]
___Test Target_Simple poisoned: False, epoch: 23: Average loss: 1.7916, Accuracy: 5344/10000 (53.4400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 23: Average loss: 1.7735, Accuracy: 5038/8991 (56.0338%)
Done in 28.287479639053345 sec.
Server Epoch:24 choose agents : [36, 65, 96, 83, 63, 30, 94, 25, 52, 50].
___Train Local_Simple,  epoch  24, local model 36, internal_epoch   1,  Average loss: 0.0150, Accuracy: 287/304 (94.4079%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 4.0730, Accuracy: 974/10000 (9.7400%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch  24, local model 65, internal_epoch   1,  Average loss: 0.0133, Accuracy: 1079/1326 (81.3725%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 3.8679, Accuracy: 2225/10000 (22.2500%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch  24, local model 96, internal_epoch   1,  Average loss: 0.0217, Accuracy: 378/505 (74.8515%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.7542, Accuracy: 2635/10000 (26.3500%), Attack Success Rate:14/10000(0.140)
___Train Local_Simple,  epoch  24, local model 83, internal_epoch   1,  Average loss: 0.0193, Accuracy: 559/750 (74.5333%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 3.4293, Accuracy: 1955/10000 (19.5500%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch  24, local model 63, internal_epoch   1,  Average loss: 0.0068, Accuracy: 2845/3022 (94.1430%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 4.4358, Accuracy: 1750/10000 (17.5000%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch  24, local model 30, internal_epoch   1,  Average loss: 0.0192, Accuracy: 563/818 (68.8264%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 4.2753, Accuracy: 2827/10000 (28.2700%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch  24, local model 94, internal_epoch   1,  Average loss: 0.0165, Accuracy: 548/607 (90.2801%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 4.1900, Accuracy: 1141/10000 (11.4100%), Attack Success Rate:13/10000(0.130)
___Train Local_Simple,  epoch  24, local model 25, internal_epoch   1,  Average loss: 0.0454, Accuracy: 45/128 (35.1562%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.7473, Accuracy: 6208/10000 (62.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 52, internal_epoch   1,  Average loss: 0.0098, Accuracy: 630/705 (89.3617%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 7.6149, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  24, local model 50, internal_epoch   1,  Average loss: 0.0167, Accuracy: 150/151 (99.3377%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 2.2083, Accuracy: 1311/10000 (13.1100%), Attack Success Rate:22/10000(0.220)
time spent on training: 25.28009009361267
[foolsgold agg] training data poison_ratio: 0.0  data num: [304, 1326, 505, 750, 3022, 818, 607, 128, 705, 151]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         0.95964691 1.         1.
 0.95964691 0.16648662 0.16648662 1.        ]
___Test Target_Simple poisoned: False, epoch: 24: Average loss: 1.7584, Accuracy: 5437/10000 (54.3700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 24: Average loss: 1.7463, Accuracy: 4998/8991 (55.5889%)
Done in 34.188523292541504 sec.
Server Epoch:25 choose agents : [45, 6, 35, 17, 20, 73, 43, 8, 74, 3].
___Train Local_Simple,  epoch  25, local model 45, internal_epoch   1,  Average loss: 0.0199, Accuracy: 315/388 (81.1856%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 3.1920, Accuracy: 1534/10000 (15.3400%), Attack Success Rate:22/10000(0.220)
___Train Local_Simple,  epoch  25, local model 6, internal_epoch   1,  Average loss: 0.0126, Accuracy: 1659/1982 (83.7033%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 4.3665, Accuracy: 2487/10000 (24.8700%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch  25, local model 35, internal_epoch   1,  Average loss: 0.0118, Accuracy: 869/978 (88.8548%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 4.3015, Accuracy: 1340/10000 (13.4000%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch  25, local model 17, internal_epoch   1,  Average loss: 0.0340, Accuracy: 74/94 (78.7234%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.7948, Accuracy: 3691/10000 (36.9100%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  25, local model 20, internal_epoch   1,  Average loss: 0.0044, Accuracy: 2068/2180 (94.8624%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 4.3658, Accuracy: 2280/10000 (22.8000%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch  25, local model 73, internal_epoch   1,  Average loss: 0.0107, Accuracy: 1019/1205 (84.5643%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 4.7268, Accuracy: 1738/10000 (17.3800%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch  25, local model 43, internal_epoch   1,  Average loss: 0.2576, Accuracy: 3/6 (50.0000%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.7576, Accuracy: 5261/10000 (52.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  25, local model 8, internal_epoch   1,  Average loss: 0.0283, Accuracy: 146/171 (85.3801%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 2.1260, Accuracy: 1085/10000 (10.8500%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch  25, local model 74, internal_epoch   1,  Average loss: 0.0214, Accuracy: 495/762 (64.9606%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 3.1795, Accuracy: 2772/10000 (27.7200%), Attack Success Rate:9/10000(0.090)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 3, internal_epoch   1,  Average loss: 0.0163, Accuracy: 781/1010 (77.3267%), train_poison_data_count: 1010
Global model norm: 1.9242368002636188.
Norm before scaling: 2.4964746414446064. Distance: 1.3771343139045389
Total norm for 1 adversaries is: 2.4964746414446064. distance: 1.3771343139045389
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 3.1480, Accuracy: 2915/8991 (32.4213%)
time spent on training: 26.294513940811157
[foolsgold agg] training data poison_ratio: 0.1150865998176846  data num: [388, 1982, 978, 94, 2180, 1205, 6, 171, 762, 1010]
[foolsgold agg] considering poison per batch poison_fraction: 0.1150865998176846
[foolsgold agg] wv: [0.         1.         1.         1.         1.         0.56170823
 1.         0.         0.56170823 1.        ]
___Test Target_Simple poisoned: False, epoch: 25: Average loss: 1.7287, Accuracy: 5836/10000 (58.3600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 25: Average loss: 1.7144, Accuracy: 5438/8991 (60.4827%)
Done in 35.240859270095825 sec.
Server Epoch:26 choose agents : [39, 14, 32, 4, 30, 63, 23, 3, 94, 84].
___Train Local_Simple,  epoch  26, local model 39, internal_epoch   1,  Average loss: 0.0098, Accuracy: 1120/1259 (88.9595%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 3.9930, Accuracy: 1877/10000 (18.7700%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch  26, local model 14, internal_epoch   1,  Average loss: 0.0358, Accuracy: 34/48 (70.8333%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.7212, Accuracy: 5923/10000 (59.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  26, local model 32, internal_epoch   1,  Average loss: 0.0736, Accuracy: 7/28 (25.0000%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.7204, Accuracy: 6301/10000 (63.0100%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 4, internal_epoch   1,  Average loss: 0.0154, Accuracy: 398/463 (85.9611%), train_poison_data_count: 463
Global model norm: 1.9350800937764394.
Norm before scaling: 2.279060671873731. Distance: 1.1665936288223762
Total norm for 2 adversaries is: 2.279060671873731. distance: 1.1665936288223762
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 5.6228, Accuracy: 892/8991 (9.9210%)
___Train Local_Simple,  epoch  26, local model 30, internal_epoch   1,  Average loss: 0.0182, Accuracy: 609/818 (74.4499%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 4.2761, Accuracy: 2820/10000 (28.2000%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch  26, local model 63, internal_epoch   1,  Average loss: 0.0062, Accuracy: 2851/3022 (94.3415%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 4.3884, Accuracy: 1771/10000 (17.7100%), Attack Success Rate:29/10000(0.290)
___Train Local_Simple,  epoch  26, local model 23, internal_epoch   1,  Average loss: 0.0152, Accuracy: 394/428 (92.0561%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 2.9390, Accuracy: 1946/10000 (19.4600%), Attack Success Rate:31/10000(0.310)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 3, internal_epoch   1,  Average loss: 0.0164, Accuracy: 794/1010 (78.6139%), train_poison_data_count: 1010
Global model norm: 1.9350800937764394.
Norm before scaling: 2.4900468104914655. Distance: 1.3392707778461073
Total norm for 2 adversaries is: 2.4900468104914655. distance: 1.3392707778461073
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 3.1009, Accuracy: 2923/8991 (32.5103%)
___Train Local_Simple,  epoch  26, local model 94, internal_epoch   1,  Average loss: 0.0159, Accuracy: 567/607 (93.4102%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 3.8346, Accuracy: 1171/10000 (11.7100%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch  26, local model 84, internal_epoch   1,  Average loss: 0.0671, Accuracy: 9/29 (31.0345%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.7195, Accuracy: 6222/10000 (62.2200%), Attack Success Rate:0/10000(0.000)
time spent on training: 25.522305250167847
[foolsgold agg] training data poison_ratio: 0.19100103734439833  data num: [1259, 48, 28, 463, 818, 3022, 428, 1010, 607, 29]
[foolsgold agg] considering poison per batch poison_fraction: 0.19100103734439833
[foolsgold agg] wv: [1. 0. 0. 1. 1. 1. 1. 1. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 26: Average loss: 1.7094, Accuracy: 5958/10000 (59.5800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 26: Average loss: 1.6966, Accuracy: 5536/8991 (61.5727%)
Done in 34.451993227005005 sec.
Server Epoch:27 choose agents : [69, 2, 42, 25, 17, 37, 45, 54, 30, 0].
___Train Local_Simple,  epoch  27, local model 69, internal_epoch   1,  Average loss: 0.0149, Accuracy: 508/586 (86.6894%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 4.6945, Accuracy: 1162/10000 (11.6200%), Attack Success Rate:11/10000(0.110)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 2, internal_epoch   1,  Average loss: 0.0454, Accuracy: 55/119 (46.2185%), train_poison_data_count: 119
Global model norm: 1.945556564034264.
Norm before scaling: 1.9637782580833245. Distance: 0.2297012269855249
Total norm for 1 adversaries is: 1.9637782580833245. distance: 0.2297012269855249
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.6831, Accuracy: 4405/8991 (48.9934%)
___Train Local_Simple,  epoch  27, local model 42, internal_epoch   1,  Average loss: 0.0487, Accuracy: 51/63 (80.9524%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.7688, Accuracy: 3657/10000 (36.5700%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  27, local model 25, internal_epoch   1,  Average loss: 0.0445, Accuracy: 49/128 (38.2812%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.6555, Accuracy: 7344/10000 (73.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 17, internal_epoch   1,  Average loss: 0.0330, Accuracy: 75/94 (79.7872%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.7502, Accuracy: 3913/10000 (39.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 37, internal_epoch   1,  Average loss: 0.0166, Accuracy: 500/578 (86.5052%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 2.7374, Accuracy: 2728/10000 (27.2800%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch  27, local model 45, internal_epoch   1,  Average loss: 0.0197, Accuracy: 322/388 (82.9897%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 3.1573, Accuracy: 1547/10000 (15.4700%), Attack Success Rate:24/10000(0.240)
___Train Local_Simple,  epoch  27, local model 54, internal_epoch   1,  Average loss: 0.0389, Accuracy: 51/91 (56.0440%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.7011, Accuracy: 6296/10000 (62.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  27, local model 30, internal_epoch   1,  Average loss: 0.0175, Accuracy: 648/818 (79.2176%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 4.2206, Accuracy: 2823/10000 (28.2300%), Attack Success Rate:14/10000(0.140)
___Train Local_Simple,  epoch  27, local model 0, internal_epoch   1,  Average loss: 0.0220, Accuracy: 259/300 (86.3333%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 2.1426, Accuracy: 2012/10000 (20.1200%), Attack Success Rate:26/10000(0.260)
time spent on training: 19.82130479812622
[foolsgold agg] training data poison_ratio: 0.03759873617693523  data num: [586, 119, 63, 128, 94, 578, 388, 91, 818, 300]
[foolsgold agg] considering poison per batch poison_fraction: 0.03759873617693523
[foolsgold agg] wv: [0.47498452 0.         0.         0.         0.         1.
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 27: Average loss: 1.6919, Accuracy: 6110/10000 (61.1000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 27: Average loss: 1.6715, Accuracy: 5823/8991 (64.7648%)
Done in 28.679138898849487 sec.
Server Epoch:28 choose agents : [33, 51, 17, 63, 6, 24, 82, 35, 80, 81].
___Train Local_Simple,  epoch  28, local model 33, internal_epoch   1,  Average loss: 0.0245, Accuracy: 445/644 (69.0994%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 3.0881, Accuracy: 2363/10000 (23.6300%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch  28, local model 51, internal_epoch   1,  Average loss: 0.0178, Accuracy: 213/259 (82.2394%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 2.2072, Accuracy: 1895/10000 (18.9500%), Attack Success Rate:25/10000(0.250)
___Train Local_Simple,  epoch  28, local model 17, internal_epoch   1,  Average loss: 0.0321, Accuracy: 80/94 (85.1064%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.7328, Accuracy: 4071/10000 (40.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 63, internal_epoch   1,  Average loss: 0.0062, Accuracy: 2840/3022 (93.9775%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 4.4961, Accuracy: 1747/10000 (17.4700%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch  28, local model 6, internal_epoch   1,  Average loss: 0.0120, Accuracy: 1668/1982 (84.1574%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 4.2966, Accuracy: 2460/10000 (24.6000%), Attack Success Rate:12/10000(0.120)
___Train Local_Simple,  epoch  28, local model 24, internal_epoch   1,  Average loss: 0.3389, Accuracy: 3/5 (60.0000%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.6873, Accuracy: 6102/10000 (61.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 82, internal_epoch   1,  Average loss: 0.0429, Accuracy: 70/114 (61.4035%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.7126, Accuracy: 4803/10000 (48.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 35, internal_epoch   1,  Average loss: 0.0110, Accuracy: 880/978 (89.9796%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 3.9371, Accuracy: 1477/10000 (14.7700%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch  28, local model 80, internal_epoch   1,  Average loss: 0.0476, Accuracy: 25/84 (29.7619%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.6820, Accuracy: 5663/10000 (56.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 81, internal_epoch   1,  Average loss: 0.0537, Accuracy: 38/68 (55.8824%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.6682, Accuracy: 6266/10000 (62.6600%), Attack Success Rate:0/10000(0.000)
time spent on training: 25.43257212638855
[foolsgold agg] training data poison_ratio: 0.0  data num: [644, 259, 94, 3022, 1982, 5, 114, 978, 84, 68]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.77278079 1.         0.7361235  1.         0.7361235  0.
 0.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 28: Average loss: 1.6682, Accuracy: 6319/10000 (63.1900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 28: Average loss: 1.6575, Accuracy: 5977/8991 (66.4776%)
Done in 34.372090101242065 sec.
Server Epoch:29 choose agents : [58, 90, 30, 72, 41, 25, 16, 91, 50, 57].
___Train Local_Simple,  epoch  29, local model 58, internal_epoch   1,  Average loss: 0.0173, Accuracy: 840/1015 (82.7586%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 3.2930, Accuracy: 2694/10000 (26.9400%), Attack Success Rate:11/10000(0.110)
___Train Local_Simple,  epoch  29, local model 90, internal_epoch   1,  Average loss: 0.0122, Accuracy: 660/768 (85.9375%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 4.1796, Accuracy: 1403/10000 (14.0300%), Attack Success Rate:24/10000(0.240)
___Train Local_Simple,  epoch  29, local model 30, internal_epoch   1,  Average loss: 0.0168, Accuracy: 648/818 (79.2176%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 4.2153, Accuracy: 2828/10000 (28.2800%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch  29, local model 72, internal_epoch   1,  Average loss: 0.1631, Accuracy: 7/10 (70.0000%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.6589, Accuracy: 6296/10000 (62.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 41, internal_epoch   1,  Average loss: 0.0163, Accuracy: 408/509 (80.1572%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 3.6231, Accuracy: 1578/10000 (15.7800%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch  29, local model 25, internal_epoch   1,  Average loss: 0.0432, Accuracy: 61/128 (47.6562%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.6202, Accuracy: 7325/10000 (73.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 16, internal_epoch   1,  Average loss: 0.0156, Accuracy: 774/994 (77.8672%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 2.4920, Accuracy: 3209/10000 (32.0900%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  29, local model 91, internal_epoch   1,  Average loss: 0.0312, Accuracy: 151/182 (82.9670%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.8005, Accuracy: 3261/10000 (32.6100%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  29, local model 50, internal_epoch   1,  Average loss: 0.0220, Accuracy: 150/151 (99.3377%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 2.0806, Accuracy: 2062/10000 (20.6200%), Attack Success Rate:21/10000(0.210)
___Train Local_Simple,  epoch  29, local model 57, internal_epoch   1,  Average loss: 0.0136, Accuracy: 1216/1437 (84.6207%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 4.2605, Accuracy: 2834/10000 (28.3400%), Attack Success Rate:10/10000(0.100)
time spent on training: 23.467195510864258
[foolsgold agg] training data poison_ratio: 0.0  data num: [1015, 768, 818, 10, 509, 128, 994, 182, 151, 1437]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         0.3520027  1.         0.3520027  0.         0.7211776
 1.         0.41668058 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 29: Average loss: 1.6457, Accuracy: 6327/10000 (63.2700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 29: Average loss: 1.6327, Accuracy: 6063/8991 (67.4341%)
Done in 32.25986623764038 sec.
Server Epoch:30 choose agents : [50, 77, 73, 21, 10, 8, 40, 52, 45, 30].
___Train Local_Simple,  epoch  30, local model 50, internal_epoch   1,  Average loss: 0.0151, Accuracy: 151/151 (100.0000%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.9934, Accuracy: 2306/10000 (23.0600%), Attack Success Rate:22/10000(0.220)
___Train Local_Simple,  epoch  30, local model 77, internal_epoch   1,  Average loss: 0.0118, Accuracy: 1308/1544 (84.7150%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 3.1190, Accuracy: 3401/10000 (34.0100%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  30, local model 73, internal_epoch   1,  Average loss: 0.0114, Accuracy: 1042/1205 (86.4730%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 4.5899, Accuracy: 1753/10000 (17.5300%), Attack Success Rate:21/10000(0.210)
___Train Local_Simple,  epoch  30, local model 21, internal_epoch   1,  Average loss: 0.0080, Accuracy: 1891/2072 (91.2645%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 4.5423, Accuracy: 2610/10000 (26.1000%), Attack Success Rate:12/10000(0.120)
___Train Local_Simple,  epoch  30, local model 10, internal_epoch   1,  Average loss: 0.0158, Accuracy: 600/688 (87.2093%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 3.9183, Accuracy: 1888/10000 (18.8800%), Attack Success Rate:11/10000(0.110)
___Train Local_Simple,  epoch  30, local model 8, internal_epoch   1,  Average loss: 0.0267, Accuracy: 143/171 (83.6257%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.9569, Accuracy: 1324/10000 (13.2400%), Attack Success Rate:22/10000(0.220)
___Train Local_Simple,  epoch  30, local model 40, internal_epoch   1,  Average loss: 0.0226, Accuracy: 309/436 (70.8716%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 2.9206, Accuracy: 1731/10000 (17.3100%), Attack Success Rate:24/10000(0.240)
___Train Local_Simple,  epoch  30, local model 52, internal_epoch   1,  Average loss: 0.0090, Accuracy: 652/705 (92.4823%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 7.0170, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch  30, local model 45, internal_epoch   1,  Average loss: 0.0202, Accuracy: 304/388 (78.3505%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 3.1375, Accuracy: 1495/10000 (14.9500%), Attack Success Rate:30/10000(0.300)
___Train Local_Simple,  epoch  30, local model 30, internal_epoch   1,  Average loss: 0.0164, Accuracy: 676/818 (82.6406%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 4.1436, Accuracy: 2838/10000 (28.3800%), Attack Success Rate:4/10000(0.040)
time spent on training: 27.00995445251465
[foolsgold agg] training data poison_ratio: 0.0  data num: [151, 1544, 1205, 2072, 688, 171, 436, 705, 388, 818]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 1. 1. 1. 0. 0. 0. 0. 1.]
___Test Target_Simple poisoned: False, epoch: 30: Average loss: 1.6236, Accuracy: 6481/10000 (64.8100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 30: Average loss: 1.6065, Accuracy: 6276/8991 (69.8031%)
Done in 36.184083223342896 sec.
Server Epoch:31 choose agents : [74, 9, 99, 85, 4, 11, 24, 42, 23, 25].
___Train Local_Simple,  epoch  31, local model 74, internal_epoch   1,  Average loss: 0.0187, Accuracy: 534/762 (70.0787%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 3.0214, Accuracy: 3056/10000 (30.5600%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  31, local model 9, internal_epoch   1,  Average loss: 0.0300, Accuracy: 190/263 (72.2433%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 2.3734, Accuracy: 1663/10000 (16.6300%), Attack Success Rate:40/10000(0.400)
___Train Local_Simple,  epoch  31, local model 99, internal_epoch   1,  Average loss: 0.0074, Accuracy: 405/411 (98.5401%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 3.2471, Accuracy: 1054/10000 (10.5400%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  31, local model 85, internal_epoch   1,  Average loss: 0.3999, Accuracy: 3/4 (75.0000%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.6194, Accuracy: 6428/10000 (64.2800%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 4, internal_epoch   1,  Average loss: 0.0136, Accuracy: 437/463 (94.3844%), train_poison_data_count: 463
Global model norm: 1.985218199356687.
Norm before scaling: 2.318715994449307. Distance: 1.117801897458841
Total norm for 1 adversaries is: 2.318715994449307. distance: 1.117801897458841
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 5.4263, Accuracy: 892/8991 (9.9210%)
___Train Local_Simple,  epoch  31, local model 11, internal_epoch   1,  Average loss: 0.0405, Accuracy: 54/84 (64.2857%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.6307, Accuracy: 5417/10000 (54.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 24, internal_epoch   1,  Average loss: 0.3300, Accuracy: 3/5 (60.0000%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.6176, Accuracy: 6693/10000 (66.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 42, internal_epoch   1,  Average loss: 0.0416, Accuracy: 58/63 (92.0635%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.6999, Accuracy: 3825/10000 (38.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 23, internal_epoch   1,  Average loss: 0.0147, Accuracy: 404/428 (94.3925%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 2.7780, Accuracy: 1943/10000 (19.4300%), Attack Success Rate:27/10000(0.270)
___Train Local_Simple,  epoch  31, local model 25, internal_epoch   1,  Average loss: 0.0422, Accuracy: 63/128 (49.2188%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.5765, Accuracy: 7352/10000 (73.5200%), Attack Success Rate:0/10000(0.000)
time spent on training: 19.297207593917847
[foolsgold agg] training data poison_ratio: 0.17732669475296822  data num: [762, 263, 411, 4, 463, 84, 5, 63, 428, 128]
[foolsgold agg] considering poison per batch poison_fraction: 0.17732669475296825
[foolsgold agg] wv: [0.         0.         0.21663101 0.12551317 0.         0.
 1.         0.         0.12551317 1.        ]
___Test Target_Simple poisoned: False, epoch: 31: Average loss: 1.6179, Accuracy: 6610/10000 (66.1000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 31: Average loss: 1.6010, Accuracy: 6365/8991 (70.7930%)
Done in 28.18848156929016 sec.
Server Epoch:32 choose agents : [93, 87, 55, 70, 15, 90, 91, 86, 67, 20].
___Train Local_Simple,  epoch  32, local model 93, internal_epoch   1,  Average loss: 0.0570, Accuracy: 15/30 (50.0000%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.6071, Accuracy: 6637/10000 (66.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 87, internal_epoch   1,  Average loss: 0.0412, Accuracy: 30/33 (90.9091%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.6119, Accuracy: 6540/10000 (65.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 55, internal_epoch   1,  Average loss: 0.0124, Accuracy: 2444/2803 (87.1923%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 3.0993, Accuracy: 4557/10000 (45.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 70, internal_epoch   1,  Average loss: 0.0277, Accuracy: 384/569 (67.4868%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 2.1493, Accuracy: 2515/10000 (25.1500%), Attack Success Rate:17/10000(0.170)
___Train Local_Simple,  epoch  32, local model 15, internal_epoch   1,  Average loss: 0.0182, Accuracy: 801/1033 (77.5411%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 3.3458, Accuracy: 3481/10000 (34.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 90, internal_epoch   1,  Average loss: 0.0117, Accuracy: 661/768 (86.0677%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 4.1892, Accuracy: 1489/10000 (14.8900%), Attack Success Rate:25/10000(0.250)
___Train Local_Simple,  epoch  32, local model 91, internal_epoch   1,  Average loss: 0.0299, Accuracy: 151/182 (82.9670%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.7402, Accuracy: 3704/10000 (37.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 86, internal_epoch   1,  Average loss: 0.0512, Accuracy: 23/34 (67.6471%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.6142, Accuracy: 6425/10000 (64.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 67, internal_epoch   1,  Average loss: 0.0227, Accuracy: 434/568 (76.4085%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 2.8735, Accuracy: 2447/10000 (24.4700%), Attack Success Rate:15/10000(0.150)
___Train Local_Simple,  epoch  32, local model 20, internal_epoch   1,  Average loss: 0.0042, Accuracy: 2078/2180 (95.3211%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 4.2273, Accuracy: 2504/10000 (25.0400%), Attack Success Rate:10/10000(0.100)
time spent on training: 27.768235683441162
[foolsgold agg] training data poison_ratio: 0.0  data num: [30, 33, 2803, 569, 1033, 768, 182, 34, 568, 2180]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.08121394 0.76238292 0.33495303 0.         0.         0.08121394
 1.         1.         0.9013425  0.76238292]
___Test Target_Simple poisoned: False, epoch: 32: Average loss: 1.6022, Accuracy: 6672/10000 (66.7200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 32: Average loss: 1.5872, Accuracy: 6364/8991 (70.7819%)
Done in 36.778254985809326 sec.
Server Epoch:33 choose agents : [77, 57, 21, 67, 14, 97, 28, 22, 70, 93].
___Train Local_Simple,  epoch  33, local model 77, internal_epoch   1,  Average loss: 0.0116, Accuracy: 1311/1544 (84.9093%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 3.0270, Accuracy: 3482/10000 (34.8200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 57, internal_epoch   1,  Average loss: 0.0133, Accuracy: 1223/1437 (85.1079%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 3.9857, Accuracy: 2824/10000 (28.2400%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch  33, local model 21, internal_epoch   1,  Average loss: 0.0078, Accuracy: 1891/2072 (91.2645%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 4.2876, Accuracy: 2756/10000 (27.5600%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  33, local model 67, internal_epoch   1,  Average loss: 0.0225, Accuracy: 448/568 (78.8732%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 2.7651, Accuracy: 2526/10000 (25.2600%), Attack Success Rate:16/10000(0.160)
___Train Local_Simple,  epoch  33, local model 14, internal_epoch   1,  Average loss: 0.0314, Accuracy: 47/48 (97.9167%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.5975, Accuracy: 6553/10000 (65.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 97, internal_epoch   1,  Average loss: 0.2741, Accuracy: 5/5 (100.0000%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.6117, Accuracy: 5817/10000 (58.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 28, internal_epoch   1,  Average loss: 0.0278, Accuracy: 173/237 (72.9958%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 2.1323, Accuracy: 1150/10000 (11.5000%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch  33, local model 22, internal_epoch   1,  Average loss: 0.0498, Accuracy: 26/34 (76.4706%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.5976, Accuracy: 6561/10000 (65.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 70, internal_epoch   1,  Average loss: 0.0272, Accuracy: 377/569 (66.2566%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 2.2051, Accuracy: 2150/10000 (21.5000%), Attack Success Rate:15/10000(0.150)
___Train Local_Simple,  epoch  33, local model 93, internal_epoch   1,  Average loss: 0.0562, Accuracy: 20/30 (66.6667%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.5921, Accuracy: 6666/10000 (66.6600%), Attack Success Rate:0/10000(0.000)
time spent on training: 25.12501287460327
[foolsgold agg] training data poison_ratio: 0.0  data num: [1544, 1437, 2072, 568, 48, 5, 237, 34, 569, 30]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 0. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 33: Average loss: 1.5651, Accuracy: 7190/10000 (71.9000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 33: Average loss: 1.5507, Accuracy: 6792/8991 (75.5422%)
Done in 34.08281135559082 sec.
Server Epoch:34 choose agents : [37, 49, 41, 50, 71, 60, 42, 83, 26, 48].
___Train Local_Simple,  epoch  34, local model 37, internal_epoch   1,  Average loss: 0.0164, Accuracy: 505/578 (87.3702%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 2.5982, Accuracy: 2750/10000 (27.5000%), Attack Success Rate:11/10000(0.110)
___Train Local_Simple,  epoch  34, local model 49, internal_epoch   1,  Average loss: 0.0213, Accuracy: 178/196 (90.8163%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.8316, Accuracy: 2541/10000 (25.4100%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch  34, local model 41, internal_epoch   1,  Average loss: 0.0173, Accuracy: 389/509 (76.4244%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 3.5646, Accuracy: 1577/10000 (15.7700%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch  34, local model 50, internal_epoch   1,  Average loss: 0.0151, Accuracy: 151/151 (100.0000%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.8781, Accuracy: 2763/10000 (27.6300%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch  34, local model 71, internal_epoch   1,  Average loss: 0.0291, Accuracy: 238/342 (69.5906%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.9468, Accuracy: 2521/10000 (25.2100%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch  34, local model 60, internal_epoch   1,  Average loss: 0.0181, Accuracy: 367/399 (91.9799%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 2.8181, Accuracy: 1867/10000 (18.6700%), Attack Success Rate:34/10000(0.340)
___Train Local_Simple,  epoch  34, local model 42, internal_epoch   1,  Average loss: 0.0440, Accuracy: 56/63 (88.8889%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.6278, Accuracy: 4369/10000 (43.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 83, internal_epoch   1,  Average loss: 0.0162, Accuracy: 625/750 (83.3333%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 3.0723, Accuracy: 1985/10000 (19.8500%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch  34, local model 26, internal_epoch   1,  Average loss: 0.0104, Accuracy: 1164/1311 (88.7872%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 5.0688, Accuracy: 1986/10000 (19.8600%), Attack Success Rate:25/10000(0.250)
___Train Local_Simple,  epoch  34, local model 48, internal_epoch   1,  Average loss: 0.0356, Accuracy: 105/128 (82.0312%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.6015, Accuracy: 5350/10000 (53.5000%), Attack Success Rate:0/10000(0.000)
time spent on training: 21.737051248550415
[foolsgold agg] training data poison_ratio: 0.0  data num: [578, 196, 509, 151, 342, 399, 63, 750, 1311, 128]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         1.         1.         0.         0.
 0.62671038 0.52627157 0.62671038 0.        ]
___Test Target_Simple poisoned: False, epoch: 34: Average loss: 1.5548, Accuracy: 7116/10000 (71.1600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 34: Average loss: 1.5375, Accuracy: 6772/8991 (75.3198%)
Done in 30.621875286102295 sec.
Server Epoch:35 choose agents : [50, 36, 53, 79, 33, 25, 15, 1, 65, 98].
___Train Local_Simple,  epoch  35, local model 50, internal_epoch   1,  Average loss: 0.0158, Accuracy: 150/151 (99.3377%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.8823, Accuracy: 2786/10000 (27.8600%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  35, local model 36, internal_epoch   1,  Average loss: 0.0155, Accuracy: 276/304 (90.7895%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 3.7568, Accuracy: 974/10000 (9.7400%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  35, local model 53, internal_epoch   1,  Average loss: 0.0195, Accuracy: 418/456 (91.6667%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 2.6426, Accuracy: 2118/10000 (21.1800%), Attack Success Rate:24/10000(0.240)
___Train Local_Simple,  epoch  35, local model 79, internal_epoch   1,  Average loss: 0.0651, Accuracy: 21/25 (84.0000%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.5529, Accuracy: 6848/10000 (68.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 33, internal_epoch   1,  Average loss: 0.0231, Accuracy: 466/644 (72.3602%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 3.0178, Accuracy: 2292/10000 (22.9200%), Attack Success Rate:17/10000(0.170)
___Train Local_Simple,  epoch  35, local model 25, internal_epoch   1,  Average loss: 0.0391, Accuracy: 86/128 (67.1875%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.5248, Accuracy: 7377/10000 (73.7700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 15, internal_epoch   1,  Average loss: 0.0177, Accuracy: 826/1033 (79.9613%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 3.2521, Accuracy: 3503/10000 (35.0300%), Attack Success Rate:1/10000(0.010)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 1, internal_epoch   1,  Average loss: 0.0388, Accuracy: 60/84 (71.4286%), train_poison_data_count: 84
Global model norm: 2.014358714171314.
Norm before scaling: 2.0230927044703977. Distance: 0.08596560441307802
Total norm for 1 adversaries is: 2.0230927044703977. distance: 0.08596560441307802
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.5330, Accuracy: 6655/8991 (74.0185%)
___Train Local_Simple,  epoch  35, local model 65, internal_epoch   1,  Average loss: 0.0110, Accuracy: 1136/1326 (85.6712%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 3.4073, Accuracy: 2496/10000 (24.9600%), Attack Success Rate:15/10000(0.150)
___Train Local_Simple,  epoch  35, local model 98, internal_epoch   1,  Average loss: 0.1959, Accuracy: 6/6 (100.0000%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.5512, Accuracy: 6854/10000 (68.5400%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.445364952087402
[foolsgold agg] training data poison_ratio: 0.020206879961510705  data num: [151, 304, 456, 25, 644, 128, 1033, 84, 1326, 6]
[foolsgold agg] considering poison per batch poison_fraction: 0.020206879961510705
[foolsgold agg] wv: [1.         0.         0.69394978 0.         1.         1.
 0.         0.89822118 0.         0.69394978]
___Test Target_Simple poisoned: False, epoch: 35: Average loss: 1.5449, Accuracy: 7133/10000 (71.3300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 35: Average loss: 1.5316, Accuracy: 6711/8991 (74.6413%)
Done in 32.35669994354248 sec.
Server Epoch:36 choose agents : [82, 4, 79, 32, 47, 44, 89, 48, 70, 77].
___Train Local_Simple,  epoch  36, local model 82, internal_epoch   1,  Average loss: 0.0342, Accuracy: 92/114 (80.7018%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.5912, Accuracy: 5388/10000 (53.8800%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 4, internal_epoch   1,  Average loss: 0.0140, Accuracy: 418/463 (90.2808%), train_poison_data_count: 463
Global model norm: 2.020607991452288.
Norm before scaling: 2.3431219658230367. Distance: 1.1227147946526028
Total norm for 1 adversaries is: 2.3431219658230367. distance: 1.1227147946526028
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 5.2617, Accuracy: 892/8991 (9.9210%)
___Train Local_Simple,  epoch  36, local model 79, internal_epoch   1,  Average loss: 0.0667, Accuracy: 20/25 (80.0000%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.5408, Accuracy: 7016/10000 (70.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 32, internal_epoch   1,  Average loss: 0.0688, Accuracy: 8/28 (28.5714%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.5367, Accuracy: 7594/10000 (75.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 47, internal_epoch   1,  Average loss: 0.0093, Accuracy: 2257/2519 (89.5990%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 3.2012, Accuracy: 3601/10000 (36.0100%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  36, local model 44, internal_epoch   1,  Average loss: 0.0391, Accuracy: 25/47 (53.1915%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.5385, Accuracy: 7271/10000 (72.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 89, internal_epoch   1,  Average loss: 0.0441, Accuracy: 46/69 (66.6667%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.5383, Accuracy: 7153/10000 (71.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 48, internal_epoch   1,  Average loss: 0.0353, Accuracy: 101/128 (78.9062%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.5777, Accuracy: 5553/10000 (55.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 70, internal_epoch   1,  Average loss: 0.0270, Accuracy: 390/569 (68.5413%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 2.1392, Accuracy: 2291/10000 (22.9100%), Attack Success Rate:22/10000(0.220)
___Train Local_Simple,  epoch  36, local model 77, internal_epoch   1,  Average loss: 0.0109, Accuracy: 1328/1544 (86.0104%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 3.0036, Accuracy: 3486/10000 (34.8600%), Attack Success Rate:2/10000(0.020)
time spent on training: 24.516937017440796
[foolsgold agg] training data poison_ratio: 0.08409008354522339  data num: [114, 463, 25, 28, 2519, 47, 69, 128, 569, 1544]
[foolsgold agg] considering poison per batch poison_fraction: 0.08409008354522339
[foolsgold agg] wv: [0.27134842 0.         1.         0.93642419 0.11617342 1.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 36: Average loss: 1.5364, Accuracy: 7303/10000 (73.0300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 36: Average loss: 1.5231, Accuracy: 6812/8991 (75.7647%)
Done in 33.685359477996826 sec.
Server Epoch:37 choose agents : [27, 30, 33, 41, 5, 52, 84, 43, 62, 18].
___Train Local_Simple,  epoch  37, local model 27, internal_epoch   1,  Average loss: 0.0135, Accuracy: 592/678 (87.3156%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 4.2865, Accuracy: 1011/10000 (10.1100%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  37, local model 30, internal_epoch   1,  Average loss: 0.0162, Accuracy: 671/818 (82.0293%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 4.0830, Accuracy: 2829/10000 (28.2900%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch  37, local model 33, internal_epoch   1,  Average loss: 0.0231, Accuracy: 459/644 (71.2733%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 2.8554, Accuracy: 2381/10000 (23.8100%), Attack Success Rate:17/10000(0.170)
___Train Local_Simple,  epoch  37, local model 41, internal_epoch   1,  Average loss: 0.0174, Accuracy: 402/509 (78.9784%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 3.4395, Accuracy: 1583/10000 (15.8300%), Attack Success Rate:25/10000(0.250)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 5, internal_epoch   1,  Average loss: 0.0126, Accuracy: 953/1046 (91.1090%), train_poison_data_count: 1046
Global model norm: 2.0243106563526387.
Norm before scaling: 2.498754286349705. Distance: 1.3513347455886013
Total norm for 1 adversaries is: 2.498754286349705. distance: 1.3513347455886013
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 5.8364, Accuracy: 892/8991 (9.9210%)
___Train Local_Simple,  epoch  37, local model 52, internal_epoch   1,  Average loss: 0.0072, Accuracy: 671/705 (95.1773%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 6.5615, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch  37, local model 84, internal_epoch   1,  Average loss: 0.0613, Accuracy: 13/29 (44.8276%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.5280, Accuracy: 7612/10000 (76.1200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 43, internal_epoch   1,  Average loss: 0.2172, Accuracy: 5/6 (83.3333%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.5383, Accuracy: 7124/10000 (71.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 62, internal_epoch   1,  Average loss: 0.7563, Accuracy: 2/2 (100.0000%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.5374, Accuracy: 7051/10000 (70.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 18, internal_epoch   1,  Average loss: 0.0293, Accuracy: 199/264 (75.3788%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 2.2260, Accuracy: 1002/10000 (10.0200%), Attack Success Rate:10/10000(0.100)
time spent on training: 22.45051407814026
[foolsgold agg] training data poison_ratio: 0.22250584981918742  data num: [678, 818, 644, 509, 1046, 705, 29, 6, 2, 264]
[foolsgold agg] considering poison per batch poison_fraction: 0.22250584981918742
[foolsgold agg] wv: [0.         0.66513508 1.         0.         0.         1.
 1.         1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 37: Average loss: 1.5280, Accuracy: 7383/10000 (73.8300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 37: Average loss: 1.5189, Accuracy: 6855/8991 (76.2429%)
Done in 31.589824199676514 sec.
Server Epoch:38 choose agents : [39, 29, 87, 78, 53, 83, 19, 45, 52, 17].
___Train Local_Simple,  epoch  38, local model 39, internal_epoch   1,  Average loss: 0.0085, Accuracy: 1147/1259 (91.1041%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 3.5881, Accuracy: 1872/10000 (18.7200%), Attack Success Rate:32/10000(0.320)
___Train Local_Simple,  epoch  38, local model 29, internal_epoch   1,  Average loss: 0.0119, Accuracy: 1086/1232 (88.1494%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 3.3992, Accuracy: 1169/10000 (11.6900%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch  38, local model 87, internal_epoch   1,  Average loss: 0.0376, Accuracy: 31/33 (93.9394%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.5234, Accuracy: 7234/10000 (72.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 78, internal_epoch   1,  Average loss: 0.0110, Accuracy: 2009/2324 (86.4458%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 2.6146, Accuracy: 3933/10000 (39.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 53, internal_epoch   1,  Average loss: 0.0182, Accuracy: 422/456 (92.5439%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 2.6067, Accuracy: 2134/10000 (21.3400%), Attack Success Rate:19/10000(0.190)
___Train Local_Simple,  epoch  38, local model 83, internal_epoch   1,  Average loss: 0.0164, Accuracy: 619/750 (82.5333%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 3.1313, Accuracy: 1982/10000 (19.8200%), Attack Success Rate:24/10000(0.240)
___Train Local_Simple,  epoch  38, local model 19, internal_epoch   1,  Average loss: 0.0252, Accuracy: 197/244 (80.7377%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.9143, Accuracy: 1869/10000 (18.6900%), Attack Success Rate:42/10000(0.420)
___Train Local_Simple,  epoch  38, local model 45, internal_epoch   1,  Average loss: 0.0174, Accuracy: 345/388 (88.9175%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 2.9052, Accuracy: 1698/10000 (16.9800%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch  38, local model 52, internal_epoch   1,  Average loss: 0.0069, Accuracy: 688/705 (97.5887%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 6.4077, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch  38, local model 17, internal_epoch   1,  Average loss: 0.0295, Accuracy: 82/94 (87.2340%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.5675, Accuracy: 5182/10000 (51.8200%), Attack Success Rate:0/10000(0.000)
time spent on training: 27.79440689086914
[foolsgold agg] training data poison_ratio: 0.0  data num: [1259, 1232, 33, 2324, 456, 750, 244, 388, 705, 94]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         0.63273997 1.         0.63273997 1.
 0.         1.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 38: Average loss: 1.5024, Accuracy: 7258/10000 (72.5800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 38: Average loss: 1.4865, Accuracy: 6830/8991 (75.9649%)
Done in 36.6530237197876 sec.
Server Epoch:39 choose agents : [3, 34, 32, 5, 73, 14, 40, 88, 72, 13].
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 3, internal_epoch   1,  Average loss: 0.0155, Accuracy: 846/1010 (83.7624%), train_poison_data_count: 1010
Global model norm: 2.0455519498887345.
Norm before scaling: 2.5848632609579836. Distance: 1.2774718334131205
Total norm for 2 adversaries is: 2.5848632609579836. distance: 1.2774718334131205
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 2.8838, Accuracy: 2980/8991 (33.1443%)
___Train Local_Simple,  epoch  39, local model 34, internal_epoch   1,  Average loss: 0.0167, Accuracy: 962/1203 (79.9667%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 2.4695, Accuracy: 3600/10000 (36.0000%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  39, local model 32, internal_epoch   1,  Average loss: 0.0684, Accuracy: 8/28 (28.5714%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.4937, Accuracy: 7700/10000 (77.0000%), Attack Success Rate:0/10000(0.000)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 5, internal_epoch   1,  Average loss: 0.0132, Accuracy: 948/1046 (90.6310%), train_poison_data_count: 1046
Global model norm: 2.0455519498887345.
Norm before scaling: 2.5246718845009637. Distance: 1.374413451888098
Total norm for 2 adversaries is: 2.5246718845009637. distance: 1.374413451888098
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 6.0631, Accuracy: 892/8991 (9.9210%)
___Train Local_Simple,  epoch  39, local model 73, internal_epoch   1,  Average loss: 0.0098, Accuracy: 1051/1205 (87.2199%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 4.2858, Accuracy: 1740/10000 (17.4000%), Attack Success Rate:25/10000(0.250)
___Train Local_Simple,  epoch  39, local model 14, internal_epoch   1,  Average loss: 0.0284, Accuracy: 47/48 (97.9167%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.4995, Accuracy: 7106/10000 (71.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 40, internal_epoch   1,  Average loss: 0.0207, Accuracy: 335/436 (76.8349%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 2.5998, Accuracy: 1811/10000 (18.1100%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch  39, local model 88, internal_epoch   1,  Average loss: 0.0332, Accuracy: 66/96 (68.7500%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.5256, Accuracy: 5722/10000 (57.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 72, internal_epoch   1,  Average loss: 0.1411, Accuracy: 8/10 (80.0000%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.4979, Accuracy: 7109/10000 (71.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 13, internal_epoch   1,  Average loss: 0.3500, Accuracy: 2/5 (40.0000%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.5014, Accuracy: 7294/10000 (72.9400%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.57143235206604
[foolsgold agg] training data poison_ratio: 0.40416748574798506  data num: [1010, 1203, 28, 1046, 1205, 48, 436, 96, 10, 5]
[foolsgold agg] considering poison per batch poison_fraction: 0.40416748574798506
[foolsgold agg] wv: [0.94599877 0.76160566 0.09862437 0.11695152 0.11695152 1.
 0.09862437 0.94599877 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 39: Average loss: 1.4902, Accuracy: 7344/10000 (73.4400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 39: Average loss: 1.4702, Accuracy: 6938/8991 (77.1661%)
Done in 31.180264472961426 sec.
Server Epoch:40 choose agents : [12, 23, 87, 98, 51, 83, 52, 90, 71, 11].
___Train Local_Simple,  epoch  40, local model 12, internal_epoch   1,  Average loss: 0.0156, Accuracy: 551/648 (85.0309%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 3.1764, Accuracy: 2827/10000 (28.2700%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch  40, local model 23, internal_epoch   1,  Average loss: 0.0135, Accuracy: 403/428 (94.1589%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 2.5683, Accuracy: 1951/10000 (19.5100%), Attack Success Rate:29/10000(0.290)
___Train Local_Simple,  epoch  40, local model 87, internal_epoch   1,  Average loss: 0.0349, Accuracy: 31/33 (93.9394%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.4870, Accuracy: 7175/10000 (71.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 98, internal_epoch   1,  Average loss: 0.1802, Accuracy: 6/6 (100.0000%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.4880, Accuracy: 7080/10000 (70.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 51, internal_epoch   1,  Average loss: 0.0152, Accuracy: 236/259 (91.1197%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.9067, Accuracy: 2930/10000 (29.3000%), Attack Success Rate:9/10000(0.090)
___Train Local_Simple,  epoch  40, local model 83, internal_epoch   1,  Average loss: 0.0153, Accuracy: 640/750 (85.3333%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 2.9412, Accuracy: 1999/10000 (19.9900%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch  40, local model 52, internal_epoch   1,  Average loss: 0.0075, Accuracy: 672/705 (95.3191%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 6.2759, Accuracy: 1032/10000 (10.3200%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  40, local model 90, internal_epoch   1,  Average loss: 0.0117, Accuracy: 671/768 (87.3698%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 3.8117, Accuracy: 1549/10000 (15.4900%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch  40, local model 71, internal_epoch   1,  Average loss: 0.0277, Accuracy: 249/342 (72.8070%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.8861, Accuracy: 2872/10000 (28.7200%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  40, local model 11, internal_epoch   1,  Average loss: 0.0372, Accuracy: 60/84 (71.4286%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.5032, Accuracy: 6369/10000 (63.6900%), Attack Success Rate:0/10000(0.000)
time spent on training: 18.696155071258545
[foolsgold agg] training data poison_ratio: 0.0  data num: [648, 428, 33, 6, 259, 750, 705, 768, 342, 84]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.81854107 0.         1.         0.         0.81854107 1.
 0.         0.80266509 1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 40: Average loss: 1.4767, Accuracy: 7307/10000 (73.0700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 40: Average loss: 1.4583, Accuracy: 6852/8991 (76.2095%)
Done in 26.722285985946655 sec.
Server Epoch:41 choose agents : [51, 28, 20, 95, 83, 18, 55, 42, 29, 46].
___Train Local_Simple,  epoch  41, local model 51, internal_epoch   1,  Average loss: 0.0147, Accuracy: 231/259 (89.1892%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.8929, Accuracy: 2907/10000 (29.0700%), Attack Success Rate:3/10000(0.030)
___Train Local_Simple,  epoch  41, local model 28, internal_epoch   1,  Average loss: 0.0237, Accuracy: 193/237 (81.4346%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.9877, Accuracy: 1681/10000 (16.8100%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch  41, local model 20, internal_epoch   1,  Average loss: 0.0038, Accuracy: 2106/2180 (96.6055%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 3.9082, Accuracy: 2813/10000 (28.1300%), Attack Success Rate:6/10000(0.060)
___Train Local_Simple,  epoch  41, local model 95, internal_epoch   1,  Average loss: 0.0381, Accuracy: 27/29 (93.1034%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.4776, Accuracy: 7018/10000 (70.1800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 83, internal_epoch   1,  Average loss: 0.0147, Accuracy: 641/750 (85.4667%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 3.0195, Accuracy: 1987/10000 (19.8700%), Attack Success Rate:29/10000(0.290)
___Train Local_Simple,  epoch  41, local model 18, internal_epoch   1,  Average loss: 0.0281, Accuracy: 191/264 (72.3485%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 2.1762, Accuracy: 1101/10000 (11.0100%), Attack Success Rate:13/10000(0.130)
___Train Local_Simple,  epoch  41, local model 55, internal_epoch   1,  Average loss: 0.0119, Accuracy: 2414/2803 (86.1220%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 2.9357, Accuracy: 4565/10000 (45.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 42, internal_epoch   1,  Average loss: 0.0438, Accuracy: 51/63 (80.9524%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.5313, Accuracy: 5047/10000 (50.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 29, internal_epoch   1,  Average loss: 0.0110, Accuracy: 1099/1232 (89.2045%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 3.2447, Accuracy: 1415/10000 (14.1500%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch  41, local model 46, internal_epoch   1,  Average loss: 0.0285, Accuracy: 221/310 (71.2903%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.9254, Accuracy: 2818/10000 (28.1800%), Attack Success Rate:6/10000(0.060)
time spent on training: 25.80152201652527
[foolsgold agg] training data poison_ratio: 0.0  data num: [259, 237, 2180, 29, 750, 264, 2803, 63, 1232, 310]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.         1.         0.         0.90917531 1.         1.
 1.         0.3179612  0.3179612  1.        ]
___Test Target_Simple poisoned: False, epoch: 41: Average loss: 1.4567, Accuracy: 7297/10000 (72.9700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 41: Average loss: 1.4389, Accuracy: 6856/8991 (76.2540%)
Done in 33.71341919898987 sec.
Server Epoch:42 choose agents : [87, 73, 89, 48, 81, 10, 92, 62, 26, 29].
___Train Local_Simple,  epoch  42, local model 87, internal_epoch   1,  Average loss: 0.0340, Accuracy: 31/33 (93.9394%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.4535, Accuracy: 7208/10000 (72.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 73, internal_epoch   1,  Average loss: 0.0098, Accuracy: 1058/1205 (87.8008%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 4.1400, Accuracy: 1735/10000 (17.3500%), Attack Success Rate:30/10000(0.300)
___Train Local_Simple,  epoch  42, local model 89, internal_epoch   1,  Average loss: 0.0425, Accuracy: 44/69 (63.7681%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.4484, Accuracy: 7423/10000 (74.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 48, internal_epoch   1,  Average loss: 0.0333, Accuracy: 104/128 (81.2500%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.4920, Accuracy: 6034/10000 (60.3400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 81, internal_epoch   1,  Average loss: 0.0438, Accuracy: 58/68 (85.2941%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.4475, Accuracy: 7258/10000 (72.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 10, internal_epoch   1,  Average loss: 0.0150, Accuracy: 598/688 (86.9186%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 3.7020, Accuracy: 1917/10000 (19.1700%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch  42, local model 92, internal_epoch   1,  Average loss: 0.0301, Accuracy: 177/202 (87.6238%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 2.0231, Accuracy: 1905/10000 (19.0500%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch  42, local model 62, internal_epoch   1,  Average loss: 0.7382, Accuracy: 1/2 (50.0000%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.4563, Accuracy: 7161/10000 (71.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 26, internal_epoch   1,  Average loss: 0.0099, Accuracy: 1166/1311 (88.9397%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 4.8285, Accuracy: 1979/10000 (19.7900%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch  42, local model 29, internal_epoch   1,  Average loss: 0.0108, Accuracy: 1088/1232 (88.3117%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 3.2325, Accuracy: 1464/10000 (14.6400%), Attack Success Rate:22/10000(0.220)
time spent on training: 20.889677047729492
[foolsgold agg] training data poison_ratio: 0.0  data num: [33, 1205, 69, 128, 68, 688, 202, 2, 1311, 1232]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.91557317 0.36038577 0.98219959 0.         1.
 0.         0.36038577 1.         0.88432688]
___Test Target_Simple poisoned: False, epoch: 42: Average loss: 1.4450, Accuracy: 7324/10000 (73.2400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 42: Average loss: 1.4236, Accuracy: 7016/8991 (78.0336%)
Done in 29.026220560073853 sec.
Server Epoch:43 choose agents : [38, 78, 26, 18, 72, 75, 93, 39, 44, 90].
___Train Local_Simple,  epoch  43, local model 38, internal_epoch   1,  Average loss: 0.0208, Accuracy: 176/179 (98.3240%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.5396, Accuracy: 4663/10000 (46.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 78, internal_epoch   1,  Average loss: 0.0107, Accuracy: 2043/2324 (87.9088%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 2.5051, Accuracy: 4153/10000 (41.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 26, internal_epoch   1,  Average loss: 0.0098, Accuracy: 1177/1311 (89.7788%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 4.7813, Accuracy: 1987/10000 (19.8700%), Attack Success Rate:33/10000(0.330)
___Train Local_Simple,  epoch  43, local model 18, internal_epoch   1,  Average loss: 0.0267, Accuracy: 202/264 (76.5152%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 2.1322, Accuracy: 1228/10000 (12.2800%), Attack Success Rate:17/10000(0.170)
___Train Local_Simple,  epoch  43, local model 72, internal_epoch   1,  Average loss: 0.1320, Accuracy: 8/10 (80.0000%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.4420, Accuracy: 7209/10000 (72.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 75, internal_epoch   1,  Average loss: 0.0106, Accuracy: 469/497 (94.3662%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 4.3171, Accuracy: 1012/10000 (10.1200%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch  43, local model 93, internal_epoch   1,  Average loss: 0.0466, Accuracy: 26/30 (86.6667%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.4415, Accuracy: 7172/10000 (71.7200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 39, internal_epoch   1,  Average loss: 0.0084, Accuracy: 1158/1259 (91.9778%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 3.4398, Accuracy: 1876/10000 (18.7600%), Attack Success Rate:24/10000(0.240)
___Train Local_Simple,  epoch  43, local model 44, internal_epoch   1,  Average loss: 0.0358, Accuracy: 30/47 (63.8298%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.4421, Accuracy: 7379/10000 (73.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 90, internal_epoch   1,  Average loss: 0.0103, Accuracy: 677/768 (88.1510%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 3.7426, Accuracy: 1551/10000 (15.5100%), Attack Success Rate:27/10000(0.270)
time spent on training: 23.555216073989868
[foolsgold agg] training data poison_ratio: 0.0  data num: [179, 2324, 1311, 264, 10, 497, 30, 1259, 47, 768]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.68237152 0.68237152 0.         1.         0.         1.
 0.         1.         0.         0.71980067]
___Test Target_Simple poisoned: False, epoch: 43: Average loss: 1.4379, Accuracy: 7040/10000 (70.4000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 43: Average loss: 1.4125, Accuracy: 6833/8991 (75.9982%)
Done in 31.70901656150818 sec.
Server Epoch:44 choose agents : [31, 1, 38, 9, 6, 19, 65, 66, 73, 15].
___Train Local_Simple,  epoch  44, local model 31, internal_epoch   1,  Average loss: 0.0131, Accuracy: 1535/1839 (83.4693%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 3.2196, Accuracy: 2797/10000 (27.9700%), Attack Success Rate:8/10000(0.080)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 1, internal_epoch   1,  Average loss: 0.0352, Accuracy: 62/84 (73.8095%), train_poison_data_count: 84
Global model norm: 2.0959760305111543.
Norm before scaling: 2.10577990439108. Distance: 0.08046655246826483
Total norm for 1 adversaries is: 2.10577990439108. distance: 0.08046655246826483
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.4142, Accuracy: 6610/8991 (73.5180%)
___Train Local_Simple,  epoch  44, local model 38, internal_epoch   1,  Average loss: 0.0200, Accuracy: 177/179 (98.8827%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.5402, Accuracy: 4626/10000 (46.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 9, internal_epoch   1,  Average loss: 0.0294, Accuracy: 190/263 (72.2433%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 2.0983, Accuracy: 2218/10000 (22.1800%), Attack Success Rate:15/10000(0.150)
___Train Local_Simple,  epoch  44, local model 6, internal_epoch   1,  Average loss: 0.0113, Accuracy: 1711/1982 (86.3269%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 3.7772, Accuracy: 2502/10000 (25.0200%), Attack Success Rate:13/10000(0.130)
___Train Local_Simple,  epoch  44, local model 19, internal_epoch   1,  Average loss: 0.0254, Accuracy: 191/244 (78.2787%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.7879, Accuracy: 2455/10000 (24.5500%), Attack Success Rate:13/10000(0.130)
___Train Local_Simple,  epoch  44, local model 65, internal_epoch   1,  Average loss: 0.0105, Accuracy: 1164/1326 (87.7828%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 3.3013, Accuracy: 2466/10000 (24.6600%), Attack Success Rate:20/10000(0.200)
___Train Local_Simple,  epoch  44, local model 66, internal_epoch   1,  Average loss: 0.0117, Accuracy: 612/681 (89.8678%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 3.6040, Accuracy: 1893/10000 (18.9300%), Attack Success Rate:33/10000(0.330)
___Train Local_Simple,  epoch  44, local model 73, internal_epoch   1,  Average loss: 0.0090, Accuracy: 1075/1205 (89.2116%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 4.1169, Accuracy: 1734/10000 (17.3400%), Attack Success Rate:25/10000(0.250)
___Train Local_Simple,  epoch  44, local model 15, internal_epoch   1,  Average loss: 0.0167, Accuracy: 836/1033 (80.9293%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 3.1394, Accuracy: 3503/10000 (35.0300%), Attack Success Rate:3/10000(0.030)
time spent on training: 29.049081802368164
[foolsgold agg] training data poison_ratio: 0.009506564056133997  data num: [1839, 84, 179, 263, 1982, 244, 1326, 681, 1205, 1033]
[foolsgold agg] considering poison per batch poison_fraction: 0.009506564056133997
[foolsgold agg] wv: [1.        1.        1.        1.        1.        0.3975774 0.
 1.        1.        0.       ]
___Test Target_Simple poisoned: False, epoch: 44: Average loss: 1.4197, Accuracy: 7203/10000 (72.0300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 44: Average loss: 1.4033, Accuracy: 6851/8991 (76.1984%)
Done in 37.13736271858215 sec.
Server Epoch:45 choose agents : [53, 75, 1, 37, 94, 51, 29, 39, 60, 5].
___Train Local_Simple,  epoch  45, local model 53, internal_epoch   1,  Average loss: 0.0161, Accuracy: 423/456 (92.7632%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 2.3203, Accuracy: 2227/10000 (22.2700%), Attack Success Rate:30/10000(0.300)
___Train Local_Simple,  epoch  45, local model 75, internal_epoch   1,  Average loss: 0.0104, Accuracy: 465/497 (93.5614%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 4.2171, Accuracy: 1033/10000 (10.3300%), Attack Success Rate:11/10000(0.110)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 1, internal_epoch   1,  Average loss: 0.0341, Accuracy: 65/84 (77.3810%), train_poison_data_count: 84
Global model norm: 2.1104345980526076.
Norm before scaling: 2.1204816240568194. Distance: 0.07754392896894297
Total norm for 2 adversaries is: 2.1204816240568194. distance: 0.07754392896894297
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 1.4082, Accuracy: 6521/8991 (72.5281%)
___Train Local_Simple,  epoch  45, local model 37, internal_epoch   1,  Average loss: 0.0153, Accuracy: 511/578 (88.4083%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 2.4427, Accuracy: 2732/10000 (27.3200%), Attack Success Rate:7/10000(0.070)
___Train Local_Simple,  epoch  45, local model 94, internal_epoch   1,  Average loss: 0.0104, Accuracy: 574/607 (94.5634%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 2.9828, Accuracy: 1708/10000 (17.0800%), Attack Success Rate:28/10000(0.280)
___Train Local_Simple,  epoch  45, local model 51, internal_epoch   1,  Average loss: 0.0153, Accuracy: 231/259 (89.1892%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.7820, Accuracy: 3379/10000 (33.7900%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  45, local model 29, internal_epoch   1,  Average loss: 0.0104, Accuracy: 1095/1232 (88.8799%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 3.0562, Accuracy: 1533/10000 (15.3300%), Attack Success Rate:33/10000(0.330)
___Train Local_Simple,  epoch  45, local model 39, internal_epoch   1,  Average loss: 0.0087, Accuracy: 1162/1259 (92.2955%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 3.3224, Accuracy: 1879/10000 (18.7900%), Attack Success Rate:26/10000(0.260)
___Train Local_Simple,  epoch  45, local model 60, internal_epoch   1,  Average loss: 0.0171, Accuracy: 369/399 (92.4812%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 2.5829, Accuracy: 1880/10000 (18.8000%), Attack Success Rate:33/10000(0.330)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 5, internal_epoch   1,  Average loss: 0.0114, Accuracy: 963/1046 (92.0650%), train_poison_data_count: 1046
Global model norm: 2.1104345980526076.
Norm before scaling: 2.5577370643560804. Distance: 1.2914139079878244
Total norm for 2 adversaries is: 2.5577370643560804. distance: 1.2914139079878244
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 5.6275, Accuracy: 892/8991 (9.9210%)
time spent on training: 23.99215292930603
[foolsgold agg] training data poison_ratio: 0.17609474832476235  data num: [456, 497, 84, 578, 607, 259, 1232, 1259, 399, 1046]
[foolsgold agg] considering poison per batch poison_fraction: 0.17609474832476235
[foolsgold agg] wv: [0.         0.99923248 0.         0.         0.         1.
 0.99923248 0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 45: Average loss: 1.4189, Accuracy: 6983/10000 (69.8300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 45: Average loss: 1.3973, Accuracy: 6781/8991 (75.4199%)
Done in 31.992411613464355 sec.
Server Epoch:46 choose agents : [75, 78, 14, 39, 7, 10, 40, 2, 68, 54].
___Train Local_Simple,  epoch  46, local model 75, internal_epoch   1,  Average loss: 0.0100, Accuracy: 468/497 (94.1650%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 4.0655, Accuracy: 1061/10000 (10.6100%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch  46, local model 78, internal_epoch   1,  Average loss: 0.0104, Accuracy: 2046/2324 (88.0379%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 2.4339, Accuracy: 4226/10000 (42.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 14, internal_epoch   1,  Average loss: 0.0255, Accuracy: 47/48 (97.9167%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.4169, Accuracy: 6863/10000 (68.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 39, internal_epoch   1,  Average loss: 0.0075, Accuracy: 1161/1259 (92.2160%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 3.3582, Accuracy: 1869/10000 (18.6900%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch  46, local model 7, internal_epoch   1,  Average loss: 0.0310, Accuracy: 75/86 (87.2093%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.4287, Accuracy: 6311/10000 (63.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 10, internal_epoch   1,  Average loss: 0.0144, Accuracy: 596/688 (86.6279%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 3.5397, Accuracy: 1992/10000 (19.9200%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch  46, local model 40, internal_epoch   1,  Average loss: 0.0209, Accuracy: 333/436 (76.3761%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 2.4931, Accuracy: 1823/10000 (18.2300%), Attack Success Rate:23/10000(0.230)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 2, internal_epoch   1,  Average loss: 0.0362, Accuracy: 82/119 (68.9076%), train_poison_data_count: 119
Global model norm: 2.1156372926430977.
Norm before scaling: 2.1375358176994936. Distance: 0.20066135403923677
Total norm for 1 adversaries is: 2.1375358176994936. distance: 0.20066135403923677
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 1.4161, Accuracy: 5552/8991 (61.7506%)
___Train Local_Simple,  epoch  46, local model 68, internal_epoch   1,  Average loss: 0.0094, Accuracy: 1414/1591 (88.8749%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 3.3989, Accuracy: 2447/10000 (24.4700%), Attack Success Rate:18/10000(0.180)
___Train Local_Simple,  epoch  46, local model 54, internal_epoch   1,  Average loss: 0.0343, Accuracy: 61/91 (67.0330%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.4090, Accuracy: 7162/10000 (71.6200%), Attack Success Rate:0/10000(0.000)
time spent on training: 26.006707906723022
[foolsgold agg] training data poison_ratio: 0.016669001260680768  data num: [497, 2324, 48, 1259, 86, 688, 436, 119, 1591, 91]
[foolsgold agg] considering poison per batch poison_fraction: 0.016669001260680768
[foolsgold agg] wv: [0.85338594 1.         1.         1.         1.         0.85338594
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 46: Average loss: 1.3968, Accuracy: 6905/10000 (69.0500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 46: Average loss: 1.3765, Accuracy: 6685/8991 (74.3521%)
Done in 34.26434135437012 sec.
Server Epoch:47 choose agents : [94, 48, 82, 25, 26, 16, 7, 90, 68, 43].
___Train Local_Simple,  epoch  47, local model 94, internal_epoch   1,  Average loss: 0.0105, Accuracy: 577/607 (95.0577%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 2.9711, Accuracy: 1805/10000 (18.0500%), Attack Success Rate:22/10000(0.220)
___Train Local_Simple,  epoch  47, local model 48, internal_epoch   1,  Average loss: 0.0314, Accuracy: 103/128 (80.4688%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.4360, Accuracy: 5939/10000 (59.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 82, internal_epoch   1,  Average loss: 0.0333, Accuracy: 79/114 (69.2982%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.4137, Accuracy: 6337/10000 (63.3700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 25, internal_epoch   1,  Average loss: 0.0353, Accuracy: 85/128 (66.4062%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.3677, Accuracy: 7274/10000 (72.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 26, internal_epoch   1,  Average loss: 0.0090, Accuracy: 1192/1311 (90.9230%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 4.7190, Accuracy: 1984/10000 (19.8400%), Attack Success Rate:34/10000(0.340)
___Train Local_Simple,  epoch  47, local model 16, internal_epoch   1,  Average loss: 0.0134, Accuracy: 817/994 (82.1932%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 2.2080, Accuracy: 3617/10000 (36.1700%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  47, local model 7, internal_epoch   1,  Average loss: 0.0301, Accuracy: 72/86 (83.7209%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.4101, Accuracy: 6248/10000 (62.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 90, internal_epoch   1,  Average loss: 0.0103, Accuracy: 677/768 (88.1510%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 3.7300, Accuracy: 1496/10000 (14.9600%), Attack Success Rate:31/10000(0.310)
___Train Local_Simple,  epoch  47, local model 68, internal_epoch   1,  Average loss: 0.0086, Accuracy: 1422/1591 (89.3777%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 3.4743, Accuracy: 2391/10000 (23.9100%), Attack Success Rate:23/10000(0.230)
___Train Local_Simple,  epoch  47, local model 43, internal_epoch   1,  Average loss: 0.1966, Accuracy: 5/6 (83.3333%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.3977, Accuracy: 6891/10000 (68.9100%), Attack Success Rate:0/10000(0.000)
time spent on training: 24.75960946083069
[foolsgold agg] training data poison_ratio: 0.0  data num: [607, 128, 114, 128, 1311, 994, 86, 768, 1591, 6]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         1.         1.         1.         1.         1.
 0.44128303 0.44128303 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 47: Average loss: 1.3772, Accuracy: 6988/10000 (69.8800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 47: Average loss: 1.3581, Accuracy: 6716/8991 (74.6969%)
Done in 33.88797879219055 sec.
Server Epoch:48 choose agents : [74, 27, 75, 19, 58, 83, 91, 96, 17, 57].
___Train Local_Simple,  epoch  48, local model 74, internal_epoch   1,  Average loss: 0.0166, Accuracy: 567/762 (74.4094%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 2.6363, Accuracy: 3327/10000 (33.2700%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch  48, local model 27, internal_epoch   1,  Average loss: 0.0117, Accuracy: 606/678 (89.3805%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 3.8274, Accuracy: 1013/10000 (10.1300%), Attack Success Rate:8/10000(0.080)
___Train Local_Simple,  epoch  48, local model 75, internal_epoch   1,  Average loss: 0.0094, Accuracy: 477/497 (95.9759%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 3.9441, Accuracy: 1146/10000 (11.4600%), Attack Success Rate:12/10000(0.120)
___Train Local_Simple,  epoch  48, local model 19, internal_epoch   1,  Average loss: 0.0246, Accuracy: 192/244 (78.6885%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.7078, Accuracy: 2926/10000 (29.2600%), Attack Success Rate:5/10000(0.050)
___Train Local_Simple,  epoch  48, local model 58, internal_epoch   1,  Average loss: 0.0159, Accuracy: 821/1015 (80.8867%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 2.8564, Accuracy: 2695/10000 (26.9500%), Attack Success Rate:13/10000(0.130)
___Train Local_Simple,  epoch  48, local model 83, internal_epoch   1,  Average loss: 0.0145, Accuracy: 636/750 (84.8000%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 2.7477, Accuracy: 2025/10000 (20.2500%), Attack Success Rate:29/10000(0.290)
___Train Local_Simple,  epoch  48, local model 91, internal_epoch   1,  Average loss: 0.0249, Accuracy: 158/182 (86.8132%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.4861, Accuracy: 5132/10000 (51.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 96, internal_epoch   1,  Average loss: 0.0175, Accuracy: 431/505 (85.3465%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 2.1805, Accuracy: 3275/10000 (32.7500%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  48, local model 17, internal_epoch   1,  Average loss: 0.0238, Accuracy: 86/94 (91.4894%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.4290, Accuracy: 5532/10000 (55.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 57, internal_epoch   1,  Average loss: 0.0115, Accuracy: 1252/1437 (87.1260%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 3.6145, Accuracy: 2829/10000 (28.2900%), Attack Success Rate:4/10000(0.040)
time spent on training: 27.722470998764038
[foolsgold agg] training data poison_ratio: 0.0  data num: [762, 678, 497, 244, 1015, 750, 182, 505, 94, 1437]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [1.         0.51466627 0.         1.         0.51466627 1.
 0.65283479 1.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 48: Average loss: 1.3493, Accuracy: 7293/10000 (72.9300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 48: Average loss: 1.3353, Accuracy: 6881/8991 (76.5321%)
Done in 36.736897468566895 sec.
Server Epoch:49 choose agents : [77, 10, 78, 72, 91, 13, 98, 21, 82, 74].
___Train Local_Simple,  epoch  49, local model 77, internal_epoch   1,  Average loss: 0.0102, Accuracy: 1337/1544 (86.5933%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 2.7781, Accuracy: 3488/10000 (34.8800%), Attack Success Rate:2/10000(0.020)
___Train Local_Simple,  epoch  49, local model 10, internal_epoch   1,  Average loss: 0.0140, Accuracy: 603/688 (87.6453%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 3.4229, Accuracy: 2028/10000 (20.2800%), Attack Success Rate:22/10000(0.220)
___Train Local_Simple,  epoch  49, local model 78, internal_epoch   1,  Average loss: 0.0103, Accuracy: 2038/2324 (87.6936%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 2.4212, Accuracy: 4199/10000 (41.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 72, internal_epoch   1,  Average loss: 0.1202, Accuracy: 8/10 (80.0000%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.3478, Accuracy: 7204/10000 (72.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 91, internal_epoch   1,  Average loss: 0.0237, Accuracy: 162/182 (89.0110%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.4630, Accuracy: 5222/10000 (52.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 13, internal_epoch   1,  Average loss: 0.3364, Accuracy: 2/5 (40.0000%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.3466, Accuracy: 7466/10000 (74.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 98, internal_epoch   1,  Average loss: 0.1469, Accuracy: 6/6 (100.0000%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.3495, Accuracy: 7107/10000 (71.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 21, internal_epoch   1,  Average loss: 0.0070, Accuracy: 1922/2072 (92.7606%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 3.8031, Accuracy: 2711/10000 (27.1100%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch  49, local model 82, internal_epoch   1,  Average loss: 0.0330, Accuracy: 87/114 (76.3158%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.3748, Accuracy: 6427/10000 (64.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 74, internal_epoch   1,  Average loss: 0.0156, Accuracy: 616/762 (80.8399%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 2.7423, Accuracy: 3137/10000 (31.3700%), Attack Success Rate:1/10000(0.010)
time spent on training: 31.64707374572754
[foolsgold agg] training data poison_ratio: 0.0  data num: [1544, 688, 2324, 10, 182, 5, 6, 2072, 114, 762]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0.58672816 1.         0.89132548 0.         1.         0.90279508
 0.         0.0848371  0.0848371  0.61265242]
___Test Target_Simple poisoned: False, epoch: 49: Average loss: 1.3347, Accuracy: 7366/10000 (73.6600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 49: Average loss: 1.3241, Accuracy: 6871/8991 (76.4209%)
Done in 40.654186725616455 sec.
Server Epoch:50 choose agents : [75, 86, 51, 0, 31, 32, 67, 17, 29, 7].
___Train Local_Simple,  epoch  50, local model 75, internal_epoch   1,  Average loss: 0.0100, Accuracy: 471/497 (94.7686%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 3.9819, Accuracy: 1106/10000 (11.0600%), Attack Success Rate:10/10000(0.100)
___Train Local_Simple,  epoch  50, local model 86, internal_epoch   1,  Average loss: 0.0433, Accuracy: 24/34 (70.5882%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.3342, Accuracy: 7254/10000 (72.5400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 51, internal_epoch   1,  Average loss: 0.0130, Accuracy: 239/259 (92.2780%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.6539, Accuracy: 3956/10000 (39.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 0, internal_epoch   1,  Average loss: 0.0151, Accuracy: 282/300 (94.0000%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.5855, Accuracy: 4111/10000 (41.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 31, internal_epoch   1,  Average loss: 0.0121, Accuracy: 1559/1839 (84.7743%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 3.0476, Accuracy: 2828/10000 (28.2800%), Attack Success Rate:4/10000(0.040)
___Train Local_Simple,  epoch  50, local model 32, internal_epoch   1,  Average loss: 0.0631, Accuracy: 7/28 (25.0000%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.3261, Accuracy: 7799/10000 (77.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 67, internal_epoch   1,  Average loss: 0.0197, Accuracy: 450/568 (79.2254%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 2.4937, Accuracy: 2640/10000 (26.4000%), Attack Success Rate:14/10000(0.140)
___Train Local_Simple,  epoch  50, local model 17, internal_epoch   1,  Average loss: 0.0244, Accuracy: 86/94 (91.4894%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.3815, Accuracy: 5936/10000 (59.3600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 29, internal_epoch   1,  Average loss: 0.0100, Accuracy: 1099/1232 (89.2045%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 2.9985, Accuracy: 1585/10000 (15.8500%), Attack Success Rate:24/10000(0.240)
___Train Local_Simple,  epoch  50, local model 7, internal_epoch   1,  Average loss: 0.0281, Accuracy: 76/86 (88.3721%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 1.3518, Accuracy: 6652/10000 (66.5200%), Attack Success Rate:0/10000(0.000)
time spent on training: 25.835306644439697
[foolsgold agg] training data poison_ratio: 0.0  data num: [497, 34, 259, 300, 1839, 28, 568, 94, 1232, 86]
[foolsgold agg] considering poison per batch poison_fraction: 0.0
[foolsgold agg] wv: [0. 1. 1. 1. 1. 0. 0. 0. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 50: Average loss: 1.3234, Accuracy: 7335/10000 (73.3500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 50: Average loss: 1.3141, Accuracy: 6823/8991 (75.8870%)
Done in 34.783082485198975 sec.
Saving all the graphs.
This run has a label: Mar.26_19.07.39. Visdom environment: mnist_DBA
