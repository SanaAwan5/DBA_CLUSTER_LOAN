current path: saved_models/mnist_pretrain/model_mnist_Mar.26_22.54.30
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
create model done
Poisoned following participants: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50]
We use following environment for graphs:  mnist_DBA
Server Epoch:1 choose agents : [23, 72, 61, 11, 71, 42, 45, 37, 21, 35].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 23, internal_epoch   1,  Average loss: 0.0412, Accuracy: 191/595 (32.1008%), train_poison_data_count: 595
Global model norm: 1.828686293811075.
Norm before scaling: 1.9354751835392237. Distance: 0.6408176132559208
Total norm for 7 adversaries is: 1.9354751835392237. distance: 0.6408176132559208
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7477, Accuracy: 3704/8991 (41.1968%)
___Train Local_Simple,  epoch   1, local model 72, internal_epoch   1,  Average loss: 0.0429, Accuracy: 208/596 (34.8993%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.7994, Accuracy: 6812/10000 (68.1200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   1, local model 61, internal_epoch   1,  Average loss: 0.0434, Accuracy: 189/589 (32.0883%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.7884, Accuracy: 6738/10000 (67.3800%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 11, internal_epoch   1,  Average loss: 0.0419, Accuracy: 179/589 (30.3905%), train_poison_data_count: 589
Global model norm: 1.828686293811075.
Norm before scaling: 1.928093070039413. Distance: 0.6213488264938892
Total norm for 7 adversaries is: 1.928093070039413. distance: 0.6213488264938892
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7627, Accuracy: 3430/8991 (38.1493%)
___Train Local_Simple,  epoch   1, local model 71, internal_epoch   1,  Average loss: 0.0451, Accuracy: 188/608 (30.9211%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.7403, Accuracy: 6762/10000 (67.6200%), Attack Success Rate:0/10000(0.000)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 42, internal_epoch   1,  Average loss: 0.0429, Accuracy: 171/609 (28.0788%), train_poison_data_count: 609
Global model norm: 1.828686293811075.
Norm before scaling: 1.964010073160106. Distance: 0.7192834864522499
Total norm for 7 adversaries is: 1.964010073160106. distance: 0.7192834864522499
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.6538, Accuracy: 4673/8991 (51.9742%)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 45, internal_epoch   1,  Average loss: 0.0416, Accuracy: 187/587 (31.8569%), train_poison_data_count: 587
Global model norm: 1.828686293811075.
Norm before scaling: 1.942473396502038. Distance: 0.6637356795366381
Total norm for 7 adversaries is: 1.942473396502038. distance: 0.6637356795366381
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7400, Accuracy: 3195/8991 (35.5355%)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 37, internal_epoch   1,  Average loss: 0.0412, Accuracy: 202/594 (34.0067%), train_poison_data_count: 594
Global model norm: 1.828686293811075.
Norm before scaling: 1.9381407631851515. Distance: 0.6531016350176205
Total norm for 7 adversaries is: 1.9381407631851515. distance: 0.6531016350176205
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7124, Accuracy: 3814/8991 (42.4202%)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 21, internal_epoch   1,  Average loss: 0.0416, Accuracy: 186/592 (31.4189%), train_poison_data_count: 592
Global model norm: 1.828686293811075.
Norm before scaling: 1.9308831221354792. Distance: 0.6390004377378538
Total norm for 7 adversaries is: 1.9308831221354792. distance: 0.6390004377378538
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7193, Accuracy: 4148/8991 (46.1350%)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 35, internal_epoch   1,  Average loss: 0.0420, Accuracy: 156/589 (26.4856%), train_poison_data_count: 589
Global model norm: 1.828686293811075.
Norm before scaling: 1.9295963157700877. Distance: 0.6274359676852697
Total norm for 7 adversaries is: 1.9295963157700877. distance: 0.6274359676852697
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7336, Accuracy: 3913/8991 (43.5213%)
time spent on training: 18.98386573791504
[foolsgold agg] training data poison_ratio: 0.6985541358439812  data num: [595, 596, 589, 589, 608, 609, 587, 594, 592, 589]
[foolsgold agg] considering poison per batch poison_fraction: 0.6985541358439812
[foolsgold agg] wv: [0.89171801 1.         1.         0.5225698  1.         1.
 0.88584373 0.79784212 0.5225698  0.70931349]
___Test Target_Simple poisoned: False, epoch: 1: Average loss: 2.1911, Accuracy: 2664/10000 (26.6400%), Attack Success Rate:11/10000(0.110)
___Test Target_Simple poisoned: True, epoch: 1: Average loss: 2.1741, Accuracy: 2502/8991 (27.8278%)
Done in 75.21415710449219 sec.
Server Epoch:2 choose agents : [11, 59, 62, 28, 65, 22, 78, 58, 41, 81].
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 11, internal_epoch   1,  Average loss: 0.0401, Accuracy: 234/589 (39.7284%), train_poison_data_count: 589
Global model norm: 1.8316624642353716.
Norm before scaling: 1.9508685085227493. Distance: 0.5910476121232539
Total norm for 4 adversaries is: 1.9508685085227493. distance: 0.5910476121232539
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.6770, Accuracy: 4382/8991 (48.7376%)
___Train Local_Simple,  epoch   2, local model 59, internal_epoch   1,  Average loss: 0.0406, Accuracy: 288/598 (48.1605%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7140, Accuracy: 7104/10000 (71.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 62, internal_epoch   1,  Average loss: 0.0416, Accuracy: 253/589 (42.9542%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7232, Accuracy: 6831/10000 (68.3100%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 28, internal_epoch   1,  Average loss: 0.0405, Accuracy: 227/584 (38.8699%), train_poison_data_count: 584
Global model norm: 1.8316624642353716.
Norm before scaling: 1.9525633347675784. Distance: 0.6036980856221992
Total norm for 4 adversaries is: 1.9525633347675784. distance: 0.6036980856221992
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.6940, Accuracy: 3836/8991 (42.6649%)
___Train Local_Simple,  epoch   2, local model 65, internal_epoch   1,  Average loss: 0.0419, Accuracy: 229/586 (39.0785%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7240, Accuracy: 7271/10000 (72.7100%), Attack Success Rate:0/10000(0.000)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 22, internal_epoch   1,  Average loss: 0.0396, Accuracy: 241/591 (40.7783%), train_poison_data_count: 591
Global model norm: 1.8316624642353716.
Norm before scaling: 1.9560481055649372. Distance: 0.6060968648068824
Total norm for 4 adversaries is: 1.9560481055649372. distance: 0.6060968648068824
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.6419, Accuracy: 4968/8991 (55.2553%)
___Train Local_Simple,  epoch   2, local model 78, internal_epoch   1,  Average loss: 0.0412, Accuracy: 240/600 (40.0000%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7332, Accuracy: 6424/10000 (64.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 58, internal_epoch   1,  Average loss: 0.0419, Accuracy: 258/586 (44.0273%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7333, Accuracy: 7101/10000 (71.0100%), Attack Success Rate:0/10000(0.000)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 41, internal_epoch   1,  Average loss: 0.0405, Accuracy: 256/607 (42.1746%), train_poison_data_count: 607
Global model norm: 1.8316624642353716.
Norm before scaling: 1.986048195767939. Distance: 0.6851962026780902
Total norm for 4 adversaries is: 1.986048195767939. distance: 0.6851962026780902
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.5974, Accuracy: 4774/8991 (53.0975%)
___Train Local_Simple,  epoch   2, local model 81, internal_epoch   1,  Average loss: 0.0413, Accuracy: 265/591 (44.8393%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7177, Accuracy: 6822/10000 (68.2200%), Attack Success Rate:0/10000(0.000)
time spent on training: 17.52935004234314
[foolsgold agg] training data poison_ratio: 0.4004391150143557  data num: [589, 598, 589, 584, 586, 591, 600, 586, 607, 591]
[foolsgold agg] considering poison per batch poison_fraction: 0.40043911501435564
[foolsgold agg] wv: [1.       1.       1.       0.903832 1.       0.903832 1.       1.
 1.       1.      ]
___Test Target_Simple poisoned: False, epoch: 2: Average loss: 2.0871, Accuracy: 4404/10000 (44.0400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 2: Average loss: 2.0579, Accuracy: 4313/8991 (47.9702%)
Done in 73.19859766960144 sec.
Server Epoch:3 choose agents : [54, 55, 61, 73, 18, 42, 87, 41, 50, 28].
___Train Local_Simple,  epoch   3, local model 54, internal_epoch   1,  Average loss: 0.0406, Accuracy: 302/577 (52.3397%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6611, Accuracy: 7188/10000 (71.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 55, internal_epoch   1,  Average loss: 0.0395, Accuracy: 330/592 (55.7432%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6576, Accuracy: 7253/10000 (72.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 61, internal_epoch   1,  Average loss: 0.0400, Accuracy: 319/589 (54.1596%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6574, Accuracy: 7407/10000 (74.0700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 73, internal_epoch   1,  Average loss: 0.0390, Accuracy: 338/600 (56.3333%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6588, Accuracy: 7144/10000 (71.4400%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 18, internal_epoch   1,  Average loss: 0.0384, Accuracy: 298/583 (51.1149%), train_poison_data_count: 583
Global model norm: 1.840676671907413.
Norm before scaling: 1.9818932340487498. Distance: 0.5767810769044429
Total norm for 5 adversaries is: 1.9818932340487498. distance: 0.5767810769044429
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.5729, Accuracy: 5203/8991 (57.8690%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 42, internal_epoch   1,  Average loss: 0.0389, Accuracy: 319/609 (52.3810%), train_poison_data_count: 609
Global model norm: 1.840676671907413.
Norm before scaling: 2.0179521005425842. Distance: 0.6591684976263776
Total norm for 5 adversaries is: 2.0179521005425842. distance: 0.6591684976263776
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.5225, Accuracy: 5252/8991 (58.4140%)
___Train Local_Simple,  epoch   3, local model 87, internal_epoch   1,  Average loss: 0.0393, Accuracy: 331/591 (56.0068%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.6455, Accuracy: 6870/10000 (68.7000%), Attack Success Rate:0/10000(0.000)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 41, internal_epoch   1,  Average loss: 0.0393, Accuracy: 327/607 (53.8715%), train_poison_data_count: 607
Global model norm: 1.840676671907413.
Norm before scaling: 2.016652754533349. Distance: 0.6597589956597586
Total norm for 5 adversaries is: 2.016652754533349. distance: 0.6597589956597586
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.5347, Accuracy: 4897/8991 (54.4656%)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 50, internal_epoch   1,  Average loss: 0.0385, Accuracy: 264/582 (45.3608%), train_poison_data_count: 582
Global model norm: 1.840676671907413.
Norm before scaling: 1.9830826282993963. Distance: 0.5729083985396743
Total norm for 5 adversaries is: 1.9830826282993963. distance: 0.5729083985396743
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.5872, Accuracy: 4974/8991 (55.3220%)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 28, internal_epoch   1,  Average loss: 0.0386, Accuracy: 301/584 (51.5411%), train_poison_data_count: 584
Global model norm: 1.840676671907413.
Norm before scaling: 1.977791867521487. Distance: 0.5692091419499145
Total norm for 5 adversaries is: 1.977791867521487. distance: 0.5692091419499145
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.6047, Accuracy: 4663/8991 (51.8630%)
time spent on training: 18.372870922088623
[foolsgold agg] training data poison_ratio: 0.5013527223537368  data num: [577, 592, 589, 600, 583, 609, 591, 607, 582, 584]
[foolsgold agg] considering poison per batch poison_fraction: 0.5013527223537368
[foolsgold agg] wv: [1.         0.52666134 1.         1.         0.77687149 0.77687149
 0.52666134 1.         1.         0.79527266]
___Test Target_Simple poisoned: False, epoch: 3: Average loss: 2.0057, Accuracy: 5408/10000 (54.0800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 3: Average loss: 1.9630, Accuracy: 5350/8991 (59.5039%)
Done in 74.45192408561707 sec.
Server Epoch:4 choose agents : [37, 92, 95, 76, 13, 99, 94, 74, 45, 44].
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 37, internal_epoch   1,  Average loss: 0.0358, Accuracy: 377/594 (63.4680%), train_poison_data_count: 594
Global model norm: 1.853059509561075.
Norm before scaling: 2.0158529226679356. Distance: 0.5704161667339771
Total norm for 4 adversaries is: 2.0158529226679356. distance: 0.5704161667339771
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.5186, Accuracy: 5095/8991 (56.6678%)
___Train Local_Simple,  epoch   4, local model 92, internal_epoch   1,  Average loss: 0.0380, Accuracy: 334/535 (62.4299%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.6887, Accuracy: 7221/10000 (72.2100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 95, internal_epoch   1,  Average loss: 0.0377, Accuracy: 311/540 (57.5926%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.6852, Accuracy: 7049/10000 (70.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 76, internal_epoch   1,  Average loss: 0.0382, Accuracy: 359/593 (60.5396%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.6050, Accuracy: 7574/10000 (75.7400%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 13, internal_epoch   1,  Average loss: 0.0381, Accuracy: 339/602 (56.3123%), train_poison_data_count: 602
Global model norm: 1.853059509561075.
Norm before scaling: 2.0372260582369397. Distance: 0.6288979097370113
Total norm for 4 adversaries is: 2.0372260582369397. distance: 0.6288979097370113
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.4745, Accuracy: 5446/8991 (60.5717%)
___Train Local_Simple,  epoch   4, local model 99, internal_epoch   1,  Average loss: 0.0381, Accuracy: 296/407 (72.7273%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.8848, Accuracy: 6135/10000 (61.3500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 94, internal_epoch   1,  Average loss: 0.0376, Accuracy: 339/536 (63.2463%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.6835, Accuracy: 7078/10000 (70.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 74, internal_epoch   1,  Average loss: 0.0384, Accuracy: 362/592 (61.1486%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.5972, Accuracy: 7362/10000 (73.6200%), Attack Success Rate:0/10000(0.000)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 45, internal_epoch   1,  Average loss: 0.0362, Accuracy: 305/587 (51.9591%), train_poison_data_count: 587
Global model norm: 1.853059509561075.
Norm before scaling: 2.017390933958989. Distance: 0.5759976139664901
Total norm for 4 adversaries is: 2.017390933958989. distance: 0.5759976139664901
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.5247, Accuracy: 5104/8991 (56.7679%)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 44, internal_epoch   1,  Average loss: 0.0359, Accuracy: 351/598 (58.6957%), train_poison_data_count: 598
Global model norm: 1.853059509561075.
Norm before scaling: 2.007683538310369. Distance: 0.5553388129737135
Total norm for 4 adversaries is: 2.007683538310369. distance: 0.5553388129737135
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.5460, Accuracy: 4758/8991 (52.9196%)
time spent on training: 17.816875219345093
[foolsgold agg] training data poison_ratio: 0.4263968481375358  data num: [594, 535, 540, 593, 602, 407, 536, 592, 587, 598]
[foolsgold agg] considering poison per batch poison_fraction: 0.4263968481375358
[foolsgold agg] wv: [0. 0. 0. 0. 0. 1. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 4: Average loss: 1.9972, Accuracy: 5549/10000 (55.4900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 4: Average loss: 1.9519, Accuracy: 5488/8991 (61.0388%)
Done in 73.69930648803711 sec.
Server Epoch:5 choose agents : [60, 49, 65, 14, 36, 24, 7, 4, 76, 39].
___Train Local_Simple,  epoch   5, local model 60, internal_epoch   1,  Average loss: 0.0379, Accuracy: 356/595 (59.8319%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.5966, Accuracy: 7644/10000 (76.4400%), Attack Success Rate:0/10000(0.000)
poison local model 49 index 48 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 49, internal_epoch   1,  Average loss: 0.0376, Accuracy: 357/609 (58.6207%), train_poison_data_count: 609
Global model norm: 1.8544203838250048.
Norm before scaling: 2.036577252154138. Distance: 0.6188735626610831
Total norm for 7 adversaries is: 2.036577252154138. distance: 0.6188735626610831
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.5053, Accuracy: 4864/8991 (54.0985%)
___Train Local_Simple,  epoch   5, local model 65, internal_epoch   1,  Average loss: 0.0384, Accuracy: 361/586 (61.6041%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.5903, Accuracy: 7581/10000 (75.8100%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 14, internal_epoch   1,  Average loss: 0.0356, Accuracy: 338/593 (56.9983%), train_poison_data_count: 593
Global model norm: 1.8544203838250048.
Norm before scaling: 2.0190876634072117. Distance: 0.5712228329081275
Total norm for 7 adversaries is: 2.0190876634072117. distance: 0.5712228329081275
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.5223, Accuracy: 5124/8991 (56.9903%)
poison local model 36 index 35 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 36, internal_epoch   1,  Average loss: 0.0354, Accuracy: 338/596 (56.7114%), train_poison_data_count: 596
Global model norm: 1.8544203838250048.
Norm before scaling: 2.015367240097267. Distance: 0.5648876220633438
Total norm for 7 adversaries is: 2.015367240097267. distance: 0.5648876220633438
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.5166, Accuracy: 5423/8991 (60.3159%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 24, internal_epoch   1,  Average loss: 0.0358, Accuracy: 390/596 (65.4362%), train_poison_data_count: 596
Global model norm: 1.8544203838250048.
Norm before scaling: 2.016478010553827. Distance: 0.5639671160499407
Total norm for 7 adversaries is: 2.016478010553827. distance: 0.5639671160499407
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.5177, Accuracy: 5290/8991 (58.8366%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 7, internal_epoch   1,  Average loss: 0.0366, Accuracy: 364/586 (62.1160%), train_poison_data_count: 586
Global model norm: 1.8544203838250048.
Norm before scaling: 2.0082832704796716. Distance: 0.5439252044960686
Total norm for 7 adversaries is: 2.0082832704796716. distance: 0.5439252044960686
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.5244, Accuracy: 5571/8991 (61.9620%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 4, internal_epoch   1,  Average loss: 0.0375, Accuracy: 349/602 (57.9734%), train_poison_data_count: 602
Global model norm: 1.8544203838250048.
Norm before scaling: 2.0432110090289237. Distance: 0.6274343764805613
Total norm for 7 adversaries is: 2.0432110090289237. distance: 0.6274343764805613
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.4794, Accuracy: 5130/8991 (57.0571%)
___Train Local_Simple,  epoch   5, local model 76, internal_epoch   1,  Average loss: 0.0381, Accuracy: 352/593 (59.3592%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.6121, Accuracy: 7467/10000 (74.6700%), Attack Success Rate:0/10000(0.000)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 39, internal_epoch   1,  Average loss: 0.0362, Accuracy: 353/583 (60.5489%), train_poison_data_count: 583
Global model norm: 1.8544203838250048.
Norm before scaling: 2.018007511559713. Distance: 0.5680943031537069
Total norm for 7 adversaries is: 2.018007511559713. distance: 0.5680943031537069
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.5376, Accuracy: 4811/8991 (53.5091%)
time spent on training: 20.382275104522705
[foolsgold agg] training data poison_ratio: 0.7012965145647415  data num: [595, 609, 586, 593, 596, 596, 586, 602, 593, 583]
[foolsgold agg] considering poison per batch poison_fraction: 0.7012965145647415
[foolsgold agg] wv: [0. 0. 0. 0. 0. 0. 0. 1. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 5: Average loss: 1.9882, Accuracy: 5566/10000 (55.6600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 5: Average loss: 1.9393, Accuracy: 5512/8991 (61.3058%)
Done in 76.71856951713562 sec.
Server Epoch:6 choose agents : [26, 29, 4, 41, 99, 67, 91, 76, 8, 25].
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 26, internal_epoch   1,  Average loss: 0.0366, Accuracy: 332/584 (56.8493%), train_poison_data_count: 584
Global model norm: 1.8562969728428418.
Norm before scaling: 2.0143274670093105. Distance: 0.5520551842285002
Total norm for 6 adversaries is: 2.0143274670093105. distance: 0.5520551842285002
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.4977, Accuracy: 5866/8991 (65.2430%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 29, internal_epoch   1,  Average loss: 0.0362, Accuracy: 356/586 (60.7509%), train_poison_data_count: 586
Global model norm: 1.8562969728428418.
Norm before scaling: 2.0159185624552545. Distance: 0.5486205988142706
Total norm for 6 adversaries is: 2.0159185624552545. distance: 0.5486205988142706
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.5275, Accuracy: 5227/8991 (58.1359%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 4, internal_epoch   1,  Average loss: 0.0383, Accuracy: 333/602 (55.3156%), train_poison_data_count: 602
Global model norm: 1.8562969728428418.
Norm before scaling: 2.0453126492074047. Distance: 0.6226149828935399
Total norm for 6 adversaries is: 2.0453126492074047. distance: 0.6226149828935399
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.4527, Accuracy: 6040/8991 (67.1783%)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 41, internal_epoch   1,  Average loss: 0.0370, Accuracy: 372/607 (61.2850%), train_poison_data_count: 607
Global model norm: 1.8562969728428418.
Norm before scaling: 2.048197777496643. Distance: 0.621364678365637
Total norm for 6 adversaries is: 2.048197777496643. distance: 0.621364678365637
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.4631, Accuracy: 5502/8991 (61.1945%)
___Train Local_Simple,  epoch   6, local model 99, internal_epoch   1,  Average loss: 0.0375, Accuracy: 307/407 (75.4300%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.8794, Accuracy: 6092/10000 (60.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 67, internal_epoch   1,  Average loss: 0.0383, Accuracy: 376/584 (64.3836%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.5827, Accuracy: 7629/10000 (76.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 91, internal_epoch   1,  Average loss: 0.0380, Accuracy: 360/584 (61.6438%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.5754, Accuracy: 7447/10000 (74.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 76, internal_epoch   1,  Average loss: 0.0381, Accuracy: 375/593 (63.2378%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.5943, Accuracy: 7332/10000 (73.3200%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 8, internal_epoch   1,  Average loss: 0.0357, Accuracy: 360/593 (60.7083%), train_poison_data_count: 593
Global model norm: 1.8562969728428418.
Norm before scaling: 2.016475882320012. Distance: 0.5544905245636086
Total norm for 6 adversaries is: 2.016475882320012. distance: 0.5544905245636086
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.5012, Accuracy: 5508/8991 (61.2613%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 25, internal_epoch   1,  Average loss: 0.0358, Accuracy: 331/589 (56.1969%), train_poison_data_count: 589
Global model norm: 1.8562969728428418.
Norm before scaling: 2.0170726456805865. Distance: 0.5499826688636789
Total norm for 6 adversaries is: 2.0170726456805865. distance: 0.5499826688636789
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.5063, Accuracy: 5518/8991 (61.3725%)
time spent on training: 19.88690161705017
[foolsgold agg] training data poison_ratio: 0.6215744458020597  data num: [584, 586, 602, 607, 407, 584, 584, 593, 593, 589]
[foolsgold agg] considering poison per batch poison_fraction: 0.6215744458020597
[foolsgold agg] wv: [0.         0.         0.46074923 0.         1.         0.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 6: Average loss: 1.9768, Accuracy: 5658/10000 (56.5800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 6: Average loss: 1.9239, Accuracy: 5607/8991 (62.3624%)
Done in 81.23868346214294 sec.
Server Epoch:7 choose agents : [66, 68, 59, 62, 31, 10, 23, 7, 99, 45].
___Train Local_Simple,  epoch   7, local model 66, internal_epoch   1,  Average loss: 0.0398, Accuracy: 377/602 (62.6246%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.5396, Accuracy: 7110/10000 (71.1000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 68, internal_epoch   1,  Average loss: 0.0377, Accuracy: 359/591 (60.7445%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.5826, Accuracy: 7679/10000 (76.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 59, internal_epoch   1,  Average loss: 0.0369, Accuracy: 366/598 (61.2040%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.5775, Accuracy: 7613/10000 (76.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 62, internal_epoch   1,  Average loss: 0.0377, Accuracy: 365/589 (61.9694%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.5816, Accuracy: 7382/10000 (73.8200%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 31, internal_epoch   1,  Average loss: 0.0352, Accuracy: 358/599 (59.7663%), train_poison_data_count: 599
Global model norm: 1.8587519138636737.
Norm before scaling: 2.020719610206352. Distance: 0.5503159579981264
Total norm for 5 adversaries is: 2.020719610206352. distance: 0.5503159579981264
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.5166, Accuracy: 5239/8991 (58.2694%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 10, internal_epoch   1,  Average loss: 0.0377, Accuracy: 364/606 (60.0660%), train_poison_data_count: 606
Global model norm: 1.8587519138636737.
Norm before scaling: 2.0413223547180346. Distance: 0.5971970133919461
Total norm for 5 adversaries is: 2.0413223547180346. distance: 0.5971970133919461
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.4482, Accuracy: 6234/8991 (69.3360%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 23, internal_epoch   1,  Average loss: 0.0352, Accuracy: 355/595 (59.6639%), train_poison_data_count: 595
Global model norm: 1.8587519138636737.
Norm before scaling: 2.02226936468199. Distance: 0.5553835678779089
Total norm for 5 adversaries is: 2.02226936468199. distance: 0.5553835678779089
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.5097, Accuracy: 5217/8991 (58.0247%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 7, internal_epoch   1,  Average loss: 0.0363, Accuracy: 367/586 (62.6280%), train_poison_data_count: 586
Global model norm: 1.8587519138636737.
Norm before scaling: 2.0167124572263235. Distance: 0.5437646151365274
Total norm for 5 adversaries is: 2.0167124572263235. distance: 0.5437646151365274
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.5234, Accuracy: 5054/8991 (56.2118%)
___Train Local_Simple,  epoch   7, local model 99, internal_epoch   1,  Average loss: 0.0363, Accuracy: 303/407 (74.4472%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.8696, Accuracy: 6131/10000 (61.3100%), Attack Success Rate:0/10000(0.000)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 45, internal_epoch   1,  Average loss: 0.0354, Accuracy: 356/587 (60.6474%), train_poison_data_count: 587
Global model norm: 1.8587519138636737.
Norm before scaling: 2.0266219013481943. Distance: 0.5632335859600021
Total norm for 5 adversaries is: 2.0266219013481943. distance: 0.5632335859600021
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.5173, Accuracy: 5127/8991 (57.0237%)
time spent on training: 20.91636085510254
[foolsgold agg] training data poison_ratio: 0.5161458333333333  data num: [602, 591, 598, 589, 599, 606, 595, 586, 407, 587]
[foolsgold agg] considering poison per batch poison_fraction: 0.5161458333333333
[foolsgold agg] wv: [1. 0. 0. 0. 0. 0. 0. 0. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 7: Average loss: 1.9595, Accuracy: 5779/10000 (57.7900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 7: Average loss: 1.9046, Accuracy: 5731/8991 (63.7415%)
Done in 82.98630166053772 sec.
Server Epoch:8 choose agents : [63, 55, 79, 9, 62, 56, 96, 12, 92, 86].
___Train Local_Simple,  epoch   8, local model 63, internal_epoch   1,  Average loss: 0.0371, Accuracy: 370/594 (62.2896%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5648, Accuracy: 7496/10000 (74.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 55, internal_epoch   1,  Average loss: 0.0373, Accuracy: 367/592 (61.9932%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5708, Accuracy: 7378/10000 (73.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 79, internal_epoch   1,  Average loss: 0.0386, Accuracy: 353/584 (60.4452%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5792, Accuracy: 7660/10000 (76.6000%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 9, internal_epoch   1,  Average loss: 0.0354, Accuracy: 376/590 (63.7288%), train_poison_data_count: 590
Global model norm: 1.8623283716785126.
Norm before scaling: 2.023980263044601. Distance: 0.5406029018670685
Total norm for 2 adversaries is: 2.023980263044601. distance: 0.5406029018670685
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.4862, Accuracy: 5852/8991 (65.0873%)
___Train Local_Simple,  epoch   8, local model 62, internal_epoch   1,  Average loss: 0.0374, Accuracy: 357/589 (60.6112%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5724, Accuracy: 7288/10000 (72.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 56, internal_epoch   1,  Average loss: 0.0372, Accuracy: 397/590 (67.2881%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5701, Accuracy: 7530/10000 (75.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 96, internal_epoch   1,  Average loss: 0.0366, Accuracy: 352/534 (65.9176%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6529, Accuracy: 6941/10000 (69.4100%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 12, internal_epoch   1,  Average loss: 0.0360, Accuracy: 324/581 (55.7659%), train_poison_data_count: 581
Global model norm: 1.8623283716785126.
Norm before scaling: 2.0268642321502615. Distance: 0.5449411805810984
Total norm for 2 adversaries is: 2.0268642321502615. distance: 0.5449411805810984
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.4873, Accuracy: 5651/8991 (62.8517%)
___Train Local_Simple,  epoch   8, local model 92, internal_epoch   1,  Average loss: 0.0372, Accuracy: 334/535 (62.4299%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6558, Accuracy: 7270/10000 (72.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 86, internal_epoch   1,  Average loss: 0.0370, Accuracy: 371/597 (62.1441%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5667, Accuracy: 7500/10000 (75.0000%), Attack Success Rate:0/10000(0.000)
time spent on training: 18.80592179298401
[foolsgold agg] training data poison_ratio: 0.2023850674040788  data num: [594, 592, 584, 590, 589, 590, 534, 581, 535, 597]
[foolsgold agg] considering poison per batch poison_fraction: 0.20238506740407877
[foolsgold agg] wv: [1.         1.         1.         1.         1.         1.
 0.89061928 1.         0.89061928 1.        ]
___Test Target_Simple poisoned: False, epoch: 8: Average loss: 1.8732, Accuracy: 6277/10000 (62.7700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 8: Average loss: 1.8198, Accuracy: 6234/8991 (69.3360%)
Done in 80.32423210144043 sec.
Server Epoch:9 choose agents : [28, 63, 33, 71, 13, 32, 76, 97, 23, 25].
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 28, internal_epoch   1,  Average loss: 0.0348, Accuracy: 362/584 (61.9863%), train_poison_data_count: 584
Global model norm: 1.8821896991086702.
Norm before scaling: 2.047066366553837. Distance: 0.5111825769357381
Total norm for 6 adversaries is: 2.047066366553837. distance: 0.5111825769357381
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.4580, Accuracy: 5556/8991 (61.7951%)
___Train Local_Simple,  epoch   9, local model 63, internal_epoch   1,  Average loss: 0.0356, Accuracy: 378/594 (63.6364%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.5095, Accuracy: 7629/10000 (76.2900%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 33, internal_epoch   1,  Average loss: 0.0330, Accuracy: 400/598 (66.8896%), train_poison_data_count: 598
Global model norm: 1.8821896991086702.
Norm before scaling: 2.0603536361552273. Distance: 0.5306219708341623
Total norm for 6 adversaries is: 2.0603536361552273. distance: 0.5306219708341623
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.4277, Accuracy: 5849/8991 (65.0539%)
___Train Local_Simple,  epoch   9, local model 71, internal_epoch   1,  Average loss: 0.0374, Accuracy: 417/608 (68.5855%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.4872, Accuracy: 7686/10000 (76.8600%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 13, internal_epoch   1,  Average loss: 0.0361, Accuracy: 368/602 (61.1296%), train_poison_data_count: 602
Global model norm: 1.8821896991086702.
Norm before scaling: 2.0824476902724225. Distance: 0.5847760451209603
Total norm for 6 adversaries is: 2.0824476902724225. distance: 0.5847760451209603
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.3886, Accuracy: 6100/8991 (67.8456%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 32, internal_epoch   1,  Average loss: 0.0353, Accuracy: 380/601 (63.2280%), train_poison_data_count: 601
Global model norm: 1.8821896991086702.
Norm before scaling: 2.085688658312367. Distance: 0.5906906868470564
Total norm for 6 adversaries is: 2.085688658312367. distance: 0.5906906868470564
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.4054, Accuracy: 5809/8991 (64.6091%)
___Train Local_Simple,  epoch   9, local model 76, internal_epoch   1,  Average loss: 0.0360, Accuracy: 394/593 (66.4418%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.5213, Accuracy: 7730/10000 (77.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   9, local model 97, internal_epoch   1,  Average loss: 0.0355, Accuracy: 374/536 (69.7761%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.5971, Accuracy: 7311/10000 (73.1100%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 23, internal_epoch   1,  Average loss: 0.0335, Accuracy: 401/595 (67.3950%), train_poison_data_count: 595
Global model norm: 1.8821896991086702.
Norm before scaling: 2.0562884109758945. Distance: 0.5269746124207518
Total norm for 6 adversaries is: 2.0562884109758945. distance: 0.5269746124207518
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.4635, Accuracy: 5278/8991 (58.7031%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 25, internal_epoch   1,  Average loss: 0.0337, Accuracy: 398/589 (67.5722%), train_poison_data_count: 589
Global model norm: 1.8821896991086702.
Norm before scaling: 2.0578491485738533. Distance: 0.5243325338798115
Total norm for 6 adversaries is: 2.0578491485738533. distance: 0.5243325338798115
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.4357, Accuracy: 5853/8991 (65.0984%)
time spent on training: 22.29287838935852
[foolsgold agg] training data poison_ratio: 0.6049152542372881  data num: [584, 594, 598, 608, 602, 601, 593, 536, 595, 589]
[foolsgold agg] considering poison per batch poison_fraction: 0.6049152542372881
[foolsgold agg] wv: [0. 0. 0. 0. 1. 1. 0. 1. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 9: Average loss: 1.8490, Accuracy: 6396/10000 (63.9600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 9: Average loss: 1.7897, Accuracy: 6361/8991 (70.7485%)
Done in 84.24727535247803 sec.
Server Epoch:10 choose agents : [12, 56, 19, 11, 13, 78, 49, 34, 14, 99].
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 12, internal_epoch   1,  Average loss: 0.0338, Accuracy: 381/581 (65.5766%), train_poison_data_count: 581
Global model norm: 1.8895148178290782.
Norm before scaling: 2.070016170383264. Distance: 0.5282693722012146
Total norm for 7 adversaries is: 2.070016170383264. distance: 0.5282693722012146
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.4138, Accuracy: 5996/8991 (66.6889%)
___Train Local_Simple,  epoch  10, local model 56, internal_epoch   1,  Average loss: 0.0355, Accuracy: 389/590 (65.9322%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.4947, Accuracy: 7683/10000 (76.8300%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 19, internal_epoch   1,  Average loss: 0.0332, Accuracy: 422/595 (70.9244%), train_poison_data_count: 595
Global model norm: 1.8895148178290782.
Norm before scaling: 2.067001170600519. Distance: 0.5195308484527642
Total norm for 7 adversaries is: 2.067001170600519. distance: 0.5195308484527642
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.4253, Accuracy: 5821/8991 (64.7425%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 11, internal_epoch   1,  Average loss: 0.0340, Accuracy: 406/589 (68.9304%), train_poison_data_count: 589
Global model norm: 1.8895148178290782.
Norm before scaling: 2.0629131019030873. Distance: 0.5078438969222775
Total norm for 7 adversaries is: 2.0629131019030873. distance: 0.5078438969222775
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.4411, Accuracy: 5777/8991 (64.2531%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 13, internal_epoch   1,  Average loss: 0.0347, Accuracy: 391/602 (64.9502%), train_poison_data_count: 602
Global model norm: 1.8895148178290782.
Norm before scaling: 2.097495074624427. Distance: 0.5849398193623165
Total norm for 7 adversaries is: 2.097495074624427. distance: 0.5849398193623165
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.3882, Accuracy: 5644/8991 (62.7739%)
___Train Local_Simple,  epoch  10, local model 78, internal_epoch   1,  Average loss: 0.0354, Accuracy: 400/600 (66.6667%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.5042, Accuracy: 7579/10000 (75.7900%), Attack Success Rate:0/10000(0.000)
poison local model 49 index 48 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 49, internal_epoch   1,  Average loss: 0.0354, Accuracy: 377/609 (61.9048%), train_poison_data_count: 609
Global model norm: 1.8895148178290782.
Norm before scaling: 2.0902898864845985. Distance: 0.5762933893893938
Total norm for 7 adversaries is: 2.0902898864845985. distance: 0.5762933893893938
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.3815, Accuracy: 6046/8991 (67.2450%)
poison local model 34 index 33 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 34, internal_epoch   1,  Average loss: 0.0332, Accuracy: 394/593 (66.4418%), train_poison_data_count: 593
Global model norm: 1.8895148178290782.
Norm before scaling: 2.0677529689733833. Distance: 0.5246799015406041
Total norm for 7 adversaries is: 2.0677529689733833. distance: 0.5246799015406041
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.4027, Accuracy: 6294/8991 (70.0033%)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 14, internal_epoch   1,  Average loss: 0.0329, Accuracy: 382/593 (64.4182%), train_poison_data_count: 593
Global model norm: 1.8895148178290782.
Norm before scaling: 2.0720997131833476. Distance: 0.530831312233607
Total norm for 7 adversaries is: 2.0720997131833476. distance: 0.530831312233607
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.4179, Accuracy: 5998/8991 (66.7112%)
___Train Local_Simple,  epoch  10, local model 99, internal_epoch   1,  Average loss: 0.0334, Accuracy: 338/407 (83.0467%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.7842, Accuracy: 6209/10000 (62.0900%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.76590657234192
[foolsgold agg] training data poison_ratio: 0.7226949123111651  data num: [581, 590, 595, 589, 602, 600, 609, 593, 593, 407]
[foolsgold agg] considering poison per batch poison_fraction: 0.7226949123111652
[foolsgold agg] wv: [0. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
___Test Target_Simple poisoned: False, epoch: 10: Average loss: 1.8426, Accuracy: 6388/10000 (63.8800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 10: Average loss: 1.7810, Accuracy: 6351/8991 (70.6373%)
Done in 84.71089625358582 sec.
Server Epoch:11 choose agents : [53, 56, 51, 14, 36, 6, 46, 99, 88, 37].
___Train Local_Simple,  epoch  11, local model 53, internal_epoch   1,  Average loss: 0.0356, Accuracy: 390/585 (66.6667%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.4855, Accuracy: 7674/10000 (76.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 56, internal_epoch   1,  Average loss: 0.0353, Accuracy: 414/590 (70.1695%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.4949, Accuracy: 7779/10000 (77.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 51, internal_epoch   1,  Average loss: 0.0346, Accuracy: 405/595 (68.0672%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.4875, Accuracy: 7775/10000 (77.7500%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 14, internal_epoch   1,  Average loss: 0.0329, Accuracy: 377/593 (63.5750%), train_poison_data_count: 593
Global model norm: 1.891641516945426.
Norm before scaling: 2.075577745092106. Distance: 0.5282823192875581
Total norm for 5 adversaries is: 2.075577745092106. distance: 0.5282823192875581
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.4036, Accuracy: 6084/8991 (67.6677%)
poison local model 36 index 35 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 36, internal_epoch   1,  Average loss: 0.0328, Accuracy: 415/596 (69.6309%), train_poison_data_count: 596
Global model norm: 1.891641516945426.
Norm before scaling: 2.0698090714937316. Distance: 0.5183483798162427
Total norm for 5 adversaries is: 2.0698090714937316. distance: 0.5183483798162427
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.4217, Accuracy: 5922/8991 (65.8659%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 6, internal_epoch   1,  Average loss: 0.0329, Accuracy: 396/598 (66.2207%), train_poison_data_count: 598
Global model norm: 1.891641516945426.
Norm before scaling: 2.0734916030275907. Distance: 0.525789782836056
Total norm for 5 adversaries is: 2.0734916030275907. distance: 0.525789782836056
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.4247, Accuracy: 5651/8991 (62.8517%)
poison local model 46 index 45 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 46, internal_epoch   1,  Average loss: 0.0324, Accuracy: 412/599 (68.7813%), train_poison_data_count: 599
Global model norm: 1.891641516945426.
Norm before scaling: 2.0761905931291094. Distance: 0.5317827246442018
Total norm for 5 adversaries is: 2.0761905931291094. distance: 0.5317827246442018
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.4286, Accuracy: 5462/8991 (60.7496%)
___Train Local_Simple,  epoch  11, local model 99, internal_epoch   1,  Average loss: 0.0336, Accuracy: 329/407 (80.8354%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.7772, Accuracy: 6219/10000 (62.1900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 88, internal_epoch   1,  Average loss: 0.0359, Accuracy: 407/582 (69.9313%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.4937, Accuracy: 7930/10000 (79.3000%), Attack Success Rate:0/10000(0.000)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 37, internal_epoch   1,  Average loss: 0.0328, Accuracy: 411/594 (69.1919%), train_poison_data_count: 594
Global model norm: 1.891641516945426.
Norm before scaling: 2.0718587607183157. Distance: 0.5193296916309201
Total norm for 5 adversaries is: 2.0718587607183157. distance: 0.5193296916309201
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.4274, Accuracy: 5412/8991 (60.1935%)
time spent on training: 21.620580196380615
[foolsgold agg] training data poison_ratio: 0.5192542254748214  data num: [585, 590, 595, 593, 596, 598, 599, 407, 582, 594]
[foolsgold agg] considering poison per batch poison_fraction: 0.5192542254748214
[foolsgold agg] wv: [0. 0. 0. 0. 0. 0. 0. 1. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 11: Average loss: 1.8365, Accuracy: 6363/10000 (63.6300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 11: Average loss: 1.7727, Accuracy: 6320/8991 (70.2925%)
Done in 83.83382797241211 sec.
Server Epoch:12 choose agents : [42, 17, 2, 64, 6, 38, 37, 44, 77, 4].
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 42, internal_epoch   1,  Average loss: 0.0342, Accuracy: 418/609 (68.6371%), train_poison_data_count: 609
Global model norm: 1.8937938395546727.
Norm before scaling: 2.104862161141966. Distance: 0.5788494159429628
Total norm for 8 adversaries is: 2.104862161141966. distance: 0.5788494159429628
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.3764, Accuracy: 6041/8991 (67.1894%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 17, internal_epoch   1,  Average loss: 0.0329, Accuracy: 429/588 (72.9592%), train_poison_data_count: 588
Global model norm: 1.8937938395546727.
Norm before scaling: 2.0799636164564204. Distance: 0.5236928516246068
Total norm for 8 adversaries is: 2.0799636164564204. distance: 0.5236928516246068
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.3990, Accuracy: 5942/8991 (66.0883%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 2, internal_epoch   1,  Average loss: 0.0333, Accuracy: 387/588 (65.8163%), train_poison_data_count: 588
Global model norm: 1.8937938395546727.
Norm before scaling: 2.0742792095561238. Distance: 0.5169641559929147
Total norm for 8 adversaries is: 2.0742792095561238. distance: 0.5169641559929147
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.4189, Accuracy: 5861/8991 (65.1874%)
___Train Local_Simple,  epoch  12, local model 64, internal_epoch   1,  Average loss: 0.0349, Accuracy: 401/598 (67.0569%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.4884, Accuracy: 7738/10000 (77.3800%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 6, internal_epoch   1,  Average loss: 0.0326, Accuracy: 398/598 (66.5552%), train_poison_data_count: 598
Global model norm: 1.8937938395546727.
Norm before scaling: 2.076683634489165. Distance: 0.5241281024541723
Total norm for 8 adversaries is: 2.076683634489165. distance: 0.5241281024541723
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.4182, Accuracy: 5675/8991 (63.1187%)
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 38, internal_epoch   1,  Average loss: 0.0334, Accuracy: 370/591 (62.6058%), train_poison_data_count: 591
Global model norm: 1.8937938395546727.
Norm before scaling: 2.0703927654325684. Distance: 0.5082380712341147
Total norm for 8 adversaries is: 2.0703927654325684. distance: 0.5082380712341147
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.4108, Accuracy: 6253/8991 (69.5473%)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 37, internal_epoch   1,  Average loss: 0.0329, Accuracy: 385/594 (64.8148%), train_poison_data_count: 594
Global model norm: 1.8937938395546727.
Norm before scaling: 2.0767419558123956. Distance: 0.5216110589956924
Total norm for 8 adversaries is: 2.0767419558123956. distance: 0.5216110589956924
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.4088, Accuracy: 5749/8991 (63.9417%)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 44, internal_epoch   1,  Average loss: 0.0329, Accuracy: 371/598 (62.0401%), train_poison_data_count: 598
Global model norm: 1.8937938395546727.
Norm before scaling: 2.0700864272572526. Distance: 0.5122136060149106
Total norm for 8 adversaries is: 2.0700864272572526. distance: 0.5122136060149106
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.4191, Accuracy: 5718/8991 (63.5969%)
___Train Local_Simple,  epoch  12, local model 77, internal_epoch   1,  Average loss: 0.0356, Accuracy: 406/583 (69.6398%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.4873, Accuracy: 7516/10000 (75.1600%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 4, internal_epoch   1,  Average loss: 0.0350, Accuracy: 401/602 (66.6113%), train_poison_data_count: 602
Global model norm: 1.8937938395546727.
Norm before scaling: 2.1027461125845073. Distance: 0.5770597696370906
Total norm for 8 adversaries is: 2.1027461125845073. distance: 0.5770597696370906
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.3667, Accuracy: 6087/8991 (67.7010%)
time spent on training: 24.293319702148438
[foolsgold agg] training data poison_ratio: 0.8014792402084384  data num: [609, 588, 588, 598, 598, 591, 594, 598, 583, 602]
[foolsgold agg] considering poison per batch poison_fraction: 0.8014792402084384
[foolsgold agg] wv: [0.03702336 0.         0.         0.32362402 0.         0.
 0.         0.         0.32362402 1.        ]
___Test Target_Simple poisoned: False, epoch: 12: Average loss: 1.8236, Accuracy: 6412/10000 (64.1200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 12: Average loss: 1.7571, Accuracy: 6374/8991 (70.8931%)
Done in 86.15101027488708 sec.
Server Epoch:13 choose agents : [24, 38, 52, 10, 11, 76, 97, 7, 70, 14].
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 24, internal_epoch   1,  Average loss: 0.0327, Accuracy: 413/596 (69.2953%), train_poison_data_count: 596
Global model norm: 1.8981253912921863.
Norm before scaling: 2.0787572830999332. Distance: 0.5128189083259193
Total norm for 6 adversaries is: 2.0787572830999332. distance: 0.5128189083259193
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.4065, Accuracy: 5993/8991 (66.6555%)
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 38, internal_epoch   1,  Average loss: 0.0328, Accuracy: 426/591 (72.0812%), train_poison_data_count: 591
Global model norm: 1.8981253912921863.
Norm before scaling: 2.0780627019048525. Distance: 0.5083818325242969
Total norm for 6 adversaries is: 2.0780627019048525. distance: 0.5083818325242969
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.4122, Accuracy: 5786/8991 (64.3532%)
___Train Local_Simple,  epoch  13, local model 52, internal_epoch   1,  Average loss: 0.0345, Accuracy: 409/595 (68.7395%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.4808, Accuracy: 7764/10000 (77.6400%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 10, internal_epoch   1,  Average loss: 0.0351, Accuracy: 397/606 (65.5116%), train_poison_data_count: 606
Global model norm: 1.8981253912921863.
Norm before scaling: 2.1028076794053616. Distance: 0.5624496119501005
Total norm for 6 adversaries is: 2.1028076794053616. distance: 0.5624496119501005
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.3599, Accuracy: 6317/8991 (70.2591%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 11, internal_epoch   1,  Average loss: 0.0335, Accuracy: 384/589 (65.1952%), train_poison_data_count: 589
Global model norm: 1.8981253912921863.
Norm before scaling: 2.0700146730796707. Distance: 0.4956550761233531
Total norm for 6 adversaries is: 2.0700146730796707. distance: 0.4956550761233531
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.4198, Accuracy: 6000/8991 (66.7334%)
___Train Local_Simple,  epoch  13, local model 76, internal_epoch   1,  Average loss: 0.0352, Accuracy: 385/593 (64.9241%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.4898, Accuracy: 7684/10000 (76.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 97, internal_epoch   1,  Average loss: 0.0344, Accuracy: 379/536 (70.7090%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.5621, Accuracy: 7254/10000 (72.5400%), Attack Success Rate:0/10000(0.000)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 7, internal_epoch   1,  Average loss: 0.0335, Accuracy: 405/586 (69.1126%), train_poison_data_count: 586
Global model norm: 1.8981253912921863.
Norm before scaling: 2.0740260952491445. Distance: 0.5042721802141179
Total norm for 6 adversaries is: 2.0740260952491445. distance: 0.5042721802141179
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.4212, Accuracy: 5753/8991 (63.9862%)
___Train Local_Simple,  epoch  13, local model 70, internal_epoch   1,  Average loss: 0.0351, Accuracy: 406/596 (68.1208%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.4912, Accuracy: 7862/10000 (78.6200%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 14, internal_epoch   1,  Average loss: 0.0323, Accuracy: 421/593 (70.9949%), train_poison_data_count: 593
Global model norm: 1.8981253912921863.
Norm before scaling: 2.0828577516051427. Distance: 0.5222951750858742
Total norm for 6 adversaries is: 2.0828577516051427. distance: 0.5222951750858742
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.4051, Accuracy: 5882/8991 (65.4210%)
time spent on training: 22.490665674209595
[foolsgold agg] training data poison_ratio: 0.6055092671314403  data num: [596, 591, 595, 606, 589, 593, 536, 586, 596, 593]
[foolsgold agg] considering poison per batch poison_fraction: 0.6055092671314403
[foolsgold agg] wv: [0.         0.         0.         0.72705934 0.         0.
 1.         0.         0.1586016  0.        ]
___Test Target_Simple poisoned: False, epoch: 13: Average loss: 1.8092, Accuracy: 6445/10000 (64.4500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 13: Average loss: 1.7422, Accuracy: 6410/8991 (71.2935%)
Done in 84.25754189491272 sec.
Server Epoch:14 choose agents : [95, 97, 12, 89, 25, 34, 55, 67, 56, 2].
___Train Local_Simple,  epoch  14, local model 95, internal_epoch   1,  Average loss: 0.0337, Accuracy: 388/540 (71.8519%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.5485, Accuracy: 7395/10000 (73.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 97, internal_epoch   1,  Average loss: 0.0340, Accuracy: 387/536 (72.2015%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.5492, Accuracy: 7340/10000 (73.4000%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 12, internal_epoch   1,  Average loss: 0.0332, Accuracy: 393/581 (67.6420%), train_poison_data_count: 581
Global model norm: 1.9026614947958258.
Norm before scaling: 2.0854242386300967. Distance: 0.5120535476015603
Total norm for 4 adversaries is: 2.0854242386300967. distance: 0.5120535476015603
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.3991, Accuracy: 5864/8991 (65.2208%)
___Train Local_Simple,  epoch  14, local model 89, internal_epoch   1,  Average loss: 0.0344, Accuracy: 405/593 (68.2968%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4698, Accuracy: 7781/10000 (77.8100%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 25, internal_epoch   1,  Average loss: 0.0326, Accuracy: 403/589 (68.4211%), train_poison_data_count: 589
Global model norm: 1.9026614947958258.
Norm before scaling: 2.088224607328109. Distance: 0.5099935789265043
Total norm for 4 adversaries is: 2.088224607328109. distance: 0.5099935789265043
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.4052, Accuracy: 5617/8991 (62.4736%)
poison local model 34 index 33 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 34, internal_epoch   1,  Average loss: 0.0325, Accuracy: 403/593 (67.9595%), train_poison_data_count: 593
Global model norm: 1.9026614947958258.
Norm before scaling: 2.089072397075939. Distance: 0.5204664718500197
Total norm for 4 adversaries is: 2.089072397075939. distance: 0.5204664718500197
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.3966, Accuracy: 5743/8991 (63.8750%)
___Train Local_Simple,  epoch  14, local model 55, internal_epoch   1,  Average loss: 0.0347, Accuracy: 383/592 (64.6959%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4726, Accuracy: 7684/10000 (76.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 67, internal_epoch   1,  Average loss: 0.0352, Accuracy: 406/584 (69.5205%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4726, Accuracy: 7831/10000 (78.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 56, internal_epoch   1,  Average loss: 0.0345, Accuracy: 424/590 (71.8644%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4694, Accuracy: 7738/10000 (77.3800%), Attack Success Rate:0/10000(0.000)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 2, internal_epoch   1,  Average loss: 0.0327, Accuracy: 396/588 (67.3469%), train_poison_data_count: 588
Global model norm: 1.9026614947958258.
Norm before scaling: 2.0849507601844697. Distance: 0.5100032793201406
Total norm for 4 adversaries is: 2.0849507601844697. distance: 0.5100032793201406
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.4019, Accuracy: 5855/8991 (65.1207%)
time spent on training: 20.929683685302734
[foolsgold agg] training data poison_ratio: 0.4063256135499482  data num: [540, 536, 581, 593, 589, 593, 592, 584, 590, 588]
[foolsgold agg] considering poison per batch poison_fraction: 0.40632561354994823
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 14: Average loss: 1.7366, Accuracy: 6613/10000 (66.1300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 14: Average loss: 1.6657, Accuracy: 6583/8991 (73.2177%)
Done in 82.8255307674408 sec.
Server Epoch:15 choose agents : [4, 1, 20, 48, 55, 98, 27, 42, 0, 44].
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 4, internal_epoch   1,  Average loss: 0.0328, Accuracy: 432/602 (71.7608%), train_poison_data_count: 602
Global model norm: 1.9295145181197175.
Norm before scaling: 2.1478812312531006. Distance: 0.5485838757231757
Total norm for 7 adversaries is: 2.1478812312531006. distance: 0.5485838757231757
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3185, Accuracy: 6213/8991 (69.1024%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 1, internal_epoch   1,  Average loss: 0.0317, Accuracy: 412/595 (69.2437%), train_poison_data_count: 595
Global model norm: 1.9295145181197175.
Norm before scaling: 2.1099457145324676. Distance: 0.47867942653431667
Total norm for 7 adversaries is: 2.1099457145324676. distance: 0.47867942653431667
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3608, Accuracy: 6135/8991 (68.2349%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 20, internal_epoch   1,  Average loss: 0.0316, Accuracy: 393/591 (66.4975%), train_poison_data_count: 591
Global model norm: 1.9295145181197175.
Norm before scaling: 2.1161922353667135. Distance: 0.48531620810247206
Total norm for 7 adversaries is: 2.1161922353667135. distance: 0.48531620810247206
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3571, Accuracy: 5936/8991 (66.0216%)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 48, internal_epoch   1,  Average loss: 0.0318, Accuracy: 401/588 (68.1973%), train_poison_data_count: 588
Global model norm: 1.9295145181197175.
Norm before scaling: 2.1156985970209177. Distance: 0.4866469077640025
Total norm for 7 adversaries is: 2.1156985970209177. distance: 0.4866469077640025
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3419, Accuracy: 6342/8991 (70.5372%)
___Train Local_Simple,  epoch  15, local model 55, internal_epoch   1,  Average loss: 0.0335, Accuracy: 396/592 (66.8919%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.4213, Accuracy: 7826/10000 (78.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 98, internal_epoch   1,  Average loss: 0.0311, Accuracy: 378/497 (76.0563%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.5462, Accuracy: 6489/10000 (64.8900%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 27, internal_epoch   1,  Average loss: 0.0310, Accuracy: 413/593 (69.6459%), train_poison_data_count: 593
Global model norm: 1.9295145181197175.
Norm before scaling: 2.120027671129549. Distance: 0.48409141422156643
Total norm for 7 adversaries is: 2.120027671129549. distance: 0.48409141422156643
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3462, Accuracy: 6151/8991 (68.4129%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 42, internal_epoch   1,  Average loss: 0.0322, Accuracy: 431/609 (70.7718%), train_poison_data_count: 609
Global model norm: 1.9295145181197175.
Norm before scaling: 2.148936265791141. Distance: 0.5477938426137927
Total norm for 7 adversaries is: 2.148936265791141. distance: 0.5477938426137927
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3045, Accuracy: 6450/8991 (71.7384%)
___Train Local_Simple,  epoch  15, local model 0, internal_epoch   1,  Average loss: 0.0330, Accuracy: 418/594 (70.3704%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.4271, Accuracy: 7838/10000 (78.3800%), Attack Success Rate:0/10000(0.000)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 44, internal_epoch   1,  Average loss: 0.0311, Accuracy: 404/598 (67.5585%), train_poison_data_count: 598
Global model norm: 1.9295145181197175.
Norm before scaling: 2.1131038908650153. Distance: 0.4826722055442508
Total norm for 7 adversaries is: 2.1131038908650153. distance: 0.4826722055442508
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3568, Accuracy: 5941/8991 (66.0772%)
time spent on training: 23.266666889190674
[foolsgold agg] training data poison_ratio: 0.7127496159754224  data num: [602, 595, 591, 588, 592, 497, 593, 609, 594, 598]
[foolsgold agg] considering poison per batch poison_fraction: 0.7127496159754224
[foolsgold agg] wv: [0.65133126 0.         0.         0.         0.         1.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 15: Average loss: 1.7261, Accuracy: 6633/10000 (66.3300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 15: Average loss: 1.6539, Accuracy: 6608/8991 (73.4957%)
Done in 84.77768659591675 sec.
Server Epoch:16 choose agents : [25, 8, 12, 99, 53, 26, 60, 63, 52, 90].
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 25, internal_epoch   1,  Average loss: 0.0309, Accuracy: 447/589 (75.8913%), train_poison_data_count: 589
Global model norm: 1.934059595576448.
Norm before scaling: 2.12427485940113. Distance: 0.48289022221322414
Total norm for 4 adversaries is: 2.12427485940113. distance: 0.48289022221322414
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.3509, Accuracy: 5971/8991 (66.4109%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 8, internal_epoch   1,  Average loss: 0.0309, Accuracy: 414/593 (69.8145%), train_poison_data_count: 593
Global model norm: 1.934059595576448.
Norm before scaling: 2.1245647433447. Distance: 0.4880361323229965
Total norm for 4 adversaries is: 2.1245647433447. distance: 0.4880361323229965
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.3209, Accuracy: 6483/8991 (72.1054%)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 12, internal_epoch   1,  Average loss: 0.0318, Accuracy: 390/581 (67.1256%), train_poison_data_count: 581
Global model norm: 1.934059595576448.
Norm before scaling: 2.1232388996502003. Distance: 0.4909962209480358
Total norm for 4 adversaries is: 2.1232388996502003. distance: 0.4909962209480358
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.3483, Accuracy: 6012/8991 (66.8669%)
___Train Local_Simple,  epoch  16, local model 99, internal_epoch   1,  Average loss: 0.0305, Accuracy: 348/407 (85.5037%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.6958, Accuracy: 6281/10000 (62.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 53, internal_epoch   1,  Average loss: 0.0335, Accuracy: 406/585 (69.4017%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4064, Accuracy: 7768/10000 (77.6800%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 26, internal_epoch   1,  Average loss: 0.0316, Accuracy: 407/584 (69.6918%), train_poison_data_count: 584
Global model norm: 1.934059595576448.
Norm before scaling: 2.11867704462799. Distance: 0.4794473413445211
Total norm for 4 adversaries is: 2.11867704462799. distance: 0.4794473413445211
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.3289, Accuracy: 6575/8991 (73.1287%)
___Train Local_Simple,  epoch  16, local model 60, internal_epoch   1,  Average loss: 0.0333, Accuracy: 417/595 (70.0840%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4159, Accuracy: 8006/10000 (80.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 63, internal_epoch   1,  Average loss: 0.0331, Accuracy: 404/594 (68.0135%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4129, Accuracy: 7758/10000 (77.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 52, internal_epoch   1,  Average loss: 0.0327, Accuracy: 431/595 (72.4370%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4193, Accuracy: 7864/10000 (78.6400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 90, internal_epoch   1,  Average loss: 0.0334, Accuracy: 396/587 (67.4617%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4133, Accuracy: 7903/10000 (79.0300%), Attack Success Rate:0/10000(0.000)
time spent on training: 21.1010901927948
[foolsgold agg] training data poison_ratio: 0.41103327495621717  data num: [589, 593, 581, 407, 585, 584, 595, 594, 595, 587]
[foolsgold agg] considering poison per batch poison_fraction: 0.4110332749562172
[foolsgold agg] wv: [0. 0. 0. 1. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 16: Average loss: 1.7216, Accuracy: 6585/10000 (65.8500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 16: Average loss: 1.6474, Accuracy: 6560/8991 (72.9619%)
Done in 82.42631435394287 sec.
Server Epoch:17 choose agents : [66, 33, 56, 97, 10, 13, 77, 37, 90, 59].
___Train Local_Simple,  epoch  17, local model 66, internal_epoch   1,  Average loss: 0.0351, Accuracy: 408/602 (67.7741%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.3839, Accuracy: 7712/10000 (77.1200%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 33, internal_epoch   1,  Average loss: 0.0303, Accuracy: 449/598 (75.0836%), train_poison_data_count: 598
Global model norm: 1.936645873292443.
Norm before scaling: 2.1320070415616725. Distance: 0.4922371188387193
Total norm for 4 adversaries is: 2.1320070415616725. distance: 0.4922371188387193
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.3237, Accuracy: 6304/8991 (70.1146%)
___Train Local_Simple,  epoch  17, local model 56, internal_epoch   1,  Average loss: 0.0330, Accuracy: 420/590 (71.1864%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4132, Accuracy: 7940/10000 (79.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 97, internal_epoch   1,  Average loss: 0.0325, Accuracy: 392/536 (73.1343%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4942, Accuracy: 7459/10000 (74.5900%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 10, internal_epoch   1,  Average loss: 0.0331, Accuracy: 399/606 (65.8416%), train_poison_data_count: 606
Global model norm: 1.936645873292443.
Norm before scaling: 2.1468133509417484. Distance: 0.5262149172979222
Total norm for 4 adversaries is: 2.1468133509417484. distance: 0.5262149172979222
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.2897, Accuracy: 6775/8991 (75.3531%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 13, internal_epoch   1,  Average loss: 0.0311, Accuracy: 423/602 (70.2658%), train_poison_data_count: 602
Global model norm: 1.936645873292443.
Norm before scaling: 2.154535026217773. Distance: 0.538398084432119
Total norm for 4 adversaries is: 2.154535026217773. distance: 0.538398084432119
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.2910, Accuracy: 6434/8991 (71.5604%)
___Train Local_Simple,  epoch  17, local model 77, internal_epoch   1,  Average loss: 0.0335, Accuracy: 414/583 (71.0120%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4095, Accuracy: 7629/10000 (76.2900%), Attack Success Rate:0/10000(0.000)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 37, internal_epoch   1,  Average loss: 0.0306, Accuracy: 423/594 (71.2121%), train_poison_data_count: 594
Global model norm: 1.936645873292443.
Norm before scaling: 2.126292676996347. Distance: 0.4841416935326439
Total norm for 4 adversaries is: 2.126292676996347. distance: 0.4841416935326439
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.3341, Accuracy: 6201/8991 (68.9690%)
___Train Local_Simple,  epoch  17, local model 90, internal_epoch   1,  Average loss: 0.0332, Accuracy: 423/587 (72.0613%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4094, Accuracy: 7881/10000 (78.8100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 59, internal_epoch   1,  Average loss: 0.0325, Accuracy: 414/598 (69.2308%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4112, Accuracy: 7960/10000 (79.6000%), Attack Success Rate:0/10000(0.000)
time spent on training: 21.239299535751343
[foolsgold agg] training data poison_ratio: 0.40705563093622793  data num: [602, 598, 590, 536, 606, 602, 583, 594, 587, 598]
[foolsgold agg] considering poison per batch poison_fraction: 0.40705563093622793
[foolsgold agg] wv: [1.         0.         0.         1.         0.49215091 0.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 17: Average loss: 1.7030, Accuracy: 6626/10000 (66.2600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 17: Average loss: 1.6321, Accuracy: 6602/8991 (73.4290%)
Done in 82.67730808258057 sec.
Server Epoch:18 choose agents : [55, 58, 88, 23, 39, 75, 82, 61, 95, 93].
___Train Local_Simple,  epoch  18, local model 55, internal_epoch   1,  Average loss: 0.0329, Accuracy: 390/592 (65.8784%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4033, Accuracy: 7670/10000 (76.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 58, internal_epoch   1,  Average loss: 0.0335, Accuracy: 394/586 (67.2355%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4074, Accuracy: 7979/10000 (79.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 88, internal_epoch   1,  Average loss: 0.0334, Accuracy: 413/582 (70.9622%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4023, Accuracy: 7983/10000 (79.8300%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 23, internal_epoch   1,  Average loss: 0.0305, Accuracy: 421/595 (70.7563%), train_poison_data_count: 595
Global model norm: 1.9435866333240621.
Norm before scaling: 2.131683386090138. Distance: 0.47868959028318325
Total norm for 2 adversaries is: 2.131683386090138. distance: 0.47868959028318325
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.3323, Accuracy: 6099/8991 (67.8345%)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 39, internal_epoch   1,  Average loss: 0.0310, Accuracy: 422/583 (72.3842%), train_poison_data_count: 583
Global model norm: 1.9435866333240621.
Norm before scaling: 2.1363691361243995. Distance: 0.4935479813162788
Total norm for 2 adversaries is: 2.1363691361243995. distance: 0.4935479813162788
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.3401, Accuracy: 5916/8991 (65.7991%)
___Train Local_Simple,  epoch  18, local model 75, internal_epoch   1,  Average loss: 0.0330, Accuracy: 397/595 (66.7227%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4042, Accuracy: 7890/10000 (78.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 82, internal_epoch   1,  Average loss: 0.0326, Accuracy: 421/593 (70.9949%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4027, Accuracy: 7850/10000 (78.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 61, internal_epoch   1,  Average loss: 0.0332, Accuracy: 416/589 (70.6282%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4040, Accuracy: 7992/10000 (79.9200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 95, internal_epoch   1,  Average loss: 0.0317, Accuracy: 390/540 (72.2222%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4795, Accuracy: 7399/10000 (73.9900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 93, internal_epoch   1,  Average loss: 0.0329, Accuracy: 370/525 (70.4762%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4821, Accuracy: 7329/10000 (73.2900%), Attack Success Rate:0/10000(0.000)
time spent on training: 19.97624444961548
[foolsgold agg] training data poison_ratio: 0.2038062283737024  data num: [592, 586, 582, 595, 583, 595, 593, 589, 540, 525]
[foolsgold agg] considering poison per batch poison_fraction: 0.2038062283737024
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 18: Average loss: 1.6355, Accuracy: 6804/10000 (68.0400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 18: Average loss: 1.5707, Accuracy: 6770/8991 (75.2975%)
Done in 81.58772444725037 sec.
Server Epoch:19 choose agents : [37, 43, 50, 84, 25, 28, 8, 16, 6, 3].
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 37, internal_epoch   1,  Average loss: 0.0294, Accuracy: 434/594 (73.0640%), train_poison_data_count: 594
Global model norm: 1.9730253875112185.
Norm before scaling: 2.1701852276411175. Distance: 0.47398314742920755
Total norm for 9 adversaries is: 2.1701852276411175. distance: 0.47398314742920755
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2763, Accuracy: 6378/8991 (70.9376%)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 43, internal_epoch   1,  Average loss: 0.0301, Accuracy: 414/584 (70.8904%), train_poison_data_count: 584
Global model norm: 1.9730253875112185.
Norm before scaling: 2.1669000964476. Distance: 0.46831524078654563
Total norm for 9 adversaries is: 2.1669000964476. distance: 0.46831524078654563
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2856, Accuracy: 6323/8991 (70.3259%)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 50, internal_epoch   1,  Average loss: 0.0303, Accuracy: 421/582 (72.3368%), train_poison_data_count: 582
Global model norm: 1.9730253875112185.
Norm before scaling: 2.163448976659578. Distance: 0.46152169981575675
Total norm for 9 adversaries is: 2.163448976659578. distance: 0.46152169981575675
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2926, Accuracy: 6367/8991 (70.8153%)
___Train Local_Simple,  epoch  19, local model 84, internal_epoch   1,  Average loss: 0.0315, Accuracy: 421/595 (70.7563%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.3599, Accuracy: 7988/10000 (79.8800%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 25, internal_epoch   1,  Average loss: 0.0296, Accuracy: 430/589 (73.0051%), train_poison_data_count: 589
Global model norm: 1.9730253875112185.
Norm before scaling: 2.1682133167233353. Distance: 0.46781237923946106
Total norm for 9 adversaries is: 2.1682133167233353. distance: 0.46781237923946106
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2884, Accuracy: 6245/8991 (69.4583%)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 28, internal_epoch   1,  Average loss: 0.0308, Accuracy: 411/584 (70.3767%), train_poison_data_count: 584
Global model norm: 1.9730253875112185.
Norm before scaling: 2.1585307567350056. Distance: 0.46193211139152235
Total norm for 9 adversaries is: 2.1585307567350056. distance: 0.46193211139152235
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.3063, Accuracy: 6090/8991 (67.7344%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 8, internal_epoch   1,  Average loss: 0.0295, Accuracy: 424/593 (71.5008%), train_poison_data_count: 593
Global model norm: 1.9730253875112185.
Norm before scaling: 2.1634758660257747. Distance: 0.46191927239542574
Total norm for 9 adversaries is: 2.1634758660257747. distance: 0.46191927239542574
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2726, Accuracy: 6612/8991 (73.5402%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 16, internal_epoch   1,  Average loss: 0.0294, Accuracy: 445/594 (74.9158%), train_poison_data_count: 594
Global model norm: 1.9730253875112185.
Norm before scaling: 2.1698896816004636. Distance: 0.4707075411640849
Total norm for 9 adversaries is: 2.1698896816004636. distance: 0.4707075411640849
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2913, Accuracy: 6407/8991 (71.2601%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 6, internal_epoch   1,  Average loss: 0.0292, Accuracy: 428/598 (71.5719%), train_poison_data_count: 598
Global model norm: 1.9730253875112185.
Norm before scaling: 2.1667197538865803. Distance: 0.47068921143794684
Total norm for 9 adversaries is: 2.1667197538865803. distance: 0.47068921143794684
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2768, Accuracy: 6600/8991 (73.4067%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 3, internal_epoch   1,  Average loss: 0.0304, Accuracy: 426/585 (72.8205%), train_poison_data_count: 585
Global model norm: 1.9730253875112185.
Norm before scaling: 2.1665798927928432. Distance: 0.46832954305368507
Total norm for 9 adversaries is: 2.1665798927928432. distance: 0.46832954305368507
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2791, Accuracy: 6652/8991 (73.9851%)
time spent on training: 25.326424598693848
[foolsgold agg] training data poison_ratio: 0.8991183452017633  data num: [594, 584, 582, 595, 589, 584, 593, 594, 598, 585]
[foolsgold agg] considering poison per batch poison_fraction: 0.8991183452017633
[foolsgold agg] wv: [0. 0. 0. 1. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 19: Average loss: 1.6288, Accuracy: 6825/10000 (68.2500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 19: Average loss: 1.5654, Accuracy: 6788/8991 (75.4977%)
Done in 86.4279682636261 sec.
Server Epoch:20 choose agents : [23, 43, 27, 82, 37, 35, 29, 47, 11, 42].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 23, internal_epoch   1,  Average loss: 0.0293, Accuracy: 433/595 (72.7731%), train_poison_data_count: 595
Global model norm: 1.9759184500472642.
Norm before scaling: 2.1713499902904814. Distance: 0.47472103987354897
Total norm for 9 adversaries is: 2.1713499902904814. distance: 0.47472103987354897
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2961, Accuracy: 6207/8991 (69.0357%)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 43, internal_epoch   1,  Average loss: 0.0300, Accuracy: 395/584 (67.6370%), train_poison_data_count: 584
Global model norm: 1.9759184500472642.
Norm before scaling: 2.1711896734471394. Distance: 0.47118305732564514
Total norm for 9 adversaries is: 2.1711896734471394. distance: 0.47118305732564514
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2814, Accuracy: 6387/8991 (71.0377%)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 27, internal_epoch   1,  Average loss: 0.0296, Accuracy: 420/593 (70.8263%), train_poison_data_count: 593
Global model norm: 1.9759184500472642.
Norm before scaling: 2.17477256638128. Distance: 0.471581758873111
Total norm for 9 adversaries is: 2.17477256638128. distance: 0.471581758873111
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2792, Accuracy: 6405/8991 (71.2379%)
___Train Local_Simple,  epoch  20, local model 82, internal_epoch   1,  Average loss: 0.0313, Accuracy: 423/593 (71.3322%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.3581, Accuracy: 7908/10000 (79.0800%), Attack Success Rate:0/10000(0.000)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 37, internal_epoch   1,  Average loss: 0.0292, Accuracy: 444/594 (74.7475%), train_poison_data_count: 594
Global model norm: 1.9759184500472642.
Norm before scaling: 2.1721116629994155. Distance: 0.4723477893975883
Total norm for 9 adversaries is: 2.1721116629994155. distance: 0.4723477893975883
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2788, Accuracy: 6272/8991 (69.7586%)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 35, internal_epoch   1,  Average loss: 0.0303, Accuracy: 427/589 (72.4958%), train_poison_data_count: 589
Global model norm: 1.9759184500472642.
Norm before scaling: 2.162259669537755. Distance: 0.45642653015694273
Total norm for 9 adversaries is: 2.162259669537755. distance: 0.45642653015694273
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2747, Accuracy: 6676/8991 (74.2520%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 29, internal_epoch   1,  Average loss: 0.0304, Accuracy: 405/586 (69.1126%), train_poison_data_count: 586
Global model norm: 1.9759184500472642.
Norm before scaling: 2.1671331221421757. Distance: 0.47169232400904376
Total norm for 9 adversaries is: 2.1671331221421757. distance: 0.47169232400904376
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2874, Accuracy: 6448/8991 (71.7162%)
poison local model 47 index 46 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 47, internal_epoch   1,  Average loss: 0.0298, Accuracy: 412/586 (70.3072%), train_poison_data_count: 586
Global model norm: 1.9759184500472642.
Norm before scaling: 2.171446064918008. Distance: 0.4692764822407857
Total norm for 9 adversaries is: 2.171446064918008. distance: 0.4692764822407857
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2622, Accuracy: 6755/8991 (75.1307%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 11, internal_epoch   1,  Average loss: 0.0304, Accuracy: 440/589 (74.7029%), train_poison_data_count: 589
Global model norm: 1.9759184500472642.
Norm before scaling: 2.163373706697556. Distance: 0.45616351183166337
Total norm for 9 adversaries is: 2.163373706697556. distance: 0.45616351183166337
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2871, Accuracy: 6542/8991 (72.7617%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 42, internal_epoch   1,  Average loss: 0.0301, Accuracy: 445/609 (73.0706%), train_poison_data_count: 609
Global model norm: 1.9759184500472642.
Norm before scaling: 2.202167600561023. Distance: 0.5268694404679795
Total norm for 9 adversaries is: 2.202167600561023. distance: 0.5268694404679795
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2477, Accuracy: 6522/8991 (72.5392%)
time spent on training: 25.698766469955444
[foolsgold agg] training data poison_ratio: 0.8997972287935113  data num: [595, 584, 593, 593, 594, 589, 586, 586, 589, 609]
[foolsgold agg] considering poison per batch poison_fraction: 0.8997972287935113
[foolsgold agg] wv: [0. 0. 0. 1. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 20: Average loss: 1.6220, Accuracy: 6841/10000 (68.4100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 20: Average loss: 1.5602, Accuracy: 6805/8991 (75.6868%)
Done in 86.84720516204834 sec.
Server Epoch:21 choose agents : [33, 12, 93, 15, 41, 97, 20, 86, 54, 52].
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 33, internal_epoch   1,  Average loss: 0.0286, Accuracy: 458/598 (76.5886%), train_poison_data_count: 598
Global model norm: 1.9788475850201275.
Norm before scaling: 2.177032932507267. Distance: 0.47147710963658684
Total norm for 5 adversaries is: 2.177032932507267. distance: 0.47147710963658684
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.2729, Accuracy: 6369/8991 (70.8375%)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 12, internal_epoch   1,  Average loss: 0.0300, Accuracy: 414/581 (71.2565%), train_poison_data_count: 581
Global model norm: 1.9788475850201275.
Norm before scaling: 2.1728051478539836. Distance: 0.4713001975535629
Total norm for 5 adversaries is: 2.1728051478539836. distance: 0.4713001975535629
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.2747, Accuracy: 6531/8991 (72.6393%)
___Train Local_Simple,  epoch  21, local model 93, internal_epoch   1,  Average loss: 0.0312, Accuracy: 398/525 (75.8095%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.4288, Accuracy: 7372/10000 (73.7200%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 15, internal_epoch   1,  Average loss: 0.0304, Accuracy: 429/579 (74.0933%), train_poison_data_count: 579
Global model norm: 1.9788475850201275.
Norm before scaling: 2.1706620815722304. Distance: 0.4674317898177743
Total norm for 5 adversaries is: 2.1706620815722304. distance: 0.4674317898177743
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.2907, Accuracy: 6179/8991 (68.7243%)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch   1,  Average loss: 0.0302, Accuracy: 445/607 (73.3114%), train_poison_data_count: 607
Global model norm: 1.9788475850201275.
Norm before scaling: 2.2076586886401994. Distance: 0.5311473298436706
Total norm for 5 adversaries is: 2.2076586886401994. distance: 0.5311473298436706
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.2538, Accuracy: 6384/8991 (71.0043%)
___Train Local_Simple,  epoch  21, local model 97, internal_epoch   1,  Average loss: 0.0306, Accuracy: 413/536 (77.0522%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.4261, Accuracy: 7520/10000 (75.2000%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 20, internal_epoch   1,  Average loss: 0.0298, Accuracy: 419/591 (70.8968%), train_poison_data_count: 591
Global model norm: 1.9788475850201275.
Norm before scaling: 2.1721537020132065. Distance: 0.47098132574414736
Total norm for 5 adversaries is: 2.1721537020132065. distance: 0.47098132574414736
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.2907, Accuracy: 6141/8991 (68.3016%)
___Train Local_Simple,  epoch  21, local model 86, internal_epoch   1,  Average loss: 0.0310, Accuracy: 421/597 (70.5193%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.3476, Accuracy: 8047/10000 (80.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 54, internal_epoch   1,  Average loss: 0.0322, Accuracy: 419/577 (72.6170%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.3488, Accuracy: 7953/10000 (79.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 52, internal_epoch   1,  Average loss: 0.0309, Accuracy: 429/595 (72.1008%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.3459, Accuracy: 7959/10000 (79.5900%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.548762559890747
[foolsgold agg] training data poison_ratio: 0.5108883511925337  data num: [598, 581, 525, 579, 607, 536, 591, 597, 577, 595]
[foolsgold agg] considering poison per batch poison_fraction: 0.5108883511925337
[foolsgold agg] wv: [0.33290454 0.58807653 1.         1.         1.         1.
 0.33290454 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 21: Average loss: 1.5740, Accuracy: 6905/10000 (69.0500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 21: Average loss: 1.5100, Accuracy: 6870/8991 (76.4097%)
Done in 83.76595330238342 sec.
Server Epoch:22 choose agents : [24, 38, 42, 32, 60, 8, 35, 92, 27, 96].
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 24, internal_epoch   1,  Average loss: 0.0287, Accuracy: 442/596 (74.1611%), train_poison_data_count: 596
Global model norm: 2.0053977843784727.
Norm before scaling: 2.199111420907304. Distance: 0.4541602312151193
Total norm for 7 adversaries is: 2.199111420907304. distance: 0.4541602312151193
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2585, Accuracy: 6438/8991 (71.6049%)
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 38, internal_epoch   1,  Average loss: 0.0288, Accuracy: 445/591 (75.2961%), train_poison_data_count: 591
Global model norm: 2.0053977843784727.
Norm before scaling: 2.199436536070635. Distance: 0.45229755686235684
Total norm for 7 adversaries is: 2.199436536070635. distance: 0.45229755686235684
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2563, Accuracy: 6381/8991 (70.9710%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 42, internal_epoch   1,  Average loss: 0.0296, Accuracy: 472/609 (77.5041%), train_poison_data_count: 609
Global model norm: 2.0053977843784727.
Norm before scaling: 2.239327976543307. Distance: 0.5277443388613134
Total norm for 7 adversaries is: 2.239327976543307. distance: 0.5277443388613134
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2356, Accuracy: 6163/8991 (68.5463%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 32, internal_epoch   1,  Average loss: 0.0285, Accuracy: 457/601 (76.0399%), train_poison_data_count: 601
Global model norm: 2.0053977843784727.
Norm before scaling: 2.230825525934434. Distance: 0.5149817355630059
Total norm for 7 adversaries is: 2.230825525934434. distance: 0.5149817355630059
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2503, Accuracy: 5926/8991 (65.9104%)
___Train Local_Simple,  epoch  22, local model 60, internal_epoch   1,  Average loss: 0.0307, Accuracy: 420/595 (70.5882%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.3149, Accuracy: 8069/10000 (80.6900%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 8, internal_epoch   1,  Average loss: 0.0285, Accuracy: 432/593 (72.8499%), train_poison_data_count: 593
Global model norm: 2.0053977843784727.
Norm before scaling: 2.199205957514415. Distance: 0.44940331026334246
Total norm for 7 adversaries is: 2.199205957514415. distance: 0.44940331026334246
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2356, Accuracy: 6639/8991 (73.8405%)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 35, internal_epoch   1,  Average loss: 0.0292, Accuracy: 439/589 (74.5331%), train_poison_data_count: 589
Global model norm: 2.0053977843784727.
Norm before scaling: 2.197395069971801. Distance: 0.4495834528711046
Total norm for 7 adversaries is: 2.197395069971801. distance: 0.4495834528711046
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2424, Accuracy: 6472/8991 (71.9831%)
___Train Local_Simple,  epoch  22, local model 92, internal_epoch   1,  Average loss: 0.0299, Accuracy: 400/535 (74.7664%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.3944, Accuracy: 7521/10000 (75.2100%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 27, internal_epoch   1,  Average loss: 0.0284, Accuracy: 422/593 (71.1636%), train_poison_data_count: 593
Global model norm: 2.0053977843784727.
Norm before scaling: 2.202156990525242. Distance: 0.4513843415919733
Total norm for 7 adversaries is: 2.202156990525242. distance: 0.4513843415919733
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2491, Accuracy: 6517/8991 (72.4836%)
___Train Local_Simple,  epoch  22, local model 96, internal_epoch   1,  Average loss: 0.0289, Accuracy: 402/534 (75.2809%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.3948, Accuracy: 7245/10000 (72.4500%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.872427940368652
[foolsgold agg] training data poison_ratio: 0.7148732008224812  data num: [596, 591, 609, 601, 595, 593, 589, 535, 593, 534]
[foolsgold agg] considering poison per batch poison_fraction: 0.7148732008224812
[foolsgold agg] wv: [0.         0.         0.         0.14647106 1.         0.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 22: Average loss: 1.5671, Accuracy: 6920/10000 (69.2000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 22: Average loss: 1.5038, Accuracy: 6885/8991 (76.5766%)
Done in 85.25900840759277 sec.
Server Epoch:23 choose agents : [56, 82, 85, 17, 76, 61, 26, 86, 89, 75].
___Train Local_Simple,  epoch  23, local model 56, internal_epoch   1,  Average loss: 0.0303, Accuracy: 437/590 (74.0678%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3142, Accuracy: 8025/10000 (80.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 82, internal_epoch   1,  Average loss: 0.0302, Accuracy: 428/593 (72.1754%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3139, Accuracy: 8023/10000 (80.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 85, internal_epoch   1,  Average loss: 0.0303, Accuracy: 415/590 (70.3390%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3149, Accuracy: 7831/10000 (78.3100%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 17, internal_epoch   1,  Average loss: 0.0283, Accuracy: 439/588 (74.6599%), train_poison_data_count: 588
Global model norm: 2.008907984067998.
Norm before scaling: 2.2091273793579127. Distance: 0.4590835788735613
Total norm for 2 adversaries is: 2.2091273793579127. distance: 0.4590835788735613
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.2401, Accuracy: 6447/8991 (71.7050%)
___Train Local_Simple,  epoch  23, local model 76, internal_epoch   1,  Average loss: 0.0307, Accuracy: 421/593 (70.9949%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3144, Accuracy: 8022/10000 (80.2200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 61, internal_epoch   1,  Average loss: 0.0308, Accuracy: 414/589 (70.2886%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3134, Accuracy: 8092/10000 (80.9200%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 26, internal_epoch   1,  Average loss: 0.0292, Accuracy: 426/584 (72.9452%), train_poison_data_count: 584
Global model norm: 2.008907984067998.
Norm before scaling: 2.1994834727026014. Distance: 0.44212428069008985
Total norm for 2 adversaries is: 2.1994834727026014. distance: 0.44212428069008985
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.2239, Accuracy: 6841/8991 (76.0872%)
___Train Local_Simple,  epoch  23, local model 86, internal_epoch   1,  Average loss: 0.0301, Accuracy: 423/597 (70.8543%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3090, Accuracy: 8057/10000 (80.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 89, internal_epoch   1,  Average loss: 0.0302, Accuracy: 427/593 (72.0067%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3093, Accuracy: 7926/10000 (79.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 75, internal_epoch   1,  Average loss: 0.0305, Accuracy: 414/595 (69.5798%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3128, Accuracy: 7932/10000 (79.3200%), Attack Success Rate:0/10000(0.000)
time spent on training: 20.465648651123047
[foolsgold agg] training data poison_ratio: 0.19824086603518268  data num: [590, 593, 590, 588, 593, 589, 584, 597, 593, 595]
[foolsgold agg] considering poison per batch poison_fraction: 0.19824086603518268
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 23: Average loss: 1.5094, Accuracy: 7056/10000 (70.5600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 23: Average loss: 1.4500, Accuracy: 7022/8991 (78.1003%)
Done in 76.65429973602295 sec.
Server Epoch:24 choose agents : [36, 65, 96, 83, 63, 30, 94, 25, 52, 50].
poison local model 36 index 35 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 36, internal_epoch   1,  Average loss: 0.0272, Accuracy: 457/596 (76.6779%), train_poison_data_count: 596
Global model norm: 2.0420474132073587.
Norm before scaling: 2.2405248984051784. Distance: 0.44932039189037437
Total norm for 4 adversaries is: 2.2405248984051784. distance: 0.44932039189037437
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.2246, Accuracy: 6329/8991 (70.3926%)
___Train Local_Simple,  epoch  24, local model 65, internal_epoch   1,  Average loss: 0.0300, Accuracy: 409/586 (69.7952%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2751, Accuracy: 7916/10000 (79.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 96, internal_epoch   1,  Average loss: 0.0279, Accuracy: 409/534 (76.5918%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.3485, Accuracy: 7447/10000 (74.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 83, internal_epoch   1,  Average loss: 0.0295, Accuracy: 433/598 (72.4080%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2751, Accuracy: 8153/10000 (81.5300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 63, internal_epoch   1,  Average loss: 0.0292, Accuracy: 434/594 (73.0640%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2717, Accuracy: 7912/10000 (79.1200%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 30, internal_epoch   1,  Average loss: 0.0274, Accuracy: 461/590 (78.1356%), train_poison_data_count: 590
Global model norm: 2.0420474132073587.
Norm before scaling: 2.2449208257090922. Distance: 0.46220385632773525
Total norm for 4 adversaries is: 2.2449208257090922. distance: 0.46220385632773525
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.2076, Accuracy: 6487/8991 (72.1499%)
___Train Local_Simple,  epoch  24, local model 94, internal_epoch   1,  Average loss: 0.0282, Accuracy: 407/536 (75.9328%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.3497, Accuracy: 7598/10000 (75.9800%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 25, internal_epoch   1,  Average loss: 0.0276, Accuracy: 449/589 (76.2309%), train_poison_data_count: 589
Global model norm: 2.0420474132073587.
Norm before scaling: 2.239083617297814. Distance: 0.4400836405585373
Total norm for 4 adversaries is: 2.239083617297814. distance: 0.4400836405585373
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.2124, Accuracy: 6530/8991 (72.6282%)
___Train Local_Simple,  epoch  24, local model 52, internal_epoch   1,  Average loss: 0.0290, Accuracy: 451/595 (75.7983%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2733, Accuracy: 7974/10000 (79.7400%), Attack Success Rate:0/10000(0.000)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 50, internal_epoch   1,  Average loss: 0.0283, Accuracy: 443/582 (76.1168%), train_poison_data_count: 582
Global model norm: 2.0420474132073587.
Norm before scaling: 2.2382726219769897. Distance: 0.4406115543397212
Total norm for 4 adversaries is: 2.2382726219769897. distance: 0.4406115543397212
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.2171, Accuracy: 6361/8991 (70.7485%)
time spent on training: 19.01413083076477
[foolsgold agg] training data poison_ratio: 0.4063793103448276  data num: [596, 586, 534, 598, 594, 590, 536, 589, 595, 582]
[foolsgold agg] considering poison per batch poison_fraction: 0.4063793103448276
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 24: Average loss: 1.4612, Accuracy: 7094/10000 (70.9400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 24: Average loss: 1.3975, Accuracy: 7073/8991 (78.6676%)
Done in 74.46834230422974 sec.
Server Epoch:25 choose agents : [45, 6, 35, 17, 20, 73, 43, 8, 74, 3].
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 45, internal_epoch   1,  Average loss: 0.0264, Accuracy: 450/587 (76.6610%), train_poison_data_count: 587
Global model norm: 2.0765076273376897.
Norm before scaling: 2.279025312523332. Distance: 0.4393374481541509
Total norm for 8 adversaries is: 2.279025312523332. distance: 0.4393374481541509
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1749, Accuracy: 6707/8991 (74.5968%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 6, internal_epoch   1,  Average loss: 0.0263, Accuracy: 452/598 (75.5853%), train_poison_data_count: 598
Global model norm: 2.0765076273376897.
Norm before scaling: 2.271147003441802. Distance: 0.42597946312925555
Total norm for 8 adversaries is: 2.271147003441802. distance: 0.42597946312925555
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1661, Accuracy: 6825/8991 (75.9092%)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 35, internal_epoch   1,  Average loss: 0.0272, Accuracy: 456/589 (77.4194%), train_poison_data_count: 589
Global model norm: 2.0765076273376897.
Norm before scaling: 2.2657608517661876. Distance: 0.415719728502104
Total norm for 8 adversaries is: 2.2657608517661876. distance: 0.415719728502104
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1654, Accuracy: 6895/8991 (76.6878%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 17, internal_epoch   1,  Average loss: 0.0264, Accuracy: 469/588 (79.7619%), train_poison_data_count: 588
Global model norm: 2.0765076273376897.
Norm before scaling: 2.27607809658852. Distance: 0.4267227367939828
Total norm for 8 adversaries is: 2.27607809658852. distance: 0.4267227367939828
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1725, Accuracy: 6669/8991 (74.1742%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 20, internal_epoch   1,  Average loss: 0.0270, Accuracy: 457/591 (77.3266%), train_poison_data_count: 591
Global model norm: 2.0765076273376897.
Norm before scaling: 2.2720159431824944. Distance: 0.4293612021515597
Total norm for 8 adversaries is: 2.2720159431824944. distance: 0.4293612021515597
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1775, Accuracy: 6699/8991 (74.5078%)
___Train Local_Simple,  epoch  25, local model 73, internal_epoch   1,  Average loss: 0.0284, Accuracy: 444/600 (74.0000%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.2416, Accuracy: 8061/10000 (80.6100%), Attack Success Rate:0/10000(0.000)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 43, internal_epoch   1,  Average loss: 0.0272, Accuracy: 441/584 (75.5137%), train_poison_data_count: 584
Global model norm: 2.0765076273376897.
Norm before scaling: 2.2703358049765234. Distance: 0.4258995241852624
Total norm for 8 adversaries is: 2.2703358049765234. distance: 0.4258995241852624
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1845, Accuracy: 6586/8991 (73.2510%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 8, internal_epoch   1,  Average loss: 0.0267, Accuracy: 447/593 (75.3794%), train_poison_data_count: 593
Global model norm: 2.0765076273376897.
Norm before scaling: 2.2685594168657652. Distance: 0.4202888304842011
Total norm for 8 adversaries is: 2.2685594168657652. distance: 0.4202888304842011
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1708, Accuracy: 6737/8991 (74.9305%)
___Train Local_Simple,  epoch  25, local model 74, internal_epoch   1,  Average loss: 0.0290, Accuracy: 423/592 (71.4527%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.2437, Accuracy: 7979/10000 (79.7900%), Attack Success Rate:0/10000(0.000)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 3, internal_epoch   1,  Average loss: 0.0274, Accuracy: 450/585 (76.9231%), train_poison_data_count: 585
Global model norm: 2.0765076273376897.
Norm before scaling: 2.2714100609887975. Distance: 0.4292521438689508
Total norm for 8 adversaries is: 2.2714100609887975. distance: 0.4292521438689508
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1865, Accuracy: 6587/8991 (73.2622%)
time spent on training: 22.14559006690979
[foolsgold agg] training data poison_ratio: 0.79820551887591  data num: [587, 598, 589, 588, 591, 600, 584, 593, 592, 585]
[foolsgold agg] considering poison per batch poison_fraction: 0.79820551887591
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 25: Average loss: 1.4243, Accuracy: 7157/10000 (71.5700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 25: Average loss: 1.3398, Accuracy: 7139/8991 (79.4016%)
Done in 77.14209246635437 sec.
Server Epoch:26 choose agents : [39, 14, 32, 4, 30, 63, 23, 3, 94, 84].
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 39, internal_epoch   1,  Average loss: 0.0258, Accuracy: 466/583 (79.9314%), train_poison_data_count: 583
Global model norm: 2.1122710515843672.
Norm before scaling: 2.3090947829031756. Distance: 0.40464745400732094
Total norm for 7 adversaries is: 2.3090947829031756. distance: 0.40464745400732094
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1381, Accuracy: 6880/8991 (76.5210%)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 14, internal_epoch   1,  Average loss: 0.0252, Accuracy: 462/593 (77.9089%), train_poison_data_count: 593
Global model norm: 2.1122710515843672.
Norm before scaling: 2.307771539550604. Distance: 0.40425986890005344
Total norm for 7 adversaries is: 2.307771539550604. distance: 0.40425986890005344
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1314, Accuracy: 6977/8991 (77.5998%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 32, internal_epoch   1,  Average loss: 0.0259, Accuracy: 477/601 (79.3677%), train_poison_data_count: 601
Global model norm: 2.1122710515843672.
Norm before scaling: 2.338731708465276. Distance: 0.4588389876586881
Total norm for 7 adversaries is: 2.338731708465276. distance: 0.4588389876586881
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1278, Accuracy: 6626/8991 (73.6959%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 4, internal_epoch   1,  Average loss: 0.0265, Accuracy: 475/602 (78.9037%), train_poison_data_count: 602
Global model norm: 2.1122710515843672.
Norm before scaling: 2.336307662162467. Distance: 0.4513570727441047
Total norm for 7 adversaries is: 2.336307662162467. distance: 0.4513570727441047
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1209, Accuracy: 6735/8991 (74.9082%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 30, internal_epoch   1,  Average loss: 0.0253, Accuracy: 471/590 (79.8305%), train_poison_data_count: 590
Global model norm: 2.1122710515843672.
Norm before scaling: 2.311426893183459. Distance: 0.4165018133041549
Total norm for 7 adversaries is: 2.311426893183459. distance: 0.4165018133041549
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1261, Accuracy: 6960/8991 (77.4107%)
___Train Local_Simple,  epoch  26, local model 63, internal_epoch   1,  Average loss: 0.0277, Accuracy: 443/594 (74.5791%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.2107, Accuracy: 7960/10000 (79.6000%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 23, internal_epoch   1,  Average loss: 0.0256, Accuracy: 442/595 (74.2857%), train_poison_data_count: 595
Global model norm: 2.1122710515843672.
Norm before scaling: 2.3052264084576355. Distance: 0.40380425779512524
Total norm for 7 adversaries is: 2.3052264084576355. distance: 0.40380425779512524
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1416, Accuracy: 6776/8991 (75.3643%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 3, internal_epoch   1,  Average loss: 0.0264, Accuracy: 451/585 (77.0940%), train_poison_data_count: 585
Global model norm: 2.1122710515843672.
Norm before scaling: 2.304459900043436. Distance: 0.4017320816635116
Total norm for 7 adversaries is: 2.304459900043436. distance: 0.4017320816635116
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1381, Accuracy: 7000/8991 (77.8556%)
___Train Local_Simple,  epoch  26, local model 94, internal_epoch   1,  Average loss: 0.0265, Accuracy: 412/536 (76.8657%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.2806, Accuracy: 7656/10000 (76.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  26, local model 84, internal_epoch   1,  Average loss: 0.0277, Accuracy: 429/595 (72.1008%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.2151, Accuracy: 8008/10000 (80.0800%), Attack Success Rate:0/10000(0.000)
time spent on training: 21.33800220489502
[foolsgold agg] training data poison_ratio: 0.7063329928498467  data num: [583, 593, 601, 602, 590, 594, 595, 585, 536, 595]
[foolsgold agg] considering poison per batch poison_fraction: 0.7063329928498467
[foolsgold agg] wv: [0. 0. 1. 1. 0. 0. 0. 0. 1. 0.]
___Test Target_Simple poisoned: False, epoch: 26: Average loss: 1.4132, Accuracy: 7141/10000 (71.4100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 26: Average loss: 1.3250, Accuracy: 7123/8991 (79.2237%)
Done in 76.29975032806396 sec.
Server Epoch:27 choose agents : [69, 2, 42, 25, 17, 37, 45, 54, 30, 0].
___Train Local_Simple,  epoch  27, local model 69, internal_epoch   1,  Average loss: 0.0279, Accuracy: 429/590 (72.7119%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.2049, Accuracy: 8120/10000 (81.2000%), Attack Success Rate:0/10000(0.000)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 2, internal_epoch   1,  Average loss: 0.0257, Accuracy: 464/588 (78.9116%), train_poison_data_count: 588
Global model norm: 2.123457292544519.
Norm before scaling: 2.318353410309829. Distance: 0.40043703135937375
Total norm for 7 adversaries is: 2.318353410309829. distance: 0.40043703135937375
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1212, Accuracy: 7045/8991 (78.3561%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 42, internal_epoch   1,  Average loss: 0.0263, Accuracy: 497/609 (81.6092%), train_poison_data_count: 609
Global model norm: 2.123457292544519.
Norm before scaling: 2.350447786563931. Distance: 0.4534902744617265
Total norm for 7 adversaries is: 2.350447786563931. distance: 0.4534902744617265
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1171, Accuracy: 6747/8991 (75.0417%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 25, internal_epoch   1,  Average loss: 0.0256, Accuracy: 454/589 (77.0798%), train_poison_data_count: 589
Global model norm: 2.123457292544519.
Norm before scaling: 2.3173279753770477. Distance: 0.3929779901043848
Total norm for 7 adversaries is: 2.3173279753770477. distance: 0.3929779901043848
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1296, Accuracy: 6851/8991 (76.1984%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 17, internal_epoch   1,  Average loss: 0.0251, Accuracy: 463/588 (78.7415%), train_poison_data_count: 588
Global model norm: 2.123457292544519.
Norm before scaling: 2.3199636280563. Distance: 0.3960332888292839
Total norm for 7 adversaries is: 2.3199636280563. distance: 0.3960332888292839
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1219, Accuracy: 6939/8991 (77.1772%)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 37, internal_epoch   1,  Average loss: 0.0251, Accuracy: 470/594 (79.1246%), train_poison_data_count: 594
Global model norm: 2.123457292544519.
Norm before scaling: 2.3218323325014283. Distance: 0.40090873505065017
Total norm for 7 adversaries is: 2.3218323325014283. distance: 0.40090873505065017
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1241, Accuracy: 6758/8991 (75.1641%)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 45, internal_epoch   1,  Average loss: 0.0251, Accuracy: 456/587 (77.6831%), train_poison_data_count: 587
Global model norm: 2.123457292544519.
Norm before scaling: 2.3217744171412944. Distance: 0.4102084716976172
Total norm for 7 adversaries is: 2.3217744171412944. distance: 0.4102084716976172
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1333, Accuracy: 6903/8991 (76.7768%)
___Train Local_Simple,  epoch  27, local model 54, internal_epoch   1,  Average loss: 0.0283, Accuracy: 435/577 (75.3899%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.2070, Accuracy: 7895/10000 (78.9500%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 30, internal_epoch   1,  Average loss: 0.0253, Accuracy: 464/590 (78.6441%), train_poison_data_count: 590
Global model norm: 2.123457292544519.
Norm before scaling: 2.3197869627250687. Distance: 0.4085322244393706
Total norm for 7 adversaries is: 2.3197869627250687. distance: 0.4085322244393706
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1263, Accuracy: 6809/8991 (75.7313%)
___Train Local_Simple,  epoch  27, local model 0, internal_epoch   1,  Average loss: 0.0273, Accuracy: 445/594 (74.9158%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.2055, Accuracy: 8091/10000 (80.9100%), Attack Success Rate:0/10000(0.000)
time spent on training: 21.50075054168701
[foolsgold agg] training data poison_ratio: 0.7018286488316966  data num: [590, 588, 609, 589, 588, 594, 587, 577, 590, 594]
[foolsgold agg] considering poison per batch poison_fraction: 0.7018286488316966
[foolsgold agg] wv: [1.         0.70805225 1.         0.76643185 0.76070128 0.70805225
 0.85793713 1.         0.91788964 1.        ]
___Test Target_Simple poisoned: False, epoch: 27: Average loss: 1.3815, Accuracy: 7199/10000 (71.9900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 27: Average loss: 1.2826, Accuracy: 7181/8991 (79.8688%)
Done in 76.79087996482849 sec.
Server Epoch:28 choose agents : [33, 51, 17, 63, 6, 24, 82, 35, 80, 81].
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 33, internal_epoch   1,  Average loss: 0.0239, Accuracy: 486/598 (81.2709%), train_poison_data_count: 598
Global model norm: 2.155097100356012.
Norm before scaling: 2.352833958595198. Distance: 0.3841800978657907
Total norm for 5 adversaries is: 2.352833958595198. distance: 0.3841800978657907
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.0867, Accuracy: 7084/8991 (78.7899%)
___Train Local_Simple,  epoch  28, local model 51, internal_epoch   1,  Average loss: 0.0264, Accuracy: 437/595 (73.4454%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1751, Accuracy: 8172/10000 (81.7200%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 17, internal_epoch   1,  Average loss: 0.0245, Accuracy: 466/588 (79.2517%), train_poison_data_count: 588
Global model norm: 2.155097100356012.
Norm before scaling: 2.3523524785584593. Distance: 0.38506216637204227
Total norm for 5 adversaries is: 2.3523524785584593. distance: 0.38506216637204227
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.0906, Accuracy: 7016/8991 (78.0336%)
___Train Local_Simple,  epoch  28, local model 63, internal_epoch   1,  Average loss: 0.0268, Accuracy: 447/594 (75.2525%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1765, Accuracy: 7983/10000 (79.8300%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 6, internal_epoch   1,  Average loss: 0.0245, Accuracy: 471/598 (78.7625%), train_poison_data_count: 598
Global model norm: 2.155097100356012.
Norm before scaling: 2.346733127577636. Distance: 0.3817907048041591
Total norm for 5 adversaries is: 2.346733127577636. distance: 0.3817907048041591
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.1024, Accuracy: 7002/8991 (77.8779%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 24, internal_epoch   1,  Average loss: 0.0248, Accuracy: 474/596 (79.5302%), train_poison_data_count: 596
Global model norm: 2.155097100356012.
Norm before scaling: 2.346944437637878. Distance: 0.38053299050169204
Total norm for 5 adversaries is: 2.346944437637878. distance: 0.38053299050169204
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.1043, Accuracy: 6928/8991 (77.0548%)
___Train Local_Simple,  epoch  28, local model 82, internal_epoch   1,  Average loss: 0.0268, Accuracy: 446/593 (75.2108%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1809, Accuracy: 8119/10000 (81.1900%), Attack Success Rate:0/10000(0.000)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 35, internal_epoch   1,  Average loss: 0.0254, Accuracy: 456/589 (77.4194%), train_poison_data_count: 589
Global model norm: 2.155097100356012.
Norm before scaling: 2.342285003566677. Distance: 0.37559739847694
Total norm for 5 adversaries is: 2.342285003566677. distance: 0.37559739847694
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.0989, Accuracy: 6965/8991 (77.4664%)
___Train Local_Simple,  epoch  28, local model 80, internal_epoch   1,  Average loss: 0.0274, Accuracy: 428/595 (71.9328%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1797, Accuracy: 8076/10000 (80.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 81, internal_epoch   1,  Average loss: 0.0268, Accuracy: 443/591 (74.9577%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1789, Accuracy: 8030/10000 (80.3000%), Attack Success Rate:0/10000(0.000)
time spent on training: 20.206347227096558
[foolsgold agg] training data poison_ratio: 0.5000842176183258  data num: [598, 595, 588, 594, 598, 596, 593, 589, 595, 591]
[foolsgold agg] considering poison per batch poison_fraction: 0.5000842176183258
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 28: Average loss: 1.3432, Accuracy: 7274/10000 (72.7400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 28: Average loss: 1.2415, Accuracy: 7259/8991 (80.7363%)
Done in 75.07707071304321 sec.
Server Epoch:29 choose agents : [58, 90, 30, 72, 41, 25, 16, 91, 50, 57].
___Train Local_Simple,  epoch  29, local model 58, internal_epoch   1,  Average loss: 0.0273, Accuracy: 437/586 (74.5734%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1568, Accuracy: 8240/10000 (82.4000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 90, internal_epoch   1,  Average loss: 0.0262, Accuracy: 451/587 (76.8313%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1481, Accuracy: 8171/10000 (81.7100%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 30, internal_epoch   1,  Average loss: 0.0236, Accuracy: 487/590 (82.5424%), train_poison_data_count: 590
Global model norm: 2.1906189617775755.
Norm before scaling: 2.383765658490702. Distance: 0.3825821670153558
Total norm for 5 adversaries is: 2.383765658490702. distance: 0.3825821670153558
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.0714, Accuracy: 7000/8991 (77.8556%)
___Train Local_Simple,  epoch  29, local model 72, internal_epoch   1,  Average loss: 0.0269, Accuracy: 432/596 (72.4832%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1590, Accuracy: 8157/10000 (81.5700%), Attack Success Rate:0/10000(0.000)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 41, internal_epoch   1,  Average loss: 0.0247, Accuracy: 492/607 (81.0544%), train_poison_data_count: 607
Global model norm: 2.1906189617775755.
Norm before scaling: 2.4104112586046202. Distance: 0.41599184066766887
Total norm for 5 adversaries is: 2.4104112586046202. distance: 0.41599184066766887
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.0618, Accuracy: 6861/8991 (76.3096%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 25, internal_epoch   1,  Average loss: 0.0241, Accuracy: 468/589 (79.4567%), train_poison_data_count: 589
Global model norm: 2.1906189617775755.
Norm before scaling: 2.380727086761396. Distance: 0.3710497177502826
Total norm for 5 adversaries is: 2.380727086761396. distance: 0.3710497177502826
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.0844, Accuracy: 6814/8991 (75.7869%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 16, internal_epoch   1,  Average loss: 0.0239, Accuracy: 479/594 (80.6397%), train_poison_data_count: 594
Global model norm: 2.1906189617775755.
Norm before scaling: 2.384194995490045. Distance: 0.37307723156510136
Total norm for 5 adversaries is: 2.384194995490045. distance: 0.37307723156510136
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.0771, Accuracy: 7031/8991 (78.2004%)
___Train Local_Simple,  epoch  29, local model 91, internal_epoch   1,  Average loss: 0.0263, Accuracy: 437/584 (74.8288%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1484, Accuracy: 7977/10000 (79.7700%), Attack Success Rate:0/10000(0.000)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 50, internal_epoch   1,  Average loss: 0.0247, Accuracy: 446/582 (76.6323%), train_poison_data_count: 582
Global model norm: 2.1906189617775755.
Norm before scaling: 2.3812096379581504. Distance: 0.36855649396800344
Total norm for 5 adversaries is: 2.3812096379581504. distance: 0.36855649396800344
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.0633, Accuracy: 7087/8991 (78.8233%)
___Train Local_Simple,  epoch  29, local model 57, internal_epoch   1,  Average loss: 0.0260, Accuracy: 439/594 (73.9057%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1553, Accuracy: 8113/10000 (81.1300%), Attack Success Rate:0/10000(0.000)
time spent on training: 20.205246686935425
[foolsgold agg] training data poison_ratio: 0.5012692502961584  data num: [586, 587, 590, 596, 607, 589, 594, 584, 582, 594]
[foolsgold agg] considering poison per batch poison_fraction: 0.5012692502961584
[foolsgold agg] wv: [1.        1.        0.9236738 1.        1.        1.        0.9236738
 1.        1.        1.       ]
___Test Target_Simple poisoned: False, epoch: 29: Average loss: 1.3086, Accuracy: 7327/10000 (73.2700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 29: Average loss: 1.2046, Accuracy: 7313/8991 (81.3369%)
Done in 75.77735662460327 sec.
Server Epoch:30 choose agents : [50, 77, 73, 21, 10, 8, 40, 52, 45, 30].
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 50, internal_epoch   1,  Average loss: 0.0241, Accuracy: 452/582 (77.6632%), train_poison_data_count: 582
Global model norm: 2.225662317174722.
Norm before scaling: 2.4118118411511085. Distance: 0.35570503597973635
Total norm for 7 adversaries is: 2.4118118411511085. distance: 0.35570503597973635
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0422, Accuracy: 7133/8991 (79.3349%)
___Train Local_Simple,  epoch  30, local model 77, internal_epoch   1,  Average loss: 0.0259, Accuracy: 438/583 (75.1286%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.1309, Accuracy: 7908/10000 (79.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 73, internal_epoch   1,  Average loss: 0.0255, Accuracy: 451/600 (75.1667%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.1271, Accuracy: 8144/10000 (81.4400%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 21, internal_epoch   1,  Average loss: 0.0239, Accuracy: 449/592 (75.8446%), train_poison_data_count: 592
Global model norm: 2.225662317174722.
Norm before scaling: 2.405468900655139. Distance: 0.35060236475294454
Total norm for 7 adversaries is: 2.405468900655139. distance: 0.35060236475294454
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0536, Accuracy: 7040/8991 (78.3005%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 10, internal_epoch   1,  Average loss: 0.0255, Accuracy: 486/606 (80.1980%), train_poison_data_count: 606
Global model norm: 2.225662317174722.
Norm before scaling: 2.43318537780492. Distance: 0.3949564917661943
Total norm for 7 adversaries is: 2.43318537780492. distance: 0.3949564917661943
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0286, Accuracy: 7253/8991 (80.6696%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 8, internal_epoch   1,  Average loss: 0.0233, Accuracy: 469/593 (79.0894%), train_poison_data_count: 593
Global model norm: 2.225662317174722.
Norm before scaling: 2.4045025313775152. Distance: 0.34438461548177135
Total norm for 7 adversaries is: 2.4045025313775152. distance: 0.34438461548177135
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0402, Accuracy: 7207/8991 (80.1579%)
poison local model 40 index 39 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 40, internal_epoch   1,  Average loss: 0.0240, Accuracy: 450/576 (78.1250%), train_poison_data_count: 576
Global model norm: 2.225662317174722.
Norm before scaling: 2.4089819521990004. Distance: 0.35401575529065216
Total norm for 7 adversaries is: 2.4089819521990004. distance: 0.35401575529065216
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0546, Accuracy: 7074/8991 (78.6787%)
___Train Local_Simple,  epoch  30, local model 52, internal_epoch   1,  Average loss: 0.0252, Accuracy: 450/595 (75.6303%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.1263, Accuracy: 8104/10000 (81.0400%), Attack Success Rate:0/10000(0.000)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 45, internal_epoch   1,  Average loss: 0.0229, Accuracy: 477/587 (81.2606%), train_poison_data_count: 587
Global model norm: 2.225662317174722.
Norm before scaling: 2.4198037427342802. Distance: 0.36970861827673557
Total norm for 7 adversaries is: 2.4198037427342802. distance: 0.36970861827673557
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0475, Accuracy: 7013/8991 (78.0002%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 30, internal_epoch   1,  Average loss: 0.0230, Accuracy: 479/590 (81.1864%), train_poison_data_count: 590
Global model norm: 2.225662317174722.
Norm before scaling: 2.4142803599990716. Distance: 0.36741087591865956
Total norm for 7 adversaries is: 2.4142803599990716. distance: 0.36741087591865956
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0381, Accuracy: 7254/8991 (80.6807%)
time spent on training: 21.566645622253418
[foolsgold agg] training data poison_ratio: 0.6988482384823849  data num: [582, 583, 600, 592, 606, 593, 576, 595, 587, 590]
[foolsgold agg] considering poison per batch poison_fraction: 0.6988482384823849
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.88696818
 0.70860034 1.         1.         0.70860034]
___Test Target_Simple poisoned: False, epoch: 30: Average loss: 1.2827, Accuracy: 7371/10000 (73.7100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 30: Average loss: 1.1695, Accuracy: 7360/8991 (81.8596%)
Done in 76.97102618217468 sec.
Server Epoch:31 choose agents : [74, 9, 99, 85, 4, 11, 24, 42, 23, 25].
___Train Local_Simple,  epoch  31, local model 74, internal_epoch   1,  Average loss: 0.0256, Accuracy: 432/592 (72.9730%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.1086, Accuracy: 7954/10000 (79.5400%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 9, internal_epoch   1,  Average loss: 0.0232, Accuracy: 462/590 (78.3051%), train_poison_data_count: 590
Global model norm: 2.2589644822853154.
Norm before scaling: 2.443285897520031. Distance: 0.34750455054041185
Total norm for 7 adversaries is: 2.443285897520031. distance: 0.34750455054041185
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0275, Accuracy: 7059/8991 (78.5118%)
___Train Local_Simple,  epoch  31, local model 99, internal_epoch   1,  Average loss: 0.0215, Accuracy: 355/407 (87.2236%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.3403, Accuracy: 6431/10000 (64.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 85, internal_epoch   1,  Average loss: 0.0251, Accuracy: 438/590 (74.2373%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.1092, Accuracy: 8024/10000 (80.2400%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 4, internal_epoch   1,  Average loss: 0.0242, Accuracy: 478/602 (79.4020%), train_poison_data_count: 602
Global model norm: 2.2589644822853154.
Norm before scaling: 2.469993181721161. Distance: 0.3860089695350363
Total norm for 7 adversaries is: 2.469993181721161. distance: 0.3860089695350363
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0006, Accuracy: 7223/8991 (80.3359%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 11, internal_epoch   1,  Average loss: 0.0239, Accuracy: 458/589 (77.7589%), train_poison_data_count: 589
Global model norm: 2.2589644822853154.
Norm before scaling: 2.4368714720433133. Distance: 0.3397227433599556
Total norm for 7 adversaries is: 2.4368714720433133. distance: 0.3397227433599556
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0292, Accuracy: 7169/8991 (79.7353%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 24, internal_epoch   1,  Average loss: 0.0229, Accuracy: 478/596 (80.2013%), train_poison_data_count: 596
Global model norm: 2.2589644822853154.
Norm before scaling: 2.4452969974111727. Distance: 0.34879911287130944
Total norm for 7 adversaries is: 2.4452969974111727. distance: 0.34879911287130944
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0370, Accuracy: 6995/8991 (77.8000%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 42, internal_epoch   1,  Average loss: 0.0234, Accuracy: 502/609 (82.4302%), train_poison_data_count: 609
Global model norm: 2.2589644822853154.
Norm before scaling: 2.472852750325518. Distance: 0.3929466681220108
Total norm for 7 adversaries is: 2.472852750325518. distance: 0.3929466681220108
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0112, Accuracy: 7080/8991 (78.7454%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 23, internal_epoch   1,  Average loss: 0.0228, Accuracy: 452/595 (75.9664%), train_poison_data_count: 595
Global model norm: 2.2589644822853154.
Norm before scaling: 2.438890207425946. Distance: 0.33903716823332536
Total norm for 7 adversaries is: 2.438890207425946. distance: 0.33903716823332536
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0270, Accuracy: 7055/8991 (78.4674%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 25, internal_epoch   1,  Average loss: 0.0227, Accuracy: 484/589 (82.1732%), train_poison_data_count: 589
Global model norm: 2.2589644822853154.
Norm before scaling: 2.445436517172647. Distance: 0.345259689159186
Total norm for 7 adversaries is: 2.445436517172647. distance: 0.345259689159186
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0320, Accuracy: 7005/8991 (77.9112%)
time spent on training: 21.426063060760498
[foolsgold agg] training data poison_ratio: 0.7240840423684668  data num: [592, 590, 407, 590, 602, 589, 596, 609, 595, 589]
[foolsgold agg] considering poison per batch poison_fraction: 0.7240840423684668
[foolsgold agg] wv: [0. 0. 1. 0. 1. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 31: Average loss: 1.2789, Accuracy: 7358/10000 (73.5800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 31: Average loss: 1.1621, Accuracy: 7349/8991 (81.7373%)
Done in 76.24346899986267 sec.
Server Epoch:32 choose agents : [93, 87, 55, 70, 15, 90, 91, 86, 67, 20].
___Train Local_Simple,  epoch  32, local model 93, internal_epoch   1,  Average loss: 0.0248, Accuracy: 403/525 (76.7619%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1656, Accuracy: 7620/10000 (76.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 87, internal_epoch   1,  Average loss: 0.0246, Accuracy: 443/591 (74.9577%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.0979, Accuracy: 8158/10000 (81.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 55, internal_epoch   1,  Average loss: 0.0256, Accuracy: 423/592 (71.4527%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1045, Accuracy: 8204/10000 (82.0400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 70, internal_epoch   1,  Average loss: 0.0256, Accuracy: 436/596 (73.1544%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1037, Accuracy: 8142/10000 (81.4200%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 15, internal_epoch   1,  Average loss: 0.0237, Accuracy: 458/579 (79.1019%), train_poison_data_count: 579
Global model norm: 2.265784001525972.
Norm before scaling: 2.445762032331176. Distance: 0.3404361888376321
Total norm for 2 adversaries is: 2.445762032331176. distance: 0.3404361888376321
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.0291, Accuracy: 7057/8991 (78.4896%)
___Train Local_Simple,  epoch  32, local model 90, internal_epoch   1,  Average loss: 0.0250, Accuracy: 445/587 (75.8092%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1007, Accuracy: 8147/10000 (81.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 91, internal_epoch   1,  Average loss: 0.0251, Accuracy: 439/584 (75.1712%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1015, Accuracy: 8015/10000 (80.1500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 86, internal_epoch   1,  Average loss: 0.0248, Accuracy: 442/597 (74.0369%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1023, Accuracy: 8231/10000 (82.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 67, internal_epoch   1,  Average loss: 0.0254, Accuracy: 448/584 (76.7123%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1065, Accuracy: 8215/10000 (82.1500%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 20, internal_epoch   1,  Average loss: 0.0230, Accuracy: 464/591 (78.5110%), train_poison_data_count: 591
Global model norm: 2.265784001525972.
Norm before scaling: 2.4453597871638397. Distance: 0.33847750153496603
Total norm for 2 adversaries is: 2.4453597871638397. distance: 0.33847750153496603
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.0202, Accuracy: 7156/8991 (79.5907%)
time spent on training: 18.343058824539185
[foolsgold agg] training data poison_ratio: 0.2008238928939238  data num: [525, 591, 592, 596, 579, 587, 584, 597, 584, 591]
[foolsgold agg] considering poison per batch poison_fraction: 0.2008238928939238
[foolsgold agg] wv: [1.         0.         0.01957451 0.12024564 0.         0.19563631
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 32: Average loss: 1.2728, Accuracy: 7344/10000 (73.4400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 32: Average loss: 1.1596, Accuracy: 7336/8991 (81.5927%)
Done in 73.36167573928833 sec.
Server Epoch:33 choose agents : [77, 57, 21, 67, 14, 97, 28, 22, 70, 93].
___Train Local_Simple,  epoch  33, local model 77, internal_epoch   1,  Average loss: 0.0252, Accuracy: 444/583 (76.1578%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.0987, Accuracy: 8008/10000 (80.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 57, internal_epoch   1,  Average loss: 0.0248, Accuracy: 444/594 (74.7475%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.0994, Accuracy: 8178/10000 (81.7800%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 21, internal_epoch   1,  Average loss: 0.0231, Accuracy: 464/592 (78.3784%), train_poison_data_count: 592
Global model norm: 2.26975373902713.
Norm before scaling: 2.444029742763865. Distance: 0.3380982747683529
Total norm for 4 adversaries is: 2.444029742763865. distance: 0.3380982747683529
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.0298, Accuracy: 7096/8991 (78.9234%)
___Train Local_Simple,  epoch  33, local model 67, internal_epoch   1,  Average loss: 0.0253, Accuracy: 442/584 (75.6849%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.0988, Accuracy: 8207/10000 (82.0700%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 14, internal_epoch   1,  Average loss: 0.0222, Accuracy: 482/593 (81.2816%), train_poison_data_count: 593
Global model norm: 2.26975373902713.
Norm before scaling: 2.454734322959101. Distance: 0.35376717906526484
Total norm for 4 adversaries is: 2.454734322959101. distance: 0.35376717906526484
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.0216, Accuracy: 7133/8991 (79.3349%)
___Train Local_Simple,  epoch  33, local model 97, internal_epoch   1,  Average loss: 0.0244, Accuracy: 417/536 (77.7985%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1641, Accuracy: 7655/10000 (76.5500%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 28, internal_epoch   1,  Average loss: 0.0239, Accuracy: 451/584 (77.2260%), train_poison_data_count: 584
Global model norm: 2.26975373902713.
Norm before scaling: 2.4440829077111164. Distance: 0.3365490138186371
Total norm for 4 adversaries is: 2.4440829077111164. distance: 0.3365490138186371
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.0281, Accuracy: 7091/8991 (78.8678%)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 22, internal_epoch   1,  Average loss: 0.0228, Accuracy: 472/591 (79.8646%), train_poison_data_count: 591
Global model norm: 2.26975373902713.
Norm before scaling: 2.451253675334535. Distance: 0.344213574111265
Total norm for 4 adversaries is: 2.451253675334535. distance: 0.344213574111265
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.0197, Accuracy: 7165/8991 (79.6908%)
___Train Local_Simple,  epoch  33, local model 70, internal_epoch   1,  Average loss: 0.0254, Accuracy: 435/596 (72.9866%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1045, Accuracy: 8142/10000 (81.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 93, internal_epoch   1,  Average loss: 0.0247, Accuracy: 403/525 (76.7619%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1605, Accuracy: 7601/10000 (76.0100%), Attack Success Rate:0/10000(0.000)
time spent on training: 19.645886421203613
[foolsgold agg] training data poison_ratio: 0.40844582900657667  data num: [583, 594, 592, 584, 593, 536, 584, 591, 596, 525]
[foolsgold agg] considering poison per batch poison_fraction: 0.4084458290065767
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 33: Average loss: 1.2410, Accuracy: 7367/10000 (73.6700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 33: Average loss: 1.1318, Accuracy: 7356/8991 (81.8151%)
Done in 74.58599162101746 sec.
Server Epoch:34 choose agents : [37, 49, 41, 50, 71, 60, 42, 83, 26, 48].
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 37, internal_epoch   1,  Average loss: 0.0220, Accuracy: 483/594 (81.3131%), train_poison_data_count: 594
Global model norm: 2.303280675794958.
Norm before scaling: 2.4817379565361266. Distance: 0.3337565643400789
Total norm for 7 adversaries is: 2.4817379565361266. distance: 0.3337565643400789
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 0.9955, Accuracy: 7150/8991 (79.5240%)
poison local model 49 index 48 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 49, internal_epoch   1,  Average loss: 0.0234, Accuracy: 487/609 (79.9672%), train_poison_data_count: 609
Global model norm: 2.303280675794958.
Norm before scaling: 2.506007986203656. Distance: 0.37699630964304437
Total norm for 7 adversaries is: 2.506007986203656. distance: 0.37699630964304437
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 0.9828, Accuracy: 7181/8991 (79.8688%)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 41, internal_epoch   1,  Average loss: 0.0228, Accuracy: 479/607 (78.9127%), train_poison_data_count: 607
Global model norm: 2.303280675794958.
Norm before scaling: 2.509859004676987. Distance: 0.3739130041370839
Total norm for 7 adversaries is: 2.509859004676987. distance: 0.3739130041370839
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 0.9820, Accuracy: 7151/8991 (79.5351%)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 50, internal_epoch   1,  Average loss: 0.0227, Accuracy: 459/582 (78.8660%), train_poison_data_count: 582
Global model norm: 2.303280675794958.
Norm before scaling: 2.479764006215062. Distance: 0.328251155942754
Total norm for 7 adversaries is: 2.479764006215062. distance: 0.328251155942754
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 0.9958, Accuracy: 7203/8991 (80.1134%)
___Train Local_Simple,  epoch  34, local model 71, internal_epoch   1,  Average loss: 0.0258, Accuracy: 459/608 (75.4934%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.0639, Accuracy: 8206/10000 (82.0600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 60, internal_epoch   1,  Average loss: 0.0246, Accuracy: 444/595 (74.6218%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.0759, Accuracy: 8222/10000 (82.2200%), Attack Success Rate:0/10000(0.000)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 42, internal_epoch   1,  Average loss: 0.0225, Accuracy: 494/609 (81.1166%), train_poison_data_count: 609
Global model norm: 2.303280675794958.
Norm before scaling: 2.512239535671036. Distance: 0.3812476892870309
Total norm for 7 adversaries is: 2.512239535671036. distance: 0.3812476892870309
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 0.9823, Accuracy: 7214/8991 (80.2358%)
___Train Local_Simple,  epoch  34, local model 83, internal_epoch   1,  Average loss: 0.0246, Accuracy: 442/598 (73.9130%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.0785, Accuracy: 8221/10000 (82.2100%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 26, internal_epoch   1,  Average loss: 0.0229, Accuracy: 459/584 (78.5959%), train_poison_data_count: 584
Global model norm: 2.303280675794958.
Norm before scaling: 2.4781941234670106. Distance: 0.3304400294022916
Total norm for 7 adversaries is: 2.4781941234670106. distance: 0.3304400294022916
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 0.9956, Accuracy: 7268/8991 (80.8364%)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 48, internal_epoch   1,  Average loss: 0.0226, Accuracy: 468/588 (79.5918%), train_poison_data_count: 588
Global model norm: 2.303280675794958.
Norm before scaling: 2.4789853924639824. Distance: 0.3357322531623453
Total norm for 7 adversaries is: 2.4789853924639824. distance: 0.3357322531623453
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.0001, Accuracy: 7124/8991 (79.2348%)
time spent on training: 21.60517954826355
[foolsgold agg] training data poison_ratio: 0.6985269501171745  data num: [594, 609, 607, 582, 608, 595, 609, 598, 584, 588]
[foolsgold agg] considering poison per batch poison_fraction: 0.6985269501171745
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 34: Average loss: 1.2181, Accuracy: 7398/10000 (73.9800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 34: Average loss: 1.0982, Accuracy: 7391/8991 (82.2044%)
Done in 76.9678156375885 sec.
Server Epoch:35 choose agents : [50, 36, 53, 79, 33, 25, 15, 1, 65, 98].
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 50, internal_epoch   1,  Average loss: 0.0222, Accuracy: 462/582 (79.3814%), train_poison_data_count: 582
Global model norm: 2.339376718213212.
Norm before scaling: 2.5157947364551307. Distance: 0.321175888674856
Total norm for 6 adversaries is: 2.5157947364551307. distance: 0.321175888674856
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 0.9716, Accuracy: 7257/8991 (80.7140%)
poison local model 36 index 35 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 36, internal_epoch   1,  Average loss: 0.0213, Accuracy: 484/596 (81.2081%), train_poison_data_count: 596
Global model norm: 2.339376718213212.
Norm before scaling: 2.514310125907447. Distance: 0.32626362041381707
Total norm for 6 adversaries is: 2.514310125907447. distance: 0.32626362041381707
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 0.9800, Accuracy: 7255/8991 (80.6918%)
___Train Local_Simple,  epoch  35, local model 53, internal_epoch   1,  Average loss: 0.0239, Accuracy: 449/585 (76.7521%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.0572, Accuracy: 8123/10000 (81.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 79, internal_epoch   1,  Average loss: 0.0254, Accuracy: 407/584 (69.6918%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.0652, Accuracy: 8149/10000 (81.4900%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 33, internal_epoch   1,  Average loss: 0.0207, Accuracy: 501/598 (83.7793%), train_poison_data_count: 598
Global model norm: 2.339376718213212.
Norm before scaling: 2.5199912900622783. Distance: 0.32412388574237305
Total norm for 6 adversaries is: 2.5199912900622783. distance: 0.32412388574237305
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 0.9718, Accuracy: 7208/8991 (80.1691%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 25, internal_epoch   1,  Average loss: 0.0215, Accuracy: 467/589 (79.2869%), train_poison_data_count: 589
Global model norm: 2.339376718213212.
Norm before scaling: 2.5159351797381024. Distance: 0.3169990567011291
Total norm for 6 adversaries is: 2.5159351797381024. distance: 0.3169990567011291
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 0.9810, Accuracy: 7082/8991 (78.7677%)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 15, internal_epoch   1,  Average loss: 0.0225, Accuracy: 469/579 (81.0017%), train_poison_data_count: 579
Global model norm: 2.339376718213212.
Norm before scaling: 2.5141276766601055. Distance: 0.32568208388131553
Total norm for 6 adversaries is: 2.5141276766601055. distance: 0.32568208388131553
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 0.9877, Accuracy: 7105/8991 (79.0235%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 1, internal_epoch   1,  Average loss: 0.0225, Accuracy: 459/595 (77.1429%), train_poison_data_count: 595
Global model norm: 2.339376718213212.
Norm before scaling: 2.5067065881363835. Distance: 0.3167925231107867
Total norm for 6 adversaries is: 2.5067065881363835. distance: 0.3167925231107867
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 0.9764, Accuracy: 7436/8991 (82.7049%)
___Train Local_Simple,  epoch  35, local model 65, internal_epoch   1,  Average loss: 0.0247, Accuracy: 433/586 (73.8908%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.0620, Accuracy: 8073/10000 (80.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 98, internal_epoch   1,  Average loss: 0.0211, Accuracy: 394/497 (79.2757%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.1415, Accuracy: 7040/10000 (70.4000%), Attack Success Rate:0/10000(0.000)
time spent on training: 21.041393280029297
[foolsgold agg] training data poison_ratio: 0.61112070454153  data num: [582, 596, 585, 584, 598, 589, 579, 595, 586, 497]
[foolsgold agg] considering poison per batch poison_fraction: 0.61112070454153
[foolsgold agg] wv: [0. 0. 0. 0. 0. 0. 0. 0. 0. 1.]
___Test Target_Simple poisoned: False, epoch: 35: Average loss: 1.2148, Accuracy: 7394/10000 (73.9400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 35: Average loss: 1.0966, Accuracy: 7386/8991 (82.1488%)
Done in 76.41352105140686 sec.
Server Epoch:36 choose agents : [82, 4, 79, 32, 47, 44, 89, 48, 70, 77].
___Train Local_Simple,  epoch  36, local model 82, internal_epoch   1,  Average loss: 0.0237, Accuracy: 447/593 (75.3794%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.0596, Accuracy: 8215/10000 (82.1500%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 4, internal_epoch   1,  Average loss: 0.0227, Accuracy: 477/602 (79.2359%), train_poison_data_count: 602
Global model norm: 2.342100554844451.
Norm before scaling: 2.541597761460454. Distance: 0.36164139235574366
Total norm for 5 adversaries is: 2.541597761460454. distance: 0.36164139235574366
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 0.9621, Accuracy: 7156/8991 (79.5907%)
___Train Local_Simple,  epoch  36, local model 79, internal_epoch   1,  Average loss: 0.0255, Accuracy: 414/584 (70.8904%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.0607, Accuracy: 8183/10000 (81.8300%), Attack Success Rate:0/10000(0.000)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 32, internal_epoch   1,  Average loss: 0.0228, Accuracy: 490/601 (81.5308%), train_poison_data_count: 601
Global model norm: 2.342100554844451.
Norm before scaling: 2.541476560476683. Distance: 0.3700984658209216
Total norm for 5 adversaries is: 2.541476560476683. distance: 0.3700984658209216
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 0.9559, Accuracy: 7314/8991 (81.3480%)
poison local model 47 index 46 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 47, internal_epoch   1,  Average loss: 0.0216, Accuracy: 480/586 (81.9113%), train_poison_data_count: 586
Global model norm: 2.342100554844451.
Norm before scaling: 2.5202841883072518. Distance: 0.32216944559758426
Total norm for 5 adversaries is: 2.5202841883072518. distance: 0.32216944559758426
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 0.9647, Accuracy: 7364/8991 (81.9041%)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 44, internal_epoch   1,  Average loss: 0.0218, Accuracy: 464/598 (77.5920%), train_poison_data_count: 598
Global model norm: 2.342100554844451.
Norm before scaling: 2.513393099130746. Distance: 0.32341889452287753
Total norm for 5 adversaries is: 2.513393099130746. distance: 0.32341889452287753
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 0.9775, Accuracy: 7224/8991 (80.3470%)
___Train Local_Simple,  epoch  36, local model 89, internal_epoch   1,  Average loss: 0.0241, Accuracy: 448/593 (75.5481%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.0606, Accuracy: 8180/10000 (81.8000%), Attack Success Rate:0/10000(0.000)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 48, internal_epoch   1,  Average loss: 0.0220, Accuracy: 480/588 (81.6327%), train_poison_data_count: 588
Global model norm: 2.342100554844451.
Norm before scaling: 2.5148962635768366. Distance: 0.3164609343756907
Total norm for 5 adversaries is: 2.5148962635768366. distance: 0.3164609343756907
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 0.9690, Accuracy: 7288/8991 (81.0588%)
___Train Local_Simple,  epoch  36, local model 70, internal_epoch   1,  Average loss: 0.0245, Accuracy: 441/596 (73.9933%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.0597, Accuracy: 8174/10000 (81.7400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 77, internal_epoch   1,  Average loss: 0.0242, Accuracy: 442/583 (75.8148%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.0581, Accuracy: 8065/10000 (80.6500%), Attack Success Rate:0/10000(0.000)
time spent on training: 20.362759113311768
[foolsgold agg] training data poison_ratio: 0.5021944632005402  data num: [593, 602, 584, 601, 586, 598, 593, 588, 596, 583]
[foolsgold agg] considering poison per batch poison_fraction: 0.5021944632005402
[foolsgold agg] wv: [0.        0.8561787 0.        1.        0.        0.        0.
 0.        0.        0.       ]
___Test Target_Simple poisoned: False, epoch: 36: Average loss: 1.2113, Accuracy: 7395/10000 (73.9500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 36: Average loss: 1.0893, Accuracy: 7387/8991 (82.1599%)
Done in 76.09169459342957 sec.
Server Epoch:37 choose agents : [27, 30, 33, 41, 5, 52, 84, 43, 62, 18].
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 27, internal_epoch   1,  Average loss: 0.0213, Accuracy: 485/593 (81.7875%), train_poison_data_count: 593
Global model norm: 2.3490302053030363.
Norm before scaling: 2.524484895343287. Distance: 0.3203164774950145
Total norm for 7 adversaries is: 2.524484895343287. distance: 0.3203164774950145
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9766, Accuracy: 7202/8991 (80.1023%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 30, internal_epoch   1,  Average loss: 0.0210, Accuracy: 495/590 (83.8983%), train_poison_data_count: 590
Global model norm: 2.3490302053030363.
Norm before scaling: 2.525232580067638. Distance: 0.329125910008321
Total norm for 7 adversaries is: 2.525232580067638. distance: 0.329125910008321
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9639, Accuracy: 7324/8991 (81.4592%)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 33, internal_epoch   1,  Average loss: 0.0205, Accuracy: 498/598 (83.2776%), train_poison_data_count: 598
Global model norm: 2.3490302053030363.
Norm before scaling: 2.529974627914162. Distance: 0.31783553479793636
Total norm for 7 adversaries is: 2.529974627914162. distance: 0.31783553479793636
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9615, Accuracy: 7241/8991 (80.5361%)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 41, internal_epoch   1,  Average loss: 0.0219, Accuracy: 497/607 (81.8781%), train_poison_data_count: 607
Global model norm: 2.3490302053030363.
Norm before scaling: 2.549967754384529. Distance: 0.35495729646256285
Total norm for 7 adversaries is: 2.549967754384529. distance: 0.35495729646256285
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9559, Accuracy: 7220/8991 (80.3025%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 5, internal_epoch   1,  Average loss: 0.0217, Accuracy: 480/588 (81.6327%), train_poison_data_count: 588
Global model norm: 2.3490302053030363.
Norm before scaling: 2.524714946708596. Distance: 0.32316476638073593
Total norm for 7 adversaries is: 2.524714946708596. distance: 0.32316476638073593
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9835, Accuracy: 7113/8991 (79.1124%)
___Train Local_Simple,  epoch  37, local model 52, internal_epoch   1,  Average loss: 0.0233, Accuracy: 458/595 (76.9748%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.0515, Accuracy: 8227/10000 (82.2700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 84, internal_epoch   1,  Average loss: 0.0240, Accuracy: 441/595 (74.1176%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.0553, Accuracy: 8179/10000 (81.7900%), Attack Success Rate:0/10000(0.000)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 43, internal_epoch   1,  Average loss: 0.0218, Accuracy: 471/584 (80.6507%), train_poison_data_count: 584
Global model norm: 2.3490302053030363.
Norm before scaling: 2.5209682417991046. Distance: 0.3273288741635126
Total norm for 7 adversaries is: 2.5209682417991046. distance: 0.3273288741635126
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9827, Accuracy: 7149/8991 (79.5128%)
___Train Local_Simple,  epoch  37, local model 62, internal_epoch   1,  Average loss: 0.0240, Accuracy: 436/589 (74.0238%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.0544, Accuracy: 8166/10000 (81.6600%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 18, internal_epoch   1,  Average loss: 0.0220, Accuracy: 463/583 (79.4168%), train_poison_data_count: 583
Global model norm: 2.3490302053030363.
Norm before scaling: 2.524475356636192. Distance: 0.3210219574464082
Total norm for 7 adversaries is: 2.524475356636192. distance: 0.3210219574464082
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9700, Accuracy: 7254/8991 (80.6807%)
time spent on training: 21.605461359024048
[foolsgold agg] training data poison_ratio: 0.6995947315096251  data num: [593, 590, 598, 607, 588, 595, 595, 584, 589, 583]
[foolsgold agg] considering poison per batch poison_fraction: 0.6995947315096251
[foolsgold agg] wv: [1.         1.         0.80892304 1.         1.         1.
 1.         1.         1.         0.80892304]
___Test Target_Simple poisoned: False, epoch: 37: Average loss: 1.1909, Accuracy: 7416/10000 (74.1600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 37: Average loss: 1.0616, Accuracy: 7409/8991 (82.4046%)
Done in 77.09032201766968 sec.
Server Epoch:38 choose agents : [39, 29, 87, 78, 53, 83, 19, 45, 52, 17].
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 39, internal_epoch   1,  Average loss: 0.0208, Accuracy: 493/583 (84.5626%), train_poison_data_count: 583
Global model norm: 2.382594864708887.
Norm before scaling: 2.55573561513204. Distance: 0.3097614456414348
Total norm for 5 adversaries is: 2.55573561513204. distance: 0.3097614456414348
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 0.9460, Accuracy: 7329/8991 (81.5148%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 29, internal_epoch   1,  Average loss: 0.0215, Accuracy: 467/586 (79.6928%), train_poison_data_count: 586
Global model norm: 2.382594864708887.
Norm before scaling: 2.54969322752844. Distance: 0.31328751755150336
Total norm for 5 adversaries is: 2.54969322752844. distance: 0.31328751755150336
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 0.9582, Accuracy: 7282/8991 (80.9921%)
___Train Local_Simple,  epoch  38, local model 87, internal_epoch   1,  Average loss: 0.0228, Accuracy: 454/591 (76.8190%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0304, Accuracy: 8180/10000 (81.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 78, internal_epoch   1,  Average loss: 0.0239, Accuracy: 453/600 (75.5000%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0390, Accuracy: 8147/10000 (81.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 53, internal_epoch   1,  Average loss: 0.0236, Accuracy: 455/585 (77.7778%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0344, Accuracy: 8178/10000 (81.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 83, internal_epoch   1,  Average loss: 0.0236, Accuracy: 443/598 (74.0803%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0347, Accuracy: 8264/10000 (82.6400%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 19, internal_epoch   1,  Average loss: 0.0209, Accuracy: 488/595 (82.0168%), train_poison_data_count: 595
Global model norm: 2.382594864708887.
Norm before scaling: 2.554715217649951. Distance: 0.3140321128530432
Total norm for 5 adversaries is: 2.554715217649951. distance: 0.3140321128530432
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 0.9512, Accuracy: 7234/8991 (80.4582%)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 45, internal_epoch   1,  Average loss: 0.0204, Accuracy: 474/587 (80.7496%), train_poison_data_count: 587
Global model norm: 2.382594864708887.
Norm before scaling: 2.5575785013122774. Distance: 0.32124385109816733
Total norm for 5 adversaries is: 2.5575785013122774. distance: 0.32124385109816733
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 0.9568, Accuracy: 7245/8991 (80.5806%)
___Train Local_Simple,  epoch  38, local model 52, internal_epoch   1,  Average loss: 0.0230, Accuracy: 445/595 (74.7899%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0346, Accuracy: 8098/10000 (80.9800%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 17, internal_epoch   1,  Average loss: 0.0206, Accuracy: 488/588 (82.9932%), train_poison_data_count: 588
Global model norm: 2.382594864708887.
Norm before scaling: 2.55755594186764. Distance: 0.310343285768934
Total norm for 5 adversaries is: 2.55755594186764. distance: 0.310343285768934
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 0.9543, Accuracy: 7205/8991 (80.1357%)
time spent on training: 20.348244667053223
[foolsgold agg] training data poison_ratio: 0.4974610697359513  data num: [583, 586, 591, 600, 585, 598, 595, 587, 595, 588]
[foolsgold agg] considering poison per batch poison_fraction: 0.4974610697359513
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 38: Average loss: 1.1656, Accuracy: 7457/10000 (74.5700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 38: Average loss: 1.0374, Accuracy: 7450/8991 (82.8606%)
Done in 75.92195677757263 sec.
Server Epoch:39 choose agents : [3, 34, 32, 5, 73, 14, 40, 88, 72, 13].
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 3, internal_epoch   1,  Average loss: 0.0212, Accuracy: 476/585 (81.3675%), train_poison_data_count: 585
Global model norm: 2.415945559374593.
Norm before scaling: 2.5805158222188687. Distance: 0.30533578569135017
Total norm for 7 adversaries is: 2.5805158222188687. distance: 0.30533578569135017
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9470, Accuracy: 7208/8991 (80.1691%)
poison local model 34 index 33 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 34, internal_epoch   1,  Average loss: 0.0204, Accuracy: 489/593 (82.4621%), train_poison_data_count: 593
Global model norm: 2.415945559374593.
Norm before scaling: 2.5894841423484563. Distance: 0.3080490955463339
Total norm for 7 adversaries is: 2.5894841423484563. distance: 0.3080490955463339
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9270, Accuracy: 7312/8991 (81.3258%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 32, internal_epoch   1,  Average loss: 0.0207, Accuracy: 482/601 (80.1997%), train_poison_data_count: 601
Global model norm: 2.415945559374593.
Norm before scaling: 2.6077121758748243. Distance: 0.33832784160062523
Total norm for 7 adversaries is: 2.6077121758748243. distance: 0.33832784160062523
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9139, Accuracy: 7446/8991 (82.8161%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 5, internal_epoch   1,  Average loss: 0.0208, Accuracy: 480/588 (81.6327%), train_poison_data_count: 588
Global model norm: 2.415945559374593.
Norm before scaling: 2.5861245632220125. Distance: 0.30276324226814755
Total norm for 7 adversaries is: 2.5861245632220125. distance: 0.30276324226814755
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9331, Accuracy: 7327/8991 (81.4926%)
___Train Local_Simple,  epoch  39, local model 73, internal_epoch   1,  Average loss: 0.0228, Accuracy: 446/600 (74.3333%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.0166, Accuracy: 8268/10000 (82.6800%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 14, internal_epoch   1,  Average loss: 0.0200, Accuracy: 490/593 (82.6307%), train_poison_data_count: 593
Global model norm: 2.415945559374593.
Norm before scaling: 2.587090641387613. Distance: 0.31240676442697596
Total norm for 7 adversaries is: 2.587090641387613. distance: 0.31240676442697596
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9279, Accuracy: 7351/8991 (81.7595%)
poison local model 40 index 39 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 40, internal_epoch   1,  Average loss: 0.0212, Accuracy: 466/576 (80.9028%), train_poison_data_count: 576
Global model norm: 2.415945559374593.
Norm before scaling: 2.5812626097142535. Distance: 0.2960215649143496
Total norm for 7 adversaries is: 2.5812626097142535. distance: 0.2960215649143496
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9329, Accuracy: 7356/8991 (81.8151%)
___Train Local_Simple,  epoch  39, local model 88, internal_epoch   1,  Average loss: 0.0234, Accuracy: 440/582 (75.6014%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.0193, Accuracy: 8266/10000 (82.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 72, internal_epoch   1,  Average loss: 0.0238, Accuracy: 441/596 (73.9933%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.0198, Accuracy: 8225/10000 (82.2500%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 13, internal_epoch   1,  Average loss: 0.0212, Accuracy: 494/602 (82.0598%), train_poison_data_count: 602
Global model norm: 2.415945559374593.
Norm before scaling: 2.605861834337769. Distance: 0.33893504274150377
Total norm for 7 adversaries is: 2.605861834337769. distance: 0.33893504274150377
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9160, Accuracy: 7385/8991 (82.1377%)
time spent on training: 21.58126163482666
[foolsgold agg] training data poison_ratio: 0.6994590939824206  data num: [585, 593, 601, 588, 600, 593, 576, 582, 596, 602]
[foolsgold agg] considering poison per batch poison_fraction: 0.6994590939824206
[foolsgold agg] wv: [0.         0.         1.         0.         0.         0.
 0.         0.         0.         0.24571183]
___Test Target_Simple poisoned: False, epoch: 39: Average loss: 1.1643, Accuracy: 7467/10000 (74.6700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 39: Average loss: 1.0334, Accuracy: 7459/8991 (82.9607%)
Done in 76.74968028068542 sec.
Server Epoch:40 choose agents : [12, 23, 87, 98, 51, 83, 52, 90, 71, 11].
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 12, internal_epoch   1,  Average loss: 0.0208, Accuracy: 482/581 (82.9604%), train_poison_data_count: 581
Global model norm: 2.4204440904262072.
Norm before scaling: 2.588538760229023. Distance: 0.30221494597383064
Total norm for 3 adversaries is: 2.588538760229023. distance: 0.30221494597383064
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 0.9312, Accuracy: 7405/8991 (82.3601%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 23, internal_epoch   1,  Average loss: 0.0205, Accuracy: 466/595 (78.3193%), train_poison_data_count: 595
Global model norm: 2.4204440904262072.
Norm before scaling: 2.5824416580331055. Distance: 0.29406908033996604
Total norm for 3 adversaries is: 2.5824416580331055. distance: 0.29406908033996604
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 0.9316, Accuracy: 7396/8991 (82.2600%)
___Train Local_Simple,  epoch  40, local model 87, internal_epoch   1,  Average loss: 0.0223, Accuracy: 450/591 (76.1421%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0136, Accuracy: 8190/10000 (81.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 98, internal_epoch   1,  Average loss: 0.0201, Accuracy: 401/497 (80.6841%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0874, Accuracy: 7171/10000 (71.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 51, internal_epoch   1,  Average loss: 0.0225, Accuracy: 443/595 (74.4538%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0153, Accuracy: 8295/10000 (82.9500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 83, internal_epoch   1,  Average loss: 0.0230, Accuracy: 440/598 (73.5786%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0147, Accuracy: 8269/10000 (82.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 52, internal_epoch   1,  Average loss: 0.0224, Accuracy: 453/595 (76.1345%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0158, Accuracy: 8213/10000 (82.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 90, internal_epoch   1,  Average loss: 0.0229, Accuracy: 454/587 (77.3424%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0123, Accuracy: 8246/10000 (82.4600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 71, internal_epoch   1,  Average loss: 0.0244, Accuracy: 461/608 (75.8224%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 0.9993, Accuracy: 8283/10000 (82.8300%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 11, internal_epoch   1,  Average loss: 0.0216, Accuracy: 466/589 (79.1171%), train_poison_data_count: 589
Global model norm: 2.4204440904262072.
Norm before scaling: 2.5816589179352656. Distance: 0.29502948793431144
Total norm for 3 adversaries is: 2.5816589179352656. distance: 0.29502948793431144
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 0.9328, Accuracy: 7364/8991 (81.9041%)
time spent on training: 19.199766397476196
[foolsgold agg] training data poison_ratio: 0.30243317340644277  data num: [581, 595, 591, 497, 595, 598, 595, 587, 608, 589]
[foolsgold agg] considering poison per batch poison_fraction: 0.30243317340644277
[foolsgold agg] wv: [0.         0.05468439 0.         1.         0.         0.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 40: Average loss: 1.1578, Accuracy: 7459/10000 (74.5900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 40: Average loss: 1.0300, Accuracy: 7450/8991 (82.8606%)
Done in 74.73111820220947 sec.
Server Epoch:41 choose agents : [51, 28, 20, 95, 83, 18, 55, 42, 29, 46].
___Train Local_Simple,  epoch  41, local model 51, internal_epoch   1,  Average loss: 0.0223, Accuracy: 451/595 (75.7983%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0117, Accuracy: 8292/10000 (82.9200%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 28, internal_epoch   1,  Average loss: 0.0218, Accuracy: 448/584 (76.7123%), train_poison_data_count: 584
Global model norm: 2.4267374755498454.
Norm before scaling: 2.5849381558603683. Distance: 0.2971023391825427
Total norm for 6 adversaries is: 2.5849381558603683. distance: 0.2971023391825427
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9324, Accuracy: 7296/8991 (81.1478%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 20, internal_epoch   1,  Average loss: 0.0207, Accuracy: 485/591 (82.0643%), train_poison_data_count: 591
Global model norm: 2.4267374755498454.
Norm before scaling: 2.5931662396663677. Distance: 0.30614540785822336
Total norm for 6 adversaries is: 2.5931662396663677. distance: 0.30614540785822336
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9355, Accuracy: 7316/8991 (81.3703%)
___Train Local_Simple,  epoch  41, local model 95, internal_epoch   1,  Average loss: 0.0218, Accuracy: 413/540 (76.4815%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0690, Accuracy: 7700/10000 (77.0000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 83, internal_epoch   1,  Average loss: 0.0230, Accuracy: 438/598 (73.2441%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0122, Accuracy: 8234/10000 (82.3400%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 18, internal_epoch   1,  Average loss: 0.0209, Accuracy: 468/583 (80.2744%), train_poison_data_count: 583
Global model norm: 2.4267374755498454.
Norm before scaling: 2.5932733488459556. Distance: 0.30198348658852375
Total norm for 6 adversaries is: 2.5932733488459556. distance: 0.30198348658852375
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9269, Accuracy: 7387/8991 (82.1599%)
___Train Local_Simple,  epoch  41, local model 55, internal_epoch   1,  Average loss: 0.0231, Accuracy: 430/592 (72.6351%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0127, Accuracy: 8181/10000 (81.8100%), Attack Success Rate:0/10000(0.000)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 42, internal_epoch   1,  Average loss: 0.0206, Accuracy: 507/609 (83.2512%), train_poison_data_count: 609
Global model norm: 2.4267374755498454.
Norm before scaling: 2.622949707776561. Distance: 0.34497088670556975
Total norm for 6 adversaries is: 2.622949707776561. distance: 0.34497088670556975
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9161, Accuracy: 7342/8991 (81.6594%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 29, internal_epoch   1,  Average loss: 0.0210, Accuracy: 468/586 (79.8635%), train_poison_data_count: 586
Global model norm: 2.4267374755498454.
Norm before scaling: 2.5934434272945674. Distance: 0.3015179714869296
Total norm for 6 adversaries is: 2.5934434272945674. distance: 0.3015179714869296
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9227, Accuracy: 7463/8991 (83.0052%)
poison local model 46 index 45 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 46, internal_epoch   1,  Average loss: 0.0198, Accuracy: 480/599 (80.1336%), train_poison_data_count: 599
Global model norm: 2.4267374755498454.
Norm before scaling: 2.5952633958152393. Distance: 0.304917529889091
Total norm for 6 adversaries is: 2.5952633958152393. distance: 0.304917529889091
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9279, Accuracy: 7264/8991 (80.7919%)
time spent on training: 21.044524669647217
[foolsgold agg] training data poison_ratio: 0.6043899948953547  data num: [595, 584, 591, 540, 598, 583, 592, 609, 586, 599]
[foolsgold agg] considering poison per batch poison_fraction: 0.6043899948953547
[foolsgold agg] wv: [0.        0.0767859 0.        1.        0.        0.        0.
 0.        0.        0.       ]
___Test Target_Simple poisoned: False, epoch: 41: Average loss: 1.1541, Accuracy: 7449/10000 (74.4900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 41: Average loss: 1.0289, Accuracy: 7440/8991 (82.7494%)
Done in 76.19500541687012 sec.
Server Epoch:42 choose agents : [87, 73, 89, 48, 81, 10, 92, 62, 26, 29].
___Train Local_Simple,  epoch  42, local model 87, internal_epoch   1,  Average loss: 0.0222, Accuracy: 453/591 (76.6497%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0065, Accuracy: 8230/10000 (82.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 73, internal_epoch   1,  Average loss: 0.0226, Accuracy: 448/600 (74.6667%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0103, Accuracy: 8257/10000 (82.5700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 89, internal_epoch   1,  Average loss: 0.0226, Accuracy: 448/593 (75.5481%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0122, Accuracy: 8258/10000 (82.5800%), Attack Success Rate:0/10000(0.000)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 48, internal_epoch   1,  Average loss: 0.0211, Accuracy: 468/588 (79.5918%), train_poison_data_count: 588
Global model norm: 2.429648543165131.
Norm before scaling: 2.59622166536873. Distance: 0.3053851698658769
Total norm for 4 adversaries is: 2.59622166536873. distance: 0.3053851698658769
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 0.9270, Accuracy: 7340/8991 (81.6372%)
___Train Local_Simple,  epoch  42, local model 81, internal_epoch   1,  Average loss: 0.0226, Accuracy: 448/591 (75.8037%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0131, Accuracy: 8205/10000 (82.0500%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 10, internal_epoch   1,  Average loss: 0.0220, Accuracy: 494/606 (81.5182%), train_poison_data_count: 606
Global model norm: 2.429648543165131.
Norm before scaling: 2.612283422080501. Distance: 0.33390821737478316
Total norm for 4 adversaries is: 2.612283422080501. distance: 0.33390821737478316
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 0.9116, Accuracy: 7426/8991 (82.5937%)
___Train Local_Simple,  epoch  42, local model 92, internal_epoch   1,  Average loss: 0.0222, Accuracy: 413/535 (77.1963%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0665, Accuracy: 7725/10000 (77.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 62, internal_epoch   1,  Average loss: 0.0229, Accuracy: 444/589 (75.3820%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0070, Accuracy: 8202/10000 (82.0200%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 26, internal_epoch   1,  Average loss: 0.0211, Accuracy: 475/584 (81.3356%), train_poison_data_count: 584
Global model norm: 2.429648543165131.
Norm before scaling: 2.5904274307214683. Distance: 0.2935665516540233
Total norm for 4 adversaries is: 2.5904274307214683. distance: 0.2935665516540233
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 0.9258, Accuracy: 7375/8991 (82.0265%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 29, internal_epoch   1,  Average loss: 0.0208, Accuracy: 471/586 (80.3754%), train_poison_data_count: 586
Global model norm: 2.429648543165131.
Norm before scaling: 2.5959763680897443. Distance: 0.3052113748774257
Total norm for 4 adversaries is: 2.5959763680897443. distance: 0.3052113748774257
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 0.9310, Accuracy: 7327/8991 (81.4926%)
time spent on training: 19.83756732940674
[foolsgold agg] training data poison_ratio: 0.40320654954801294  data num: [591, 600, 593, 588, 591, 606, 535, 589, 584, 586]
[foolsgold agg] considering poison per batch poison_fraction: 0.40320654954801294
[foolsgold agg] wv: [0.         0.         0.4464753  0.13922666 0.         0.45386182
 1.         0.         0.13922666 0.16517739]
___Test Target_Simple poisoned: False, epoch: 42: Average loss: 1.1480, Accuracy: 7438/10000 (74.3800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 42: Average loss: 1.0247, Accuracy: 7430/8991 (82.6382%)
Done in 74.99678325653076 sec.
Server Epoch:43 choose agents : [38, 78, 26, 18, 72, 75, 93, 39, 44, 90].
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 38, internal_epoch   1,  Average loss: 0.0206, Accuracy: 478/591 (80.8799%), train_poison_data_count: 591
Global model norm: 2.4368200087231164.
Norm before scaling: 2.5987311641713258. Distance: 0.3033082015155255
Total norm for 5 adversaries is: 2.5987311641713258. distance: 0.3033082015155255
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9290, Accuracy: 7326/8991 (81.4815%)
___Train Local_Simple,  epoch  43, local model 78, internal_epoch   1,  Average loss: 0.0232, Accuracy: 446/600 (74.3333%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0075, Accuracy: 8203/10000 (82.0300%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 26, internal_epoch   1,  Average loss: 0.0210, Accuracy: 469/584 (80.3082%), train_poison_data_count: 584
Global model norm: 2.4368200087231164.
Norm before scaling: 2.600518461033168. Distance: 0.2991732430775694
Total norm for 5 adversaries is: 2.600518461033168. distance: 0.2991732430775694
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9202, Accuracy: 7392/8991 (82.2155%)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 18, internal_epoch   1,  Average loss: 0.0209, Accuracy: 473/583 (81.1321%), train_poison_data_count: 583
Global model norm: 2.4368200087231164.
Norm before scaling: 2.604533472295352. Distance: 0.3048443023973834
Total norm for 5 adversaries is: 2.604533472295352. distance: 0.3048443023973834
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9204, Accuracy: 7386/8991 (82.1488%)
___Train Local_Simple,  epoch  43, local model 72, internal_epoch   1,  Average loss: 0.0235, Accuracy: 446/596 (74.8322%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0089, Accuracy: 8247/10000 (82.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 75, internal_epoch   1,  Average loss: 0.0230, Accuracy: 450/595 (75.6303%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0069, Accuracy: 8261/10000 (82.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 93, internal_epoch   1,  Average loss: 0.0224, Accuracy: 405/525 (77.1429%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0654, Accuracy: 7659/10000 (76.5900%), Attack Success Rate:0/10000(0.000)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 39, internal_epoch   1,  Average loss: 0.0202, Accuracy: 496/583 (85.0772%), train_poison_data_count: 583
Global model norm: 2.4368200087231164.
Norm before scaling: 2.605943261993439. Distance: 0.3032040306181973
Total norm for 5 adversaries is: 2.605943261993439. distance: 0.3032040306181973
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9283, Accuracy: 7295/8991 (81.1367%)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 44, internal_epoch   1,  Average loss: 0.0206, Accuracy: 466/598 (77.9264%), train_poison_data_count: 598
Global model norm: 2.4368200087231164.
Norm before scaling: 2.598258546687252. Distance: 0.304472089083346
Total norm for 5 adversaries is: 2.598258546687252. distance: 0.304472089083346
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9281, Accuracy: 7307/8991 (81.2702%)
___Train Local_Simple,  epoch  43, local model 90, internal_epoch   1,  Average loss: 0.0226, Accuracy: 454/587 (77.3424%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0047, Accuracy: 8288/10000 (82.8800%), Attack Success Rate:0/10000(0.000)
time spent on training: 20.487587690353394
[foolsgold agg] training data poison_ratio: 0.5030811365970558  data num: [591, 600, 584, 583, 596, 595, 525, 583, 598, 587]
[foolsgold agg] considering poison per batch poison_fraction: 0.5030811365970558
[foolsgold agg] wv: [0. 0. 0. 0. 0. 0. 1. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 43: Average loss: 1.1442, Accuracy: 7429/10000 (74.2900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 43: Average loss: 1.0240, Accuracy: 7421/8991 (82.5381%)
Done in 75.92875909805298 sec.
Server Epoch:44 choose agents : [31, 1, 38, 9, 6, 19, 65, 66, 73, 15].
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 31, internal_epoch   1,  Average loss: 0.0201, Accuracy: 480/599 (80.1336%), train_poison_data_count: 599
Global model norm: 2.4394791222218624.
Norm before scaling: 2.6063831103246593. Distance: 0.30944832645693504
Total norm for 7 adversaries is: 2.6063831103246593. distance: 0.30944832645693504
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9307, Accuracy: 7314/8991 (81.3480%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 1, internal_epoch   1,  Average loss: 0.0211, Accuracy: 466/595 (78.3193%), train_poison_data_count: 595
Global model norm: 2.4394791222218624.
Norm before scaling: 2.600002703298484. Distance: 0.2993893806651054
Total norm for 7 adversaries is: 2.600002703298484. distance: 0.2993893806651054
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9224, Accuracy: 7433/8991 (82.6716%)
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 38, internal_epoch   1,  Average loss: 0.0206, Accuracy: 492/591 (83.2487%), train_poison_data_count: 591
Global model norm: 2.4394791222218624.
Norm before scaling: 2.6035094894256754. Distance: 0.3010199454279919
Total norm for 7 adversaries is: 2.6035094894256754. distance: 0.3010199454279919
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9250, Accuracy: 7295/8991 (81.1367%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 9, internal_epoch   1,  Average loss: 0.0206, Accuracy: 473/590 (80.1695%), train_poison_data_count: 590
Global model norm: 2.4394791222218624.
Norm before scaling: 2.6041154678398057. Distance: 0.29967161574049916
Total norm for 7 adversaries is: 2.6041154678398057. distance: 0.29967161574049916
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9182, Accuracy: 7385/8991 (82.1377%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 6, internal_epoch   1,  Average loss: 0.0199, Accuracy: 490/598 (81.9398%), train_poison_data_count: 598
Global model norm: 2.4394791222218624.
Norm before scaling: 2.604390391594281. Distance: 0.30098143022228724
Total norm for 7 adversaries is: 2.604390391594281. distance: 0.30098143022228724
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9233, Accuracy: 7387/8991 (82.1599%)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 19, internal_epoch   1,  Average loss: 0.0203, Accuracy: 490/595 (82.3529%), train_poison_data_count: 595
Global model norm: 2.4394791222218624.
Norm before scaling: 2.6023018734258696. Distance: 0.30286038145177446
Total norm for 7 adversaries is: 2.6023018734258696. distance: 0.30286038145177446
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9267, Accuracy: 7262/8991 (80.7697%)
___Train Local_Simple,  epoch  44, local model 65, internal_epoch   1,  Average loss: 0.0232, Accuracy: 431/586 (73.5495%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.0062, Accuracy: 8205/10000 (82.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 66, internal_epoch   1,  Average loss: 0.0238, Accuracy: 450/602 (74.7508%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.9893, Accuracy: 8264/10000 (82.6400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 73, internal_epoch   1,  Average loss: 0.0226, Accuracy: 446/600 (74.3333%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.0076, Accuracy: 8196/10000 (81.9600%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 15, internal_epoch   1,  Average loss: 0.0212, Accuracy: 478/579 (82.5561%), train_poison_data_count: 579
Global model norm: 2.4394791222218624.
Norm before scaling: 2.604022263655877. Distance: 0.3054047846835578
Total norm for 7 adversaries is: 2.604022263655877. distance: 0.3054047846835578
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9313, Accuracy: 7232/8991 (80.4360%)
time spent on training: 21.740801334381104
[foolsgold agg] training data poison_ratio: 0.6987363100252738  data num: [599, 595, 591, 590, 598, 595, 586, 602, 600, 579]
[foolsgold agg] considering poison per batch poison_fraction: 0.6987363100252737
[foolsgold agg] wv: [0.1104251  0.3313229  0.5205743  0.38514626 0.1104251  0.14281544
 0.53699259 1.         0.53699259 0.53925328]
___Test Target_Simple poisoned: False, epoch: 44: Average loss: 1.1342, Accuracy: 7452/10000 (74.5200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 44: Average loss: 1.0151, Accuracy: 7442/8991 (82.7717%)
Done in 77.30037069320679 sec.
Server Epoch:45 choose agents : [53, 75, 1, 37, 94, 51, 29, 39, 60, 5].
___Train Local_Simple,  epoch  45, local model 53, internal_epoch   1,  Average loss: 0.0222, Accuracy: 447/585 (76.4103%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.9946, Accuracy: 8226/10000 (82.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 75, internal_epoch   1,  Average loss: 0.0228, Accuracy: 440/595 (73.9496%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.9971, Accuracy: 8291/10000 (82.9100%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 1, internal_epoch   1,  Average loss: 0.0210, Accuracy: 469/595 (78.8235%), train_poison_data_count: 595
Global model norm: 2.4531149894364317.
Norm before scaling: 2.612623739278113. Distance: 0.29263049625904114
Total norm for 5 adversaries is: 2.612623739278113. distance: 0.29263049625904114
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9143, Accuracy: 7448/8991 (82.8384%)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 37, internal_epoch   1,  Average loss: 0.0199, Accuracy: 492/594 (82.8283%), train_poison_data_count: 594
Global model norm: 2.4531149894364317.
Norm before scaling: 2.6189170474577548. Distance: 0.30196683243090666
Total norm for 5 adversaries is: 2.6189170474577548. distance: 0.30196683243090666
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9193, Accuracy: 7283/8991 (81.0032%)
___Train Local_Simple,  epoch  45, local model 94, internal_epoch   1,  Average loss: 0.0209, Accuracy: 419/536 (78.1716%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0602, Accuracy: 7720/10000 (77.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 51, internal_epoch   1,  Average loss: 0.0220, Accuracy: 453/595 (76.1345%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.9989, Accuracy: 8313/10000 (83.1300%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 29, internal_epoch   1,  Average loss: 0.0207, Accuracy: 470/586 (80.2048%), train_poison_data_count: 586
Global model norm: 2.4531149894364317.
Norm before scaling: 2.6168297366538744. Distance: 0.30653838864854777
Total norm for 5 adversaries is: 2.6168297366538744. distance: 0.30653838864854777
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9154, Accuracy: 7382/8991 (82.1043%)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 39, internal_epoch   1,  Average loss: 0.0201, Accuracy: 489/583 (83.8765%), train_poison_data_count: 583
Global model norm: 2.4531149894364317.
Norm before scaling: 2.619560509577166. Distance: 0.30212595929382957
Total norm for 5 adversaries is: 2.619560509577166. distance: 0.30212595929382957
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9129, Accuracy: 7392/8991 (82.2155%)
___Train Local_Simple,  epoch  45, local model 60, internal_epoch   1,  Average loss: 0.0226, Accuracy: 449/595 (75.4622%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.9952, Accuracy: 8247/10000 (82.4700%), Attack Success Rate:0/10000(0.000)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 5, internal_epoch   1,  Average loss: 0.0204, Accuracy: 478/588 (81.2925%), train_poison_data_count: 588
Global model norm: 2.4531149894364317.
Norm before scaling: 2.6192848114674327. Distance: 0.30373595892081434
Total norm for 5 adversaries is: 2.6192848114674327. distance: 0.30373595892081434
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9261, Accuracy: 7253/8991 (80.6696%)
time spent on training: 20.582659482955933
[foolsgold agg] training data poison_ratio: 0.5034176349965823  data num: [585, 595, 595, 594, 536, 595, 586, 583, 595, 588]
[foolsgold agg] considering poison per batch poison_fraction: 0.5034176349965823
[foolsgold agg] wv: [0.11838939 0.         0.         0.         1.         0.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 45: Average loss: 1.1303, Accuracy: 7441/10000 (74.4100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 45: Average loss: 1.0144, Accuracy: 7432/8991 (82.6604%)
Done in 76.1583366394043 sec.
Server Epoch:46 choose agents : [75, 78, 14, 39, 7, 10, 40, 2, 68, 54].
___Train Local_Simple,  epoch  46, local model 75, internal_epoch   1,  Average loss: 0.0229, Accuracy: 441/595 (74.1176%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.9939, Accuracy: 8258/10000 (82.5800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 78, internal_epoch   1,  Average loss: 0.0228, Accuracy: 455/600 (75.8333%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.0020, Accuracy: 8290/10000 (82.9000%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 14, internal_epoch   1,  Average loss: 0.0196, Accuracy: 493/593 (83.1366%), train_poison_data_count: 593
Global model norm: 2.4562012645749554.
Norm before scaling: 2.6223064408634054. Distance: 0.3122181933056997
Total norm for 6 adversaries is: 2.6223064408634054. distance: 0.3122181933056997
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9139, Accuracy: 7360/8991 (81.8596%)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 39, internal_epoch   1,  Average loss: 0.0201, Accuracy: 491/583 (84.2196%), train_poison_data_count: 583
Global model norm: 2.4562012645749554.
Norm before scaling: 2.6198463712305915. Distance: 0.29626776682214945
Total norm for 6 adversaries is: 2.6198463712305915. distance: 0.29626776682214945
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9084, Accuracy: 7433/8991 (82.6716%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 7, internal_epoch   1,  Average loss: 0.0209, Accuracy: 471/586 (80.3754%), train_poison_data_count: 586
Global model norm: 2.4562012645749554.
Norm before scaling: 2.6186015849517217. Distance: 0.30428490572344796
Total norm for 6 adversaries is: 2.6186015849517217. distance: 0.30428490572344796
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9257, Accuracy: 7213/8991 (80.2247%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 10, internal_epoch   1,  Average loss: 0.0219, Accuracy: 492/606 (81.1881%), train_poison_data_count: 606
Global model norm: 2.4562012645749554.
Norm before scaling: 2.634323999311704. Distance: 0.32742635963698236
Total norm for 6 adversaries is: 2.634323999311704. distance: 0.32742635963698236
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9011, Accuracy: 7425/8991 (82.5826%)
poison local model 40 index 39 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 40, internal_epoch   1,  Average loss: 0.0208, Accuracy: 454/576 (78.8194%), train_poison_data_count: 576
Global model norm: 2.4562012645749554.
Norm before scaling: 2.6181108810106024. Distance: 0.29972409584783405
Total norm for 6 adversaries is: 2.6181108810106024. distance: 0.29972409584783405
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9182, Accuracy: 7314/8991 (81.3480%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 2, internal_epoch   1,  Average loss: 0.0203, Accuracy: 484/588 (82.3129%), train_poison_data_count: 588
Global model norm: 2.4562012645749554.
Norm before scaling: 2.617861988209605. Distance: 0.3064747866089222
Total norm for 6 adversaries is: 2.617861988209605. distance: 0.3064747866089222
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9254, Accuracy: 7311/8991 (81.3146%)
___Train Local_Simple,  epoch  46, local model 68, internal_epoch   1,  Average loss: 0.0227, Accuracy: 430/591 (72.7580%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.0003, Accuracy: 8263/10000 (82.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 54, internal_epoch   1,  Average loss: 0.0230, Accuracy: 444/577 (76.9497%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 1.0012, Accuracy: 8096/10000 (80.9600%), Attack Success Rate:0/10000(0.000)
time spent on training: 21.327821969985962
[foolsgold agg] training data poison_ratio: 0.5991518235793045  data num: [595, 600, 593, 583, 586, 606, 576, 588, 591, 577]
[foolsgold agg] considering poison per batch poison_fraction: 0.5991518235793045
[foolsgold agg] wv: [1.         0.57470275 0.84860006 0.82253125 0.97680811 1.
 0.8833319  0.82253125 0.57470275 1.        ]
___Test Target_Simple poisoned: False, epoch: 46: Average loss: 1.1153, Accuracy: 7477/10000 (74.7700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 46: Average loss: 0.9943, Accuracy: 7471/8991 (83.0942%)
Done in 76.82987642288208 sec.
Server Epoch:47 choose agents : [94, 48, 82, 25, 26, 16, 7, 90, 68, 43].
___Train Local_Simple,  epoch  47, local model 94, internal_epoch   1,  Average loss: 0.0206, Accuracy: 422/536 (78.7313%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 1.0404, Accuracy: 7761/10000 (77.6100%), Attack Success Rate:0/10000(0.000)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 48, internal_epoch   1,  Average loss: 0.0203, Accuracy: 479/588 (81.4626%), train_poison_data_count: 588
Global model norm: 2.4838399250893803.
Norm before scaling: 2.642703259896378. Distance: 0.2859510032925695
Total norm for 6 adversaries is: 2.642703259896378. distance: 0.2859510032925695
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.8966, Accuracy: 7366/8991 (81.9264%)
___Train Local_Simple,  epoch  47, local model 82, internal_epoch   1,  Average loss: 0.0219, Accuracy: 458/593 (77.2344%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9823, Accuracy: 8315/10000 (83.1500%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 25, internal_epoch   1,  Average loss: 0.0197, Accuracy: 483/589 (82.0034%), train_poison_data_count: 589
Global model norm: 2.4838399250893803.
Norm before scaling: 2.6464477986978903. Distance: 0.2932619662034512
Total norm for 6 adversaries is: 2.6464477986978903. distance: 0.2932619662034512
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9075, Accuracy: 7258/8991 (80.7252%)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 26, internal_epoch   1,  Average loss: 0.0204, Accuracy: 475/584 (81.3356%), train_poison_data_count: 584
Global model norm: 2.4838399250893803.
Norm before scaling: 2.6406886527611566. Distance: 0.28551925128960987
Total norm for 6 adversaries is: 2.6406886527611566. distance: 0.28551925128960987
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.8928, Accuracy: 7460/8991 (82.9719%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 16, internal_epoch   1,  Average loss: 0.0196, Accuracy: 491/594 (82.6599%), train_poison_data_count: 594
Global model norm: 2.4838399250893803.
Norm before scaling: 2.648048304765481. Distance: 0.28990513185032785
Total norm for 6 adversaries is: 2.648048304765481. distance: 0.28990513185032785
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.8965, Accuracy: 7457/8991 (82.9385%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 7, internal_epoch   1,  Average loss: 0.0205, Accuracy: 479/586 (81.7406%), train_poison_data_count: 586
Global model norm: 2.4838399250893803.
Norm before scaling: 2.642098551763856. Distance: 0.29129188021606234
Total norm for 6 adversaries is: 2.642098551763856. distance: 0.29129188021606234
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9093, Accuracy: 7326/8991 (81.4815%)
___Train Local_Simple,  epoch  47, local model 90, internal_epoch   1,  Average loss: 0.0220, Accuracy: 459/587 (78.1942%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9814, Accuracy: 8298/10000 (82.9800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 68, internal_epoch   1,  Average loss: 0.0225, Accuracy: 437/591 (73.9425%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9884, Accuracy: 8238/10000 (82.3800%), Attack Success Rate:0/10000(0.000)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 43, internal_epoch   1,  Average loss: 0.0202, Accuracy: 466/584 (79.7945%), train_poison_data_count: 584
Global model norm: 2.4838399250893803.
Norm before scaling: 2.6438048589258774. Distance: 0.2967466403133071
Total norm for 6 adversaries is: 2.6438048589258774. distance: 0.2967466403133071
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9118, Accuracy: 7264/8991 (80.7919%)
time spent on training: 21.124036073684692
[foolsgold agg] training data poison_ratio: 0.6044238683127572  data num: [536, 588, 593, 589, 584, 594, 586, 587, 591, 584]
[foolsgold agg] considering poison per batch poison_fraction: 0.6044238683127572
[foolsgold agg] wv: [1.         0.         0.         0.         0.         0.
 0.         0.         0.         0.09128973]
___Test Target_Simple poisoned: False, epoch: 47: Average loss: 1.1119, Accuracy: 7464/10000 (74.6400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 47: Average loss: 0.9935, Accuracy: 7455/8991 (82.9162%)
Done in 76.46726441383362 sec.
Server Epoch:48 choose agents : [74, 27, 75, 19, 58, 83, 91, 96, 17, 57].
___Train Local_Simple,  epoch  48, local model 74, internal_epoch   1,  Average loss: 0.0226, Accuracy: 441/592 (74.4932%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9815, Accuracy: 8212/10000 (82.1200%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 27, internal_epoch   1,  Average loss: 0.0198, Accuracy: 487/593 (82.1248%), train_poison_data_count: 593
Global model norm: 2.486813194502025.
Norm before scaling: 2.6469344203363865. Distance: 0.2899627585175951
Total norm for 3 adversaries is: 2.6469344203363865. distance: 0.2899627585175951
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 0.9019, Accuracy: 7384/8991 (82.1266%)
___Train Local_Simple,  epoch  48, local model 75, internal_epoch   1,  Average loss: 0.0223, Accuracy: 447/595 (75.1261%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9838, Accuracy: 8298/10000 (82.9800%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 19, internal_epoch   1,  Average loss: 0.0197, Accuracy: 496/595 (83.3613%), train_poison_data_count: 595
Global model norm: 2.486813194502025.
Norm before scaling: 2.648622579493635. Distance: 0.29217288954817894
Total norm for 3 adversaries is: 2.648622579493635. distance: 0.29217288954817894
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 0.9016, Accuracy: 7342/8991 (81.6594%)
___Train Local_Simple,  epoch  48, local model 58, internal_epoch   1,  Average loss: 0.0229, Accuracy: 449/586 (76.6212%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9803, Accuracy: 8296/10000 (82.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 83, internal_epoch   1,  Average loss: 0.0221, Accuracy: 445/598 (74.4147%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9792, Accuracy: 8308/10000 (83.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 91, internal_epoch   1,  Average loss: 0.0219, Accuracy: 448/584 (76.7123%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9797, Accuracy: 8211/10000 (82.1100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 96, internal_epoch   1,  Average loss: 0.0205, Accuracy: 421/534 (78.8390%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.0377, Accuracy: 7639/10000 (76.3900%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 17, internal_epoch   1,  Average loss: 0.0192, Accuracy: 497/588 (84.5238%), train_poison_data_count: 588
Global model norm: 2.486813194502025.
Norm before scaling: 2.6530475834311664. Distance: 0.29635712980231543
Total norm for 3 adversaries is: 2.6530475834311664. distance: 0.29635712980231543
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 0.9016, Accuracy: 7379/8991 (82.0710%)
___Train Local_Simple,  epoch  48, local model 57, internal_epoch   1,  Average loss: 0.0219, Accuracy: 451/594 (75.9259%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9811, Accuracy: 8311/10000 (83.1100%), Attack Success Rate:0/10000(0.000)
time spent on training: 19.67859697341919
[foolsgold agg] training data poison_ratio: 0.30312339989759346  data num: [592, 593, 595, 595, 586, 598, 584, 534, 588, 594]
[foolsgold agg] considering poison per batch poison_fraction: 0.30312339989759346
[foolsgold agg] wv: [0.22588353 0.14032423 0.         0.14032423 0.25240149 0.56200981
 0.31007855 1.         0.23604409 0.        ]
___Test Target_Simple poisoned: False, epoch: 48: Average loss: 1.1032, Accuracy: 7461/10000 (74.6100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 48: Average loss: 0.9899, Accuracy: 7452/8991 (82.8829%)
Done in 75.06835961341858 sec.
Server Epoch:49 choose agents : [77, 10, 78, 72, 91, 13, 98, 21, 82, 74].
___Train Local_Simple,  epoch  49, local model 77, internal_epoch   1,  Average loss: 0.0219, Accuracy: 452/583 (77.5300%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9808, Accuracy: 8131/10000 (81.3100%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 10, internal_epoch   1,  Average loss: 0.0218, Accuracy: 493/606 (81.3531%), train_poison_data_count: 606
Global model norm: 2.4952356717220283.
Norm before scaling: 2.670779087112864. Distance: 0.32686569749494415
Total norm for 3 adversaries is: 2.670779087112864. distance: 0.32686569749494415
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.8768, Accuracy: 7512/8991 (83.5502%)
___Train Local_Simple,  epoch  49, local model 78, internal_epoch   1,  Average loss: 0.0224, Accuracy: 456/600 (76.0000%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9795, Accuracy: 8249/10000 (82.4900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 72, internal_epoch   1,  Average loss: 0.0228, Accuracy: 445/596 (74.6644%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9789, Accuracy: 8284/10000 (82.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 91, internal_epoch   1,  Average loss: 0.0218, Accuracy: 448/584 (76.7123%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9762, Accuracy: 8211/10000 (82.1100%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 13, internal_epoch   1,  Average loss: 0.0205, Accuracy: 489/602 (81.2292%), train_poison_data_count: 602
Global model norm: 2.4952356717220283.
Norm before scaling: 2.6777391830167447. Distance: 0.3276624712082826
Total norm for 3 adversaries is: 2.6777391830167447. distance: 0.3276624712082826
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.8819, Accuracy: 7383/8991 (82.1154%)
___Train Local_Simple,  epoch  49, local model 98, internal_epoch   1,  Average loss: 0.0191, Accuracy: 403/497 (81.0865%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.0378, Accuracy: 7360/10000 (73.6000%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 21, internal_epoch   1,  Average loss: 0.0203, Accuracy: 464/592 (78.3784%), train_poison_data_count: 592
Global model norm: 2.4952356717220283.
Norm before scaling: 2.6484042815429207. Distance: 0.28805091774371666
Total norm for 3 adversaries is: 2.6484042815429207. distance: 0.28805091774371666
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.9018, Accuracy: 7315/8991 (81.3591%)
___Train Local_Simple,  epoch  49, local model 82, internal_epoch   1,  Average loss: 0.0219, Accuracy: 455/593 (76.7285%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9780, Accuracy: 8309/10000 (83.0900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 74, internal_epoch   1,  Average loss: 0.0225, Accuracy: 435/592 (73.4797%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9745, Accuracy: 8126/10000 (81.2600%), Attack Success Rate:0/10000(0.000)
time spent on training: 19.684062957763672
[foolsgold agg] training data poison_ratio: 0.30795551753635586  data num: [583, 606, 600, 596, 584, 602, 497, 592, 593, 592]
[foolsgold agg] considering poison per batch poison_fraction: 0.30795551753635586
[foolsgold agg] wv: [0.         0.36944416 0.         0.         0.         0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 49: Average loss: 1.1008, Accuracy: 7456/10000 (74.5600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 49: Average loss: 0.9880, Accuracy: 7447/8991 (82.8273%)
Done in 74.68750953674316 sec.
Server Epoch:50 choose agents : [75, 86, 51, 0, 31, 32, 67, 17, 29, 7].
___Train Local_Simple,  epoch  50, local model 75, internal_epoch   1,  Average loss: 0.0222, Accuracy: 442/595 (74.2857%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9736, Accuracy: 8224/10000 (82.2400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 86, internal_epoch   1,  Average loss: 0.0214, Accuracy: 447/597 (74.8744%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9745, Accuracy: 8352/10000 (83.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 51, internal_epoch   1,  Average loss: 0.0213, Accuracy: 448/595 (75.2941%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9745, Accuracy: 8308/10000 (83.0800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 0, internal_epoch   1,  Average loss: 0.0217, Accuracy: 452/594 (76.0943%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9755, Accuracy: 8274/10000 (82.7400%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 31, internal_epoch   1,  Average loss: 0.0195, Accuracy: 491/599 (81.9699%), train_poison_data_count: 599
Global model norm: 2.4990740968817478.
Norm before scaling: 2.6605479754427597. Distance: 0.2976984349592471
Total norm for 5 adversaries is: 2.6605479754427597. distance: 0.2976984349592471
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.8932, Accuracy: 7434/8991 (82.6827%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 32, internal_epoch   1,  Average loss: 0.0199, Accuracy: 495/601 (82.3627%), train_poison_data_count: 601
Global model norm: 2.4990740968817478.
Norm before scaling: 2.6801662184283535. Distance: 0.33155919345713436
Total norm for 5 adversaries is: 2.6801662184283535. distance: 0.33155919345713436
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.8884, Accuracy: 7330/8991 (81.5260%)
___Train Local_Simple,  epoch  50, local model 67, internal_epoch   1,  Average loss: 0.0222, Accuracy: 446/584 (76.3699%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9754, Accuracy: 8290/10000 (82.9000%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 17, internal_epoch   1,  Average loss: 0.0193, Accuracy: 491/588 (83.5034%), train_poison_data_count: 588
Global model norm: 2.4990740968817478.
Norm before scaling: 2.6645829483839227. Distance: 0.297954228952019
Total norm for 5 adversaries is: 2.6645829483839227. distance: 0.297954228952019
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.8916, Accuracy: 7394/8991 (82.2378%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 29, internal_epoch   1,  Average loss: 0.0202, Accuracy: 474/586 (80.8874%), train_poison_data_count: 586
Global model norm: 2.4990740968817478.
Norm before scaling: 2.656695698763341. Distance: 0.30172960217406775
Total norm for 5 adversaries is: 2.656695698763341. distance: 0.30172960217406775
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.9007, Accuracy: 7370/8991 (81.9709%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 7, internal_epoch   1,  Average loss: 0.0205, Accuracy: 468/586 (79.8635%), train_poison_data_count: 586
Global model norm: 2.4990740968817478.
Norm before scaling: 2.655086217511253. Distance: 0.29796898200231603
Total norm for 5 adversaries is: 2.655086217511253. distance: 0.29796898200231603
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.9056, Accuracy: 7327/8991 (81.4926%)
time spent on training: 20.838651418685913
[foolsgold agg] training data poison_ratio: 0.49957805907173  data num: [595, 597, 595, 594, 599, 601, 584, 588, 586, 586]
[foolsgold agg] considering poison per batch poison_fraction: 0.49957805907173
[foolsgold agg] wv: [0.       0.       0.       0.       0.       1.       0.       0.132845
 0.       0.      ]
___Test Target_Simple poisoned: False, epoch: 50: Average loss: 1.1004, Accuracy: 7455/10000 (74.5500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 50: Average loss: 0.9849, Accuracy: 7446/8991 (82.8161%)
Done in 75.98823976516724 sec.
Saving all the graphs.
This run has a label: Mar.26_22.54.30. Visdom environment: mnist_DBA
