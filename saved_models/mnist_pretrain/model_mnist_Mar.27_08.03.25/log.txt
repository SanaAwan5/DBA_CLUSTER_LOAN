current path: saved_models/mnist_pretrain/model_mnist_Mar.27_08.03.25
Loading data
build_classes_dict done
train loaders done
get poison test loader
load data done
create model done
Poisoned following participants: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50]
We use following environment for graphs:  mnist_DBA
Server Epoch:1 choose agents : [23, 72, 61, 11, 71, 42, 45, 37, 21, 35].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 23, internal_epoch   1,  Average loss: 0.0421, Accuracy: 186/588 (31.6327%), train_poison_data_count: 588
Global model norm: 1.828686293811075.
Norm before scaling: 1.9276979514471528. Distance: 0.627006599783956
Total norm for 7 adversaries is: 1.9276979514471528. distance: 0.627006599783956
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7362, Accuracy: 4354/8991 (48.4262%)
___Train Local_Simple,  epoch   1, local model 72, internal_epoch   1,  Average loss: 0.0441, Accuracy: 177/529 (33.4594%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.8800, Accuracy: 4961/10000 (49.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   1, local model 61, internal_epoch   1,  Average loss: 0.0433, Accuracy: 167/537 (31.0987%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.8835, Accuracy: 4197/10000 (41.9700%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 11, internal_epoch   1,  Average loss: 0.0391, Accuracy: 190/644 (29.5031%), train_poison_data_count: 644
Global model norm: 1.828686293811075.
Norm before scaling: 1.9874435488763178. Distance: 0.7765014532337234
Total norm for 7 adversaries is: 1.9874435488763178. distance: 0.7765014532337234
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.9111, Accuracy: 3138/8991 (34.9016%)
___Train Local_Simple,  epoch   1, local model 71, internal_epoch   1,  Average loss: 0.0422, Accuracy: 234/638 (36.6771%)
___Test Local_Simple poisoned: False, epoch: 1: Average loss: 1.7960, Accuracy: 4655/10000 (46.5500%), Attack Success Rate:0/10000(0.000)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 42, internal_epoch   1,  Average loss: 0.0405, Accuracy: 241/665 (36.2406%), train_poison_data_count: 665
Global model norm: 1.828686293811075.
Norm before scaling: 2.0052318092722436. Distance: 0.8357101559100273
Total norm for 7 adversaries is: 2.0052318092722436. distance: 0.8357101559100273
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7552, Accuracy: 3492/8991 (38.8388%)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 45, internal_epoch   1,  Average loss: 0.0379, Accuracy: 254/750 (33.8667%), train_poison_data_count: 750
Global model norm: 1.828686293811075.
Norm before scaling: 2.0398319590303373. Distance: 0.9212796179825321
Total norm for 7 adversaries is: 2.0398319590303373. distance: 0.9212796179825321
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7336, Accuracy: 4149/8991 (46.1461%)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 37, internal_epoch   1,  Average loss: 0.0398, Accuracy: 234/641 (36.5055%), train_poison_data_count: 641
Global model norm: 1.828686293811075.
Norm before scaling: 1.98229372709658. Distance: 0.7845578166791803
Total norm for 7 adversaries is: 1.98229372709658. distance: 0.7845578166791803
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7512, Accuracy: 4086/8991 (45.4454%)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 21, internal_epoch   1,  Average loss: 0.0406, Accuracy: 243/625 (38.8800%), train_poison_data_count: 625
Global model norm: 1.828686293811075.
Norm before scaling: 1.9786321487080722. Distance: 0.7574588304291359
Total norm for 7 adversaries is: 1.9786321487080722. distance: 0.7574588304291359
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.7815, Accuracy: 3970/8991 (44.1553%)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch   1, local model 35, internal_epoch   1,  Average loss: 0.0411, Accuracy: 120/493 (24.3408%), train_poison_data_count: 493
Global model norm: 1.828686293811075.
Norm before scaling: 1.91159621182322. Distance: 0.5685230032696431
Total norm for 7 adversaries is: 1.91159621182322. distance: 0.5685230032696431
___Test Local_Simple poisoned: True, epoch: 1: Average loss: 1.9805, Accuracy: 2299/8991 (25.5700%)
time spent on training: 18.71903681755066
[foolsgold agg] training data poison_ratio: 0.7211129296235679  data num: [588, 529, 537, 644, 638, 665, 750, 641, 625, 493]
[foolsgold agg] considering poison per batch poison_fraction: 0.7211129296235679
[foolsgold agg] wv: [0.         1.         0.7308849  1.         0.7308849  0.11773541
 0.         0.         0.12188716 0.        ]
___Test Target_Simple poisoned: False, epoch: 1: Average loss: 2.2441, Accuracy: 1931/10000 (19.3100%), Attack Success Rate:27/10000(0.270)
___Test Target_Simple poisoned: True, epoch: 1: Average loss: 2.2454, Accuracy: 1571/8991 (17.4730%)
Done in 73.14737343788147 sec.
Server Epoch:2 choose agents : [11, 59, 62, 28, 65, 22, 78, 58, 41, 81].
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 11, internal_epoch   1,  Average loss: 0.0381, Accuracy: 211/644 (32.7640%), train_poison_data_count: 644
Global model norm: 1.8292536715566718.
Norm before scaling: 1.9939270204027681. Distance: 0.7605237145171856
Total norm for 4 adversaries is: 1.9939270204027681. distance: 0.7605237145171856
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.8909, Accuracy: 3218/8991 (35.7913%)
___Train Local_Simple,  epoch   2, local model 59, internal_epoch   1,  Average loss: 0.0431, Accuracy: 239/652 (36.6564%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7398, Accuracy: 4283/10000 (42.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 62, internal_epoch   1,  Average loss: 0.0431, Accuracy: 193/617 (31.2804%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.8397, Accuracy: 2877/10000 (28.7700%), Attack Success Rate:8/10000(0.080)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 28, internal_epoch   1,  Average loss: 0.0406, Accuracy: 212/665 (31.8797%), train_poison_data_count: 665
Global model norm: 1.8292536715566718.
Norm before scaling: 2.004278613140957. Distance: 0.7948123565887276
Total norm for 4 adversaries is: 2.004278613140957. distance: 0.7948123565887276
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.6439, Accuracy: 3722/8991 (41.3970%)
___Train Local_Simple,  epoch   2, local model 65, internal_epoch   1,  Average loss: 0.0439, Accuracy: 190/573 (33.1588%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7950, Accuracy: 5625/10000 (56.2500%), Attack Success Rate:0/10000(0.000)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 22, internal_epoch   1,  Average loss: 0.0419, Accuracy: 200/531 (37.6648%), train_poison_data_count: 531
Global model norm: 1.8292536715566718.
Norm before scaling: 1.9302236453123383. Distance: 0.592143621303697
Total norm for 4 adversaries is: 1.9302236453123383. distance: 0.592143621303697
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.7433, Accuracy: 4395/8991 (48.8822%)
___Train Local_Simple,  epoch   2, local model 78, internal_epoch   1,  Average loss: 0.0428, Accuracy: 202/624 (32.3718%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7358, Accuracy: 5729/10000 (57.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   2, local model 58, internal_epoch   1,  Average loss: 0.0455, Accuracy: 174/510 (34.1176%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.8334, Accuracy: 5856/10000 (58.5600%), Attack Success Rate:0/10000(0.000)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch   2, local model 41, internal_epoch   1,  Average loss: 0.0401, Accuracy: 297/652 (45.5521%), train_poison_data_count: 652
Global model norm: 1.8292536715566718.
Norm before scaling: 2.0183153753429375. Distance: 0.8208354191503472
Total norm for 4 adversaries is: 2.0183153753429375. distance: 0.8208354191503472
___Test Local_Simple poisoned: True, epoch: 2: Average loss: 1.5979, Accuracy: 4632/8991 (51.5182%)
___Train Local_Simple,  epoch   2, local model 81, internal_epoch   1,  Average loss: 0.0422, Accuracy: 203/586 (34.6416%)
___Test Local_Simple poisoned: False, epoch: 2: Average loss: 1.7995, Accuracy: 5255/10000 (52.5500%), Attack Success Rate:0/10000(0.000)
time spent on training: 16.914767026901245
[foolsgold agg] training data poison_ratio: 0.4116286752560291  data num: [644, 652, 617, 665, 573, 531, 624, 510, 652, 586]
[foolsgold agg] considering poison per batch poison_fraction: 0.41162867525602903
[foolsgold agg] wv: [1.         1.         0.37484013 0.21092432 0.         0.21092432
 0.         0.55305617 1.         0.8277281 ]
___Test Target_Simple poisoned: False, epoch: 2: Average loss: 2.1831, Accuracy: 2906/10000 (29.0600%), Attack Success Rate:2/10000(0.020)
___Test Target_Simple poisoned: True, epoch: 2: Average loss: 2.1738, Accuracy: 2621/8991 (29.1514%)
Done in 71.58909916877747 sec.
Server Epoch:3 choose agents : [54, 55, 61, 73, 18, 42, 87, 41, 50, 28].
___Train Local_Simple,  epoch   3, local model 54, internal_epoch   1,  Average loss: 0.0423, Accuracy: 232/523 (44.3595%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.8253, Accuracy: 4439/10000 (44.3900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 55, internal_epoch   1,  Average loss: 0.0409, Accuracy: 259/592 (43.7500%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.7580, Accuracy: 5230/10000 (52.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 61, internal_epoch   1,  Average loss: 0.0415, Accuracy: 217/537 (40.4097%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.8192, Accuracy: 4426/10000 (44.2600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   3, local model 73, internal_epoch   1,  Average loss: 0.0410, Accuracy: 258/626 (41.2141%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.7504, Accuracy: 4941/10000 (49.4100%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 18, internal_epoch   1,  Average loss: 0.0420, Accuracy: 139/516 (26.9380%), train_poison_data_count: 516
Global model norm: 1.8318675279155814.
Norm before scaling: 1.9352236881140432. Distance: 0.5466806338820966
Total norm for 5 adversaries is: 1.9352236881140432. distance: 0.5466806338820966
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7606, Accuracy: 4247/8991 (47.2361%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 42, internal_epoch   1,  Average loss: 0.0391, Accuracy: 289/665 (43.4586%), train_poison_data_count: 665
Global model norm: 1.8318675279155814.
Norm before scaling: 2.0260122994956173. Distance: 0.7949357839956177
Total norm for 5 adversaries is: 2.0260122994956173. distance: 0.7949357839956177
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.6816, Accuracy: 3609/8991 (40.1401%)
___Train Local_Simple,  epoch   3, local model 87, internal_epoch   1,  Average loss: 0.0399, Accuracy: 250/575 (43.4783%)
___Test Local_Simple poisoned: False, epoch: 3: Average loss: 1.8614, Accuracy: 3464/10000 (34.6400%), Attack Success Rate:1/10000(0.010)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 41, internal_epoch   1,  Average loss: 0.0403, Accuracy: 344/652 (52.7607%), train_poison_data_count: 652
Global model norm: 1.8318675279155814.
Norm before scaling: 2.0298371316377435. Distance: 0.7912305375126671
Total norm for 5 adversaries is: 2.0298371316377435. distance: 0.7912305375126671
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.5673, Accuracy: 4558/8991 (50.6951%)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 50, internal_epoch   1,  Average loss: 0.0418, Accuracy: 241/474 (50.8439%), train_poison_data_count: 474
Global model norm: 1.8318675279155814.
Norm before scaling: 1.9190826599821376. Distance: 0.4989241260464522
Total norm for 5 adversaries is: 1.9190826599821376. distance: 0.4989241260464522
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.7406, Accuracy: 4731/8991 (52.6193%)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   3, local model 28, internal_epoch   1,  Average loss: 0.0388, Accuracy: 282/665 (42.4060%), train_poison_data_count: 665
Global model norm: 1.8318675279155814.
Norm before scaling: 2.020534716169362. Distance: 0.7778165519979706
Total norm for 5 adversaries is: 2.020534716169362. distance: 0.7778165519979706
___Test Local_Simple poisoned: True, epoch: 3: Average loss: 1.6206, Accuracy: 3715/8991 (41.3191%)
time spent on training: 18.03713893890381
[foolsgold agg] training data poison_ratio: 0.5102145922746781  data num: [523, 592, 537, 626, 516, 665, 575, 652, 474, 665]
[foolsgold agg] considering poison per batch poison_fraction: 0.5102145922746781
[foolsgold agg] wv: [1.         1.         0.00224982 0.00224982 0.62585795 0.
 1.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 3: Average loss: 2.1445, Accuracy: 3484/10000 (34.8400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 3: Average loss: 2.1336, Accuracy: 3216/8991 (35.7691%)
Done in 73.02032923698425 sec.
Server Epoch:4 choose agents : [37, 92, 95, 76, 13, 99, 94, 74, 45, 44].
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 37, internal_epoch   1,  Average loss: 0.0373, Accuracy: 334/641 (52.1061%), train_poison_data_count: 641
Global model norm: 1.8343145461250578.
Norm before scaling: 2.0160775083295497. Distance: 0.7442662490977614
Total norm for 4 adversaries is: 2.0160775083295497. distance: 0.7442662490977614
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.6746, Accuracy: 4179/8991 (46.4798%)
___Train Local_Simple,  epoch   4, local model 92, internal_epoch   1,  Average loss: 0.0410, Accuracy: 261/571 (45.7093%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.8185, Accuracy: 3794/10000 (37.9400%), Attack Success Rate:1/10000(0.010)
___Train Local_Simple,  epoch   4, local model 95, internal_epoch   1,  Average loss: 0.0401, Accuracy: 284/532 (53.3835%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.8100, Accuracy: 5656/10000 (56.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 76, internal_epoch   1,  Average loss: 0.0419, Accuracy: 241/518 (46.5251%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.7987, Accuracy: 4910/10000 (49.1000%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 13, internal_epoch   1,  Average loss: 0.0397, Accuracy: 285/521 (54.7025%), train_poison_data_count: 521
Global model norm: 1.8343145461250578.
Norm before scaling: 1.9627576792470427. Distance: 0.5967890862352278
Total norm for 4 adversaries is: 1.9627576792470427. distance: 0.5967890862352278
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.6708, Accuracy: 4545/8991 (50.5506%)
___Train Local_Simple,  epoch   4, local model 99, internal_epoch   1,  Average loss: 0.0405, Accuracy: 191/410 (46.5854%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 2.0483, Accuracy: 4160/10000 (41.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 94, internal_epoch   1,  Average loss: 0.0416, Accuracy: 266/555 (47.9279%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.7614, Accuracy: 5417/10000 (54.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   4, local model 74, internal_epoch   1,  Average loss: 0.0414, Accuracy: 275/626 (43.9297%)
___Test Local_Simple poisoned: False, epoch: 4: Average loss: 1.7234, Accuracy: 5714/10000 (57.1400%), Attack Success Rate:0/10000(0.000)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 45, internal_epoch   1,  Average loss: 0.0356, Accuracy: 313/750 (41.7333%), train_poison_data_count: 750
Global model norm: 1.8343145461250578.
Norm before scaling: 2.0680288711760824. Distance: 0.8620691550188843
Total norm for 4 adversaries is: 2.0680288711760824. distance: 0.8620691550188843
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.6343, Accuracy: 4232/8991 (47.0693%)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch   4, local model 44, internal_epoch   1,  Average loss: 0.0406, Accuracy: 275/518 (53.0888%), train_poison_data_count: 518
Global model norm: 1.8343145461250578.
Norm before scaling: 1.9520907295708467. Distance: 0.5620261686772515
Total norm for 4 adversaries is: 1.9520907295708467. distance: 0.5620261686772515
___Test Local_Simple poisoned: True, epoch: 4: Average loss: 1.6858, Accuracy: 5028/8991 (55.9226%)
time spent on training: 17.206591606140137
[foolsgold agg] training data poison_ratio: 0.43069833392414036  data num: [641, 571, 532, 518, 521, 410, 555, 626, 750, 518]
[foolsgold agg] considering poison per batch poison_fraction: 0.4306983339241404
[foolsgold agg] wv: [0.         0.8331773  0.25395785 0.65176259 0.         1.
 0.25395785 1.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 4: Average loss: 2.0921, Accuracy: 4281/10000 (42.8100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 4: Average loss: 2.0742, Accuracy: 4121/8991 (45.8347%)
Done in 71.91311693191528 sec.
Server Epoch:5 choose agents : [60, 49, 65, 14, 36, 24, 7, 4, 76, 39].
___Train Local_Simple,  epoch   5, local model 60, internal_epoch   1,  Average loss: 0.0385, Accuracy: 300/644 (46.5839%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.6815, Accuracy: 4656/10000 (46.5600%), Attack Success Rate:0/10000(0.000)
poison local model 49 index 48 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 49, internal_epoch   1,  Average loss: 0.0404, Accuracy: 288/516 (55.8140%), train_poison_data_count: 516
Global model norm: 1.8391877318908523.
Norm before scaling: 1.9706016189247977. Distance: 0.5754993716649951
Total norm for 7 adversaries is: 1.9706016189247977. distance: 0.5754993716649951
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.6805, Accuracy: 4673/8991 (51.9742%)
___Train Local_Simple,  epoch   5, local model 65, internal_epoch   1,  Average loss: 0.0410, Accuracy: 303/573 (52.8796%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.6850, Accuracy: 6369/10000 (63.6900%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 14, internal_epoch   1,  Average loss: 0.0384, Accuracy: 242/535 (45.2336%), train_poison_data_count: 535
Global model norm: 1.8391877318908523.
Norm before scaling: 1.9659157591008583. Distance: 0.561019804290474
Total norm for 7 adversaries is: 1.9659157591008583. distance: 0.561019804290474
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.7554, Accuracy: 3435/8991 (38.2049%)
poison local model 36 index 35 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 36, internal_epoch   1,  Average loss: 0.0395, Accuracy: 258/520 (49.6154%), train_poison_data_count: 520
Global model norm: 1.8391877318908523.
Norm before scaling: 1.9714233171302167. Distance: 0.5882155322163345
Total norm for 7 adversaries is: 1.9714233171302167. distance: 0.5882155322163345
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.6553, Accuracy: 5076/8991 (56.4565%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 24, internal_epoch   1,  Average loss: 0.0378, Accuracy: 340/578 (58.8235%), train_poison_data_count: 578
Global model norm: 1.8391877318908523.
Norm before scaling: 1.9957149019190645. Distance: 0.6311164544732637
Total norm for 7 adversaries is: 1.9957149019190645. distance: 0.6311164544732637
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.7107, Accuracy: 4124/8991 (45.8681%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 7, internal_epoch   1,  Average loss: 0.0376, Accuracy: 286/550 (52.0000%), train_poison_data_count: 550
Global model norm: 1.8391877318908523.
Norm before scaling: 1.963558072157372. Distance: 0.5450497822379579
Total norm for 7 adversaries is: 1.963558072157372. distance: 0.5450497822379579
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.7300, Accuracy: 3966/8991 (44.1108%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 4, internal_epoch   1,  Average loss: 0.0375, Accuracy: 328/587 (55.8773%), train_poison_data_count: 587
Global model norm: 1.8391877318908523.
Norm before scaling: 1.9907048112089556. Distance: 0.6168821279544883
Total norm for 7 adversaries is: 1.9907048112089556. distance: 0.6168821279544883
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.6031, Accuracy: 5000/8991 (55.6112%)
___Train Local_Simple,  epoch   5, local model 76, internal_epoch   1,  Average loss: 0.0407, Accuracy: 274/518 (52.8958%)
___Test Local_Simple poisoned: False, epoch: 5: Average loss: 1.7625, Accuracy: 5117/10000 (51.1700%), Attack Success Rate:0/10000(0.000)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch   5, local model 39, internal_epoch   1,  Average loss: 0.0418, Accuracy: 256/503 (50.8946%), train_poison_data_count: 503
Global model norm: 1.8391877318908523.
Norm before scaling: 1.9573920673026035. Distance: 0.5272649918130048
Total norm for 7 adversaries is: 1.9573920673026035. distance: 0.5272649918130048
___Test Local_Simple poisoned: True, epoch: 5: Average loss: 1.6769, Accuracy: 4812/8991 (53.5202%)
time spent on training: 19.95914316177368
[foolsgold agg] training data poison_ratio: 0.6859160028964518  data num: [644, 516, 573, 535, 520, 578, 550, 587, 518, 503]
[foolsgold agg] considering poison per batch poison_fraction: 0.6859160028964518
[foolsgold agg] wv: [1.         0.53520236 1.         1.         0.53520236 1.
 1.         0.84359182 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 5: Average loss: 2.0100, Accuracy: 5084/10000 (50.8400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 5: Average loss: 1.9745, Accuracy: 5018/8991 (55.8114%)
Done in 74.91882395744324 sec.
Server Epoch:6 choose agents : [26, 29, 4, 41, 99, 67, 91, 76, 8, 25].
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 26, internal_epoch   1,  Average loss: 0.0372, Accuracy: 272/526 (51.7110%), train_poison_data_count: 526
Global model norm: 1.85142484386597.
Norm before scaling: 1.9933629775421224. Distance: 0.5332409632185796
Total norm for 6 adversaries is: 1.9933629775421224. distance: 0.5332409632185796
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.6459, Accuracy: 4751/8991 (52.8417%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 29, internal_epoch   1,  Average loss: 0.0382, Accuracy: 413/605 (68.2645%), train_poison_data_count: 605
Global model norm: 1.85142484386597.
Norm before scaling: 2.043542959942873. Distance: 0.6486660198474389
Total norm for 6 adversaries is: 2.043542959942873. distance: 0.6486660198474389
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.4998, Accuracy: 5781/8991 (64.2976%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 4, internal_epoch   1,  Average loss: 0.0358, Accuracy: 370/587 (63.0324%), train_poison_data_count: 587
Global model norm: 1.85142484386597.
Norm before scaling: 2.0167719217160904. Distance: 0.589474745771655
Total norm for 6 adversaries is: 2.0167719217160904. distance: 0.589474745771655
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.5356, Accuracy: 5647/8991 (62.8073%)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 41, internal_epoch   1,  Average loss: 0.0360, Accuracy: 416/652 (63.8037%), train_poison_data_count: 652
Global model norm: 1.85142484386597.
Norm before scaling: 2.0787944432483636. Distance: 0.7232023495491439
Total norm for 6 adversaries is: 2.0787944432483636. distance: 0.7232023495491439
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.4600, Accuracy: 4770/8991 (53.0531%)
___Train Local_Simple,  epoch   6, local model 99, internal_epoch   1,  Average loss: 0.0378, Accuracy: 250/410 (60.9756%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.9413, Accuracy: 5147/10000 (51.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 67, internal_epoch   1,  Average loss: 0.0376, Accuracy: 338/643 (52.5661%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.6830, Accuracy: 5231/10000 (52.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 91, internal_epoch   1,  Average loss: 0.0386, Accuracy: 304/627 (48.4848%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.6502, Accuracy: 5217/10000 (52.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   6, local model 76, internal_epoch   1,  Average loss: 0.0394, Accuracy: 313/518 (60.4247%)
___Test Local_Simple poisoned: False, epoch: 6: Average loss: 1.7063, Accuracy: 5404/10000 (54.0400%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 8, internal_epoch   1,  Average loss: 0.0348, Accuracy: 448/683 (65.5930%), train_poison_data_count: 683
Global model norm: 1.85142484386597.
Norm before scaling: 2.0828562635329817. Distance: 0.7390226244502331
Total norm for 6 adversaries is: 2.0828562635329817. distance: 0.7390226244502331
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.4758, Accuracy: 5401/8991 (60.0712%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch   6, local model 25, internal_epoch   1,  Average loss: 0.0373, Accuracy: 344/582 (59.1065%), train_poison_data_count: 582
Global model norm: 1.85142484386597.
Norm before scaling: 2.0069327597917774. Distance: 0.569987295787178
Total norm for 6 adversaries is: 2.0069327597917774. distance: 0.569987295787178
___Test Local_Simple poisoned: True, epoch: 6: Average loss: 1.5369, Accuracy: 5643/8991 (62.7628%)
time spent on training: 19.080064296722412
[foolsgold agg] training data poison_ratio: 0.6231784673409909  data num: [526, 605, 587, 652, 410, 643, 627, 518, 683, 582]
[foolsgold agg] considering poison per batch poison_fraction: 0.6231784673409909
[foolsgold agg] wv: [0.         0.         0.         0.         1.         0.8595971
 0.09791212 0.09791212 0.         0.07686925]
___Test Target_Simple poisoned: False, epoch: 6: Average loss: 1.9916, Accuracy: 5245/10000 (52.4500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 6: Average loss: 1.9548, Accuracy: 5180/8991 (57.6132%)
Done in 74.03032636642456 sec.
Server Epoch:7 choose agents : [66, 68, 59, 62, 31, 10, 23, 7, 99, 45].
___Train Local_Simple,  epoch   7, local model 66, internal_epoch   1,  Average loss: 0.0379, Accuracy: 319/629 (50.7154%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.6639, Accuracy: 4651/10000 (46.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 68, internal_epoch   1,  Average loss: 0.0376, Accuracy: 354/632 (56.0127%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.6550, Accuracy: 4642/10000 (46.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 59, internal_epoch   1,  Average loss: 0.0379, Accuracy: 368/652 (56.4417%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.5923, Accuracy: 4841/10000 (48.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   7, local model 62, internal_epoch   1,  Average loss: 0.0386, Accuracy: 335/617 (54.2950%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.6557, Accuracy: 4269/10000 (42.6900%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 31, internal_epoch   1,  Average loss: 0.0385, Accuracy: 317/511 (62.0352%), train_poison_data_count: 511
Global model norm: 1.8546128396976844.
Norm before scaling: 1.9913016949185642. Distance: 0.5207458009280429
Total norm for 5 adversaries is: 1.9913016949185642. distance: 0.5207458009280429
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.6080, Accuracy: 4408/8991 (49.0268%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 10, internal_epoch   1,  Average loss: 0.0365, Accuracy: 293/572 (51.2238%), train_poison_data_count: 572
Global model norm: 1.8546128396976844.
Norm before scaling: 2.0216781449627605. Distance: 0.6069096800680348
Total norm for 5 adversaries is: 2.0216781449627605. distance: 0.6069096800680348
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.6807, Accuracy: 3568/8991 (39.6841%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 23, internal_epoch   1,  Average loss: 0.0369, Accuracy: 329/588 (55.9524%), train_poison_data_count: 588
Global model norm: 1.8546128396976844.
Norm before scaling: 2.01149545559902. Distance: 0.564251213523699
Total norm for 5 adversaries is: 2.01149545559902. distance: 0.564251213523699
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.5362, Accuracy: 5498/8991 (61.1500%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 7, internal_epoch   1,  Average loss: 0.0358, Accuracy: 301/550 (54.7273%), train_poison_data_count: 550
Global model norm: 1.8546128396976844.
Norm before scaling: 1.9895608378098926. Distance: 0.5059846111792167
Total norm for 5 adversaries is: 1.9895608378098926. distance: 0.5059846111792167
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.6301, Accuracy: 4784/8991 (53.2088%)
___Train Local_Simple,  epoch   7, local model 99, internal_epoch   1,  Average loss: 0.0366, Accuracy: 287/410 (70.0000%)
___Test Local_Simple poisoned: False, epoch: 7: Average loss: 1.9522, Accuracy: 4793/10000 (47.9300%), Attack Success Rate:0/10000(0.000)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch   7, local model 45, internal_epoch   1,  Average loss: 0.0329, Accuracy: 417/750 (55.6000%), train_poison_data_count: 750
Global model norm: 1.8546128396976844.
Norm before scaling: 2.11829586507144. Distance: 0.8045142644680923
Total norm for 5 adversaries is: 2.11829586507144. distance: 0.8045142644680923
___Test Local_Simple poisoned: True, epoch: 7: Average loss: 1.5338, Accuracy: 4691/8991 (52.1744%)
time spent on training: 18.283203125
[foolsgold agg] training data poison_ratio: 0.5026222297411606  data num: [629, 632, 652, 617, 511, 572, 588, 550, 410, 750]
[foolsgold agg] considering poison per batch poison_fraction: 0.5026222297411606
[foolsgold agg] wv: [0.         0.         1.         1.         0.85280489 1.
 0.         0.         1.         0.        ]
___Test Target_Simple poisoned: False, epoch: 7: Average loss: 1.9515, Accuracy: 5414/10000 (54.1400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 7: Average loss: 1.9069, Accuracy: 5380/8991 (59.8376%)
Done in 73.20261764526367 sec.
Server Epoch:8 choose agents : [63, 55, 79, 9, 62, 56, 96, 12, 92, 86].
___Train Local_Simple,  epoch   8, local model 63, internal_epoch   1,  Average loss: 0.0385, Accuracy: 342/616 (55.5195%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5981, Accuracy: 6003/10000 (60.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 55, internal_epoch   1,  Average loss: 0.0368, Accuracy: 386/592 (65.2027%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6091, Accuracy: 5759/10000 (57.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 79, internal_epoch   1,  Average loss: 0.0364, Accuracy: 375/635 (59.0551%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6154, Accuracy: 5651/10000 (56.5100%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 9, internal_epoch   1,  Average loss: 0.0352, Accuracy: 346/548 (63.1387%), train_poison_data_count: 548
Global model norm: 1.8633288491365163.
Norm before scaling: 2.013575850379298. Distance: 0.5295713775639813
Total norm for 2 adversaries is: 2.013575850379298. distance: 0.5295713775639813
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.5669, Accuracy: 4982/8991 (55.4110%)
___Train Local_Simple,  epoch   8, local model 62, internal_epoch   1,  Average loss: 0.0381, Accuracy: 296/617 (47.9741%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6099, Accuracy: 5133/10000 (51.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 56, internal_epoch   1,  Average loss: 0.0380, Accuracy: 334/626 (53.3546%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.5703, Accuracy: 6975/10000 (69.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 96, internal_epoch   1,  Average loss: 0.0356, Accuracy: 388/608 (63.8158%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.7367, Accuracy: 4655/10000 (46.5500%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch   8, local model 12, internal_epoch   1,  Average loss: 0.0349, Accuracy: 326/597 (54.6064%), train_poison_data_count: 597
Global model norm: 1.8633288491365163.
Norm before scaling: 2.0259447507715285. Distance: 0.5663191366620387
Total norm for 2 adversaries is: 2.0259447507715285. distance: 0.5663191366620387
___Test Local_Simple poisoned: True, epoch: 8: Average loss: 1.6374, Accuracy: 3710/8991 (41.2635%)
___Train Local_Simple,  epoch   8, local model 92, internal_epoch   1,  Average loss: 0.0374, Accuracy: 315/571 (55.1664%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6663, Accuracy: 4793/10000 (47.9300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   8, local model 86, internal_epoch   1,  Average loss: 0.0363, Accuracy: 321/587 (54.6848%)
___Test Local_Simple poisoned: False, epoch: 8: Average loss: 1.6916, Accuracy: 4263/10000 (42.6300%), Attack Success Rate:0/10000(0.000)
time spent on training: 15.977047681808472
[foolsgold agg] training data poison_ratio: 0.19092879773219942  data num: [616, 592, 635, 548, 617, 626, 608, 597, 571, 587]
[foolsgold agg] considering poison per batch poison_fraction: 0.19092879773219942
[foolsgold agg] wv: [0.33358051 0.         0.         0.29460139 0.14582044 0.14582044
 1.         0.29460139 0.6165144  0.68047819]
___Test Target_Simple poisoned: False, epoch: 8: Average loss: 1.9203, Accuracy: 5567/10000 (55.6700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 8: Average loss: 1.8763, Accuracy: 5539/8991 (61.6061%)
Done in 70.80992221832275 sec.
Server Epoch:9 choose agents : [28, 63, 33, 71, 13, 32, 76, 97, 23, 25].
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 28, internal_epoch   1,  Average loss: 0.0346, Accuracy: 389/665 (58.4962%), train_poison_data_count: 665
Global model norm: 1.8700427964357123.
Norm before scaling: 2.1062833381527364. Distance: 0.6900121351570907
Total norm for 6 adversaries is: 2.1062833381527364. distance: 0.6900121351570907
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.4586, Accuracy: 4513/8991 (50.1946%)
___Train Local_Simple,  epoch   9, local model 63, internal_epoch   1,  Average loss: 0.0381, Accuracy: 352/616 (57.1429%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.5852, Accuracy: 5894/10000 (58.9400%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 33, internal_epoch   1,  Average loss: 0.0335, Accuracy: 426/638 (66.7712%), train_poison_data_count: 638
Global model norm: 1.8700427964357123.
Norm before scaling: 2.0841832016943944. Distance: 0.6565226034092287
Total norm for 6 adversaries is: 2.0841832016943944. distance: 0.6565226034092287
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.5082, Accuracy: 4747/8991 (52.7972%)
___Train Local_Simple,  epoch   9, local model 71, internal_epoch   1,  Average loss: 0.0359, Accuracy: 393/638 (61.5987%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.5471, Accuracy: 6020/10000 (60.2000%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 13, internal_epoch   1,  Average loss: 0.0352, Accuracy: 365/521 (70.0576%), train_poison_data_count: 521
Global model norm: 1.8700427964357123.
Norm before scaling: 2.029733766846313. Distance: 0.5254012890268812
Total norm for 6 adversaries is: 2.029733766846313. distance: 0.5254012890268812
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.5131, Accuracy: 5376/8991 (59.7931%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 32, internal_epoch   1,  Average loss: 0.0344, Accuracy: 325/609 (53.3662%), train_poison_data_count: 609
Global model norm: 1.8700427964357123.
Norm before scaling: 2.07775106866208. Distance: 0.6394914041199447
Total norm for 6 adversaries is: 2.07775106866208. distance: 0.6394914041199447
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.5516, Accuracy: 3839/8991 (42.6983%)
___Train Local_Simple,  epoch   9, local model 76, internal_epoch   1,  Average loss: 0.0377, Accuracy: 333/518 (64.2857%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.6399, Accuracy: 5851/10000 (58.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch   9, local model 97, internal_epoch   1,  Average loss: 0.0355, Accuracy: 321/588 (54.5918%)
___Test Local_Simple poisoned: False, epoch: 9: Average loss: 1.7159, Accuracy: 4757/10000 (47.5700%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 23, internal_epoch   1,  Average loss: 0.0354, Accuracy: 357/588 (60.7143%), train_poison_data_count: 588
Global model norm: 1.8700427964357123.
Norm before scaling: 2.0326543794867176. Distance: 0.5333605523415637
Total norm for 6 adversaries is: 2.0326543794867176. distance: 0.5333605523415637
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.4690, Accuracy: 6314/8991 (70.2258%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch   9, local model 25, internal_epoch   1,  Average loss: 0.0356, Accuracy: 394/582 (67.6976%), train_poison_data_count: 582
Global model norm: 1.8700427964357123.
Norm before scaling: 2.0392321519686774. Distance: 0.5469694600950935
Total norm for 6 adversaries is: 2.0392321519686774. distance: 0.5469694600950935
___Test Local_Simple poisoned: True, epoch: 9: Average loss: 1.4651, Accuracy: 6192/8991 (68.8689%)
time spent on training: 19.370850086212158
[foolsgold agg] training data poison_ratio: 0.6042260607076975  data num: [665, 616, 638, 638, 521, 609, 518, 588, 588, 582]
[foolsgold agg] considering poison per batch poison_fraction: 0.6042260607076975
[foolsgold agg] wv: [0.03876622 1.         0.16405807 1.         0.17839549 1.
 1.         1.         0.49646274 0.03876622]
___Test Target_Simple poisoned: False, epoch: 9: Average loss: 1.8698, Accuracy: 5980/10000 (59.8000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 9: Average loss: 1.8240, Accuracy: 5955/8991 (66.2329%)
Done in 74.32751965522766 sec.
Server Epoch:10 choose agents : [12, 56, 19, 11, 13, 78, 49, 34, 14, 99].
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 12, internal_epoch   1,  Average loss: 0.0340, Accuracy: 350/597 (58.6265%), train_poison_data_count: 597
Global model norm: 1.8827409532811106.
Norm before scaling: 2.055875949405032. Distance: 0.5566633253320856
Total norm for 7 adversaries is: 2.055875949405032. distance: 0.5566633253320856
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.5995, Accuracy: 3863/8991 (42.9652%)
___Train Local_Simple,  epoch  10, local model 56, internal_epoch   1,  Average loss: 0.0364, Accuracy: 397/626 (63.4185%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.5254, Accuracy: 6878/10000 (68.7800%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 19, internal_epoch   1,  Average loss: 0.0334, Accuracy: 360/552 (65.2174%), train_poison_data_count: 552
Global model norm: 1.8827409532811106.
Norm before scaling: 2.074476437986282. Distance: 0.600622805572534
Total norm for 7 adversaries is: 2.074476437986282. distance: 0.600622805572534
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.6792, Accuracy: 3954/8991 (43.9773%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 11, internal_epoch   1,  Average loss: 0.0317, Accuracy: 409/644 (63.5093%), train_poison_data_count: 644
Global model norm: 1.8827409532811106.
Norm before scaling: 2.105757486506929. Distance: 0.6604442306887478
Total norm for 7 adversaries is: 2.105757486506929. distance: 0.6604442306887478
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.6294, Accuracy: 4655/8991 (51.7740%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 13, internal_epoch   1,  Average loss: 0.0343, Accuracy: 352/521 (67.5624%), train_poison_data_count: 521
Global model norm: 1.8827409532811106.
Norm before scaling: 2.049768513891452. Distance: 0.5171938927477212
Total norm for 7 adversaries is: 2.049768513891452. distance: 0.5171938927477212
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.4847, Accuracy: 5332/8991 (59.3037%)
___Train Local_Simple,  epoch  10, local model 78, internal_epoch   1,  Average loss: 0.0365, Accuracy: 386/624 (61.8590%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.5048, Accuracy: 7014/10000 (70.1400%), Attack Success Rate:0/10000(0.000)
poison local model 49 index 48 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 49, internal_epoch   1,  Average loss: 0.0355, Accuracy: 350/516 (67.8295%), train_poison_data_count: 516
Global model norm: 1.8827409532811106.
Norm before scaling: 2.0417590087975865. Distance: 0.5070344980661896
Total norm for 7 adversaries is: 2.0417590087975865. distance: 0.5070344980661896
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.5105, Accuracy: 5578/8991 (62.0398%)
poison local model 34 index 33 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 34, internal_epoch   1,  Average loss: 0.0349, Accuracy: 349/528 (66.0985%), train_poison_data_count: 528
Global model norm: 1.8827409532811106.
Norm before scaling: 2.0344419781841054. Distance: 0.474894355645558
Total norm for 7 adversaries is: 2.0344419781841054. distance: 0.474894355645558
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.4843, Accuracy: 5394/8991 (59.9933%)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  10, local model 14, internal_epoch   1,  Average loss: 0.0339, Accuracy: 308/535 (57.5701%), train_poison_data_count: 535
Global model norm: 1.8827409532811106.
Norm before scaling: 2.0380398462235525. Distance: 0.504070787403069
Total norm for 7 adversaries is: 2.0380398462235525. distance: 0.504070787403069
___Test Local_Simple poisoned: True, epoch: 10: Average loss: 1.5770, Accuracy: 4588/8991 (51.0288%)
___Train Local_Simple,  epoch  10, local model 99, internal_epoch   1,  Average loss: 0.0335, Accuracy: 324/410 (79.0244%)
___Test Local_Simple poisoned: False, epoch: 10: Average loss: 1.8555, Accuracy: 5350/10000 (53.5000%), Attack Success Rate:0/10000(0.000)
time spent on training: 20.15072536468506
[foolsgold agg] training data poison_ratio: 0.7010624887448226  data num: [597, 626, 552, 644, 521, 624, 516, 528, 535, 410]
[foolsgold agg] considering poison per batch poison_fraction: 0.7010624887448226
[foolsgold agg] wv: [0.29090018 0.17436923 1.         1.         0.29090018 0.17436923
 0.08900154 0.08900154 0.10925251 1.        ]
___Test Target_Simple poisoned: False, epoch: 10: Average loss: 1.8433, Accuracy: 5927/10000 (59.2700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 10: Average loss: 1.7864, Accuracy: 5905/8991 (65.6768%)
Done in 75.10398387908936 sec.
Server Epoch:11 choose agents : [53, 56, 51, 14, 36, 6, 46, 99, 88, 37].
___Train Local_Simple,  epoch  11, local model 53, internal_epoch   1,  Average loss: 0.0359, Accuracy: 350/617 (56.7261%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.5649, Accuracy: 6052/10000 (60.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 56, internal_epoch   1,  Average loss: 0.0359, Accuracy: 403/626 (64.3770%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.5072, Accuracy: 6876/10000 (68.7600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 51, internal_epoch   1,  Average loss: 0.0332, Accuracy: 402/647 (62.1329%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.5237, Accuracy: 5106/10000 (51.0600%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 14, internal_epoch   1,  Average loss: 0.0334, Accuracy: 334/535 (62.4299%), train_poison_data_count: 535
Global model norm: 1.8926476622287212.
Norm before scaling: 2.0548613152033495. Distance: 0.4999603762423434
Total norm for 5 adversaries is: 2.0548613152033495. distance: 0.4999603762423434
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.5471, Accuracy: 4793/8991 (53.3089%)
poison local model 36 index 35 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 36, internal_epoch   1,  Average loss: 0.0341, Accuracy: 374/520 (71.9231%), train_poison_data_count: 520
Global model norm: 1.8926476622287212.
Norm before scaling: 2.058672271910302. Distance: 0.5082172541373206
Total norm for 5 adversaries is: 2.058672271910302. distance: 0.5082172541373206
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.4741, Accuracy: 6061/8991 (67.4119%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 6, internal_epoch   1,  Average loss: 0.0336, Accuracy: 479/708 (67.6554%), train_poison_data_count: 708
Global model norm: 1.8926476622287212.
Norm before scaling: 2.1548237160716814. Distance: 0.688802439083207
Total norm for 5 adversaries is: 2.1548237160716814. distance: 0.688802439083207
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.3204, Accuracy: 6626/8991 (73.6959%)
poison local model 46 index 45 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 46, internal_epoch   1,  Average loss: 0.0340, Accuracy: 335/478 (70.0837%), train_poison_data_count: 478
Global model norm: 1.8926476622287212.
Norm before scaling: 2.0267696560030872. Distance: 0.4184687110935615
Total norm for 5 adversaries is: 2.0267696560030872. distance: 0.4184687110935615
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.4940, Accuracy: 5714/8991 (63.5524%)
___Train Local_Simple,  epoch  11, local model 99, internal_epoch   1,  Average loss: 0.0319, Accuracy: 320/410 (78.0488%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.8274, Accuracy: 5444/10000 (54.4400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  11, local model 88, internal_epoch   1,  Average loss: 0.0347, Accuracy: 439/679 (64.6539%)
___Test Local_Simple poisoned: False, epoch: 11: Average loss: 1.4903, Accuracy: 6126/10000 (61.2600%), Attack Success Rate:0/10000(0.000)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  11, local model 37, internal_epoch   1,  Average loss: 0.0316, Accuracy: 434/641 (67.7067%), train_poison_data_count: 641
Global model norm: 1.8926476622287212.
Norm before scaling: 2.1211637762885314. Distance: 0.6482299334593912
Total norm for 5 adversaries is: 2.1211637762885314. distance: 0.6482299334593912
___Test Local_Simple poisoned: True, epoch: 11: Average loss: 1.4786, Accuracy: 4657/8991 (51.7962%)
time spent on training: 18.50948929786682
[foolsgold agg] training data poison_ratio: 0.49172496161064666  data num: [617, 626, 647, 535, 520, 708, 478, 410, 679, 641]
[foolsgold agg] considering poison per batch poison_fraction: 0.49172496161064666
[foolsgold agg] wv: [1. 0. 1. 1. 0. 0. 0. 1. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 11: Average loss: 1.8152, Accuracy: 5952/10000 (59.5200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 11: Average loss: 1.7541, Accuracy: 5935/8991 (66.0105%)
Done in 73.30680537223816 sec.
Server Epoch:12 choose agents : [42, 17, 2, 64, 6, 38, 37, 44, 77, 4].
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 42, internal_epoch   1,  Average loss: 0.0322, Accuracy: 419/665 (63.0075%), train_poison_data_count: 665
Global model norm: 1.9024698266582876.
Norm before scaling: 2.147421856880639. Distance: 0.6555129862647598
Total norm for 8 adversaries is: 2.147421856880639. distance: 0.6555129862647598
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.4365, Accuracy: 4359/8991 (48.4818%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 17, internal_epoch   1,  Average loss: 0.0312, Accuracy: 487/648 (75.1543%), train_poison_data_count: 648
Global model norm: 1.9024698266582876.
Norm before scaling: 2.123808133843517. Distance: 0.5949270978311375
Total norm for 8 adversaries is: 2.123808133843517. distance: 0.5949270978311375
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.3268, Accuracy: 6488/8991 (72.1610%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 2, internal_epoch   1,  Average loss: 0.0332, Accuracy: 392/580 (67.5862%), train_poison_data_count: 580
Global model norm: 1.9024698266582876.
Norm before scaling: 2.08089360115343. Distance: 0.5088224784435857
Total norm for 8 adversaries is: 2.08089360115343. distance: 0.5088224784435857
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.4134, Accuracy: 6161/8991 (68.5241%)
___Train Local_Simple,  epoch  12, local model 64, internal_epoch   1,  Average loss: 0.0356, Accuracy: 363/566 (64.1343%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.5808, Accuracy: 5684/10000 (56.8400%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 6, internal_epoch   1,  Average loss: 0.0332, Accuracy: 487/708 (68.7853%), train_poison_data_count: 708
Global model norm: 1.9024698266582876.
Norm before scaling: 2.168339768013385. Distance: 0.6809858221141064
Total norm for 8 adversaries is: 2.168339768013385. distance: 0.6809858221141064
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.2979, Accuracy: 6741/8991 (74.9750%)
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 38, internal_epoch   1,  Average loss: 0.0306, Accuracy: 476/774 (61.4987%), train_poison_data_count: 774
Global model norm: 1.9024698266582876.
Norm before scaling: 2.2084766077552085. Distance: 0.7547892405167104
Total norm for 8 adversaries is: 2.2084766077552085. distance: 0.7547892405167104
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.2878, Accuracy: 5683/8991 (63.2077%)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 37, internal_epoch   1,  Average loss: 0.0310, Accuracy: 444/641 (69.2668%), train_poison_data_count: 641
Global model norm: 1.9024698266582876.
Norm before scaling: 2.130699816078697. Distance: 0.6265354131613282
Total norm for 8 adversaries is: 2.130699816078697. distance: 0.6265354131613282
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.4495, Accuracy: 4816/8991 (53.5647%)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 44, internal_epoch   1,  Average loss: 0.0340, Accuracy: 354/518 (68.3398%), train_poison_data_count: 518
Global model norm: 1.9024698266582876.
Norm before scaling: 2.064074060146351. Distance: 0.48452956287000504
Total norm for 8 adversaries is: 2.064074060146351. distance: 0.48452956287000504
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.4482, Accuracy: 5905/8991 (65.6768%)
___Train Local_Simple,  epoch  12, local model 77, internal_epoch   1,  Average loss: 0.0367, Accuracy: 318/519 (61.2717%)
___Test Local_Simple poisoned: False, epoch: 12: Average loss: 1.5620, Accuracy: 6206/10000 (62.0600%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  12, local model 4, internal_epoch   1,  Average loss: 0.0320, Accuracy: 400/587 (68.1431%), train_poison_data_count: 587
Global model norm: 1.9024698266582876.
Norm before scaling: 2.0901329339566197. Distance: 0.5248338379623799
Total norm for 8 adversaries is: 2.0901329339566197. distance: 0.5248338379623799
___Test Local_Simple poisoned: True, epoch: 12: Average loss: 1.3992, Accuracy: 6237/8991 (69.3694%)
time spent on training: 21.163422346115112
[foolsgold agg] training data poison_ratio: 0.8251691911053819  data num: [665, 648, 580, 566, 708, 774, 641, 518, 519, 587]
[foolsgold agg] considering poison per batch poison_fraction: 0.8251691911053818
[foolsgold agg] wv: [0.39618213 0.33763974 1.         1.         0.43662619 0.39618213
 0.42770984 0.43662619 1.         0.33763974]
___Test Target_Simple poisoned: False, epoch: 12: Average loss: 1.7721, Accuracy: 6319/10000 (63.1900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 12: Average loss: 1.7023, Accuracy: 6298/8991 (70.0478%)
Done in 75.90661907196045 sec.
Server Epoch:13 choose agents : [24, 38, 52, 10, 11, 76, 97, 7, 70, 14].
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 24, internal_epoch   1,  Average loss: 0.0317, Accuracy: 395/578 (68.3391%), train_poison_data_count: 578
Global model norm: 1.9179507874310024.
Norm before scaling: 2.1141721078183418. Distance: 0.5359485914233724
Total norm for 6 adversaries is: 2.1141721078183418. distance: 0.5359485914233724
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.4608, Accuracy: 4596/8991 (51.1178%)
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 38, internal_epoch   1,  Average loss: 0.0295, Accuracy: 517/774 (66.7959%), train_poison_data_count: 774
Global model norm: 1.9179507874310024.
Norm before scaling: 2.2301948766704776. Distance: 0.7403623928199125
Total norm for 6 adversaries is: 2.2301948766704776. distance: 0.7403623928199125
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.3193, Accuracy: 4832/8991 (53.7426%)
___Train Local_Simple,  epoch  13, local model 52, internal_epoch   1,  Average loss: 0.0355, Accuracy: 383/618 (61.9741%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.4528, Accuracy: 6920/10000 (69.2000%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 10, internal_epoch   1,  Average loss: 0.0326, Accuracy: 350/572 (61.1888%), train_poison_data_count: 572
Global model norm: 1.9179507874310024.
Norm before scaling: 2.110333712253869. Distance: 0.5563369725845246
Total norm for 6 adversaries is: 2.110333712253869. distance: 0.5563369725845246
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.5346, Accuracy: 3907/8991 (43.4546%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 11, internal_epoch   1,  Average loss: 0.0298, Accuracy: 439/644 (68.1677%), train_poison_data_count: 644
Global model norm: 1.9179507874310024.
Norm before scaling: 2.1456692703884737. Distance: 0.6183759136482369
Total norm for 6 adversaries is: 2.1456692703884737. distance: 0.6183759136482369
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.5735, Accuracy: 4650/8991 (51.7184%)
___Train Local_Simple,  epoch  13, local model 76, internal_epoch   1,  Average loss: 0.0349, Accuracy: 358/518 (69.1120%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.5356, Accuracy: 6188/10000 (61.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  13, local model 97, internal_epoch   1,  Average loss: 0.0330, Accuracy: 384/588 (65.3061%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.5870, Accuracy: 5947/10000 (59.4700%), Attack Success Rate:0/10000(0.000)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 7, internal_epoch   1,  Average loss: 0.0317, Accuracy: 389/550 (70.7273%), train_poison_data_count: 550
Global model norm: 1.9179507874310024.
Norm before scaling: 2.074032072873185. Distance: 0.4447349852449976
Total norm for 6 adversaries is: 2.074032072873185. distance: 0.4447349852449976
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.4577, Accuracy: 5746/8991 (63.9084%)
___Train Local_Simple,  epoch  13, local model 70, internal_epoch   1,  Average loss: 0.0334, Accuracy: 333/549 (60.6557%)
___Test Local_Simple poisoned: False, epoch: 13: Average loss: 1.6009, Accuracy: 5345/10000 (53.4500%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  13, local model 14, internal_epoch   1,  Average loss: 0.0319, Accuracy: 343/535 (64.1121%), train_poison_data_count: 535
Global model norm: 1.9179507874310024.
Norm before scaling: 2.0814176016558785. Distance: 0.4701127112713956
Total norm for 6 adversaries is: 2.0814176016558785. distance: 0.4701127112713956
___Test Local_Simple poisoned: True, epoch: 13: Average loss: 1.4959, Accuracy: 5006/8991 (55.6779%)
time spent on training: 19.53272294998169
[foolsgold agg] training data poison_ratio: 0.6164360445494431  data num: [578, 774, 618, 572, 644, 518, 588, 550, 549, 535]
[foolsgold agg] considering poison per batch poison_fraction: 0.6164360445494431
[foolsgold agg] wv: [0.         0.         1.         0.45491272 1.         0.56717205
 0.56717205 0.48075695 1.         0.51322326]
___Test Target_Simple poisoned: False, epoch: 13: Average loss: 1.7354, Accuracy: 6407/10000 (64.0700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 13: Average loss: 1.6647, Accuracy: 6387/8991 (71.0377%)
Done in 74.61704301834106 sec.
Server Epoch:14 choose agents : [95, 97, 12, 89, 25, 34, 55, 67, 56, 2].
___Train Local_Simple,  epoch  14, local model 95, internal_epoch   1,  Average loss: 0.0321, Accuracy: 385/532 (72.3684%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.5250, Accuracy: 6552/10000 (65.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 97, internal_epoch   1,  Average loss: 0.0325, Accuracy: 385/588 (65.4762%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.5511, Accuracy: 6048/10000 (60.4800%), Attack Success Rate:0/10000(0.000)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 12, internal_epoch   1,  Average loss: 0.0313, Accuracy: 401/597 (67.1692%), train_poison_data_count: 597
Global model norm: 1.932495791885907.
Norm before scaling: 2.115390592179825. Distance: 0.5091038643439484
Total norm for 4 adversaries is: 2.115390592179825. distance: 0.5091038643439484
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.4619, Accuracy: 4880/8991 (54.2765%)
___Train Local_Simple,  epoch  14, local model 89, internal_epoch   1,  Average loss: 0.0339, Accuracy: 436/664 (65.6627%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4825, Accuracy: 5615/10000 (56.1500%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 25, internal_epoch   1,  Average loss: 0.0321, Accuracy: 427/582 (73.3677%), train_poison_data_count: 582
Global model norm: 1.932495791885907.
Norm before scaling: 2.1235001824946784. Distance: 0.49947162366573944
Total norm for 4 adversaries is: 2.1235001824946784. distance: 0.49947162366573944
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.3300, Accuracy: 6484/8991 (72.1166%)
poison local model 34 index 33 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 34, internal_epoch   1,  Average loss: 0.0319, Accuracy: 374/528 (70.8333%), train_poison_data_count: 528
Global model norm: 1.932495791885907.
Norm before scaling: 2.0957125675098904. Distance: 0.43231069760390106
Total norm for 4 adversaries is: 2.0957125675098904. distance: 0.43231069760390106
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.3767, Accuracy: 6118/8991 (68.0458%)
___Train Local_Simple,  epoch  14, local model 55, internal_epoch   1,  Average loss: 0.0331, Accuracy: 407/592 (68.7500%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4609, Accuracy: 6601/10000 (66.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 67, internal_epoch   1,  Average loss: 0.0329, Accuracy: 441/643 (68.5848%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4780, Accuracy: 6429/10000 (64.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  14, local model 56, internal_epoch   1,  Average loss: 0.0341, Accuracy: 406/626 (64.8562%)
___Test Local_Simple poisoned: False, epoch: 14: Average loss: 1.4388, Accuracy: 7114/10000 (71.1400%), Attack Success Rate:0/10000(0.000)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  14, local model 2, internal_epoch   1,  Average loss: 0.0320, Accuracy: 385/580 (66.3793%), train_poison_data_count: 580
Global model norm: 1.932495791885907.
Norm before scaling: 2.122131992783131. Distance: 0.49199819708800085
Total norm for 4 adversaries is: 2.122131992783131. distance: 0.49199819708800085
___Test Local_Simple poisoned: True, epoch: 14: Average loss: 1.3650, Accuracy: 6277/8991 (69.8143%)
time spent on training: 18.09013843536377
[foolsgold agg] training data poison_ratio: 0.38553607552258934  data num: [532, 588, 597, 664, 582, 528, 592, 643, 626, 580]
[foolsgold agg] considering poison per batch poison_fraction: 0.38553607552258934
[foolsgold agg] wv: [1.         1.         0.84618526 0.84524517 0.84618526 1.
 1.         1.         0.84524517 1.        ]
___Test Target_Simple poisoned: False, epoch: 14: Average loss: 1.6717, Accuracy: 6642/10000 (66.4200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 14: Average loss: 1.6001, Accuracy: 6619/8991 (73.6181%)
Done in 73.27682399749756 sec.
Server Epoch:15 choose agents : [4, 1, 20, 48, 55, 98, 27, 42, 0, 44].
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 4, internal_epoch   1,  Average loss: 0.0294, Accuracy: 430/587 (73.2538%), train_poison_data_count: 587
Global model norm: 1.9596914762840754.
Norm before scaling: 2.154299420435656. Distance: 0.47245645635276706
Total norm for 7 adversaries is: 2.154299420435656. distance: 0.47245645635276706
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3101, Accuracy: 6493/8991 (72.2167%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 1, internal_epoch   1,  Average loss: 0.0317, Accuracy: 430/606 (70.9571%), train_poison_data_count: 606
Global model norm: 1.9596914762840754.
Norm before scaling: 2.1853430877120283. Distance: 0.571214250410055
Total norm for 7 adversaries is: 2.1853430877120283. distance: 0.571214250410055
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3666, Accuracy: 5173/8991 (57.5353%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 20, internal_epoch   1,  Average loss: 0.0326, Accuracy: 378/553 (68.3544%), train_poison_data_count: 553
Global model norm: 1.9596914762840754.
Norm before scaling: 2.144433524818268. Distance: 0.4784553334147275
Total norm for 7 adversaries is: 2.144433524818268. distance: 0.4784553334147275
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3632, Accuracy: 5841/8991 (64.9650%)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 48, internal_epoch   1,  Average loss: 0.0283, Accuracy: 391/589 (66.3837%), train_poison_data_count: 589
Global model norm: 1.9596914762840754.
Norm before scaling: 2.1688685843728055. Distance: 0.5522493316798313
Total norm for 7 adversaries is: 2.1688685843728055. distance: 0.5522493316798313
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.4468, Accuracy: 4793/8991 (53.3089%)
___Train Local_Simple,  epoch  15, local model 55, internal_epoch   1,  Average loss: 0.0319, Accuracy: 418/592 (70.6081%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.4223, Accuracy: 6602/10000 (66.0200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  15, local model 98, internal_epoch   1,  Average loss: 0.0284, Accuracy: 433/568 (76.2324%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.6094, Accuracy: 5982/10000 (59.8200%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 27, internal_epoch   1,  Average loss: 0.0294, Accuracy: 439/650 (67.5385%), train_poison_data_count: 650
Global model norm: 1.9596914762840754.
Norm before scaling: 2.174592547782423. Distance: 0.5395570228181124
Total norm for 7 adversaries is: 2.174592547782423. distance: 0.5395570228181124
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3655, Accuracy: 5217/8991 (58.0247%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 42, internal_epoch   1,  Average loss: 0.0294, Accuracy: 464/665 (69.7744%), train_poison_data_count: 665
Global model norm: 1.9596914762840754.
Norm before scaling: 2.2167515955934625. Distance: 0.6159466934098626
Total norm for 7 adversaries is: 2.2167515955934625. distance: 0.6159466934098626
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3668, Accuracy: 4549/8991 (50.5950%)
___Train Local_Simple,  epoch  15, local model 0, internal_epoch   1,  Average loss: 0.0336, Accuracy: 397/609 (65.1888%)
___Test Local_Simple poisoned: False, epoch: 15: Average loss: 1.4669, Accuracy: 5724/10000 (57.2400%), Attack Success Rate:0/10000(0.000)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch  15, local model 44, internal_epoch   1,  Average loss: 0.0316, Accuracy: 400/518 (77.2201%), train_poison_data_count: 518
Global model norm: 1.9596914762840754.
Norm before scaling: 2.13495402713209. Distance: 0.4578680870498646
Total norm for 7 adversaries is: 2.13495402713209. distance: 0.4578680870498646
___Test Local_Simple poisoned: True, epoch: 15: Average loss: 1.3466, Accuracy: 6441/8991 (71.6383%)
time spent on training: 20.511650323867798
[foolsgold agg] training data poison_ratio: 0.7020380663634832  data num: [587, 606, 553, 589, 592, 568, 650, 665, 609, 518]
[foolsgold agg] considering poison per batch poison_fraction: 0.7020380663634832
[foolsgold agg] wv: [0.         0.         0.87736394 0.         0.         1.
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 15: Average loss: 1.6603, Accuracy: 6648/10000 (66.4800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 15: Average loss: 1.5882, Accuracy: 6626/8991 (73.6959%)
Done in 75.44479823112488 sec.
Server Epoch:16 choose agents : [25, 8, 12, 99, 53, 26, 60, 63, 52, 90].
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 25, internal_epoch   1,  Average loss: 0.0307, Accuracy: 422/582 (72.5086%), train_poison_data_count: 582
Global model norm: 1.9652695545193735.
Norm before scaling: 2.1576550094067217. Distance: 0.47434908789829183
Total norm for 4 adversaries is: 2.1576550094067217. distance: 0.47434908789829183
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.2818, Accuracy: 6651/8991 (73.9740%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 8, internal_epoch   1,  Average loss: 0.0286, Accuracy: 502/683 (73.4993%), train_poison_data_count: 683
Global model norm: 1.9652695545193735.
Norm before scaling: 2.2282936192894036. Distance: 0.608535114445902
Total norm for 4 adversaries is: 2.2282936192894036. distance: 0.608535114445902
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.2430, Accuracy: 6084/8991 (67.6677%)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 12, internal_epoch   1,  Average loss: 0.0301, Accuracy: 416/597 (69.6817%), train_poison_data_count: 597
Global model norm: 1.9652695545193735.
Norm before scaling: 2.1531752626174794. Distance: 0.4928556932280923
Total norm for 4 adversaries is: 2.1531752626174794. distance: 0.4928556932280923
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.4000, Accuracy: 5235/8991 (58.2249%)
___Train Local_Simple,  epoch  16, local model 99, internal_epoch   1,  Average loss: 0.0283, Accuracy: 349/410 (85.1220%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.6996, Accuracy: 5733/10000 (57.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 53, internal_epoch   1,  Average loss: 0.0326, Accuracy: 423/617 (68.5575%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4385, Accuracy: 6448/10000 (64.4800%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  16, local model 26, internal_epoch   1,  Average loss: 0.0299, Accuracy: 417/526 (79.2776%), train_poison_data_count: 526
Global model norm: 1.9652695545193735.
Norm before scaling: 2.140725349246031. Distance: 0.44133496341819656
Total norm for 4 adversaries is: 2.140725349246031. distance: 0.44133496341819656
___Test Local_Simple poisoned: True, epoch: 16: Average loss: 1.3918, Accuracy: 5588/8991 (62.1510%)
___Train Local_Simple,  epoch  16, local model 60, internal_epoch   1,  Average loss: 0.0309, Accuracy: 449/644 (69.7205%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.3866, Accuracy: 6571/10000 (65.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 63, internal_epoch   1,  Average loss: 0.0336, Accuracy: 400/616 (64.9351%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4150, Accuracy: 6613/10000 (66.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 52, internal_epoch   1,  Average loss: 0.0333, Accuracy: 428/618 (69.2557%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.3997, Accuracy: 6563/10000 (65.6300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  16, local model 90, internal_epoch   1,  Average loss: 0.0326, Accuracy: 397/577 (68.8042%)
___Test Local_Simple poisoned: False, epoch: 16: Average loss: 1.4608, Accuracy: 6780/10000 (67.8000%), Attack Success Rate:0/10000(0.000)
time spent on training: 18.049804210662842
[foolsgold agg] training data poison_ratio: 0.40681431005110735  data num: [582, 683, 597, 410, 617, 526, 644, 616, 618, 577]
[foolsgold agg] considering poison per batch poison_fraction: 0.4068143100511074
[foolsgold agg] wv: [0.23812768 0.23812768 0.2659131  1.         0.         0.2659131
 1.         0.         0.15736956 0.15736956]
___Test Target_Simple poisoned: False, epoch: 16: Average loss: 1.6430, Accuracy: 6618/10000 (66.1800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 16: Average loss: 1.5671, Accuracy: 6597/8991 (73.3734%)
Done in 73.23155927658081 sec.
Server Epoch:17 choose agents : [66, 33, 56, 97, 10, 13, 77, 37, 90, 59].
___Train Local_Simple,  epoch  17, local model 66, internal_epoch   1,  Average loss: 0.0317, Accuracy: 417/629 (66.2957%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4179, Accuracy: 6463/10000 (64.6300%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 33, internal_epoch   1,  Average loss: 0.0285, Accuracy: 457/638 (71.6301%), train_poison_data_count: 638
Global model norm: 1.9754235525707877.
Norm before scaling: 2.209161159413065. Distance: 0.5591301110262381
Total norm for 4 adversaries is: 2.209161159413065. distance: 0.5591301110262381
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.3045, Accuracy: 5632/8991 (62.6404%)
___Train Local_Simple,  epoch  17, local model 56, internal_epoch   1,  Average loss: 0.0327, Accuracy: 438/626 (69.9681%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.3756, Accuracy: 7456/10000 (74.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 97, internal_epoch   1,  Average loss: 0.0311, Accuracy: 382/588 (64.9660%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4769, Accuracy: 6576/10000 (65.7600%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 10, internal_epoch   1,  Average loss: 0.0306, Accuracy: 401/572 (70.1049%), train_poison_data_count: 572
Global model norm: 1.9754235525707877.
Norm before scaling: 2.1724618900937966. Distance: 0.5237546785368707
Total norm for 4 adversaries is: 2.1724618900937966. distance: 0.5237546785368707
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.4291, Accuracy: 4397/8991 (48.9045%)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 13, internal_epoch   1,  Average loss: 0.0291, Accuracy: 394/521 (75.6238%), train_poison_data_count: 521
Global model norm: 1.9754235525707877.
Norm before scaling: 2.1567503859923214. Distance: 0.4437473800743023
Total norm for 4 adversaries is: 2.1567503859923214. distance: 0.4437473800743023
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.3080, Accuracy: 6033/8991 (67.1004%)
___Train Local_Simple,  epoch  17, local model 77, internal_epoch   1,  Average loss: 0.0337, Accuracy: 337/519 (64.9326%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4277, Accuracy: 6736/10000 (67.3600%), Attack Success Rate:0/10000(0.000)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  17, local model 37, internal_epoch   1,  Average loss: 0.0278, Accuracy: 483/641 (75.3510%), train_poison_data_count: 641
Global model norm: 1.9754235525707877.
Norm before scaling: 2.2109968089853185. Distance: 0.5639220910979978
Total norm for 4 adversaries is: 2.2109968089853185. distance: 0.5639220910979978
___Test Local_Simple poisoned: True, epoch: 17: Average loss: 1.3285, Accuracy: 5246/8991 (58.3472%)
___Train Local_Simple,  epoch  17, local model 90, internal_epoch   1,  Average loss: 0.0327, Accuracy: 393/577 (68.1109%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.4463, Accuracy: 6694/10000 (66.9400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  17, local model 59, internal_epoch   1,  Average loss: 0.0321, Accuracy: 435/652 (66.7178%)
___Test Local_Simple poisoned: False, epoch: 17: Average loss: 1.3468, Accuracy: 6669/10000 (66.6900%), Attack Success Rate:0/10000(0.000)
time spent on training: 18.357115268707275
[foolsgold agg] training data poison_ratio: 0.39778634915311084  data num: [629, 638, 626, 588, 572, 521, 519, 641, 577, 652]
[foolsgold agg] considering poison per batch poison_fraction: 0.3977863491531109
[foolsgold agg] wv: [0.25797739 0.         0.25797739 1.         1.         0.
 0.48134949 0.04185993 1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 17: Average loss: 1.6107, Accuracy: 6736/10000 (67.3600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 17: Average loss: 1.5382, Accuracy: 6713/8991 (74.6636%)
Done in 73.82088732719421 sec.
Server Epoch:18 choose agents : [55, 58, 88, 23, 39, 75, 82, 61, 95, 93].
___Train Local_Simple,  epoch  18, local model 55, internal_epoch   1,  Average loss: 0.0309, Accuracy: 420/592 (70.9459%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.3784, Accuracy: 6820/10000 (68.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 58, internal_epoch   1,  Average loss: 0.0333, Accuracy: 356/510 (69.8039%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.3874, Accuracy: 7166/10000 (71.6600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 88, internal_epoch   1,  Average loss: 0.0305, Accuracy: 467/679 (68.7776%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.3368, Accuracy: 6932/10000 (69.3200%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 23, internal_epoch   1,  Average loss: 0.0299, Accuracy: 415/588 (70.5782%), train_poison_data_count: 588
Global model norm: 1.9908814580930811.
Norm before scaling: 2.178425741572995. Distance: 0.45239458737284854
Total norm for 2 adversaries is: 2.178425741572995. distance: 0.45239458737284854
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.2555, Accuracy: 7106/8991 (79.0346%)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  18, local model 39, internal_epoch   1,  Average loss: 0.0311, Accuracy: 362/503 (71.9682%), train_poison_data_count: 503
Global model norm: 1.9908814580930811.
Norm before scaling: 2.1556250730864575. Distance: 0.40393735961344995
Total norm for 2 adversaries is: 2.1556250730864575. distance: 0.40393735961344995
___Test Local_Simple poisoned: True, epoch: 18: Average loss: 1.3105, Accuracy: 6370/8991 (70.8486%)
___Train Local_Simple,  epoch  18, local model 75, internal_epoch   1,  Average loss: 0.0314, Accuracy: 375/554 (67.6895%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4566, Accuracy: 5588/10000 (55.8800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 82, internal_epoch   1,  Average loss: 0.0313, Accuracy: 432/621 (69.5652%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.3836, Accuracy: 6733/10000 (67.3300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 61, internal_epoch   1,  Average loss: 0.0316, Accuracy: 371/537 (69.0875%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.3996, Accuracy: 6913/10000 (69.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 95, internal_epoch   1,  Average loss: 0.0298, Accuracy: 401/532 (75.3759%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4442, Accuracy: 6628/10000 (66.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  18, local model 93, internal_epoch   1,  Average loss: 0.0311, Accuracy: 375/529 (70.8885%)
___Test Local_Simple poisoned: False, epoch: 18: Average loss: 1.4632, Accuracy: 6863/10000 (68.6300%), Attack Success Rate:0/10000(0.000)
time spent on training: 16.840596675872803
[foolsgold agg] training data poison_ratio: 0.19326837909654562  data num: [592, 510, 679, 588, 503, 554, 621, 537, 532, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.1932683790965456
[foolsgold agg] wv: [0.99176097 1.         0.99176097 1.         1.         1.
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 18: Average loss: 1.5494, Accuracy: 6935/10000 (69.3500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 18: Average loss: 1.4826, Accuracy: 6913/8991 (76.8880%)
Done in 71.8692033290863 sec.
Server Epoch:19 choose agents : [37, 43, 50, 84, 25, 28, 8, 16, 6, 3].
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 37, internal_epoch   1,  Average loss: 0.0266, Accuracy: 485/641 (75.6630%), train_poison_data_count: 641
Global model norm: 2.0222556886360703.
Norm before scaling: 2.2603982552571096. Distance: 0.541239337595872
Total norm for 9 adversaries is: 2.2603982552571096. distance: 0.541239337595872
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2719, Accuracy: 5462/8991 (60.7496%)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 43, internal_epoch   1,  Average loss: 0.0297, Accuracy: 400/518 (77.2201%), train_poison_data_count: 518
Global model norm: 2.0222556886360703.
Norm before scaling: 2.1946103748195545. Distance: 0.4080933783813065
Total norm for 9 adversaries is: 2.1946103748195545. distance: 0.4080933783813065
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2586, Accuracy: 6513/8991 (72.4391%)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 50, internal_epoch   1,  Average loss: 0.0293, Accuracy: 371/474 (78.2700%), train_poison_data_count: 474
Global model norm: 2.0222556886360703.
Norm before scaling: 2.1712222868051723. Distance: 0.36687090596866734
Total norm for 9 adversaries is: 2.1712222868051723. distance: 0.36687090596866734
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2734, Accuracy: 6420/8991 (71.4047%)
___Train Local_Simple,  epoch  19, local model 84, internal_epoch   1,  Average loss: 0.0308, Accuracy: 412/560 (73.5714%)
___Test Local_Simple poisoned: False, epoch: 19: Average loss: 1.3412, Accuracy: 6793/10000 (67.9300%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 25, internal_epoch   1,  Average loss: 0.0289, Accuracy: 440/582 (75.6014%), train_poison_data_count: 582
Global model norm: 2.0222556886360703.
Norm before scaling: 2.217204348047829. Distance: 0.4510408847117822
Total norm for 9 adversaries is: 2.217204348047829. distance: 0.4510408847117822
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2171, Accuracy: 6820/8991 (75.8536%)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 28, internal_epoch   1,  Average loss: 0.0279, Accuracy: 488/665 (73.3835%), train_poison_data_count: 665
Global model norm: 2.0222556886360703.
Norm before scaling: 2.278065483665883. Distance: 0.5633855842119168
Total norm for 9 adversaries is: 2.278065483665883. distance: 0.5633855842119168
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2290, Accuracy: 5802/8991 (64.5312%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 8, internal_epoch   1,  Average loss: 0.0270, Accuracy: 517/683 (75.6955%), train_poison_data_count: 683
Global model norm: 2.0222556886360703.
Norm before scaling: 2.286092347997293. Distance: 0.5824712587805292
Total norm for 9 adversaries is: 2.286092347997293. distance: 0.5824712587805292
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2052, Accuracy: 6037/8991 (67.1449%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 16, internal_epoch   1,  Average loss: 0.0288, Accuracy: 440/581 (75.7315%), train_poison_data_count: 581
Global model norm: 2.0222556886360703.
Norm before scaling: 2.222185725336247. Distance: 0.4866262540901539
Total norm for 9 adversaries is: 2.222185725336247. distance: 0.4866262540901539
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.2952, Accuracy: 5904/8991 (65.6657%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 6, internal_epoch   1,  Average loss: 0.0294, Accuracy: 536/708 (75.7062%), train_poison_data_count: 708
Global model norm: 2.0222556886360703.
Norm before scaling: 2.299468775229269. Distance: 0.5951558084603953
Total norm for 9 adversaries is: 2.299468775229269. distance: 0.5951558084603953
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.1620, Accuracy: 6983/8991 (77.6666%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  19, local model 3, internal_epoch   1,  Average loss: 0.0314, Accuracy: 381/505 (75.4455%), train_poison_data_count: 505
Global model norm: 2.0222556886360703.
Norm before scaling: 2.192201086044356. Distance: 0.43586204655169214
Total norm for 9 adversaries is: 2.192201086044356. distance: 0.43586204655169214
___Test Local_Simple poisoned: True, epoch: 19: Average loss: 1.3143, Accuracy: 6306/8991 (70.1368%)
time spent on training: 22.12914729118347
[foolsgold agg] training data poison_ratio: 0.9053574446510055  data num: [641, 518, 474, 560, 582, 665, 683, 581, 708, 505]
[foolsgold agg] considering poison per batch poison_fraction: 0.9053574446510055
[foolsgold agg] wv: [0. 0. 0. 1. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 19: Average loss: 1.5430, Accuracy: 6942/10000 (69.4200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 19: Average loss: 1.4782, Accuracy: 6916/8991 (76.9214%)
Done in 77.23309445381165 sec.
Server Epoch:20 choose agents : [23, 43, 27, 82, 37, 35, 29, 47, 11, 42].
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 23, internal_epoch   1,  Average loss: 0.0288, Accuracy: 448/588 (76.1905%), train_poison_data_count: 588
Global model norm: 2.025345775140782.
Norm before scaling: 2.2179583359460735. Distance: 0.44768532796692584
Total norm for 9 adversaries is: 2.2179583359460735. distance: 0.44768532796692584
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2227, Accuracy: 7005/8991 (77.9112%)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 43, internal_epoch   1,  Average loss: 0.0297, Accuracy: 394/518 (76.0618%), train_poison_data_count: 518
Global model norm: 2.025345775140782.
Norm before scaling: 2.2009113634868482. Distance: 0.4123846644216966
Total norm for 9 adversaries is: 2.2009113634868482. distance: 0.4123846644216966
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2513, Accuracy: 6519/8991 (72.5058%)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 27, internal_epoch   1,  Average loss: 0.0276, Accuracy: 468/650 (72.0000%), train_poison_data_count: 650
Global model norm: 2.025345775140782.
Norm before scaling: 2.2484263109004297. Distance: 0.5190030331109561
Total norm for 9 adversaries is: 2.2484263109004297. distance: 0.5190030331109561
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2759, Accuracy: 5686/8991 (63.2410%)
___Train Local_Simple,  epoch  20, local model 82, internal_epoch   1,  Average loss: 0.0305, Accuracy: 424/621 (68.2770%)
___Test Local_Simple poisoned: False, epoch: 20: Average loss: 1.3426, Accuracy: 6808/10000 (68.0800%), Attack Success Rate:0/10000(0.000)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 37, internal_epoch   1,  Average loss: 0.0268, Accuracy: 467/641 (72.8549%), train_poison_data_count: 641
Global model norm: 2.025345775140782.
Norm before scaling: 2.2601310678470963. Distance: 0.536615651097001
Total norm for 9 adversaries is: 2.2601310678470963. distance: 0.536615651097001
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2708, Accuracy: 5456/8991 (60.6829%)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 35, internal_epoch   1,  Average loss: 0.0272, Accuracy: 377/493 (76.4706%), train_poison_data_count: 493
Global model norm: 2.025345775140782.
Norm before scaling: 2.1865766483867013. Distance: 0.42661419160520875
Total norm for 9 adversaries is: 2.1865766483867013. distance: 0.42661419160520875
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.3865, Accuracy: 4985/8991 (55.4443%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 29, internal_epoch   1,  Average loss: 0.0297, Accuracy: 468/605 (77.3554%), train_poison_data_count: 605
Global model norm: 2.025345775140782.
Norm before scaling: 2.251238482084151. Distance: 0.492571514427121
Total norm for 9 adversaries is: 2.251238482084151. distance: 0.492571514427121
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.1945, Accuracy: 6866/8991 (76.3653%)
poison local model 47 index 46 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 47, internal_epoch   1,  Average loss: 0.0276, Accuracy: 475/602 (78.9037%), train_poison_data_count: 602
Global model norm: 2.025345775140782.
Norm before scaling: 2.2613434422524943. Distance: 0.5148883817600306
Total norm for 9 adversaries is: 2.2613434422524943. distance: 0.5148883817600306
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2217, Accuracy: 6236/8991 (69.3582%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 11, internal_epoch   1,  Average loss: 0.0261, Accuracy: 475/644 (73.7578%), train_poison_data_count: 644
Global model norm: 2.025345775140782.
Norm before scaling: 2.261728658967391. Distance: 0.5609036948130803
Total norm for 9 adversaries is: 2.261728658967391. distance: 0.5609036948130803
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.3902, Accuracy: 5384/8991 (59.8821%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  20, local model 42, internal_epoch   1,  Average loss: 0.0279, Accuracy: 468/665 (70.3759%), train_poison_data_count: 665
Global model norm: 2.025345775140782.
Norm before scaling: 2.27939404801029. Distance: 0.5712528054233169
Total norm for 9 adversaries is: 2.27939404801029. distance: 0.5712528054233169
___Test Local_Simple poisoned: True, epoch: 20: Average loss: 1.2616, Accuracy: 5302/8991 (58.9701%)
time spent on training: 22.223297119140625
[foolsgold agg] training data poison_ratio: 0.8969636635141862  data num: [588, 518, 650, 621, 641, 493, 605, 602, 644, 665]
[foolsgold agg] considering poison per batch poison_fraction: 0.8969636635141862
[foolsgold agg] wv: [0. 0. 0. 1. 0. 0. 0. 0. 0. 0.]
___Test Target_Simple poisoned: False, epoch: 20: Average loss: 1.5365, Accuracy: 6971/10000 (69.7100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 20: Average loss: 1.4732, Accuracy: 6946/8991 (77.2550%)
Done in 77.5599718093872 sec.
Server Epoch:21 choose agents : [33, 12, 93, 15, 41, 97, 20, 86, 54, 52].
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 33, internal_epoch   1,  Average loss: 0.0269, Accuracy: 489/638 (76.6458%), train_poison_data_count: 638
Global model norm: 2.0285740759273887.
Norm before scaling: 2.2670626584258766. Distance: 0.5384985420132932
Total norm for 5 adversaries is: 2.2670626584258766. distance: 0.5384985420132932
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.2503, Accuracy: 5760/8991 (64.0641%)
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 12, internal_epoch   1,  Average loss: 0.0284, Accuracy: 430/597 (72.0268%), train_poison_data_count: 597
Global model norm: 2.0285740759273887.
Norm before scaling: 2.2217362415535447. Distance: 0.4839586960797614
Total norm for 5 adversaries is: 2.2217362415535447. distance: 0.4839586960797614
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.3274, Accuracy: 5452/8991 (60.6384%)
___Train Local_Simple,  epoch  21, local model 93, internal_epoch   1,  Average loss: 0.0298, Accuracy: 397/529 (75.0473%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.4021, Accuracy: 7068/10000 (70.6800%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 15, internal_epoch   1,  Average loss: 0.0297, Accuracy: 419/572 (73.2517%), train_poison_data_count: 572
Global model norm: 2.0285740759273887.
Norm before scaling: 2.2219350814743937. Distance: 0.4566571587538052
Total norm for 5 adversaries is: 2.2219350814743937. distance: 0.4566571587538052
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.2671, Accuracy: 6494/8991 (72.2278%)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 41, internal_epoch   1,  Average loss: 0.0279, Accuracy: 510/652 (78.2209%), train_poison_data_count: 652
Global model norm: 2.0285740759273887.
Norm before scaling: 2.297220528491912. Distance: 0.5722829145612387
Total norm for 5 adversaries is: 2.297220528491912. distance: 0.5722829145612387
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.1730, Accuracy: 6100/8991 (67.8456%)
___Train Local_Simple,  epoch  21, local model 97, internal_epoch   1,  Average loss: 0.0292, Accuracy: 399/588 (67.8571%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.4344, Accuracy: 6365/10000 (63.6500%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  21, local model 20, internal_epoch   1,  Average loss: 0.0304, Accuracy: 394/553 (71.2477%), train_poison_data_count: 553
Global model norm: 2.0285740759273887.
Norm before scaling: 2.221449271190192. Distance: 0.4646885556720166
Total norm for 5 adversaries is: 2.221449271190192. distance: 0.4646885556720166
___Test Local_Simple poisoned: True, epoch: 21: Average loss: 1.2757, Accuracy: 6219/8991 (69.1692%)
___Train Local_Simple,  epoch  21, local model 86, internal_epoch   1,  Average loss: 0.0292, Accuracy: 412/587 (70.1874%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.4021, Accuracy: 6052/10000 (60.5200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 54, internal_epoch   1,  Average loss: 0.0300, Accuracy: 385/523 (73.6138%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.3540, Accuracy: 6875/10000 (68.7500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  21, local model 52, internal_epoch   1,  Average loss: 0.0312, Accuracy: 415/618 (67.1521%)
___Test Local_Simple poisoned: False, epoch: 21: Average loss: 1.3169, Accuracy: 7202/10000 (72.0200%), Attack Success Rate:0/10000(0.000)
time spent on training: 19.228344678878784
[foolsgold agg] training data poison_ratio: 0.5142564452791532  data num: [638, 597, 529, 572, 652, 588, 553, 587, 523, 618]
[foolsgold agg] considering poison per batch poison_fraction: 0.5142564452791532
[foolsgold agg] wv: [0.45937599 0.         0.         0.         0.54042395 0.
 0.71544159 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 21: Average loss: 1.5119, Accuracy: 7021/10000 (70.2100%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 21: Average loss: 1.4463, Accuracy: 6996/8991 (77.8111%)
Done in 74.5913233757019 sec.
Server Epoch:22 choose agents : [24, 38, 42, 32, 60, 8, 35, 92, 27, 96].
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 24, internal_epoch   1,  Average loss: 0.0275, Accuracy: 424/578 (73.3564%), train_poison_data_count: 578
Global model norm: 2.044352367419289.
Norm before scaling: 2.2505215993919796. Distance: 0.48459140496434705
Total norm for 7 adversaries is: 2.2505215993919796. distance: 0.48459140496434705
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2861, Accuracy: 5083/8991 (56.5343%)
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 38, internal_epoch   1,  Average loss: 0.0259, Accuracy: 581/774 (75.0646%), train_poison_data_count: 774
Global model norm: 2.044352367419289.
Norm before scaling: 2.3600433615564174. Distance: 0.6489283990053718
Total norm for 7 adversaries is: 2.3600433615564174. distance: 0.6489283990053718
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.1730, Accuracy: 5717/8991 (63.5858%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 42, internal_epoch   1,  Average loss: 0.0270, Accuracy: 485/665 (72.9323%), train_poison_data_count: 665
Global model norm: 2.044352367419289.
Norm before scaling: 2.3008692259880563. Distance: 0.5691694536415479
Total norm for 7 adversaries is: 2.3008692259880563. distance: 0.5691694536415479
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2476, Accuracy: 5281/8991 (58.7365%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 32, internal_epoch   1,  Average loss: 0.0277, Accuracy: 415/609 (68.1445%), train_poison_data_count: 609
Global model norm: 2.044352367419289.
Norm before scaling: 2.268744800235895. Distance: 0.5112597904340481
Total norm for 7 adversaries is: 2.268744800235895. distance: 0.5112597904340481
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2492, Accuracy: 5906/8991 (65.6879%)
___Train Local_Simple,  epoch  22, local model 60, internal_epoch   1,  Average loss: 0.0285, Accuracy: 465/644 (72.2050%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.2927, Accuracy: 6908/10000 (69.0800%), Attack Success Rate:0/10000(0.000)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 8, internal_epoch   1,  Average loss: 0.0263, Accuracy: 515/683 (75.4026%), train_poison_data_count: 683
Global model norm: 2.044352367419289.
Norm before scaling: 2.304390581045715. Distance: 0.5663058224797876
Total norm for 7 adversaries is: 2.304390581045715. distance: 0.5663058224797876
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.1814, Accuracy: 6262/8991 (69.6474%)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 35, internal_epoch   1,  Average loss: 0.0263, Accuracy: 389/493 (78.9047%), train_poison_data_count: 493
Global model norm: 2.044352367419289.
Norm before scaling: 2.202891019476217. Distance: 0.4108909928726039
Total norm for 7 adversaries is: 2.202891019476217. distance: 0.4108909928726039
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.3459, Accuracy: 5331/8991 (59.2926%)
___Train Local_Simple,  epoch  22, local model 92, internal_epoch   1,  Average loss: 0.0293, Accuracy: 415/571 (72.6795%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.3631, Accuracy: 6180/10000 (61.8000%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  22, local model 27, internal_epoch   1,  Average loss: 0.0269, Accuracy: 486/650 (74.7692%), train_poison_data_count: 650
Global model norm: 2.044352367419289.
Norm before scaling: 2.2699882848160042. Distance: 0.5176798594554686
Total norm for 7 adversaries is: 2.2699882848160042. distance: 0.5176798594554686
___Test Local_Simple poisoned: True, epoch: 22: Average loss: 1.2783, Accuracy: 5405/8991 (60.1157%)
___Train Local_Simple,  epoch  22, local model 96, internal_epoch   1,  Average loss: 0.0272, Accuracy: 458/608 (75.3289%)
___Test Local_Simple poisoned: False, epoch: 22: Average loss: 1.4138, Accuracy: 5878/10000 (58.7800%), Attack Success Rate:0/10000(0.000)
time spent on training: 20.986088752746582
[foolsgold agg] training data poison_ratio: 0.7094820717131474  data num: [578, 774, 665, 609, 644, 683, 493, 571, 650, 608]
[foolsgold agg] considering poison per batch poison_fraction: 0.7094820717131474
[foolsgold agg] wv: [0.         0.         0.07788809 0.40485337 0.44412529 0.19160496
 0.27676448 0.44412529 0.26141435 1.        ]
___Test Target_Simple poisoned: False, epoch: 22: Average loss: 1.4967, Accuracy: 6995/10000 (69.9500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 22: Average loss: 1.4303, Accuracy: 6970/8991 (77.5220%)
Done in 75.79329538345337 sec.
Server Epoch:23 choose agents : [56, 82, 85, 17, 76, 61, 26, 86, 89, 75].
___Train Local_Simple,  epoch  23, local model 56, internal_epoch   1,  Average loss: 0.0301, Accuracy: 447/626 (71.4058%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.2750, Accuracy: 7759/10000 (77.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 82, internal_epoch   1,  Average loss: 0.0296, Accuracy: 417/621 (67.1498%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3072, Accuracy: 7125/10000 (71.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 85, internal_epoch   1,  Average loss: 0.0302, Accuracy: 389/570 (68.2456%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3066, Accuracy: 7275/10000 (72.7500%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 17, internal_epoch   1,  Average loss: 0.0258, Accuracy: 523/648 (80.7099%), train_poison_data_count: 648
Global model norm: 2.0551624981937398.
Norm before scaling: 2.292146863622679. Distance: 0.5005109977218891
Total norm for 2 adversaries is: 2.292146863622679. distance: 0.5005109977218891
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.1500, Accuracy: 6862/8991 (76.3208%)
___Train Local_Simple,  epoch  23, local model 76, internal_epoch   1,  Average loss: 0.0295, Accuracy: 386/518 (74.5174%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3392, Accuracy: 6854/10000 (68.5400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 61, internal_epoch   1,  Average loss: 0.0295, Accuracy: 397/537 (73.9292%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3287, Accuracy: 7115/10000 (71.1500%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  23, local model 26, internal_epoch   1,  Average loss: 0.0275, Accuracy: 403/526 (76.6160%), train_poison_data_count: 526
Global model norm: 2.0551624981937398.
Norm before scaling: 2.2312810858262715. Distance: 0.41139223879705855
Total norm for 2 adversaries is: 2.2312810858262715. distance: 0.41139223879705855
___Test Local_Simple poisoned: True, epoch: 23: Average loss: 1.2826, Accuracy: 5985/8991 (66.5666%)
___Train Local_Simple,  epoch  23, local model 86, internal_epoch   1,  Average loss: 0.0284, Accuracy: 414/587 (70.5281%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3741, Accuracy: 6230/10000 (62.3000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 89, internal_epoch   1,  Average loss: 0.0297, Accuracy: 460/664 (69.2771%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3226, Accuracy: 6250/10000 (62.5000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  23, local model 75, internal_epoch   1,  Average loss: 0.0300, Accuracy: 400/554 (72.2022%)
___Test Local_Simple poisoned: False, epoch: 23: Average loss: 1.3821, Accuracy: 5955/10000 (59.5500%), Attack Success Rate:0/10000(0.000)
time spent on training: 17.593326330184937
[foolsgold agg] training data poison_ratio: 0.20064946163049052  data num: [626, 621, 570, 648, 518, 537, 526, 587, 664, 554]
[foolsgold agg] considering poison per batch poison_fraction: 0.2006494616304905
[foolsgold agg] wv: [1.         0.91542396 0.26079662 1.         1.         0.26079662
 1.         1.         0.91542396 1.        ]
___Test Target_Simple poisoned: False, epoch: 23: Average loss: 1.4528, Accuracy: 7090/10000 (70.9000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 23: Average loss: 1.3904, Accuracy: 7051/8991 (78.4229%)
Done in 73.8067831993103 sec.
Server Epoch:24 choose agents : [36, 65, 96, 83, 63, 30, 94, 25, 52, 50].
poison local model 36 index 35 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 36, internal_epoch   1,  Average loss: 0.0274, Accuracy: 412/520 (79.2308%), train_poison_data_count: 520
Global model norm: 2.084032310213406.
Norm before scaling: 2.261075733865118. Distance: 0.40736364897662763
Total norm for 4 adversaries is: 2.261075733865118. distance: 0.40736364897662763
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.2164, Accuracy: 6662/8991 (74.0963%)
___Train Local_Simple,  epoch  24, local model 65, internal_epoch   1,  Average loss: 0.0303, Accuracy: 397/573 (69.2845%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2590, Accuracy: 7628/10000 (76.2800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 96, internal_epoch   1,  Average loss: 0.0260, Accuracy: 466/608 (76.6447%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.3712, Accuracy: 6020/10000 (60.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 83, internal_epoch   1,  Average loss: 0.0302, Accuracy: 385/555 (69.3694%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2619, Accuracy: 7560/10000 (75.6000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  24, local model 63, internal_epoch   1,  Average loss: 0.0302, Accuracy: 435/616 (70.6169%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2667, Accuracy: 7502/10000 (75.0200%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 30, internal_epoch   1,  Average loss: 0.0266, Accuracy: 528/668 (79.0419%), train_poison_data_count: 668
Global model norm: 2.084032310213406.
Norm before scaling: 2.340393715038998. Distance: 0.5347892170864703
Total norm for 4 adversaries is: 2.340393715038998. distance: 0.5347892170864703
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.1532, Accuracy: 6740/8991 (74.9639%)
___Train Local_Simple,  epoch  24, local model 94, internal_epoch   1,  Average loss: 0.0277, Accuracy: 433/555 (78.0180%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.3020, Accuracy: 7187/10000 (71.8700%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 25, internal_epoch   1,  Average loss: 0.0272, Accuracy: 450/582 (77.3196%), train_poison_data_count: 582
Global model norm: 2.084032310213406.
Norm before scaling: 2.2797709856963486. Distance: 0.43574117594575446
Total norm for 4 adversaries is: 2.2797709856963486. distance: 0.43574117594575446
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.1621, Accuracy: 6809/8991 (75.7313%)
___Train Local_Simple,  epoch  24, local model 52, internal_epoch   1,  Average loss: 0.0298, Accuracy: 436/618 (70.5502%)
___Test Local_Simple poisoned: False, epoch: 24: Average loss: 1.2584, Accuracy: 7524/10000 (75.2400%), Attack Success Rate:0/10000(0.000)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  24, local model 50, internal_epoch   1,  Average loss: 0.0278, Accuracy: 362/474 (76.3713%), train_poison_data_count: 474
Global model norm: 2.084032310213406.
Norm before scaling: 2.2351873028333795. Distance: 0.3547973790309029
Total norm for 4 adversaries is: 2.2351873028333795. distance: 0.3547973790309029
___Test Local_Simple poisoned: True, epoch: 24: Average loss: 1.2057, Accuracy: 6518/8991 (72.4947%)
time spent on training: 19.947645902633667
[foolsgold agg] training data poison_ratio: 0.3889755590223609  data num: [520, 573, 608, 555, 616, 668, 555, 582, 618, 474]
[foolsgold agg] considering poison per batch poison_fraction: 0.3889755590223609
[foolsgold agg] wv: [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]
___Test Target_Simple poisoned: False, epoch: 24: Average loss: 1.4067, Accuracy: 7134/10000 (71.3400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 24: Average loss: 1.3430, Accuracy: 7101/8991 (78.9790%)
Done in 82.98713612556458 sec.
Server Epoch:25 choose agents : [45, 6, 35, 17, 20, 73, 43, 8, 74, 3].
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 45, internal_epoch   1,  Average loss: 0.0240, Accuracy: 557/750 (74.2667%), train_poison_data_count: 750
Global model norm: 2.1192457041200186.
Norm before scaling: 2.398171375930782. Distance: 0.6042640514373512
Total norm for 8 adversaries is: 2.398171375930782. distance: 0.6042640514373512
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1909, Accuracy: 6007/8991 (66.8113%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 6, internal_epoch   1,  Average loss: 0.0276, Accuracy: 545/708 (76.9774%), train_poison_data_count: 708
Global model norm: 2.1192457041200186.
Norm before scaling: 2.3916920792384815. Distance: 0.5422290456283672
Total norm for 8 adversaries is: 2.3916920792384815. distance: 0.5422290456283672
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.0724, Accuracy: 7309/8991 (81.2924%)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 35, internal_epoch   1,  Average loss: 0.0245, Accuracy: 400/493 (81.1359%), train_poison_data_count: 493
Global model norm: 2.1192457041200186.
Norm before scaling: 2.2757881308496435. Distance: 0.3898731816864908
Total norm for 8 adversaries is: 2.2757881308496435. distance: 0.3898731816864908
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.2664, Accuracy: 5662/8991 (62.9741%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 17, internal_epoch   1,  Average loss: 0.0243, Accuracy: 523/648 (80.7099%), train_poison_data_count: 648
Global model norm: 2.1192457041200186.
Norm before scaling: 2.354194258356583. Distance: 0.47231744019742855
Total norm for 8 adversaries is: 2.354194258356583. distance: 0.47231744019742855
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.0973, Accuracy: 6975/8991 (77.5776%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 20, internal_epoch   1,  Average loss: 0.0283, Accuracy: 409/553 (73.9602%), train_poison_data_count: 553
Global model norm: 2.1192457041200186.
Norm before scaling: 2.3077659607406518. Distance: 0.43790614485992907
Total norm for 8 adversaries is: 2.3077659607406518. distance: 0.43790614485992907
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1876, Accuracy: 6567/8991 (73.0397%)
___Train Local_Simple,  epoch  25, local model 73, internal_epoch   1,  Average loss: 0.0276, Accuracy: 446/626 (71.2460%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.2860, Accuracy: 6401/10000 (64.0100%), Attack Success Rate:0/10000(0.000)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 43, internal_epoch   1,  Average loss: 0.0271, Accuracy: 410/518 (79.1506%), train_poison_data_count: 518
Global model norm: 2.1192457041200186.
Norm before scaling: 2.2939731666039864. Distance: 0.3871356373952278
Total norm for 8 adversaries is: 2.2939731666039864. distance: 0.3871356373952278
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1626, Accuracy: 6681/8991 (74.3076%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 8, internal_epoch   1,  Average loss: 0.0248, Accuracy: 528/683 (77.3060%), train_poison_data_count: 683
Global model norm: 2.1192457041200186.
Norm before scaling: 2.3814943763911587. Distance: 0.5369148595754758
Total norm for 8 adversaries is: 2.3814943763911587. distance: 0.5369148595754758
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.1008, Accuracy: 6563/8991 (72.9952%)
___Train Local_Simple,  epoch  25, local model 74, internal_epoch   1,  Average loss: 0.0292, Accuracy: 453/626 (72.3642%)
___Test Local_Simple poisoned: False, epoch: 25: Average loss: 1.2433, Accuracy: 7347/10000 (73.4700%), Attack Success Rate:0/10000(0.000)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  25, local model 3, internal_epoch   1,  Average loss: 0.0280, Accuracy: 389/505 (77.0297%), train_poison_data_count: 505
Global model norm: 2.1192457041200186.
Norm before scaling: 2.2887849086097276. Distance: 0.4094141286248109
Total norm for 8 adversaries is: 2.2887849086097276. distance: 0.4094141286248109
___Test Local_Simple poisoned: True, epoch: 25: Average loss: 1.2061, Accuracy: 6615/8991 (73.5736%)
time spent on training: 24.92685627937317
[foolsgold agg] training data poison_ratio: 0.7950900163666121  data num: [750, 708, 493, 648, 553, 626, 518, 683, 626, 505]
[foolsgold agg] considering poison per batch poison_fraction: 0.7950900163666121
[foolsgold agg] wv: [0.11176381 0.30692161 1.         0.59027991 0.29616904 0.90056594
 0.29616904 0.11176381 0.90056594 0.50698946]
___Test Target_Simple poisoned: False, epoch: 25: Average loss: 1.3867, Accuracy: 7188/10000 (71.8800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 25: Average loss: 1.3175, Accuracy: 7160/8991 (79.6352%)
Done in 88.09885358810425 sec.
Server Epoch:26 choose agents : [39, 14, 32, 4, 30, 63, 23, 3, 94, 84].
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 39, internal_epoch   1,  Average loss: 0.0284, Accuracy: 378/503 (75.1491%), train_poison_data_count: 503
Global model norm: 2.136838473743936.
Norm before scaling: 2.3008223887782755. Distance: 0.36100348245177366
Total norm for 7 adversaries is: 2.3008223887782755. distance: 0.36100348245177366
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1677, Accuracy: 6643/8991 (73.8850%)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 14, internal_epoch   1,  Average loss: 0.0257, Accuracy: 406/535 (75.8879%), train_poison_data_count: 535
Global model norm: 2.136838473743936.
Norm before scaling: 2.3050039300450647. Distance: 0.3975150331617464
Total norm for 7 adversaries is: 2.3050039300450647. distance: 0.3975150331617464
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.2122, Accuracy: 6152/8991 (68.4240%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 32, internal_epoch   1,  Average loss: 0.0259, Accuracy: 439/609 (72.0854%), train_poison_data_count: 609
Global model norm: 2.136838473743936.
Norm before scaling: 2.354304745656072. Distance: 0.47472781991395807
Total norm for 7 adversaries is: 2.354304745656072. distance: 0.47472781991395807
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1627, Accuracy: 6327/8991 (70.3704%)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 4, internal_epoch   1,  Average loss: 0.0247, Accuracy: 463/587 (78.8756%), train_poison_data_count: 587
Global model norm: 2.136838473743936.
Norm before scaling: 2.3293396514183846. Distance: 0.38611171743900313
Total norm for 7 adversaries is: 2.3293396514183846. distance: 0.38611171743900313
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1225, Accuracy: 6925/8991 (77.0215%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 30, internal_epoch   1,  Average loss: 0.0254, Accuracy: 528/668 (79.0419%), train_poison_data_count: 668
Global model norm: 2.136838473743936.
Norm before scaling: 2.3841021940422276. Distance: 0.5036520797463117
Total norm for 7 adversaries is: 2.3841021940422276. distance: 0.5036520797463117
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1173, Accuracy: 6779/8991 (75.3976%)
___Train Local_Simple,  epoch  26, local model 63, internal_epoch   1,  Average loss: 0.0292, Accuracy: 436/616 (70.7792%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.2328, Accuracy: 7379/10000 (73.7900%), Attack Success Rate:0/10000(0.000)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 23, internal_epoch   1,  Average loss: 0.0262, Accuracy: 453/588 (77.0408%), train_poison_data_count: 588
Global model norm: 2.136838473743936.
Norm before scaling: 2.324740208703731. Distance: 0.40334253503940526
Total norm for 7 adversaries is: 2.324740208703731. distance: 0.40334253503940526
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1203, Accuracy: 7200/8991 (80.0801%)
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  26, local model 3, internal_epoch   1,  Average loss: 0.0284, Accuracy: 401/505 (79.4059%), train_poison_data_count: 505
Global model norm: 2.136838473743936.
Norm before scaling: 2.303063082024445. Distance: 0.3934923221973335
Total norm for 7 adversaries is: 2.303063082024445. distance: 0.3934923221973335
___Test Local_Simple poisoned: True, epoch: 26: Average loss: 1.1841, Accuracy: 6747/8991 (75.0417%)
___Train Local_Simple,  epoch  26, local model 94, internal_epoch   1,  Average loss: 0.0257, Accuracy: 429/555 (77.2973%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.2720, Accuracy: 7061/10000 (70.6100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  26, local model 84, internal_epoch   1,  Average loss: 0.0279, Accuracy: 424/560 (75.7143%)
___Test Local_Simple poisoned: False, epoch: 26: Average loss: 1.2273, Accuracy: 7308/10000 (73.0800%), Attack Success Rate:0/10000(0.000)
time spent on training: 24.651729583740234
[foolsgold agg] training data poison_ratio: 0.6976947258120852  data num: [503, 535, 609, 587, 668, 616, 588, 505, 555, 560]
[foolsgold agg] considering poison per batch poison_fraction: 0.6976947258120851
[foolsgold agg] wv: [1.         0.20465072 0.50453765 0.13096372 0.13096372 1.
 0.20465072 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 26: Average loss: 1.3641, Accuracy: 7200/10000 (72.0000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 26: Average loss: 1.2911, Accuracy: 7169/8991 (79.7353%)
Done in 87.17783188819885 sec.
Server Epoch:27 choose agents : [69, 2, 42, 25, 17, 37, 45, 54, 30, 0].
___Train Local_Simple,  epoch  27, local model 69, internal_epoch   1,  Average loss: 0.0255, Accuracy: 461/646 (71.3622%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.2349, Accuracy: 6831/10000 (68.3100%), Attack Success Rate:0/10000(0.000)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 2, internal_epoch   1,  Average loss: 0.0256, Accuracy: 451/580 (77.7586%), train_poison_data_count: 580
Global model norm: 2.1580955236892727.
Norm before scaling: 2.3467474525627208. Distance: 0.3981617178820298
Total norm for 7 adversaries is: 2.3467474525627208. distance: 0.3981617178820298
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1246, Accuracy: 6912/8991 (76.8769%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 42, internal_epoch   1,  Average loss: 0.0250, Accuracy: 498/665 (74.8872%), train_poison_data_count: 665
Global model norm: 2.1580955236892727.
Norm before scaling: 2.403193129825042. Distance: 0.5052819214806432
Total norm for 7 adversaries is: 2.403193129825042. distance: 0.5052819214806432
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1304, Accuracy: 6073/8991 (67.5453%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 25, internal_epoch   1,  Average loss: 0.0256, Accuracy: 451/582 (77.4914%), train_poison_data_count: 582
Global model norm: 2.1580955236892727.
Norm before scaling: 2.3483449017916844. Distance: 0.39696261497645086
Total norm for 7 adversaries is: 2.3483449017916844. distance: 0.39696261497645086
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.0928, Accuracy: 7087/8991 (78.8233%)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 17, internal_epoch   1,  Average loss: 0.0235, Accuracy: 536/648 (82.7160%), train_poison_data_count: 648
Global model norm: 2.1580955236892727.
Norm before scaling: 2.3881415139380837. Distance: 0.443277158130024
Total norm for 7 adversaries is: 2.3881415139380837. distance: 0.443277158130024
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.0592, Accuracy: 7177/8991 (79.8243%)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 37, internal_epoch   1,  Average loss: 0.0235, Accuracy: 519/641 (80.9672%), train_poison_data_count: 641
Global model norm: 2.1580955236892727.
Norm before scaling: 2.386569204187411. Distance: 0.47561441763134593
Total norm for 7 adversaries is: 2.386569204187411. distance: 0.47561441763134593
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1514, Accuracy: 6025/8991 (67.0115%)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 45, internal_epoch   1,  Average loss: 0.0233, Accuracy: 556/750 (74.1333%), train_poison_data_count: 750
Global model norm: 2.1580955236892727.
Norm before scaling: 2.433107967478774. Distance: 0.5788744115890316
Total norm for 7 adversaries is: 2.433107967478774. distance: 0.5788744115890316
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.1560, Accuracy: 6091/8991 (67.7455%)
___Train Local_Simple,  epoch  27, local model 54, internal_epoch   1,  Average loss: 0.0266, Accuracy: 393/523 (75.1434%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.2255, Accuracy: 7178/10000 (71.7800%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  27, local model 30, internal_epoch   1,  Average loss: 0.0252, Accuracy: 531/668 (79.4910%), train_poison_data_count: 668
Global model norm: 2.1580955236892727.
Norm before scaling: 2.4054223160506947. Distance: 0.49668865128265277
Total norm for 7 adversaries is: 2.4054223160506947. distance: 0.49668865128265277
___Test Local_Simple poisoned: True, epoch: 27: Average loss: 1.0996, Accuracy: 6807/8991 (75.7090%)
___Train Local_Simple,  epoch  27, local model 0, internal_epoch   1,  Average loss: 0.0278, Accuracy: 440/609 (72.2496%)
___Test Local_Simple poisoned: False, epoch: 27: Average loss: 1.2650, Accuracy: 6531/10000 (65.3100%), Attack Success Rate:0/10000(0.000)
time spent on training: 24.451963186264038
[foolsgold agg] training data poison_ratio: 0.7183143219264893  data num: [646, 580, 665, 582, 648, 641, 750, 523, 668, 609]
[foolsgold agg] considering poison per batch poison_fraction: 0.7183143219264891
[foolsgold agg] wv: [1.         0.58388106 0.         0.         0.         0.03552958
 0.         1.         0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 27: Average loss: 1.3480, Accuracy: 7237/10000 (72.3700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 27: Average loss: 1.2781, Accuracy: 7207/8991 (80.1579%)
Done in 87.32881164550781 sec.
Server Epoch:28 choose agents : [33, 51, 17, 63, 6, 24, 82, 35, 80, 81].
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 33, internal_epoch   1,  Average loss: 0.0234, Accuracy: 525/638 (82.2884%), train_poison_data_count: 638
Global model norm: 2.1705708052715122.
Norm before scaling: 2.4009176844253686. Distance: 0.47347053815428347
Total norm for 5 adversaries is: 2.4009176844253686. distance: 0.47347053815428347
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.1273, Accuracy: 6102/8991 (67.8679%)
___Train Local_Simple,  epoch  28, local model 51, internal_epoch   1,  Average loss: 0.0249, Accuracy: 476/647 (73.5703%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1959, Accuracy: 6718/10000 (67.1800%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 17, internal_epoch   1,  Average loss: 0.0232, Accuracy: 530/648 (81.7901%), train_poison_data_count: 648
Global model norm: 2.1705708052715122.
Norm before scaling: 2.401328962657085. Distance: 0.44612676227763415
Total norm for 5 adversaries is: 2.401328962657085. distance: 0.44612676227763415
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.0568, Accuracy: 7051/8991 (78.4229%)
___Train Local_Simple,  epoch  28, local model 63, internal_epoch   1,  Average loss: 0.0280, Accuracy: 453/616 (73.5390%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.2117, Accuracy: 7325/10000 (73.2500%), Attack Success Rate:0/10000(0.000)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 6, internal_epoch   1,  Average loss: 0.0253, Accuracy: 564/708 (79.6610%), train_poison_data_count: 708
Global model norm: 2.1705708052715122.
Norm before scaling: 2.4360606516599037. Distance: 0.5148201064381134
Total norm for 5 adversaries is: 2.4360606516599037. distance: 0.5148201064381134
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.0401, Accuracy: 7300/8991 (81.1923%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 24, internal_epoch   1,  Average loss: 0.0245, Accuracy: 446/578 (77.1626%), train_poison_data_count: 578
Global model norm: 2.1705708052715122.
Norm before scaling: 2.367828584485239. Distance: 0.4324585944680697
Total norm for 5 adversaries is: 2.367828584485239. distance: 0.4324585944680697
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.1625, Accuracy: 5641/8991 (62.7405%)
___Train Local_Simple,  epoch  28, local model 82, internal_epoch   1,  Average loss: 0.0270, Accuracy: 449/621 (72.3027%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1981, Accuracy: 7480/10000 (74.8000%), Attack Success Rate:0/10000(0.000)
poison local model 35 index 34 
poison_now
___PoisonTrain Local_Simple ,  epoch  28, local model 35, internal_epoch   1,  Average loss: 0.0236, Accuracy: 404/493 (81.9473%), train_poison_data_count: 493
Global model norm: 2.1705708052715122.
Norm before scaling: 2.3252973345885004. Distance: 0.3802468876908821
Total norm for 5 adversaries is: 2.3252973345885004. distance: 0.3802468876908821
___Test Local_Simple poisoned: True, epoch: 28: Average loss: 1.2192, Accuracy: 5794/8991 (64.4422%)
___Train Local_Simple,  epoch  28, local model 80, internal_epoch   1,  Average loss: 0.0259, Accuracy: 432/593 (72.8499%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.2106, Accuracy: 7265/10000 (72.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  28, local model 81, internal_epoch   1,  Average loss: 0.0263, Accuracy: 442/586 (75.4266%)
___Test Local_Simple poisoned: False, epoch: 28: Average loss: 1.1967, Accuracy: 7396/10000 (73.9600%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.127119779586792
[foolsgold agg] training data poison_ratio: 0.5001631853785901  data num: [638, 647, 648, 616, 708, 578, 621, 493, 593, 586]
[foolsgold agg] considering poison per batch poison_fraction: 0.5001631853785901
[foolsgold agg] wv: [0.89118242 1.         1.         1.         0.89118242 1.
 1.         1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 28: Average loss: 1.3124, Accuracy: 7299/10000 (72.9900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 28: Average loss: 1.2358, Accuracy: 7268/8991 (80.8364%)
Done in 85.48280572891235 sec.
Server Epoch:29 choose agents : [58, 90, 30, 72, 41, 25, 16, 91, 50, 57].
___Train Local_Simple,  epoch  29, local model 58, internal_epoch   1,  Average loss: 0.0274, Accuracy: 375/510 (73.5294%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1737, Accuracy: 7631/10000 (76.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  29, local model 90, internal_epoch   1,  Average loss: 0.0270, Accuracy: 434/577 (75.2166%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.2080, Accuracy: 7399/10000 (73.9900%), Attack Success Rate:0/10000(0.000)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 30, internal_epoch   1,  Average loss: 0.0246, Accuracy: 527/668 (78.8922%), train_poison_data_count: 668
Global model norm: 2.2068734171647515.
Norm before scaling: 2.4526738037367752. Distance: 0.47968013521685293
Total norm for 5 adversaries is: 2.4526738037367752. distance: 0.47968013521685293
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.0631, Accuracy: 6869/8991 (76.3986%)
___Train Local_Simple,  epoch  29, local model 72, internal_epoch   1,  Average loss: 0.0262, Accuracy: 401/529 (75.8034%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1861, Accuracy: 7299/10000 (72.9900%), Attack Success Rate:0/10000(0.000)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 41, internal_epoch   1,  Average loss: 0.0238, Accuracy: 521/652 (79.9080%), train_poison_data_count: 652
Global model norm: 2.2068734171647515.
Norm before scaling: 2.4547867704505224. Distance: 0.4816762436120366
Total norm for 5 adversaries is: 2.4547867704505224. distance: 0.4816762436120366
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.0530, Accuracy: 6498/8991 (72.2723%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 25, internal_epoch   1,  Average loss: 0.0247, Accuracy: 456/582 (78.3505%), train_poison_data_count: 582
Global model norm: 2.2068734171647515.
Norm before scaling: 2.3962239043835125. Distance: 0.3885589895741781
Total norm for 5 adversaries is: 2.3962239043835125. distance: 0.3885589895741781
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.0549, Accuracy: 7140/8991 (79.4127%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 16, internal_epoch   1,  Average loss: 0.0247, Accuracy: 463/581 (79.6902%), train_poison_data_count: 581
Global model norm: 2.2068734171647515.
Norm before scaling: 2.396879702965053. Distance: 0.41990051215191226
Total norm for 5 adversaries is: 2.396879702965053. distance: 0.41990051215191226
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.1084, Accuracy: 6757/8991 (75.1529%)
___Train Local_Simple,  epoch  29, local model 91, internal_epoch   1,  Average loss: 0.0260, Accuracy: 479/627 (76.3955%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1683, Accuracy: 7627/10000 (76.2700%), Attack Success Rate:0/10000(0.000)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  29, local model 50, internal_epoch   1,  Average loss: 0.0249, Accuracy: 388/474 (81.8565%), train_poison_data_count: 474
Global model norm: 2.2068734171647515.
Norm before scaling: 2.3509621091358595. Distance: 0.3041203918703719
Total norm for 5 adversaries is: 2.3509621091358595. distance: 0.3041203918703719
___Test Local_Simple poisoned: True, epoch: 29: Average loss: 1.0923, Accuracy: 6861/8991 (76.3096%)
___Train Local_Simple,  epoch  29, local model 57, internal_epoch   1,  Average loss: 0.0262, Accuracy: 420/568 (73.9437%)
___Test Local_Simple poisoned: False, epoch: 29: Average loss: 1.1625, Accuracy: 7695/10000 (76.9500%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.931060075759888
[foolsgold agg] training data poison_ratio: 0.5126560332871013  data num: [510, 577, 668, 529, 652, 582, 581, 627, 474, 568]
[foolsgold agg] considering poison per batch poison_fraction: 0.5126560332871013
[foolsgold agg] wv: [0.04748988 1.         0.32576235 0.04748988 1.         0.32576235
 1.         1.         0.73180274 1.        ]
___Test Target_Simple poisoned: False, epoch: 29: Average loss: 1.2913, Accuracy: 7337/10000 (73.3700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 29: Average loss: 1.2101, Accuracy: 7313/8991 (81.3369%)
Done in 85.66153931617737 sec.
Server Epoch:30 choose agents : [50, 77, 73, 21, 10, 8, 40, 52, 45, 30].
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 50, internal_epoch   1,  Average loss: 0.0242, Accuracy: 377/474 (79.5359%), train_poison_data_count: 474
Global model norm: 2.2299983769569134.
Norm before scaling: 2.3721047874385968. Distance: 0.29819417540802584
Total norm for 7 adversaries is: 2.3721047874385968. distance: 0.29819417540802584
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0815, Accuracy: 6828/8991 (75.9426%)
___Train Local_Simple,  epoch  30, local model 77, internal_epoch   1,  Average loss: 0.0275, Accuracy: 371/519 (71.4836%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.1709, Accuracy: 7532/10000 (75.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  30, local model 73, internal_epoch   1,  Average loss: 0.0255, Accuracy: 464/626 (74.1214%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.2143, Accuracy: 6560/10000 (65.6000%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 21, internal_epoch   1,  Average loss: 0.0232, Accuracy: 489/625 (78.2400%), train_poison_data_count: 625
Global model norm: 2.2299983769569134.
Norm before scaling: 2.446419364824364. Distance: 0.44040788144011317
Total norm for 7 adversaries is: 2.446419364824364. distance: 0.44040788144011317
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.1156, Accuracy: 5913/8991 (65.7658%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 10, internal_epoch   1,  Average loss: 0.0251, Accuracy: 440/572 (76.9231%), train_poison_data_count: 572
Global model norm: 2.2299983769569134.
Norm before scaling: 2.421475186725137. Distance: 0.4546468762474939
Total norm for 7 adversaries is: 2.421475186725137. distance: 0.4546468762474939
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.1595, Accuracy: 5824/8991 (64.7759%)
poison local model 8 index 7 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 8, internal_epoch   1,  Average loss: 0.0226, Accuracy: 550/683 (80.5271%), train_poison_data_count: 683
Global model norm: 2.2299983769569134.
Norm before scaling: 2.4748988776308196. Distance: 0.47479224116128954
Total norm for 7 adversaries is: 2.4748988776308196. distance: 0.47479224116128954
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0250, Accuracy: 6847/8991 (76.1539%)
poison local model 40 index 39 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 40, internal_epoch   1,  Average loss: 0.0231, Accuracy: 443/563 (78.6856%), train_poison_data_count: 563
Global model norm: 2.2299983769569134.
Norm before scaling: 2.4234926789308737. Distance: 0.4322826736924236
Total norm for 7 adversaries is: 2.4234926789308737. distance: 0.4322826736924236
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.1535, Accuracy: 6135/8991 (68.2349%)
___Train Local_Simple,  epoch  30, local model 52, internal_epoch   1,  Average loss: 0.0267, Accuracy: 451/618 (72.9773%)
___Test Local_Simple poisoned: False, epoch: 30: Average loss: 1.1363, Accuracy: 7883/10000 (78.8300%), Attack Success Rate:0/10000(0.000)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 45, internal_epoch   1,  Average loss: 0.0222, Accuracy: 566/750 (75.4667%), train_poison_data_count: 750
Global model norm: 2.2299983769569134.
Norm before scaling: 2.4942944269397986. Distance: 0.548782129498484
Total norm for 7 adversaries is: 2.4942944269397986. distance: 0.548782129498484
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0963, Accuracy: 6388/8991 (71.0488%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  30, local model 30, internal_epoch   1,  Average loss: 0.0237, Accuracy: 535/668 (80.0898%), train_poison_data_count: 668
Global model norm: 2.2299983769569134.
Norm before scaling: 2.4688566160720344. Distance: 0.4622421389943426
Total norm for 7 adversaries is: 2.4688566160720344. distance: 0.4622421389943426
___Test Local_Simple poisoned: True, epoch: 30: Average loss: 1.0411, Accuracy: 6929/8991 (77.0660%)
time spent on training: 24.147226810455322
[foolsgold agg] training data poison_ratio: 0.7108888160052477  data num: [474, 519, 626, 625, 572, 683, 563, 618, 750, 668]
[foolsgold agg] considering poison per batch poison_fraction: 0.7108888160052477
[foolsgold agg] wv: [0.         0.31513059 1.         0.         1.         0.
 0.         0.31513059 0.         0.43851789]
___Test Target_Simple poisoned: False, epoch: 30: Average loss: 1.2799, Accuracy: 7363/10000 (73.6300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 30: Average loss: 1.1990, Accuracy: 7339/8991 (81.6261%)
Done in 87.00771474838257 sec.
Server Epoch:31 choose agents : [74, 9, 99, 85, 4, 11, 24, 42, 23, 25].
___Train Local_Simple,  epoch  31, local model 74, internal_epoch   1,  Average loss: 0.0271, Accuracy: 450/626 (71.8850%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.1452, Accuracy: 7692/10000 (76.9200%), Attack Success Rate:0/10000(0.000)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 9, internal_epoch   1,  Average loss: 0.0229, Accuracy: 448/548 (81.7518%), train_poison_data_count: 548
Global model norm: 2.2406534403295493.
Norm before scaling: 2.4050318619487197. Distance: 0.3554888918693097
Total norm for 7 adversaries is: 2.4050318619487197. distance: 0.3554888918693097
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0685, Accuracy: 6873/8991 (76.4431%)
___Train Local_Simple,  epoch  31, local model 99, internal_epoch   1,  Average loss: 0.0216, Accuracy: 361/410 (88.0488%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.4017, Accuracy: 6103/10000 (61.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  31, local model 85, internal_epoch   1,  Average loss: 0.0258, Accuracy: 434/570 (76.1404%)
___Test Local_Simple poisoned: False, epoch: 31: Average loss: 1.1471, Accuracy: 7697/10000 (76.9700%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 4, internal_epoch   1,  Average loss: 0.0228, Accuracy: 466/587 (79.3867%), train_poison_data_count: 587
Global model norm: 2.2406534403295493.
Norm before scaling: 2.4222318324890963. Distance: 0.3444755115532366
Total norm for 7 adversaries is: 2.4222318324890963. distance: 0.3444755115532366
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0509, Accuracy: 7072/8991 (78.6564%)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 11, internal_epoch   1,  Average loss: 0.0225, Accuracy: 486/644 (75.4658%), train_poison_data_count: 644
Global model norm: 2.2406534403295493.
Norm before scaling: 2.4569063624920577. Distance: 0.4986997476515926
Total norm for 7 adversaries is: 2.4569063624920577. distance: 0.4986997476515926
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.2178, Accuracy: 5801/8991 (64.5201%)
poison local model 24 index 23 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 24, internal_epoch   1,  Average loss: 0.0234, Accuracy: 446/578 (77.1626%), train_poison_data_count: 578
Global model norm: 2.2406534403295493.
Norm before scaling: 2.4349571070721656. Distance: 0.4153564854931687
Total norm for 7 adversaries is: 2.4349571070721656. distance: 0.4153564854931687
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.1077, Accuracy: 5855/8991 (65.1207%)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 42, internal_epoch   1,  Average loss: 0.0231, Accuracy: 521/665 (78.3459%), train_poison_data_count: 665
Global model norm: 2.2406534403295493.
Norm before scaling: 2.4817444892331015. Distance: 0.4815384501962937
Total norm for 7 adversaries is: 2.4817444892331015. distance: 0.4815384501962937
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0950, Accuracy: 6024/8991 (67.0003%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 23, internal_epoch   1,  Average loss: 0.0243, Accuracy: 457/588 (77.7211%), train_poison_data_count: 588
Global model norm: 2.2406534403295493.
Norm before scaling: 2.4229382549799054. Distance: 0.371347220339374
Total norm for 7 adversaries is: 2.4229382549799054. distance: 0.371347220339374
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0400, Accuracy: 7331/8991 (81.5371%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  31, local model 25, internal_epoch   1,  Average loss: 0.0241, Accuracy: 462/582 (79.3814%), train_poison_data_count: 582
Global model norm: 2.2406534403295493.
Norm before scaling: 2.426446255308599. Distance: 0.37299482371903564
Total norm for 7 adversaries is: 2.426446255308599. distance: 0.37299482371903564
___Test Local_Simple poisoned: True, epoch: 31: Average loss: 1.0302, Accuracy: 7182/8991 (79.8799%)
time spent on training: 24.297826528549194
[foolsgold agg] training data poison_ratio: 0.7230079337702656  data num: [626, 548, 410, 570, 587, 644, 578, 665, 588, 582]
[foolsgold agg] considering poison per batch poison_fraction: 0.7230079337702656
[foolsgold agg] wv: [0.31691689 0.18219349 1.         0.31691689 0.         1.
 0.         0.26708015 0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 31: Average loss: 1.2733, Accuracy: 7360/10000 (73.6000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 31: Average loss: 1.1881, Accuracy: 7340/8991 (81.6372%)
Done in 86.78077530860901 sec.
Server Epoch:32 choose agents : [93, 87, 55, 70, 15, 90, 91, 86, 67, 20].
___Train Local_Simple,  epoch  32, local model 93, internal_epoch   1,  Average loss: 0.0255, Accuracy: 387/529 (73.1569%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.2032, Accuracy: 7482/10000 (74.8200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 87, internal_epoch   1,  Average loss: 0.0238, Accuracy: 444/575 (77.2174%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1677, Accuracy: 7362/10000 (73.6200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 55, internal_epoch   1,  Average loss: 0.0252, Accuracy: 451/592 (76.1824%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1477, Accuracy: 7517/10000 (75.1700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 70, internal_epoch   1,  Average loss: 0.0251, Accuracy: 392/549 (71.4026%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.2065, Accuracy: 7042/10000 (70.4200%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 15, internal_epoch   1,  Average loss: 0.0248, Accuracy: 439/572 (76.7483%), train_poison_data_count: 572
Global model norm: 2.2508964871874304.
Norm before scaling: 2.4326726600083197. Distance: 0.37554042340032656
Total norm for 2 adversaries is: 2.4326726600083197. distance: 0.37554042340032656
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.0620, Accuracy: 7108/8991 (79.0568%)
___Train Local_Simple,  epoch  32, local model 90, internal_epoch   1,  Average loss: 0.0259, Accuracy: 435/577 (75.3899%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1749, Accuracy: 7451/10000 (74.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 91, internal_epoch   1,  Average loss: 0.0252, Accuracy: 471/627 (75.1196%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1407, Accuracy: 7570/10000 (75.7000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 86, internal_epoch   1,  Average loss: 0.0249, Accuracy: 421/587 (71.7206%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.2035, Accuracy: 6879/10000 (68.7900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  32, local model 67, internal_epoch   1,  Average loss: 0.0254, Accuracy: 471/643 (73.2504%)
___Test Local_Simple poisoned: False, epoch: 32: Average loss: 1.1539, Accuracy: 7504/10000 (75.0400%), Attack Success Rate:0/10000(0.000)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  32, local model 20, internal_epoch   1,  Average loss: 0.0256, Accuracy: 419/553 (75.7685%), train_poison_data_count: 553
Global model norm: 2.2508964871874304.
Norm before scaling: 2.4298996418766525. Distance: 0.3816940160944395
Total norm for 2 adversaries is: 2.4298996418766525. distance: 0.3816940160944395
___Test Local_Simple poisoned: True, epoch: 32: Average loss: 1.0645, Accuracy: 7057/8991 (78.4896%)
time spent on training: 21.47591781616211
[foolsgold agg] training data poison_ratio: 0.19383184011026877  data num: [529, 575, 592, 549, 572, 577, 627, 587, 643, 553]
[foolsgold agg] considering poison per batch poison_fraction: 0.19383184011026877
[foolsgold agg] wv: [1.         1.         0.76918531 0.92738378 0.7833115  1.
 0.76918531 1.         0.92738378 0.7833115 ]
___Test Target_Simple poisoned: False, epoch: 32: Average loss: 1.2401, Accuracy: 7398/10000 (73.9800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 32: Average loss: 1.1661, Accuracy: 7377/8991 (82.0487%)
Done in 83.97312426567078 sec.
Server Epoch:33 choose agents : [77, 57, 21, 67, 14, 97, 28, 22, 70, 93].
___Train Local_Simple,  epoch  33, local model 77, internal_epoch   1,  Average loss: 0.0262, Accuracy: 385/519 (74.1811%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1323, Accuracy: 7583/10000 (75.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 57, internal_epoch   1,  Average loss: 0.0251, Accuracy: 427/568 (75.1761%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1161, Accuracy: 7748/10000 (77.4800%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 21, internal_epoch   1,  Average loss: 0.0226, Accuracy: 497/625 (79.5200%), train_poison_data_count: 625
Global model norm: 2.2807477633343924.
Norm before scaling: 2.4939547882509507. Distance: 0.4339377439152899
Total norm for 4 adversaries is: 2.4939547882509507. distance: 0.4339377439152899
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.0814, Accuracy: 6050/8991 (67.2895%)
___Train Local_Simple,  epoch  33, local model 67, internal_epoch   1,  Average loss: 0.0247, Accuracy: 486/643 (75.5832%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1271, Accuracy: 7589/10000 (75.8900%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 14, internal_epoch   1,  Average loss: 0.0231, Accuracy: 430/535 (80.3738%), train_poison_data_count: 535
Global model norm: 2.2807477633343924.
Norm before scaling: 2.440152119287831. Distance: 0.35599776088621216
Total norm for 4 adversaries is: 2.440152119287831. distance: 0.35599776088621216
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.0907, Accuracy: 6666/8991 (74.1408%)
___Train Local_Simple,  epoch  33, local model 97, internal_epoch   1,  Average loss: 0.0240, Accuracy: 435/588 (73.9796%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1889, Accuracy: 7268/10000 (72.6800%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 28, internal_epoch   1,  Average loss: 0.0228, Accuracy: 512/665 (76.9925%), train_poison_data_count: 665
Global model norm: 2.2807477633343924.
Norm before scaling: 2.516001039441111. Distance: 0.4535191071710951
Total norm for 4 adversaries is: 2.516001039441111. distance: 0.4535191071710951
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.0046, Accuracy: 6953/8991 (77.3329%)
poison local model 22 index 21 
poison_now
___PoisonTrain Local_Simple ,  epoch  33, local model 22, internal_epoch   1,  Average loss: 0.0232, Accuracy: 418/531 (78.7194%), train_poison_data_count: 531
Global model norm: 2.2807477633343924.
Norm before scaling: 2.4404837124184695. Distance: 0.32551550924397693
Total norm for 4 adversaries is: 2.4404837124184695. distance: 0.32551550924397693
___Test Local_Simple poisoned: True, epoch: 33: Average loss: 1.0354, Accuracy: 7202/8991 (80.1023%)
___Train Local_Simple,  epoch  33, local model 70, internal_epoch   1,  Average loss: 0.0245, Accuracy: 399/549 (72.6776%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1839, Accuracy: 7056/10000 (70.5600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  33, local model 93, internal_epoch   1,  Average loss: 0.0244, Accuracy: 401/529 (75.8034%)
___Test Local_Simple poisoned: False, epoch: 33: Average loss: 1.1812, Accuracy: 7501/10000 (75.0100%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.607053756713867
[foolsgold agg] training data poison_ratio: 0.4095966620305981  data num: [519, 568, 625, 643, 535, 588, 665, 531, 549, 529]
[foolsgold agg] considering poison per batch poison_fraction: 0.40959666203059814
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.35048204
 1.         1.         1.         0.35048204]
___Test Target_Simple poisoned: False, epoch: 33: Average loss: 1.2166, Accuracy: 7413/10000 (74.1300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 33: Average loss: 1.1401, Accuracy: 7399/8991 (82.2934%)
Done in 84.95126152038574 sec.
Server Epoch:34 choose agents : [37, 49, 41, 50, 71, 60, 42, 83, 26, 48].
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 37, internal_epoch   1,  Average loss: 0.0207, Accuracy: 534/641 (83.3073%), train_poison_data_count: 641
Global model norm: 2.3101108684603986.
Norm before scaling: 2.5205342033863922. Distance: 0.4196329586693616
Total norm for 7 adversaries is: 2.5205342033863922. distance: 0.4196329586693616
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.0473, Accuracy: 6420/8991 (71.4047%)
poison local model 49 index 48 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 49, internal_epoch   1,  Average loss: 0.0230, Accuracy: 429/516 (83.1395%), train_poison_data_count: 516
Global model norm: 2.3101108684603986.
Norm before scaling: 2.4715856370700267. Distance: 0.3313639049104372
Total norm for 7 adversaries is: 2.4715856370700267. distance: 0.3313639049104372
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.0400, Accuracy: 6740/8991 (74.9639%)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 41, internal_epoch   1,  Average loss: 0.0220, Accuracy: 533/652 (81.7485%), train_poison_data_count: 652
Global model norm: 2.3101108684603986.
Norm before scaling: 2.5471630284614277. Distance: 0.43760524914280813
Total norm for 7 adversaries is: 2.5471630284614277. distance: 0.43760524914280813
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 0.9770, Accuracy: 6826/8991 (75.9204%)
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 50, internal_epoch   1,  Average loss: 0.0230, Accuracy: 389/474 (82.0675%), train_poison_data_count: 474
Global model norm: 2.3101108684603986.
Norm before scaling: 2.448917449475773. Distance: 0.28704517970291304
Total norm for 7 adversaries is: 2.448917449475773. distance: 0.28704517970291304
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.0233, Accuracy: 6968/8991 (77.4997%)
___Train Local_Simple,  epoch  34, local model 71, internal_epoch   1,  Average loss: 0.0242, Accuracy: 476/638 (74.6082%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.0705, Accuracy: 7742/10000 (77.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  34, local model 60, internal_epoch   1,  Average loss: 0.0234, Accuracy: 508/644 (78.8820%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.0798, Accuracy: 7555/10000 (75.5500%), Attack Success Rate:0/10000(0.000)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 42, internal_epoch   1,  Average loss: 0.0225, Accuracy: 529/665 (79.5489%), train_poison_data_count: 665
Global model norm: 2.3101108684603986.
Norm before scaling: 2.541608736805943. Distance: 0.46089008863336217
Total norm for 7 adversaries is: 2.541608736805943. distance: 0.46089008863336217
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.0418, Accuracy: 6319/8991 (70.2814%)
___Train Local_Simple,  epoch  34, local model 83, internal_epoch   1,  Average loss: 0.0262, Accuracy: 412/555 (74.2342%)
___Test Local_Simple poisoned: False, epoch: 34: Average loss: 1.0945, Accuracy: 7842/10000 (78.4200%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 26, internal_epoch   1,  Average loss: 0.0224, Accuracy: 442/526 (84.0304%), train_poison_data_count: 526
Global model norm: 2.3101108684603986.
Norm before scaling: 2.4727771602917334. Distance: 0.3424209782359979
Total norm for 7 adversaries is: 2.4727771602917334. distance: 0.3424209782359979
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.0671, Accuracy: 6644/8991 (73.8961%)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  34, local model 48, internal_epoch   1,  Average loss: 0.0209, Accuracy: 477/589 (80.9847%), train_poison_data_count: 589
Global model norm: 2.3101108684603986.
Norm before scaling: 2.496404159897436. Distance: 0.438797763007051
Total norm for 7 adversaries is: 2.496404159897436. distance: 0.438797763007051
___Test Local_Simple poisoned: True, epoch: 34: Average loss: 1.1259, Accuracy: 6141/8991 (68.3016%)
time spent on training: 24.561415910720825
[foolsgold agg] training data poison_ratio: 0.6886440677966101  data num: [641, 516, 652, 474, 638, 644, 665, 555, 526, 589]
[foolsgold agg] considering poison per batch poison_fraction: 0.6886440677966101
[foolsgold agg] wv: [0.9141533  1.         1.         0.17557575 0.55997321 1.
 0.17557575 0.55997321 0.71508774 0.71508774]
___Test Target_Simple poisoned: False, epoch: 34: Average loss: 1.2026, Accuracy: 7397/10000 (73.9700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 34: Average loss: 1.1167, Accuracy: 7383/8991 (82.1154%)
Done in 86.82546353340149 sec.
Server Epoch:35 choose agents : [50, 36, 53, 79, 33, 25, 15, 1, 65, 98].
poison local model 50 index 49 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 50, internal_epoch   1,  Average loss: 0.0225, Accuracy: 387/474 (81.6456%), train_poison_data_count: 474
Global model norm: 2.3347044276973206.
Norm before scaling: 2.4693400003921333. Distance: 0.27681297231751467
Total norm for 6 adversaries is: 2.4693400003921333. distance: 0.27681297231751467
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.0104, Accuracy: 6984/8991 (77.6777%)
poison local model 36 index 35 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 36, internal_epoch   1,  Average loss: 0.0219, Accuracy: 434/520 (83.4615%), train_poison_data_count: 520
Global model norm: 2.3347044276973206.
Norm before scaling: 2.490630138588155. Distance: 0.3199411426000741
Total norm for 6 adversaries is: 2.490630138588155. distance: 0.3199411426000741
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.0123, Accuracy: 7032/8991 (78.2115%)
___Train Local_Simple,  epoch  35, local model 53, internal_epoch   1,  Average loss: 0.0240, Accuracy: 485/617 (78.6062%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.1120, Accuracy: 7490/10000 (74.9000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 79, internal_epoch   1,  Average loss: 0.0230, Accuracy: 489/635 (77.0079%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.1056, Accuracy: 7202/10000 (72.0200%), Attack Success Rate:0/10000(0.000)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 33, internal_epoch   1,  Average loss: 0.0206, Accuracy: 540/638 (84.6395%), train_poison_data_count: 638
Global model norm: 2.3347044276973206.
Norm before scaling: 2.5455369301257993. Distance: 0.40578814075070263
Total norm for 6 adversaries is: 2.5455369301257993. distance: 0.40578814075070263
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.0038, Accuracy: 6611/8991 (73.5291%)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 25, internal_epoch   1,  Average loss: 0.0226, Accuracy: 465/582 (79.8969%), train_poison_data_count: 582
Global model norm: 2.3347044276973206.
Norm before scaling: 2.5098213872392408. Distance: 0.34320662641052563
Total norm for 6 adversaries is: 2.5098213872392408. distance: 0.34320662641052563
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 0.9712, Accuracy: 7302/8991 (81.2145%)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 15, internal_epoch   1,  Average loss: 0.0234, Accuracy: 459/572 (80.2448%), train_poison_data_count: 572
Global model norm: 2.3347044276973206.
Norm before scaling: 2.512395930625852. Distance: 0.3624052746098392
Total norm for 6 adversaries is: 2.512395930625852. distance: 0.3624052746098392
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.0124, Accuracy: 7212/8991 (80.2135%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  35, local model 1, internal_epoch   1,  Average loss: 0.0235, Accuracy: 480/606 (79.2079%), train_poison_data_count: 606
Global model norm: 2.3347044276973206.
Norm before scaling: 2.5377663458488544. Distance: 0.43573307111600224
Total norm for 6 adversaries is: 2.5377663458488544. distance: 0.43573307111600224
___Test Local_Simple poisoned: True, epoch: 35: Average loss: 1.0463, Accuracy: 6642/8991 (73.8739%)
___Train Local_Simple,  epoch  35, local model 65, internal_epoch   1,  Average loss: 0.0256, Accuracy: 420/573 (73.2984%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.0720, Accuracy: 7947/10000 (79.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  35, local model 98, internal_epoch   1,  Average loss: 0.0202, Accuracy: 464/568 (81.6901%)
___Test Local_Simple poisoned: False, epoch: 35: Average loss: 1.2319, Accuracy: 6823/10000 (68.2300%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.98466920852661
[foolsgold agg] training data poison_ratio: 0.5863439930855662  data num: [474, 520, 617, 635, 638, 582, 572, 606, 573, 568]
[foolsgold agg] considering poison per batch poison_fraction: 0.5863439930855662
[foolsgold agg] wv: [0.         0.07343133 0.74413295 0.47236296 0.         0.
 0.50145493 0.50145493 0.47236296 1.        ]
___Test Target_Simple poisoned: False, epoch: 35: Average loss: 1.1912, Accuracy: 7385/10000 (73.8500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 35: Average loss: 1.1078, Accuracy: 7372/8991 (81.9931%)
Done in 86.26480078697205 sec.
Server Epoch:36 choose agents : [82, 4, 79, 32, 47, 44, 89, 48, 70, 77].
___Train Local_Simple,  epoch  36, local model 82, internal_epoch   1,  Average loss: 0.0240, Accuracy: 466/621 (75.0403%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.0798, Accuracy: 7770/10000 (77.7000%), Attack Success Rate:0/10000(0.000)
poison local model 4 index 3 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 4, internal_epoch   1,  Average loss: 0.0211, Accuracy: 474/587 (80.7496%), train_poison_data_count: 587
Global model norm: 2.3474590199624.
Norm before scaling: 2.516748497329404. Distance: 0.31314222385525
Total norm for 5 adversaries is: 2.516748497329404. distance: 0.31314222385525
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 0.9813, Accuracy: 7227/8991 (80.3804%)
___Train Local_Simple,  epoch  36, local model 79, internal_epoch   1,  Average loss: 0.0229, Accuracy: 488/635 (76.8504%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.1096, Accuracy: 7156/10000 (71.5600%), Attack Success Rate:0/10000(0.000)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 32, internal_epoch   1,  Average loss: 0.0218, Accuracy: 466/609 (76.5189%), train_poison_data_count: 609
Global model norm: 2.3474590199624.
Norm before scaling: 2.5438689295454644. Distance: 0.4036289908884321
Total norm for 5 adversaries is: 2.5438689295454644. distance: 0.4036289908884321
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.0124, Accuracy: 6920/8991 (76.9659%)
poison local model 47 index 46 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 47, internal_epoch   1,  Average loss: 0.0217, Accuracy: 501/602 (83.2226%), train_poison_data_count: 602
Global model norm: 2.3474590199624.
Norm before scaling: 2.5531189562423684. Distance: 0.3884371139573552
Total norm for 5 adversaries is: 2.5531189562423684. distance: 0.3884371139573552
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 0.9820, Accuracy: 7095/8991 (78.9122%)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 44, internal_epoch   1,  Average loss: 0.0224, Accuracy: 425/518 (82.0463%), train_poison_data_count: 518
Global model norm: 2.3474590199624.
Norm before scaling: 2.5041202923822774. Distance: 0.3216991763763094
Total norm for 5 adversaries is: 2.5041202923822774. distance: 0.3216991763763094
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.0032, Accuracy: 7289/8991 (81.0700%)
___Train Local_Simple,  epoch  36, local model 89, internal_epoch   1,  Average loss: 0.0234, Accuracy: 510/664 (76.8072%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.1196, Accuracy: 6817/10000 (68.1700%), Attack Success Rate:0/10000(0.000)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  36, local model 48, internal_epoch   1,  Average loss: 0.0201, Accuracy: 482/589 (81.8336%), train_poison_data_count: 589
Global model norm: 2.3474590199624.
Norm before scaling: 2.5283886784946246. Distance: 0.4213338843117705
Total norm for 5 adversaries is: 2.5283886784946246. distance: 0.4213338843117705
___Test Local_Simple poisoned: True, epoch: 36: Average loss: 1.1024, Accuracy: 6147/8991 (68.3684%)
___Train Local_Simple,  epoch  36, local model 70, internal_epoch   1,  Average loss: 0.0237, Accuracy: 387/549 (70.4918%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.1340, Accuracy: 7247/10000 (72.4700%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  36, local model 77, internal_epoch   1,  Average loss: 0.0253, Accuracy: 381/519 (73.4104%)
___Test Local_Simple poisoned: False, epoch: 36: Average loss: 1.0944, Accuracy: 7638/10000 (76.3800%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.54808282852173
[foolsgold agg] training data poison_ratio: 0.49295774647887325  data num: [621, 587, 635, 609, 602, 518, 664, 589, 549, 519]
[foolsgold agg] considering poison per batch poison_fraction: 0.49295774647887325
[foolsgold agg] wv: [1.         1.         0.70341619 1.         1.         1.
 0.70341619 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 36: Average loss: 1.1682, Accuracy: 7439/10000 (74.3900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 36: Average loss: 1.0813, Accuracy: 7426/8991 (82.5937%)
Done in 85.76047015190125 sec.
Server Epoch:37 choose agents : [27, 30, 33, 41, 5, 52, 84, 43, 62, 18].
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 27, internal_epoch   1,  Average loss: 0.0214, Accuracy: 502/650 (77.2308%), train_poison_data_count: 650
Global model norm: 2.379202186956215.
Norm before scaling: 2.57384232357785. Distance: 0.4058217762777389
Total norm for 7 adversaries is: 2.57384232357785. distance: 0.4058217762777389
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 1.0292, Accuracy: 6518/8991 (72.4947%)
poison local model 30 index 29 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 30, internal_epoch   1,  Average loss: 0.0219, Accuracy: 533/668 (79.7904%), train_poison_data_count: 668
Global model norm: 2.379202186956215.
Norm before scaling: 2.5990661007561644. Distance: 0.42518365552252835
Total norm for 7 adversaries is: 2.5990661007561644. distance: 0.42518365552252835
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9729, Accuracy: 6955/8991 (77.3551%)
poison local model 33 index 32 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 33, internal_epoch   1,  Average loss: 0.0203, Accuracy: 533/638 (83.5423%), train_poison_data_count: 638
Global model norm: 2.379202186956215.
Norm before scaling: 2.5875688000069266. Distance: 0.40016955343502997
Total norm for 7 adversaries is: 2.5875688000069266. distance: 0.40016955343502997
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9807, Accuracy: 6679/8991 (74.2854%)
poison local model 41 index 40 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 41, internal_epoch   1,  Average loss: 0.0213, Accuracy: 540/652 (82.8221%), train_poison_data_count: 652
Global model norm: 2.379202186956215.
Norm before scaling: 2.606663191354814. Distance: 0.4177470822646169
Total norm for 7 adversaries is: 2.606663191354814. distance: 0.4177470822646169
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9398, Accuracy: 6969/8991 (77.5108%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 5, internal_epoch   1,  Average loss: 0.0219, Accuracy: 431/512 (84.1797%), train_poison_data_count: 512
Global model norm: 2.379202186956215.
Norm before scaling: 2.5349423828198363. Distance: 0.30979788324822405
Total norm for 7 adversaries is: 2.5349423828198363. distance: 0.30979788324822405
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9846, Accuracy: 7252/8991 (80.6584%)
___Train Local_Simple,  epoch  37, local model 52, internal_epoch   1,  Average loss: 0.0249, Accuracy: 462/618 (74.7573%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.0427, Accuracy: 8041/10000 (80.4100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  37, local model 84, internal_epoch   1,  Average loss: 0.0239, Accuracy: 435/560 (77.6786%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.0559, Accuracy: 7822/10000 (78.2200%), Attack Success Rate:0/10000(0.000)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 43, internal_epoch   1,  Average loss: 0.0224, Accuracy: 418/518 (80.6950%), train_poison_data_count: 518
Global model norm: 2.379202186956215.
Norm before scaling: 2.5327617699015734. Distance: 0.3105041426522026
Total norm for 7 adversaries is: 2.5327617699015734. distance: 0.3105041426522026
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9751, Accuracy: 7159/8991 (79.6241%)
___Train Local_Simple,  epoch  37, local model 62, internal_epoch   1,  Average loss: 0.0241, Accuracy: 446/617 (72.2853%)
___Test Local_Simple poisoned: False, epoch: 37: Average loss: 1.0567, Accuracy: 7452/10000 (74.5200%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  37, local model 18, internal_epoch   1,  Average loss: 0.0232, Accuracy: 410/516 (79.4574%), train_poison_data_count: 516
Global model norm: 2.379202186956215.
Norm before scaling: 2.5293682309251704. Distance: 0.3276039823502273
Total norm for 7 adversaries is: 2.5293682309251704. distance: 0.3276039823502273
___Test Local_Simple poisoned: True, epoch: 37: Average loss: 0.9958, Accuracy: 7109/8991 (79.0680%)
time spent on training: 24.65729069709778
[foolsgold agg] training data poison_ratio: 0.6982686165742141  data num: [650, 668, 638, 652, 512, 618, 560, 518, 617, 516]
[foolsgold agg] considering poison per batch poison_fraction: 0.6982686165742141
[foolsgold agg] wv: [0.19393996 0.14560851 0.14560851 1.         0.95301559 1.
 1.         0.18664129 1.         0.19393996]
___Test Target_Simple poisoned: False, epoch: 37: Average loss: 1.1534, Accuracy: 7470/10000 (74.7000%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 37: Average loss: 1.0648, Accuracy: 7457/8991 (82.9385%)
Done in 87.01873397827148 sec.
Server Epoch:38 choose agents : [39, 29, 87, 78, 53, 83, 19, 45, 52, 17].
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 39, internal_epoch   1,  Average loss: 0.0233, Accuracy: 396/503 (78.7276%), train_poison_data_count: 503
Global model norm: 2.3995107430219362.
Norm before scaling: 2.5472367854680207. Distance: 0.30335763331995663
Total norm for 5 adversaries is: 2.5472367854680207. distance: 0.30335763331995663
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 0.9853, Accuracy: 6986/8991 (77.6999%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 29, internal_epoch   1,  Average loss: 0.0231, Accuracy: 490/605 (80.9917%), train_poison_data_count: 605
Global model norm: 2.3995107430219362.
Norm before scaling: 2.5882574548384585. Distance: 0.3505290843376058
Total norm for 5 adversaries is: 2.5882574548384585. distance: 0.3505290843376058
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 0.9425, Accuracy: 7213/8991 (80.2247%)
___Train Local_Simple,  epoch  38, local model 87, internal_epoch   1,  Average loss: 0.0216, Accuracy: 453/575 (78.7826%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0740, Accuracy: 7525/10000 (75.2500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 78, internal_epoch   1,  Average loss: 0.0240, Accuracy: 464/624 (74.3590%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0298, Accuracy: 8069/10000 (80.6900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 53, internal_epoch   1,  Average loss: 0.0229, Accuracy: 480/617 (77.7958%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0772, Accuracy: 7448/10000 (74.4800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  38, local model 83, internal_epoch   1,  Average loss: 0.0242, Accuracy: 410/555 (73.8739%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0461, Accuracy: 7835/10000 (78.3500%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 19, internal_epoch   1,  Average loss: 0.0219, Accuracy: 445/552 (80.6159%), train_poison_data_count: 552
Global model norm: 2.3995107430219362.
Norm before scaling: 2.582630543839064. Distance: 0.41287572395337463
Total norm for 5 adversaries is: 2.582630543839064. distance: 0.41287572395337463
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 1.0916, Accuracy: 5788/8991 (64.3755%)
poison local model 45 index 44 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 45, internal_epoch   1,  Average loss: 0.0199, Accuracy: 584/750 (77.8667%), train_poison_data_count: 750
Global model norm: 2.3995107430219362.
Norm before scaling: 2.637022642354495. Distance: 0.48517514866187667
Total norm for 5 adversaries is: 2.637022642354495. distance: 0.48517514866187667
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 0.9978, Accuracy: 6765/8991 (75.2419%)
___Train Local_Simple,  epoch  38, local model 52, internal_epoch   1,  Average loss: 0.0243, Accuracy: 469/618 (75.8900%)
___Test Local_Simple poisoned: False, epoch: 38: Average loss: 1.0392, Accuracy: 8008/10000 (80.0800%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  38, local model 17, internal_epoch   1,  Average loss: 0.0196, Accuracy: 550/648 (84.8765%), train_poison_data_count: 648
Global model norm: 2.3995107430219362.
Norm before scaling: 2.6023162574655734. Distance: 0.3589070424663612
Total norm for 5 adversaries is: 2.6023162574655734. distance: 0.3589070424663612
___Test Local_Simple poisoned: True, epoch: 38: Average loss: 0.9214, Accuracy: 7398/8991 (82.2823%)
time spent on training: 23.550230503082275
[foolsgold agg] training data poison_ratio: 0.505705308417397  data num: [503, 605, 575, 624, 617, 555, 552, 750, 618, 648]
[foolsgold agg] considering poison per batch poison_fraction: 0.505705308417397
[foolsgold agg] wv: [1.         1.         1.         0.43720988 0.717052   0.21916614
 1.         1.         0.21916614 1.        ]
___Test Target_Simple poisoned: False, epoch: 38: Average loss: 1.1393, Accuracy: 7475/10000 (74.7500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 38: Average loss: 1.0437, Accuracy: 7464/8991 (83.0163%)
Done in 86.01707291603088 sec.
Server Epoch:39 choose agents : [3, 34, 32, 5, 73, 14, 40, 88, 72, 13].
poison local model 3 index 2 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 3, internal_epoch   1,  Average loss: 0.0235, Accuracy: 407/505 (80.5941%), train_poison_data_count: 505
Global model norm: 2.425810243983076.
Norm before scaling: 2.570808803332094. Distance: 0.3189917643277682
Total norm for 7 adversaries is: 2.570808803332094. distance: 0.3189917643277682
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9823, Accuracy: 7133/8991 (79.3349%)
poison local model 34 index 33 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 34, internal_epoch   1,  Average loss: 0.0211, Accuracy: 436/528 (82.5758%), train_poison_data_count: 528
Global model norm: 2.425810243983076.
Norm before scaling: 2.5724498824714055. Distance: 0.2736489568245756
Total norm for 7 adversaries is: 2.5724498824714055. distance: 0.2736489568245756
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9471, Accuracy: 7201/8991 (80.0912%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 32, internal_epoch   1,  Average loss: 0.0205, Accuracy: 492/609 (80.7882%), train_poison_data_count: 609
Global model norm: 2.425810243983076.
Norm before scaling: 2.6129954913130007. Distance: 0.38949945417226367
Total norm for 7 adversaries is: 2.6129954913130007. distance: 0.38949945417226367
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9863, Accuracy: 6786/8991 (75.4755%)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 5, internal_epoch   1,  Average loss: 0.0211, Accuracy: 431/512 (84.1797%), train_poison_data_count: 512
Global model norm: 2.425810243983076.
Norm before scaling: 2.575658277052712. Distance: 0.2962760152942777
Total norm for 7 adversaries is: 2.575658277052712. distance: 0.2962760152942777
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9628, Accuracy: 7265/8991 (80.8030%)
___Train Local_Simple,  epoch  39, local model 73, internal_epoch   1,  Average loss: 0.0227, Accuracy: 481/626 (76.8371%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.0951, Accuracy: 6877/10000 (68.7700%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 14, internal_epoch   1,  Average loss: 0.0211, Accuracy: 433/535 (80.9346%), train_poison_data_count: 535
Global model norm: 2.425810243983076.
Norm before scaling: 2.572420780307816. Distance: 0.3146183930159124
Total norm for 7 adversaries is: 2.572420780307816. distance: 0.3146183930159124
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9948, Accuracy: 7004/8991 (77.9001%)
poison local model 40 index 39 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 40, internal_epoch   1,  Average loss: 0.0201, Accuracy: 453/563 (80.4618%), train_poison_data_count: 563
Global model norm: 2.425810243983076.
Norm before scaling: 2.5928923326376516. Distance: 0.36967064887600115
Total norm for 7 adversaries is: 2.5928923326376516. distance: 0.36967064887600115
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 1.0330, Accuracy: 6514/8991 (72.4502%)
___Train Local_Simple,  epoch  39, local model 88, internal_epoch   1,  Average loss: 0.0226, Accuracy: 519/679 (76.4359%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.0334, Accuracy: 7529/10000 (75.2900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  39, local model 72, internal_epoch   1,  Average loss: 0.0230, Accuracy: 395/529 (74.6692%)
___Test Local_Simple poisoned: False, epoch: 39: Average loss: 1.0482, Accuracy: 7501/10000 (75.0100%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  39, local model 13, internal_epoch   1,  Average loss: 0.0198, Accuracy: 445/521 (85.4127%), train_poison_data_count: 521
Global model norm: 2.425810243983076.
Norm before scaling: 2.577552963141885. Distance: 0.2849274854261939
Total norm for 7 adversaries is: 2.577552963141885. distance: 0.2849274854261939
___Test Local_Simple poisoned: True, epoch: 39: Average loss: 0.9543, Accuracy: 7005/8991 (77.9112%)
time spent on training: 24.698346376419067
[foolsgold agg] training data poison_ratio: 0.6729088639200999  data num: [505, 528, 609, 512, 626, 535, 563, 679, 529, 521]
[foolsgold agg] considering poison per batch poison_fraction: 0.6729088639200999
[foolsgold agg] wv: [1.         0.03506133 0.         1.         0.         0.
 0.79735441 1.         0.         0.03506133]
___Test Target_Simple poisoned: False, epoch: 39: Average loss: 1.1337, Accuracy: 7503/10000 (75.0300%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 39: Average loss: 1.0332, Accuracy: 7493/8991 (83.3389%)
Done in 87.06085586547852 sec.
Server Epoch:40 choose agents : [12, 23, 87, 98, 51, 83, 52, 90, 71, 11].
poison local model 12 index 11 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 12, internal_epoch   1,  Average loss: 0.0215, Accuracy: 467/597 (78.2245%), train_poison_data_count: 597
Global model norm: 2.4383566891465773.
Norm before scaling: 2.607328789010213. Distance: 0.3638978872488926
Total norm for 3 adversaries is: 2.607328789010213. distance: 0.3638978872488926
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 0.9766, Accuracy: 6752/8991 (75.0973%)
poison local model 23 index 22 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 23, internal_epoch   1,  Average loss: 0.0213, Accuracy: 470/588 (79.9320%), train_poison_data_count: 588
Global model norm: 2.4383566891465773.
Norm before scaling: 2.598836759630036. Distance: 0.3110492170140968
Total norm for 3 adversaries is: 2.598836759630036. distance: 0.3110492170140968
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 0.9306, Accuracy: 7452/8991 (82.8829%)
___Train Local_Simple,  epoch  40, local model 87, internal_epoch   1,  Average loss: 0.0210, Accuracy: 454/575 (78.9565%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0465, Accuracy: 7673/10000 (76.7300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 98, internal_epoch   1,  Average loss: 0.0189, Accuracy: 457/568 (80.4577%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.1609, Accuracy: 6951/10000 (69.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 51, internal_epoch   1,  Average loss: 0.0211, Accuracy: 494/647 (76.3524%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0252, Accuracy: 7314/10000 (73.1400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 83, internal_epoch   1,  Average loss: 0.0251, Accuracy: 407/555 (73.3333%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0195, Accuracy: 7951/10000 (79.5100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 52, internal_epoch   1,  Average loss: 0.0239, Accuracy: 465/618 (75.2427%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0147, Accuracy: 8068/10000 (80.6800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 90, internal_epoch   1,  Average loss: 0.0235, Accuracy: 427/577 (74.0035%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0582, Accuracy: 7778/10000 (77.7800%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  40, local model 71, internal_epoch   1,  Average loss: 0.0225, Accuracy: 488/638 (76.4890%)
___Test Local_Simple poisoned: False, epoch: 40: Average loss: 1.0101, Accuracy: 7775/10000 (77.7500%), Attack Success Rate:0/10000(0.000)
poison local model 11 index 10 
poison_now
___PoisonTrain Local_Simple ,  epoch  40, local model 11, internal_epoch   1,  Average loss: 0.0195, Accuracy: 514/644 (79.8137%), train_poison_data_count: 644
Global model norm: 2.4383566891465773.
Norm before scaling: 2.6259845522145095. Distance: 0.4321563367165645
Total norm for 3 adversaries is: 2.6259845522145095. distance: 0.4321563367165645
___Test Local_Simple poisoned: True, epoch: 40: Average loss: 1.0871, Accuracy: 6203/8991 (68.9912%)
time spent on training: 22.63434624671936
[foolsgold agg] training data poison_ratio: 0.30447810887298155  data num: [597, 588, 575, 568, 647, 555, 618, 577, 638, 644]
[foolsgold agg] considering poison per batch poison_fraction: 0.30447810887298155
[foolsgold agg] wv: [1.         1.         0.68992759 1.         0.         1.
 0.2910128  0.35621143 0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 40: Average loss: 1.1204, Accuracy: 7498/10000 (74.9800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 40: Average loss: 1.0209, Accuracy: 7488/8991 (83.2833%)
Done in 84.99883675575256 sec.
Server Epoch:41 choose agents : [51, 28, 20, 95, 83, 18, 55, 42, 29, 46].
___Train Local_Simple,  epoch  41, local model 51, internal_epoch   1,  Average loss: 0.0208, Accuracy: 505/647 (78.0526%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0150, Accuracy: 7432/10000 (74.3200%), Attack Success Rate:0/10000(0.000)
poison local model 28 index 27 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 28, internal_epoch   1,  Average loss: 0.0204, Accuracy: 538/665 (80.9023%), train_poison_data_count: 665
Global model norm: 2.4583572666705793.
Norm before scaling: 2.67028591796787. Distance: 0.4005379754586897
Total norm for 6 adversaries is: 2.67028591796787. distance: 0.4005379754586897
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9283, Accuracy: 6984/8991 (77.6777%)
poison local model 20 index 19 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 20, internal_epoch   1,  Average loss: 0.0240, Accuracy: 434/553 (78.4810%), train_poison_data_count: 553
Global model norm: 2.4583572666705793.
Norm before scaling: 2.618735240084402. Distance: 0.3360043836148729
Total norm for 6 adversaries is: 2.618735240084402. distance: 0.3360043836148729
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9405, Accuracy: 7375/8991 (82.0265%)
___Train Local_Simple,  epoch  41, local model 95, internal_epoch   1,  Average loss: 0.0208, Accuracy: 421/532 (79.1353%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0752, Accuracy: 7064/10000 (70.6400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  41, local model 83, internal_epoch   1,  Average loss: 0.0238, Accuracy: 411/555 (74.0541%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0096, Accuracy: 8090/10000 (80.9000%), Attack Success Rate:0/10000(0.000)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 18, internal_epoch   1,  Average loss: 0.0220, Accuracy: 410/516 (79.4574%), train_poison_data_count: 516
Global model norm: 2.4583572666705793.
Norm before scaling: 2.6024070491553406. Distance: 0.31320068959797226
Total norm for 6 adversaries is: 2.6024070491553406. distance: 0.31320068959797226
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9504, Accuracy: 7219/8991 (80.2914%)
___Train Local_Simple,  epoch  41, local model 55, internal_epoch   1,  Average loss: 0.0220, Accuracy: 466/592 (78.7162%)
___Test Local_Simple poisoned: False, epoch: 41: Average loss: 1.0196, Accuracy: 7890/10000 (78.9000%), Attack Success Rate:0/10000(0.000)
poison local model 42 index 41 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 42, internal_epoch   1,  Average loss: 0.0200, Accuracy: 530/665 (79.6992%), train_poison_data_count: 665
Global model norm: 2.4583572666705793.
Norm before scaling: 2.668059809682079. Distance: 0.40271223656739014
Total norm for 6 adversaries is: 2.668059809682079. distance: 0.40271223656739014
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9545, Accuracy: 6732/8991 (74.8749%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 29, internal_epoch   1,  Average loss: 0.0218, Accuracy: 489/605 (80.8264%), train_poison_data_count: 605
Global model norm: 2.4583572666705793.
Norm before scaling: 2.643173522864637. Distance: 0.334096231746974
Total norm for 6 adversaries is: 2.643173522864637. distance: 0.334096231746974
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9203, Accuracy: 7182/8991 (79.8799%)
poison local model 46 index 45 
poison_now
___PoisonTrain Local_Simple ,  epoch  41, local model 46, internal_epoch   1,  Average loss: 0.0203, Accuracy: 398/478 (83.2636%), train_poison_data_count: 478
Global model norm: 2.4583572666705793.
Norm before scaling: 2.5838432013944055. Distance: 0.25956622336491314
Total norm for 6 adversaries is: 2.5838432013944055. distance: 0.25956622336491314
___Test Local_Simple poisoned: True, epoch: 41: Average loss: 0.9520, Accuracy: 7008/8991 (77.9446%)
time spent on training: 23.72757911682129
[foolsgold agg] training data poison_ratio: 0.5995179063360881  data num: [647, 665, 553, 532, 555, 516, 592, 665, 605, 478]
[foolsgold agg] considering poison per batch poison_fraction: 0.5995179063360881
[foolsgold agg] wv: [1.         0.         1.         1.         1.         0.
 1.         0.28238148 1.         0.29512985]
___Test Target_Simple poisoned: False, epoch: 41: Average loss: 1.1059, Accuracy: 7504/10000 (75.0400%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 41: Average loss: 1.0074, Accuracy: 7490/8991 (83.3055%)
Done in 86.15396332740784 sec.
Server Epoch:42 choose agents : [87, 73, 89, 48, 81, 10, 92, 62, 26, 29].
___Train Local_Simple,  epoch  42, local model 87, internal_epoch   1,  Average loss: 0.0209, Accuracy: 453/575 (78.7826%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0330, Accuracy: 7589/10000 (75.8900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 73, internal_epoch   1,  Average loss: 0.0227, Accuracy: 452/626 (72.2045%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0960, Accuracy: 6813/10000 (68.1300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 89, internal_epoch   1,  Average loss: 0.0221, Accuracy: 512/664 (77.1084%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0364, Accuracy: 7198/10000 (71.9800%), Attack Success Rate:0/10000(0.000)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 48, internal_epoch   1,  Average loss: 0.0186, Accuracy: 484/589 (82.1732%), train_poison_data_count: 589
Global model norm: 2.4793037141591703.
Norm before scaling: 2.6448913058642742. Distance: 0.3889863740218804
Total norm for 4 adversaries is: 2.6448913058642742. distance: 0.3889863740218804
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.0167, Accuracy: 6491/8991 (72.1944%)
___Train Local_Simple,  epoch  42, local model 81, internal_epoch   1,  Average loss: 0.0219, Accuracy: 454/586 (77.4744%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0100, Accuracy: 7766/10000 (77.6600%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 10, internal_epoch   1,  Average loss: 0.0212, Accuracy: 477/572 (83.3916%), train_poison_data_count: 572
Global model norm: 2.4793037141591703.
Norm before scaling: 2.6487019724719976. Distance: 0.39282928327760874
Total norm for 4 adversaries is: 2.6487019724719976. distance: 0.39282928327760874
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 1.0042, Accuracy: 6403/8991 (71.2157%)
___Train Local_Simple,  epoch  42, local model 92, internal_epoch   1,  Average loss: 0.0220, Accuracy: 445/571 (77.9335%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0374, Accuracy: 7142/10000 (71.4200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  42, local model 62, internal_epoch   1,  Average loss: 0.0228, Accuracy: 457/617 (74.0681%)
___Test Local_Simple poisoned: False, epoch: 42: Average loss: 1.0053, Accuracy: 7592/10000 (75.9200%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 26, internal_epoch   1,  Average loss: 0.0200, Accuracy: 447/526 (84.9810%), train_poison_data_count: 526
Global model norm: 2.4793037141591703.
Norm before scaling: 2.6263957173203623. Distance: 0.3012550882250083
Total norm for 4 adversaries is: 2.6263957173203623. distance: 0.3012550882250083
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 0.9656, Accuracy: 6926/8991 (77.0326%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  42, local model 29, internal_epoch   1,  Average loss: 0.0206, Accuracy: 487/605 (80.4959%), train_poison_data_count: 605
Global model norm: 2.4793037141591703.
Norm before scaling: 2.6630316834751295. Distance: 0.3313291531587104
Total norm for 4 adversaries is: 2.6630316834751295. distance: 0.3313291531587104
___Test Local_Simple poisoned: True, epoch: 42: Average loss: 0.9066, Accuracy: 7246/8991 (80.5917%)
time spent on training: 23.513545274734497
[foolsgold agg] training data poison_ratio: 0.38644410723318157  data num: [575, 626, 664, 589, 586, 572, 571, 617, 526, 605]
[foolsgold agg] considering poison per batch poison_fraction: 0.3864441072331816
[foolsgold agg] wv: [1.         0.38155451 0.48334203 0.         0.98867754 0.16649627
 1.         0.38155451 0.         1.        ]
___Test Target_Simple poisoned: False, epoch: 42: Average loss: 1.0924, Accuracy: 7519/10000 (75.1900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 42: Average loss: 0.9984, Accuracy: 7506/8991 (83.4835%)
Done in 86.07403302192688 sec.
Server Epoch:43 choose agents : [38, 78, 26, 18, 72, 75, 93, 39, 44, 90].
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 38, internal_epoch   1,  Average loss: 0.0189, Accuracy: 639/774 (82.5581%), train_poison_data_count: 774
Global model norm: 2.4967955078915733.
Norm before scaling: 2.7466851977152205. Distance: 0.4588998107925976
Total norm for 5 adversaries is: 2.7466851977152205. distance: 0.4588998107925976
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9031, Accuracy: 6803/8991 (75.6646%)
___Train Local_Simple,  epoch  43, local model 78, internal_epoch   1,  Average loss: 0.0234, Accuracy: 464/624 (74.3590%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 0.9818, Accuracy: 8113/10000 (81.1300%), Attack Success Rate:0/10000(0.000)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 26, internal_epoch   1,  Average loss: 0.0198, Accuracy: 445/526 (84.6008%), train_poison_data_count: 526
Global model norm: 2.4967955078915733.
Norm before scaling: 2.641497947367142. Distance: 0.2996456581835202
Total norm for 5 adversaries is: 2.641497947367142. distance: 0.2996456581835202
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9601, Accuracy: 6928/8991 (77.0548%)
poison local model 18 index 17 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 18, internal_epoch   1,  Average loss: 0.0217, Accuracy: 418/516 (81.0078%), train_poison_data_count: 516
Global model norm: 2.4967955078915733.
Norm before scaling: 2.6371020229250113. Distance: 0.305686389241748
Total norm for 5 adversaries is: 2.6371020229250113. distance: 0.305686389241748
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9299, Accuracy: 7257/8991 (80.7140%)
___Train Local_Simple,  epoch  43, local model 72, internal_epoch   1,  Average loss: 0.0218, Accuracy: 402/529 (75.9924%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0105, Accuracy: 7616/10000 (76.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 75, internal_epoch   1,  Average loss: 0.0224, Accuracy: 421/554 (75.9928%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0384, Accuracy: 7359/10000 (73.5900%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  43, local model 93, internal_epoch   1,  Average loss: 0.0221, Accuracy: 404/529 (76.3705%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0513, Accuracy: 7634/10000 (76.3400%), Attack Success Rate:0/10000(0.000)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 39, internal_epoch   1,  Average loss: 0.0213, Accuracy: 409/503 (81.3121%), train_poison_data_count: 503
Global model norm: 2.4967955078915733.
Norm before scaling: 2.636307747915165. Distance: 0.276811841861014
Total norm for 5 adversaries is: 2.636307747915165. distance: 0.276811841861014
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9252, Accuracy: 7184/8991 (79.9021%)
poison local model 44 index 43 
poison_now
___PoisonTrain Local_Simple ,  epoch  43, local model 44, internal_epoch   1,  Average loss: 0.0203, Accuracy: 435/518 (83.9768%), train_poison_data_count: 518
Global model norm: 2.4967955078915733.
Norm before scaling: 2.6422953542468917. Distance: 0.2936945507796777
Total norm for 5 adversaries is: 2.6422953542468917. distance: 0.2936945507796777
___Test Local_Simple poisoned: True, epoch: 43: Average loss: 0.9223, Accuracy: 7380/8991 (82.0821%)
___Train Local_Simple,  epoch  43, local model 90, internal_epoch   1,  Average loss: 0.0227, Accuracy: 441/577 (76.4298%)
___Test Local_Simple poisoned: False, epoch: 43: Average loss: 1.0247, Accuracy: 7883/10000 (78.8300%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.38374352455139
[foolsgold agg] training data poison_ratio: 0.5021238938053098  data num: [774, 624, 526, 516, 529, 554, 529, 503, 518, 577]
[foolsgold agg] considering poison per batch poison_fraction: 0.5021238938053098
[foolsgold agg] wv: [0.17480035 0.44730235 0.17480035 0.86272916 0.72970865 0.72970865
 1.         1.         1.         0.44730235]
___Test Target_Simple poisoned: False, epoch: 43: Average loss: 1.0788, Accuracy: 7527/10000 (75.2700%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 43: Average loss: 0.9862, Accuracy: 7515/8991 (83.5836%)
Done in 85.46161961555481 sec.
Server Epoch:44 choose agents : [31, 1, 38, 9, 6, 19, 65, 66, 73, 15].
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 31, internal_epoch   1,  Average loss: 0.0213, Accuracy: 415/511 (81.2133%), train_poison_data_count: 511
Global model norm: 2.5164494081744158.
Norm before scaling: 2.654802623675178. Distance: 0.2985099394994882
Total norm for 7 adversaries is: 2.654802623675178. distance: 0.2985099394994882
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9319, Accuracy: 7045/8991 (78.3561%)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 1, internal_epoch   1,  Average loss: 0.0209, Accuracy: 495/606 (81.6832%), train_poison_data_count: 606
Global model norm: 2.5164494081744158.
Norm before scaling: 2.7037761984308486. Distance: 0.4080067029675873
Total norm for 7 adversaries is: 2.7037761984308486. distance: 0.4080067029675873
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9513, Accuracy: 6883/8991 (76.5543%)
poison local model 38 index 37 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 38, internal_epoch   1,  Average loss: 0.0190, Accuracy: 644/774 (83.2041%), train_poison_data_count: 774
Global model norm: 2.5164494081744158.
Norm before scaling: 2.759923974938916. Distance: 0.4456231890584094
Total norm for 7 adversaries is: 2.759923974938916. distance: 0.4456231890584094
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.8858, Accuracy: 6960/8991 (77.4107%)
poison local model 9 index 8 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 9, internal_epoch   1,  Average loss: 0.0193, Accuracy: 458/548 (83.5766%), train_poison_data_count: 548
Global model norm: 2.5164494081744158.
Norm before scaling: 2.6579858829878305. Distance: 0.2985419355277222
Total norm for 7 adversaries is: 2.6579858829878305. distance: 0.2985419355277222
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9047, Accuracy: 7246/8991 (80.5917%)
poison local model 6 index 5 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 6, internal_epoch   1,  Average loss: 0.0212, Accuracy: 585/708 (82.6271%), train_poison_data_count: 708
Global model norm: 2.5164494081744158.
Norm before scaling: 2.7327474055272236. Distance: 0.384757317777698
Total norm for 7 adversaries is: 2.7327474055272236. distance: 0.384757317777698
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.8638, Accuracy: 7549/8991 (83.9617%)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 19, internal_epoch   1,  Average loss: 0.0194, Accuracy: 446/552 (80.7971%), train_poison_data_count: 552
Global model norm: 2.5164494081744158.
Norm before scaling: 2.6835248069291806. Distance: 0.376136507964375
Total norm for 7 adversaries is: 2.6835248069291806. distance: 0.376136507964375
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 1.0112, Accuracy: 6158/8991 (68.4907%)
___Train Local_Simple,  epoch  44, local model 65, internal_epoch   1,  Average loss: 0.0233, Accuracy: 425/573 (74.1710%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 0.9756, Accuracy: 8116/10000 (81.1600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 66, internal_epoch   1,  Average loss: 0.0220, Accuracy: 482/629 (76.6296%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.0005, Accuracy: 7883/10000 (78.8300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  44, local model 73, internal_epoch   1,  Average loss: 0.0216, Accuracy: 480/626 (76.6773%)
___Test Local_Simple poisoned: False, epoch: 44: Average loss: 1.0485, Accuracy: 7005/10000 (70.0500%), Attack Success Rate:0/10000(0.000)
poison local model 15 index 14 
poison_now
___PoisonTrain Local_Simple ,  epoch  44, local model 15, internal_epoch   1,  Average loss: 0.0211, Accuracy: 461/572 (80.5944%), train_poison_data_count: 572
Global model norm: 2.5164494081744158.
Norm before scaling: 2.6768434963826286. Distance: 0.32430916410249694
Total norm for 7 adversaries is: 2.6768434963826286. distance: 0.32430916410249694
___Test Local_Simple poisoned: True, epoch: 44: Average loss: 0.9148, Accuracy: 7354/8991 (81.7929%)
time spent on training: 24.720205068588257
[foolsgold agg] training data poison_ratio: 0.7002787342187243  data num: [511, 606, 774, 548, 708, 552, 573, 629, 626, 572]
[foolsgold agg] considering poison per batch poison_fraction: 0.7002787342187243
[foolsgold agg] wv: [1.         1.         1.         1.         1.         1.
 0.92798841 1.         0.92798841 1.        ]
___Test Target_Simple poisoned: False, epoch: 44: Average loss: 1.0653, Accuracy: 7539/10000 (75.3900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 44: Average loss: 0.9636, Accuracy: 7525/8991 (83.6948%)
Done in 86.51327586174011 sec.
Server Epoch:45 choose agents : [53, 75, 1, 37, 94, 51, 29, 39, 60, 5].
___Train Local_Simple,  epoch  45, local model 53, internal_epoch   1,  Average loss: 0.0213, Accuracy: 485/617 (78.6062%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0107, Accuracy: 7571/10000 (75.7100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 75, internal_epoch   1,  Average loss: 0.0220, Accuracy: 418/554 (75.4513%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0108, Accuracy: 7425/10000 (74.2500%), Attack Success Rate:0/10000(0.000)
poison local model 1 index 0 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 1, internal_epoch   1,  Average loss: 0.0203, Accuracy: 499/606 (82.3432%), train_poison_data_count: 606
Global model norm: 2.5488967827797846.
Norm before scaling: 2.7287751322212324. Distance: 0.38113035685452
Total norm for 5 adversaries is: 2.7287751322212324. distance: 0.38113035685452
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9288, Accuracy: 6977/8991 (77.5998%)
poison local model 37 index 36 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 37, internal_epoch   1,  Average loss: 0.0179, Accuracy: 535/641 (83.4633%), train_poison_data_count: 641
Global model norm: 2.5488967827797846.
Norm before scaling: 2.730849341853038. Distance: 0.3557155925828768
Total norm for 5 adversaries is: 2.730849341853038. distance: 0.3557155925828768
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9166, Accuracy: 6944/8991 (77.2328%)
___Train Local_Simple,  epoch  45, local model 94, internal_epoch   1,  Average loss: 0.0204, Accuracy: 444/555 (80.0000%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 1.0058, Accuracy: 7632/10000 (76.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  45, local model 51, internal_epoch   1,  Average loss: 0.0199, Accuracy: 506/647 (78.2071%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.9724, Accuracy: 7507/10000 (75.0700%), Attack Success Rate:0/10000(0.000)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 29, internal_epoch   1,  Average loss: 0.0205, Accuracy: 496/605 (81.9835%), train_poison_data_count: 605
Global model norm: 2.5488967827797846.
Norm before scaling: 2.7240547955697143. Distance: 0.3131728676891234
Total norm for 5 adversaries is: 2.7240547955697143. distance: 0.3131728676891234
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.8730, Accuracy: 7294/8991 (81.1256%)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 39, internal_epoch   1,  Average loss: 0.0207, Accuracy: 403/503 (80.1193%), train_poison_data_count: 503
Global model norm: 2.5488967827797846.
Norm before scaling: 2.683871903087291. Distance: 0.26636602316167096
Total norm for 5 adversaries is: 2.683871903087291. distance: 0.26636602316167096
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.9025, Accuracy: 7184/8991 (79.9021%)
___Train Local_Simple,  epoch  45, local model 60, internal_epoch   1,  Average loss: 0.0206, Accuracy: 505/644 (78.4161%)
___Test Local_Simple poisoned: False, epoch: 45: Average loss: 0.9617, Accuracy: 7903/10000 (79.0300%), Attack Success Rate:0/10000(0.000)
poison local model 5 index 4 
poison_now
___PoisonTrain Local_Simple ,  epoch  45, local model 5, internal_epoch   1,  Average loss: 0.0192, Accuracy: 437/512 (85.3516%), train_poison_data_count: 512
Global model norm: 2.5488967827797846.
Norm before scaling: 2.6885538031210405. Distance: 0.2721222306970543
Total norm for 5 adversaries is: 2.6885538031210405. distance: 0.2721222306970543
___Test Local_Simple poisoned: True, epoch: 45: Average loss: 0.8983, Accuracy: 7375/8991 (82.0265%)
time spent on training: 23.903937816619873
[foolsgold agg] training data poison_ratio: 0.4872535690006798  data num: [617, 554, 606, 641, 555, 647, 605, 503, 644, 512]
[foolsgold agg] considering poison per batch poison_fraction: 0.4872535690006798
[foolsgold agg] wv: [1.         0.9509107  0.87448428 0.8956184  1.         1.
 1.         0.87448428 0.9509107  0.8956184 ]
___Test Target_Simple poisoned: False, epoch: 45: Average loss: 1.0487, Accuracy: 7535/10000 (75.3500%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 45: Average loss: 0.9463, Accuracy: 7521/8991 (83.6503%)
Done in 85.84527325630188 sec.
Server Epoch:46 choose agents : [75, 78, 14, 39, 7, 10, 40, 2, 68, 54].
___Train Local_Simple,  epoch  46, local model 75, internal_epoch   1,  Average loss: 0.0224, Accuracy: 426/554 (76.8953%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.9917, Accuracy: 7523/10000 (75.2300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 78, internal_epoch   1,  Average loss: 0.0222, Accuracy: 469/624 (75.1603%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.9515, Accuracy: 8089/10000 (80.8900%), Attack Success Rate:0/10000(0.000)
poison local model 14 index 13 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 14, internal_epoch   1,  Average loss: 0.0192, Accuracy: 438/535 (81.8692%), train_poison_data_count: 535
Global model norm: 2.579050163961527.
Norm before scaling: 2.7096371568964157. Distance: 0.28078136872897774
Total norm for 6 adversaries is: 2.7096371568964157. distance: 0.28078136872897774
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9052, Accuracy: 7289/8991 (81.0700%)
poison local model 39 index 38 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 39, internal_epoch   1,  Average loss: 0.0208, Accuracy: 391/503 (77.7336%), train_poison_data_count: 503
Global model norm: 2.579050163961527.
Norm before scaling: 2.7121784986532744. Distance: 0.2620868798280286
Total norm for 6 adversaries is: 2.7121784986532744. distance: 0.2620868798280286
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.8861, Accuracy: 7250/8991 (80.6362%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 7, internal_epoch   1,  Average loss: 0.0193, Accuracy: 443/550 (80.5455%), train_poison_data_count: 550
Global model norm: 2.579050163961527.
Norm before scaling: 2.706877556823636. Distance: 0.2784196107642686
Total norm for 6 adversaries is: 2.706877556823636. distance: 0.2784196107642686
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9095, Accuracy: 7180/8991 (79.8576%)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 10, internal_epoch   1,  Average loss: 0.0201, Accuracy: 476/572 (83.2168%), train_poison_data_count: 572
Global model norm: 2.579050163961527.
Norm before scaling: 2.738561509791923. Distance: 0.3704732827529117
Total norm for 6 adversaries is: 2.738561509791923. distance: 0.3704732827529117
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9353, Accuracy: 6759/8991 (75.1752%)
poison local model 40 index 39 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 40, internal_epoch   1,  Average loss: 0.0179, Accuracy: 474/563 (84.1918%), train_poison_data_count: 563
Global model norm: 2.579050163961527.
Norm before scaling: 2.7316698044143477. Distance: 0.34490900372070116
Total norm for 6 adversaries is: 2.7316698044143477. distance: 0.34490900372070116
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.9532, Accuracy: 6782/8991 (75.4310%)
poison local model 2 index 1 
poison_now
___PoisonTrain Local_Simple ,  epoch  46, local model 2, internal_epoch   1,  Average loss: 0.0196, Accuracy: 468/580 (80.6897%), train_poison_data_count: 580
Global model norm: 2.579050163961527.
Norm before scaling: 2.72570096370838. Distance: 0.2904019253358582
Total norm for 6 adversaries is: 2.72570096370838. distance: 0.2904019253358582
___Test Local_Simple poisoned: True, epoch: 46: Average loss: 0.8777, Accuracy: 7462/8991 (82.9941%)
___Train Local_Simple,  epoch  46, local model 68, internal_epoch   1,  Average loss: 0.0215, Accuracy: 480/632 (75.9494%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.9836, Accuracy: 7896/10000 (78.9600%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  46, local model 54, internal_epoch   1,  Average loss: 0.0207, Accuracy: 405/523 (77.4379%)
___Test Local_Simple poisoned: False, epoch: 46: Average loss: 0.9626, Accuracy: 7706/10000 (77.0600%), Attack Success Rate:0/10000(0.000)
time spent on training: 24.378871202468872
[foolsgold agg] training data poison_ratio: 0.5860539389638041  data num: [554, 624, 535, 503, 550, 572, 563, 580, 632, 523]
[foolsgold agg] considering poison per batch poison_fraction: 0.5860539389638041
[foolsgold agg] wv: [0.65583681 0.         0.16381853 1.         0.21223517 0.16381853
 0.46099169 0.21223517 0.         0.65583681]
___Test Target_Simple poisoned: False, epoch: 46: Average loss: 1.0446, Accuracy: 7539/10000 (75.3900%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 46: Average loss: 0.9398, Accuracy: 7524/8991 (83.6837%)
Done in 86.48525667190552 sec.
Server Epoch:47 choose agents : [94, 48, 82, 25, 26, 16, 7, 90, 68, 43].
___Train Local_Simple,  epoch  47, local model 94, internal_epoch   1,  Average loss: 0.0204, Accuracy: 447/555 (80.5405%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9900, Accuracy: 7571/10000 (75.7100%), Attack Success Rate:0/10000(0.000)
poison local model 48 index 47 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 48, internal_epoch   1,  Average loss: 0.0175, Accuracy: 487/589 (82.6825%), train_poison_data_count: 589
Global model norm: 2.5890154542487513.
Norm before scaling: 2.746220505720551. Distance: 0.38165159727037434
Total norm for 6 adversaries is: 2.746220505720551. distance: 0.38165159727037434
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9659, Accuracy: 6542/8991 (72.7617%)
___Train Local_Simple,  epoch  47, local model 82, internal_epoch   1,  Average loss: 0.0213, Accuracy: 470/621 (75.6844%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9613, Accuracy: 8060/10000 (80.6000%), Attack Success Rate:0/10000(0.000)
poison local model 25 index 24 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 25, internal_epoch   1,  Average loss: 0.0195, Accuracy: 476/582 (81.7869%), train_poison_data_count: 582
Global model norm: 2.5890154542487513.
Norm before scaling: 2.738225786678627. Distance: 0.28900662732775234
Total norm for 6 adversaries is: 2.738225786678627. distance: 0.28900662732775234
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.8486, Accuracy: 7461/8991 (82.9830%)
poison local model 26 index 25 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 26, internal_epoch   1,  Average loss: 0.0187, Accuracy: 450/526 (85.5513%), train_poison_data_count: 526
Global model norm: 2.5890154542487513.
Norm before scaling: 2.724174700009729. Distance: 0.2837777982866706
Total norm for 6 adversaries is: 2.724174700009729. distance: 0.2837777982866706
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.9121, Accuracy: 7093/8991 (78.8900%)
poison local model 16 index 15 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 16, internal_epoch   1,  Average loss: 0.0196, Accuracy: 476/581 (81.9277%), train_poison_data_count: 581
Global model norm: 2.5890154542487513.
Norm before scaling: 2.7422301025559053. Distance: 0.326017754513742
Total norm for 6 adversaries is: 2.7422301025559053. distance: 0.326017754513742
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.8839, Accuracy: 7364/8991 (81.9041%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 7, internal_epoch   1,  Average loss: 0.0191, Accuracy: 445/550 (80.9091%), train_poison_data_count: 550
Global model norm: 2.5890154542487513.
Norm before scaling: 2.7191872957573113. Distance: 0.27539088201849016
Total norm for 6 adversaries is: 2.7191872957573113. distance: 0.27539088201849016
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.8980, Accuracy: 7232/8991 (80.4360%)
___Train Local_Simple,  epoch  47, local model 90, internal_epoch   1,  Average loss: 0.0216, Accuracy: 447/577 (77.4697%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9847, Accuracy: 7932/10000 (79.3200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  47, local model 68, internal_epoch   1,  Average loss: 0.0214, Accuracy: 474/632 (75.0000%)
___Test Local_Simple poisoned: False, epoch: 47: Average loss: 0.9929, Accuracy: 7694/10000 (76.9400%), Attack Success Rate:0/10000(0.000)
poison local model 43 index 42 
poison_now
___PoisonTrain Local_Simple ,  epoch  47, local model 43, internal_epoch   1,  Average loss: 0.0195, Accuracy: 429/518 (82.8185%), train_poison_data_count: 518
Global model norm: 2.5890154542487513.
Norm before scaling: 2.7225793638825593. Distance: 0.2633103329134485
Total norm for 6 adversaries is: 2.7225793638825593. distance: 0.2633103329134485
___Test Local_Simple poisoned: True, epoch: 47: Average loss: 0.8691, Accuracy: 7361/8991 (81.8708%)
time spent on training: 24.289448976516724
[foolsgold agg] training data poison_ratio: 0.5838422613854476  data num: [555, 589, 621, 582, 526, 581, 550, 577, 632, 518]
[foolsgold agg] considering poison per batch poison_fraction: 0.5838422613854476
[foolsgold agg] wv: [1.         0.56741144 0.39347949 0.05653995 0.         0.05653995
 0.         0.         0.         0.        ]
___Test Target_Simple poisoned: False, epoch: 47: Average loss: 1.0406, Accuracy: 7532/10000 (75.3200%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 47: Average loss: 0.9372, Accuracy: 7518/8991 (83.6170%)
Done in 86.10964250564575 sec.
Server Epoch:48 choose agents : [74, 27, 75, 19, 58, 83, 91, 96, 17, 57].
___Train Local_Simple,  epoch  48, local model 74, internal_epoch   1,  Average loss: 0.0225, Accuracy: 466/626 (74.4409%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9578, Accuracy: 8050/10000 (80.5000%), Attack Success Rate:0/10000(0.000)
poison local model 27 index 26 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 27, internal_epoch   1,  Average loss: 0.0189, Accuracy: 535/650 (82.3077%), train_poison_data_count: 650
Global model norm: 2.595044927336758.
Norm before scaling: 2.766189431390575. Distance: 0.35562574671447345
Total norm for 3 adversaries is: 2.766189431390575. distance: 0.35562574671447345
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 0.9039, Accuracy: 7078/8991 (78.7232%)
___Train Local_Simple,  epoch  48, local model 75, internal_epoch   1,  Average loss: 0.0218, Accuracy: 420/554 (75.8123%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9849, Accuracy: 7557/10000 (75.5700%), Attack Success Rate:0/10000(0.000)
poison local model 19 index 18 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 19, internal_epoch   1,  Average loss: 0.0189, Accuracy: 436/552 (78.9855%), train_poison_data_count: 552
Global model norm: 2.595044927336758.
Norm before scaling: 2.7526124336361537. Distance: 0.3554675762450573
Total norm for 3 adversaries is: 2.7526124336361537. distance: 0.3554675762450573
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 0.9621, Accuracy: 6372/8991 (70.8709%)
___Train Local_Simple,  epoch  48, local model 58, internal_epoch   1,  Average loss: 0.0216, Accuracy: 394/510 (77.2549%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9518, Accuracy: 8005/10000 (80.0500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 83, internal_epoch   1,  Average loss: 0.0224, Accuracy: 417/555 (75.1351%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9479, Accuracy: 8031/10000 (80.3100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 91, internal_epoch   1,  Average loss: 0.0206, Accuracy: 487/627 (77.6715%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9539, Accuracy: 8103/10000 (81.0300%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  48, local model 96, internal_epoch   1,  Average loss: 0.0182, Accuracy: 483/608 (79.4408%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 1.0179, Accuracy: 7226/10000 (72.2600%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  48, local model 17, internal_epoch   1,  Average loss: 0.0174, Accuracy: 560/648 (86.4198%), train_poison_data_count: 648
Global model norm: 2.595044927336758.
Norm before scaling: 2.7723224816277545. Distance: 0.30909066090280596
Total norm for 3 adversaries is: 2.7723224816277545. distance: 0.30909066090280596
___Test Local_Simple poisoned: True, epoch: 48: Average loss: 0.8327, Accuracy: 7533/8991 (83.7838%)
___Train Local_Simple,  epoch  48, local model 57, internal_epoch   1,  Average loss: 0.0211, Accuracy: 435/568 (76.5845%)
___Test Local_Simple poisoned: False, epoch: 48: Average loss: 0.9462, Accuracy: 8168/10000 (81.6800%), Attack Success Rate:0/10000(0.000)
time spent on training: 22.872481107711792
[foolsgold agg] training data poison_ratio: 0.3136656493726687  data num: [626, 650, 554, 552, 510, 555, 627, 608, 648, 568]
[foolsgold agg] considering poison per batch poison_fraction: 0.3136656493726687
[foolsgold agg] wv: [0.79371121 1.         1.         1.         1.         1.
 0.79371121 1.         1.         1.        ]
___Test Target_Simple poisoned: False, epoch: 48: Average loss: 1.0192, Accuracy: 7558/10000 (75.5800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 48: Average loss: 0.9251, Accuracy: 7545/8991 (83.9173%)
Done in 85.11654949188232 sec.
Server Epoch:49 choose agents : [77, 10, 78, 72, 91, 13, 98, 21, 82, 74].
___Train Local_Simple,  epoch  49, local model 77, internal_epoch   1,  Average loss: 0.0221, Accuracy: 392/519 (75.5299%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9456, Accuracy: 7954/10000 (79.5400%), Attack Success Rate:0/10000(0.000)
poison local model 10 index 9 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 10, internal_epoch   1,  Average loss: 0.0197, Accuracy: 481/572 (84.0909%), train_poison_data_count: 572
Global model norm: 2.624202062037591.
Norm before scaling: 2.7786887730739873. Distance: 0.3745406834667996
Total norm for 3 adversaries is: 2.7786887730739873. distance: 0.3745406834667996
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.9183, Accuracy: 6782/8991 (75.4310%)
___Train Local_Simple,  epoch  49, local model 78, internal_epoch   1,  Average loss: 0.0218, Accuracy: 464/624 (74.3590%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9241, Accuracy: 8184/10000 (81.8400%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 72, internal_epoch   1,  Average loss: 0.0205, Accuracy: 417/529 (78.8280%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9466, Accuracy: 7812/10000 (78.1200%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 91, internal_epoch   1,  Average loss: 0.0202, Accuracy: 499/627 (79.5853%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9373, Accuracy: 8122/10000 (81.2200%), Attack Success Rate:0/10000(0.000)
poison local model 13 index 12 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 13, internal_epoch   1,  Average loss: 0.0172, Accuracy: 446/521 (85.6046%), train_poison_data_count: 521
Global model norm: 2.624202062037591.
Norm before scaling: 2.756510656924711. Distance: 0.2524929030997917
Total norm for 3 adversaries is: 2.756510656924711. distance: 0.2524929030997917
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.8591, Accuracy: 7213/8991 (80.2247%)
___Train Local_Simple,  epoch  49, local model 98, internal_epoch   1,  Average loss: 0.0170, Accuracy: 468/568 (82.3944%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 1.0645, Accuracy: 7129/10000 (71.2900%), Attack Success Rate:0/10000(0.000)
poison local model 21 index 20 
poison_now
___PoisonTrain Local_Simple ,  epoch  49, local model 21, internal_epoch   1,  Average loss: 0.0184, Accuracy: 511/625 (81.7600%), train_poison_data_count: 625
Global model norm: 2.624202062037591.
Norm before scaling: 2.793596786633071. Distance: 0.3425433807849086
Total norm for 3 adversaries is: 2.793596786633071. distance: 0.3425433807849086
___Test Local_Simple poisoned: True, epoch: 49: Average loss: 0.9056, Accuracy: 6686/8991 (74.3633%)
___Train Local_Simple,  epoch  49, local model 82, internal_epoch   1,  Average loss: 0.0210, Accuracy: 465/621 (74.8792%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9393, Accuracy: 8120/10000 (81.2000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  49, local model 74, internal_epoch   1,  Average loss: 0.0220, Accuracy: 476/626 (76.0383%)
___Test Local_Simple poisoned: False, epoch: 49: Average loss: 0.9380, Accuracy: 8187/10000 (81.8700%), Attack Success Rate:0/10000(0.000)
time spent on training: 23.027984619140625
[foolsgold agg] training data poison_ratio: 0.2945816186556927  data num: [519, 572, 624, 529, 627, 521, 568, 625, 621, 626]
[foolsgold agg] considering poison per batch poison_fraction: 0.2945816186556927
[foolsgold agg] wv: [0.39887335 1.         0.40040361 0.50681993 0.         0.83302579
 1.         0.83302579 0.39887335 0.        ]
___Test Target_Simple poisoned: False, epoch: 49: Average loss: 1.0117, Accuracy: 7558/10000 (75.5800%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 49: Average loss: 0.9171, Accuracy: 7545/8991 (83.9173%)
Done in 80.0910336971283 sec.
Server Epoch:50 choose agents : [75, 86, 51, 0, 31, 32, 67, 17, 29, 7].
___Train Local_Simple,  epoch  50, local model 75, internal_epoch   1,  Average loss: 0.0205, Accuracy: 426/554 (76.8953%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9698, Accuracy: 7565/10000 (75.6500%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 86, internal_epoch   1,  Average loss: 0.0204, Accuracy: 441/587 (75.1278%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9786, Accuracy: 7501/10000 (75.0100%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 51, internal_epoch   1,  Average loss: 0.0189, Accuracy: 510/647 (78.8253%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9301, Accuracy: 7680/10000 (76.8000%), Attack Success Rate:0/10000(0.000)
___Train Local_Simple,  epoch  50, local model 0, internal_epoch   1,  Average loss: 0.0213, Accuracy: 462/609 (75.8621%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9732, Accuracy: 7615/10000 (76.1500%), Attack Success Rate:0/10000(0.000)
poison local model 31 index 30 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 31, internal_epoch   1,  Average loss: 0.0197, Accuracy: 421/511 (82.3875%), train_poison_data_count: 511
Global model norm: 2.6396562051888113.
Norm before scaling: 2.7664587628331456. Distance: 0.2824513157527407
Total norm for 5 adversaries is: 2.7664587628331456. distance: 0.2824513157527407
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.8731, Accuracy: 7193/8991 (80.0022%)
poison local model 32 index 31 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 32, internal_epoch   1,  Average loss: 0.0190, Accuracy: 496/609 (81.4450%), train_poison_data_count: 609
Global model norm: 2.6396562051888113.
Norm before scaling: 2.8020603126988894. Distance: 0.3474687863814854
Total norm for 5 adversaries is: 2.8020603126988894. distance: 0.3474687863814854
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.8755, Accuracy: 7154/8991 (79.5685%)
___Train Local_Simple,  epoch  50, local model 67, internal_epoch   1,  Average loss: 0.0207, Accuracy: 496/643 (77.1384%)
___Test Local_Simple poisoned: False, epoch: 50: Average loss: 0.9415, Accuracy: 7916/10000 (79.1600%), Attack Success Rate:0/10000(0.000)
poison local model 17 index 16 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 17, internal_epoch   1,  Average loss: 0.0170, Accuracy: 561/648 (86.5741%), train_poison_data_count: 648
Global model norm: 2.6396562051888113.
Norm before scaling: 2.811399456442738. Distance: 0.2973589967315643
Total norm for 5 adversaries is: 2.811399456442738. distance: 0.2973589967315643
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.8162, Accuracy: 7521/8991 (83.6503%)
poison local model 29 index 28 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 29, internal_epoch   1,  Average loss: 0.0194, Accuracy: 492/605 (81.3223%), train_poison_data_count: 605
Global model norm: 2.6396562051888113.
Norm before scaling: 2.8026016682432493. Distance: 0.2961093666970801
Total norm for 5 adversaries is: 2.8026016682432493. distance: 0.2961093666970801
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.8305, Accuracy: 7404/8991 (82.3490%)
poison local model 7 index 6 
poison_now
___PoisonTrain Local_Simple ,  epoch  50, local model 7, internal_epoch   1,  Average loss: 0.0187, Accuracy: 445/550 (80.9091%), train_poison_data_count: 550
Global model norm: 2.6396562051888113.
Norm before scaling: 2.7658715434556. Distance: 0.27781772409082195
Total norm for 5 adversaries is: 2.7658715434556. distance: 0.27781772409082195
___Test Local_Simple poisoned: True, epoch: 50: Average loss: 0.8757, Accuracy: 7278/8991 (80.9476%)
time spent on training: 20.715198755264282
[foolsgold agg] training data poison_ratio: 0.4901895019285594  data num: [554, 587, 647, 609, 511, 609, 643, 648, 605, 550]
[foolsgold agg] considering poison per batch poison_fraction: 0.49018950192855937
[foolsgold agg] wv: [1.         1.         1.         1.         1.         0.66784687
 1.         1.         1.         0.66784687]
___Test Target_Simple poisoned: False, epoch: 50: Average loss: 0.9967, Accuracy: 7576/10000 (75.7600%), Attack Success Rate:0/10000(0.000)
___Test Target_Simple poisoned: True, epoch: 50: Average loss: 0.9038, Accuracy: 7560/8991 (84.0841%)
Done in 76.18996095657349 sec.
Saving all the graphs.
This run has a label: Mar.27_08.03.25. Visdom environment: mnist_DBA
